var bundle = (function (exports) {
	'use strict';

	var n,l$1,u$1,t$1,o$2,r$1,f$1,e$2={},c$1=[],s$1=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function a$1(n,l){for(var u in l)n[u]=l[u];return n}function h$1(n){var l=n.parentNode;l&&l.removeChild(n);}function v$1(l,u,i){var t,o,r,f={};for(r in u)"key"==r?t=u[r]:"ref"==r?o=u[r]:f[r]=u[r];if(arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),"function"==typeof l&&null!=l.defaultProps)for(r in l.defaultProps)void 0===f[r]&&(f[r]=l.defaultProps[r]);return y$1(l,f,t,o,null)}function y$1(n,i,t,o,r){var f={type:n,props:i,key:t,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==r?++u$1:r};return null==r&&null!=l$1.vnode&&l$1.vnode(f),f}function d$1(n){return n.children}function _(n,l){this.props=n,this.context=l;}function k$1(n,l){if(null==l)return n.__?k$1(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return "function"==typeof n.type?k$1(n):null}function b$1(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return b$1(n)}}function m$1(n){(!n.__d&&(n.__d=!0)&&t$1.push(n)&&!g$2.__r++||r$1!==l$1.debounceRendering)&&((r$1=l$1.debounceRendering)||o$2)(g$2);}function g$2(){for(var n;g$2.__r=t$1.length;)n=t$1.sort(function(n,l){return n.__v.__b-l.__v.__b}),t$1=[],n.some(function(n){var l,u,i,t,o,r;n.__d&&(o=(t=(l=n).__v).__e,(r=l.__P)&&(u=[],(i=a$1({},t)).__v=t.__v+1,j$2(r,t,i,l.__n,void 0!==r.ownerSVGElement,null!=t.__h?[o]:null,u,null==o?k$1(t):o,t.__h),z$2(u,t),t.__e!=o&&b$1(t)));});}function w$2(n,l,u,i,t,o,r,f,s,a){var h,v,p,_,b,m,g,w=i&&i.__k||c$1,A=w.length;for(u.__k=[],h=0;h<l.length;h++)if(null!=(_=u.__k[h]=null==(_=l[h])||"boolean"==typeof _?null:"string"==typeof _||"number"==typeof _||"bigint"==typeof _?y$1(null,_,null,null,_):Array.isArray(_)?y$1(d$1,{children:_},null,null,null):_.__b>0?y$1(_.type,_.props,_.key,null,_.__v):_)){if(_.__=u,_.__b=u.__b+1,null===(p=w[h])||p&&_.key==p.key&&_.type===p.type)w[h]=void 0;else for(v=0;v<A;v++){if((p=w[v])&&_.key==p.key&&_.type===p.type){w[v]=void 0;break}p=null;}j$2(n,_,p=p||e$2,t,o,r,f,s,a),b=_.__e,(v=_.ref)&&p.ref!=v&&(g||(g=[]),p.ref&&g.push(p.ref,null,_),g.push(v,_.__c||b,_)),null!=b?(null==m&&(m=b),"function"==typeof _.type&&_.__k===p.__k?_.__d=s=x(_,s,n):s=P$1(n,_,p,w,b,s),"function"==typeof u.type&&(u.__d=s)):s&&p.__e==s&&s.parentNode!=n&&(s=k$1(p));}for(u.__e=m,h=A;h--;)null!=w[h]&&("function"==typeof u.type&&null!=w[h].__e&&w[h].__e==u.__d&&(u.__d=k$1(i,h+1)),N(w[h],w[h]));if(g)for(h=0;h<g.length;h++)M$2(g[h],g[++h],g[++h]);}function x(n,l,u){for(var i,t=n.__k,o=0;t&&o<t.length;o++)(i=t[o])&&(i.__=n,l="function"==typeof i.type?x(i,l,u):P$1(u,i,i,t,i.__e,l));return l}function A$2(n,l){return l=l||[],null==n||"boolean"==typeof n||(Array.isArray(n)?n.some(function(n){A$2(n,l);}):l.push(n)),l}function P$1(n,l,u,i,t,o){var r,f,e;if(void 0!==l.__d)r=l.__d,l.__d=void 0;else if(null==u||t!=o||null==t.parentNode)n:if(null==o||o.parentNode!==n)n.appendChild(t),r=null;else {for(f=o,e=0;(f=f.nextSibling)&&e<i.length;e+=2)if(f==t)break n;n.insertBefore(t,o),r=o;}return void 0!==r?r:t.nextSibling}function C$1(n,l,u,i,t){var o;for(o in u)"children"===o||"key"===o||o in l||H$1(n,o,null,u[o],i);for(o in l)t&&"function"!=typeof l[o]||"children"===o||"key"===o||"value"===o||"checked"===o||u[o]===l[o]||H$1(n,o,l[o],u[o],i);}function $(n,l,u){"-"===l[0]?n.setProperty(l,u):n[l]=null==u?"":"number"!=typeof u||s$1.test(l)?u:u+"px";}function H$1(n,l,u,i,t){var o;n:if("style"===l)if("string"==typeof u)n.style.cssText=u;else {if("string"==typeof i&&(n.style.cssText=i=""),i)for(l in i)u&&l in u||$(n.style,l,"");if(u)for(l in u)i&&u[l]===i[l]||$(n.style,l,u[l]);}else if("o"===l[0]&&"n"===l[1])o=l!==(l=l.replace(/Capture$/,"")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+o]=u,u?i||n.addEventListener(l,o?T$2:I,o):n.removeEventListener(l,o?T$2:I,o);else if("dangerouslySetInnerHTML"!==l){if(t)l=l.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("href"!==l&&"list"!==l&&"form"!==l&&"tabIndex"!==l&&"download"!==l&&l in n)try{n[l]=null==u?"":u;break n}catch(n){}"function"==typeof u||(null!=u&&(!1!==u||"a"===l[0]&&"r"===l[1])?n.setAttribute(l,u):n.removeAttribute(l));}}function I(n){this.l[n.type+!1](l$1.event?l$1.event(n):n);}function T$2(n){this.l[n.type+!0](l$1.event?l$1.event(n):n);}function j$2(n,u,i,t,o,r,f,e,c){var s,h,v,y,p,k,b,m,g,x,A,P,C,$=u.type;if(void 0!==u.constructor)return null;null!=i.__h&&(c=i.__h,e=u.__e=i.__e,u.__h=null,r=[e]),(s=l$1.__b)&&s(u);try{n:if("function"==typeof $){if(m=u.props,g=(s=$.contextType)&&t[s.__c],x=s?g?g.props.value:s.__:t,i.__c?b=(h=u.__c=i.__c).__=h.__E:("prototype"in $&&$.prototype.render?u.__c=h=new $(m,x):(u.__c=h=new _(m,x),h.constructor=$,h.render=O$1),g&&g.sub(h),h.props=m,h.state||(h.state={}),h.context=x,h.__n=t,v=h.__d=!0,h.__h=[]),null==h.__s&&(h.__s=h.state),null!=$.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=a$1({},h.__s)),a$1(h.__s,$.getDerivedStateFromProps(m,h.__s))),y=h.props,p=h.state,v)null==$.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else {if(null==$.getDerivedStateFromProps&&m!==y&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(m,x),!h.__e&&null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(m,h.__s,x)||u.__v===i.__v){h.props=m,h.state=h.__s,u.__v!==i.__v&&(h.__d=!1),h.__v=u,u.__e=i.__e,u.__k=i.__k,u.__k.forEach(function(n){n&&(n.__=u);}),h.__h.length&&f.push(h);break n}null!=h.componentWillUpdate&&h.componentWillUpdate(m,h.__s,x),null!=h.componentDidUpdate&&h.__h.push(function(){h.componentDidUpdate(y,p,k);});}if(h.context=x,h.props=m,h.__v=u,h.__P=n,A=l$1.__r,P=0,"prototype"in $&&$.prototype.render)h.state=h.__s,h.__d=!1,A&&A(u),s=h.render(h.props,h.state,h.context);else do{h.__d=!1,A&&A(u),s=h.render(h.props,h.state,h.context),h.state=h.__s;}while(h.__d&&++P<25);h.state=h.__s,null!=h.getChildContext&&(t=a$1(a$1({},t),h.getChildContext())),v||null==h.getSnapshotBeforeUpdate||(k=h.getSnapshotBeforeUpdate(y,p)),C=null!=s&&s.type===d$1&&null==s.key?s.props.children:s,w$2(n,Array.isArray(C)?C:[C],u,i,t,o,r,f,e,c),h.base=u.__e,u.__h=null,h.__h.length&&f.push(h),b&&(h.__E=h.__=null),h.__e=!1;}else null==r&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=L$1(i.__e,u,i,t,o,r,f,c);(s=l$1.diffed)&&s(u);}catch(n){u.__v=null,(c||null!=r)&&(u.__e=e,u.__h=!!c,r[r.indexOf(e)]=null),l$1.__e(n,u,i);}}function z$2(n,u){l$1.__c&&l$1.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u);});}catch(n){l$1.__e(n,u.__v);}});}function L$1(l,u,i,t,o,r,f,c){var s,a,v,y=i.props,p=u.props,d=u.type,_=0;if("svg"===d&&(o=!0),null!=r)for(;_<r.length;_++)if((s=r[_])&&"setAttribute"in s==!!d&&(d?s.localName===d:3===s.nodeType)){l=s,r[_]=null;break}if(null==l){if(null===d)return document.createTextNode(p);l=o?document.createElementNS("http://www.w3.org/2000/svg",d):document.createElement(d,p.is&&p),r=null,c=!1;}if(null===d)y===p||c&&l.data===p||(l.data=p);else {if(r=r&&n.call(l.childNodes),a=(y=i.props||e$2).dangerouslySetInnerHTML,v=p.dangerouslySetInnerHTML,!c){if(null!=r)for(y={},_=0;_<l.attributes.length;_++)y[l.attributes[_].name]=l.attributes[_].value;(v||a)&&(v&&(a&&v.__html==a.__html||v.__html===l.innerHTML)||(l.innerHTML=v&&v.__html||""));}if(C$1(l,p,y,o,c),v)u.__k=[];else if(_=u.props.children,w$2(l,Array.isArray(_)?_:[_],u,i,t,o&&"foreignObject"!==d,r,f,r?r[0]:i.__k&&k$1(i,0),c),null!=r)for(_=r.length;_--;)null!=r[_]&&h$1(r[_]);c||("value"in p&&void 0!==(_=p.value)&&(_!==l.value||"progress"===d&&!_||"option"===d&&_!==y.value)&&H$1(l,"value",_,y.value,!1),"checked"in p&&void 0!==(_=p.checked)&&_!==l.checked&&H$1(l,"checked",_,y.checked,!1));}return l}function M$2(n,u,i){try{"function"==typeof n?n(u):n.current=u;}catch(n){l$1.__e(n,i);}}function N(n,u,i){var t,o;if(l$1.unmount&&l$1.unmount(n),(t=n.ref)&&(t.current&&t.current!==n.__e||M$2(t,null,u)),null!=(t=n.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount();}catch(n){l$1.__e(n,u);}t.base=t.__P=null;}if(t=n.__k)for(o=0;o<t.length;o++)t[o]&&N(t[o],u,"function"!=typeof n.type);i||null==n.__e||h$1(n.__e),n.__e=n.__d=void 0;}function O$1(n,l,u){return this.constructor(n,u)}function S$1(u,i,t){var o,r,f;l$1.__&&l$1.__(u,i),r=(o="function"==typeof t)?null:t&&t.__k||i.__k,f=[],j$2(i,u=(!o&&t||i).__k=v$1(d$1,null,[u]),r||e$2,e$2,void 0!==i.ownerSVGElement,!o&&t?[t]:r?null:i.firstChild?n.call(i.childNodes):null,f,!o&&t?t:r?r.__e:i.firstChild,o),z$2(f,u);}function D(n,l){var u={__c:l="__cC"+f$1++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,i;return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(m$1);},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n);};}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n=c$1.slice,l$1={__e:function(n,l,u,i){for(var t,o,r;l=l.__;)if((t=l.__c)&&!t.__)try{if((o=t.constructor)&&null!=o.getDerivedStateFromError&&(t.setState(o.getDerivedStateFromError(n)),r=t.__d),null!=t.componentDidCatch&&(t.componentDidCatch(n,i||{}),r=t.__d),r)return t.__E=t}catch(l){n=l;}throw n}},u$1=0,_.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=a$1({},this.state),"function"==typeof n&&(n=n(a$1({},u),this.props)),n&&a$1(u,n),null!=n&&this.__v&&(l&&this.__h.push(l),m$1(this));},_.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),m$1(this));},_.prototype.render=d$1,t$1=[],o$2="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,g$2.__r=0,f$1=0;

	var o$1=0;function e$1(_,e,n,t,f){var l,s,u={};for(s in e)"ref"==s?l=e[s]:u[s]=e[s];var a={type:_,props:u,key:n,ref:l,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--o$1,__source:f,__self:t};if("function"==typeof _&&(l=_.defaultProps))for(s in l)void 0===u[s]&&(u[s]=l[s]);return l$1.vnode&&l$1.vnode(a),a}

	var t,u,r,o,i=0,c=[],f=l$1.__b,e=l$1.__r,a=l$1.diffed,v=l$1.__c,l=l$1.unmount;function m(t,r){l$1.__h&&l$1.__h(u,t,i||r),i=0;var o=u.__H||(u.__H={__:[],__h:[]});return t>=o.__.length&&o.__.push({}),o.__[t]}function d(n){return i=1,p(z$1,n)}function p(n,r,o){var i=m(t++,2);return i.t=n,i.__c||(i.__=[o?o(r):z$1(void 0,r),function(n){var t=i.t(i.__[0],n);i.__[0]!==t&&(i.__=[t,i.__[1]],i.__c.setState({}));}],i.__c=u),i.__}function y(r,o){var i=m(t++,3);!l$1.__s&&w$1(i.__H,o)&&(i.__=r,i.u=o,u.__H.__h.push(i));}function h(r,o){var i=m(t++,4);!l$1.__s&&w$1(i.__H,o)&&(i.__=r,i.u=o,u.__h.push(i));}function s(n){return i=5,A$1(function(){return {current:n}},[])}function A$1(n,u){var r=m(t++,7);return w$1(r.__H,u)?(r.o=n(),r.u=u,r.__h=n,r.o):r.__}function F(n,t){return i=8,A$1(function(){return n},t)}function T$1(n){var r=u.context[n.__c],o=m(t++,9);return o.c=n,r?(null==o.__&&(o.__=!0,r.sub(u)),r.props.value):n.__}function b(){for(var t;t=c.shift();)if(t.__P)try{t.__H.__h.forEach(j$1),t.__H.__h.forEach(k),t.__H.__h=[];}catch(u){t.__H.__h=[],l$1.__e(u,t.__v);}}l$1.__b=function(n){u=null,f&&f(n);},l$1.__r=function(n){e&&e(n),t=0;var o=(u=n.__c).__H;o&&(r===u?(o.__h=[],u.__h=[],o.__.forEach(function(n){n.o=n.u=void 0;})):(o.__.forEach(function(n){n.u&&(n.__H=n.u),n.o&&(n.__=n.o),n.o=n.u=void 0;}),o.__h.forEach(j$1),o.__h.forEach(k),o.__h=[])),r=u;},l$1.diffed=function(t){a&&a(t);var i=t.__c;i&&i.__H&&i.__H.__h.length&&(1!==c.push(i)&&o===l$1.requestAnimationFrame||((o=l$1.requestAnimationFrame)||function(n){var t,u=function(){clearTimeout(r),g$1&&cancelAnimationFrame(t),setTimeout(n);},r=setTimeout(u,100);g$1&&(t=requestAnimationFrame(u));})(b)),u=null,r=null;},l$1.__c=function(t,u){u.some(function(t){try{t.__H&&t.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.o&&(n.__=n.o),n.o=n.u=void 0;}),t.__h.forEach(j$1),t.__h=t.__h.filter(function(n){return !n.__||k(n)});}catch(r){u.some(function(n){n.__h&&(n.__h=[]);}),u=[],l$1.__e(r,t.__v);}}),v&&v(t,u);},l$1.unmount=function(t){l&&l(t);var u,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{j$1(n);}catch(n){u=n;}}),u&&l$1.__e(u,r.__v));};var g$1="function"==typeof requestAnimationFrame;function j$1(n){var t=u,r=n.__c;"function"==typeof r&&(n.__c=void 0,r()),u=t;}function k(n){var t=u;n.__c=n.__(),u=t;}function w$1(n,t){return !n||n.length!==t.length||t.some(function(t,u){return t!==n[u]})}function z$1(n,t){return "function"==typeof t?t(n):t}

	function C(n,t){for(var e in t)n[e]=t[e];return n}function S(n,t){for(var e in n)if("__source"!==e&&!(e in t))return !0;for(var r in t)if("__source"!==r&&n[r]!==t[r])return !0;return !1}function E(n){this.props=n;}function g(n,t){function e(n){var e=this.props.ref,r=e==n.ref;return !r&&e&&(e.call?e(null):e.current=null),t?!t(this.props,n)||!r:S(this.props,n)}function r(t){return this.shouldComponentUpdate=e,v$1(n,t)}return r.displayName="Memo("+(n.displayName||n.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r}(E.prototype=new _).isPureReactComponent=!0,E.prototype.shouldComponentUpdate=function(n,t){return S(this.props,n)||S(this.state,t)};var w=l$1.__b;l$1.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),w&&w(n);};var A=l$1.__e;l$1.__e=function(n,t,e,r){if(n.then)for(var u,o=t;o=o.__;)if((u=o.__c)&&u.__c)return null==t.__e&&(t.__e=e.__e,t.__k=e.__k),u.__c(n,t);A(n,t,e,r);};var O=l$1.unmount;function L(){this.__u=0,this.t=null,this.__b=null;}function U(n){var t=n.__.__c;return t&&t.__e&&t.__e(n)}function M$1(){this.u=null,this.o=null;}l$1.unmount=function(n){var t=n.__c;t&&t.__R&&t.__R(),t&&!0===n.__h&&(n.type=null),O&&O(n);},(L.prototype=new _).__c=function(n,t){var e=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(e);var u=U(r.__v),o=!1,i=function(){o||(o=!0,e.__R=null,u?u(l):l());};e.__R=i;var l=function(){if(!--r.__u){if(r.state.__e){var n=r.state.__e;r.__v.__k[0]=function n(t,e,r){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(t){return n(t,e,r)}),t.__c&&t.__c.__P===e&&(t.__e&&r.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=r)),t}(n,n.__c.__P,n.__c.__O);}var t;for(r.setState({__e:r.__b=null});t=r.t.pop();)t.forceUpdate();}},f=!0===t.__h;r.__u++||f||r.setState({__e:r.__b=r.__v.__k[0]}),n.then(i,i);},L.prototype.componentWillUnmount=function(){this.t=[];},L.prototype.render=function(n,t){if(this.__b){if(this.__v.__k){var e=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=function n(t,e,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(n){"function"==typeof n.__c&&n.__c();}),t.__c.__H=null),null!=(t=C({},t)).__c&&(t.__c.__P===r&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(t){return n(t,e,r)})),t}(this.__b,e,r.__O=r.__P);}this.__b=null;}var u=t.__e&&v$1(d$1,null,n.fallback);return u&&(u.__h=null),[v$1(d$1,null,t.__e?null:n.children),u]};var T=function(n,t,e){if(++e[1]===e[0]&&n.o.delete(t),n.props.revealOrder&&("t"!==n.props.revealOrder[0]||!n.o.size))for(e=n.u;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;n.u=e=e[2];}};(M$1.prototype=new _).__e=function(n){var t=this,e=U(t.__v),r=t.o.get(n);return r[0]++,function(u){var o=function(){t.props.revealOrder?(r.push(u),T(t,n,r)):u();};e?e(o):o();}},M$1.prototype.render=function(n){this.u=null,this.o=new Map;var t=A$2(n.children);n.revealOrder&&"b"===n.revealOrder[0]&&t.reverse();for(var e=t.length;e--;)this.o.set(t[e],this.u=[1,0,this.u]);return n.children},M$1.prototype.componentDidUpdate=M$1.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(t,e){T(n,e,t);});};var P="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,V=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,j="undefined"!=typeof document,z=function(n){return ("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(n)};_.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(n){Object.defineProperty(_.prototype,n,{configurable:!0,get:function(){return this["UNSAFE_"+n]},set:function(t){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:t});}});});var H=l$1.event;function Z(){}function Y(){return this.cancelBubble}function q(){return this.defaultPrevented}l$1.event=function(n){return H&&(n=H(n)),n.persist=Z,n.isPropagationStopped=Y,n.isDefaultPrevented=q,n.nativeEvent=n};var J={configurable:!0,get:function(){return this.class}},K=l$1.vnode;l$1.vnode=function(n){var t=n.type,e=n.props,r=e;if("string"==typeof t){var u=-1===t.indexOf("-");for(var o in r={},e){var i=e[o];j&&"children"===o&&"noscript"===t||"value"===o&&"defaultValue"in e&&null==i||("defaultValue"===o&&"value"in e&&null==e.value?o="value":"download"===o&&!0===i?i="":/ondoubleclick/i.test(o)?o="ondblclick":/^onchange(textarea|input)/i.test(o+t)&&!z(e.type)?o="oninput":/^onfocus$/i.test(o)?o="onfocusin":/^onblur$/i.test(o)?o="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(o)?o=o.toLowerCase():u&&V.test(o)?o=o.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===i&&(i=void 0),/^oninput/i.test(o)&&(o=o.toLowerCase(),r[o]&&(o="oninputCapture")),r[o]=i);}"select"==t&&r.multiple&&Array.isArray(r.value)&&(r.value=A$2(e.children).forEach(function(n){n.props.selected=-1!=r.value.indexOf(n.props.value);})),"select"==t&&null!=r.defaultValue&&(r.value=A$2(e.children).forEach(function(n){n.props.selected=r.multiple?-1!=r.defaultValue.indexOf(n.props.value):r.defaultValue==n.props.value;})),n.props=r,e.class!=e.className&&(J.enumerable="className"in e,null!=e.className&&(r.class=e.className),Object.defineProperty(r,"className",J));}n.$$typeof=P,K&&K(n);};var Q=l$1.__r;l$1.__r=function(n){Q&&Q(n),n.__c;};

	function toVal(mix) {
		var k, y, str='';

		if (typeof mix === 'string' || typeof mix === 'number') {
			str += mix;
		} else if (typeof mix === 'object') {
			if (Array.isArray(mix)) {
				for (k=0; k < mix.length; k++) {
					if (mix[k]) {
						if (y = toVal(mix[k])) {
							str && (str += ' ');
							str += y;
						}
					}
				}
			} else {
				for (k in mix) {
					if (mix[k]) {
						str && (str += ' ');
						str += k;
					}
				}
			}
		}

		return str;
	}

	function clsx () {
		var i=0, tmp, x, str='';
		while (i < arguments.length) {
			if (tmp = arguments[i++]) {
				if (x = toVal(tmp)) {
					str && (str += ' ');
					str += x;
				}
			}
		}
		return str;
	}

	function getDocument(element) { return (element?.ownerDocument ?? document ?? window.document ?? globalThis.document); }

	/**
	 * Debug hook.
	 *
	 * Given a value or set of values, emits a console error if any of them change from one render to the next.
	 *
	 * Eventually, when useEvent lands, we hopefully won't need this.
	 */
	function useEnsureStability(parentHookName, ...values) {
	    useHelper(values.length, 0);
	    values.forEach(useHelper);
	    return;
	    function useHelper(value, index) {
	        // Make sure that the provided functions are perfectly stable across renders
	        const helperToEnsureStability = s(value);
	        const shownError = s(false);
	        if (helperToEnsureStability.current != value) {
	            if (!shownError.current) {
	                /* eslint-disable no-debugger */
	                debugger;
	                console.error(`The hook ${parentHookName} requires some or all of its arguments remain stable across each render; please check the ${index}-indexed argument.`);
	                shownError.current = true;
	            }
	        }
	    }
	}
	/**
	 * Similar to `useState`, but for values that aren't "render-important" &ndash; updates don't cause a re-render and so the value shouldn't be used during render (though it certainly can, at least by re-rendering again).
	 *
	 * To compensate for this, you should pass a `useEffect`-esque callback that is run whenever the value changes.  Just like `useEffect`, this callback can return a cleanup function that's run before the value changes.  If you would like to re-render when the value changes (or, say, when the value meets some criteria), this is where you'll want to put in a call to a `setState` function.
	 *
	 * To summarize, it's like a `useState`-`useEffect` mashup:
	 *
	 * 1. It's like `useState`, except this version of `setState` doesn't re-render the whole component
	 * 2. It's like `useState`, except you can run a function when the value changes that optionally returns a cleanup function
	 * 3. It's like `useEffect`, except you trigger the effect function "remotely" instead of it running after rendering
	 * 4. It's like `useEffect`, except the single "dependency" is based on your calls to `setState`
	 *
	 * Note that while calling `setState` doesn't cause any re-renders, you can do that within your `onChange` function, called whenever the value changes via that `setState`.
	 *
	 * @param onChange The "effect" function to run when the value changes. Effectively the same as `useEffect`'s "effect" function.  MUST BE STABLE, either because it has no dependencies, or because it's from useStableCallback, but this will mean you cannot use getState or setState during render.
	 * @param getInitialValue If provided, the effect will be invoked once with this value on mount. MUST BE STABLE, either because it has no dependencies, or because it's from useStableCallback, but this will mean you cannot use getState or setState during render.
	 * @returns
	 */
	function usePassiveState(onChange, getInitialValue) {
	    const valueRef = s(Unset$1);
	    const warningRef = s(false);
	    const cleanupCallbackRef = s(undefined);
	    // Make sure that the provided functions are perfectly stable across renders
	    useEnsureStability("usePassiveState", onChange, getInitialValue);
	    // Shared between "dependency changed" and "component unmounted".
	    const onShouldCleanUp = F(() => {
	        const cleanupCallback = cleanupCallbackRef.current;
	        if (cleanupCallback)
	            cleanupCallback();
	    }, []);
	    // There are a couple places where we'd like to use our initial
	    // value in place of having no value at all yet.
	    // This is the shared code for that, used on mount and whenever
	    // getValue is called.
	    const tryEnsureValue = F(() => {
	        if (valueRef.current === Unset$1 && getInitialValue != undefined) {
	            try {
	                const initialValue = getInitialValue();
	                valueRef.current = initialValue;
	                cleanupCallbackRef.current = (onChange?.(initialValue, undefined) ?? undefined);
	            }
	            catch (ex) {
	                // Exceptions are intentional to allow bailout (without exposing the Unset symbol)
	            }
	        }
	    }, [ /* getInitialValue and onChange intentionally omitted */]);
	    const getValue = F(() => {
	        if (warningRef.current)
	            console.warn("During onChange, prefer using the (value, prevValue) arguments instead of getValue -- it's ambiguous as to if you're asking for the old or new value at this point in time for this component.");
	        // The first time we call getValue, if we haven't been given a value yet,
	        // (and we were given an initial value to use)
	        // return the initial value instead of nothing.
	        if (valueRef.current === Unset$1)
	            tryEnsureValue();
	        return (valueRef.current === Unset$1 ? undefined : valueRef.current);
	    }, []);
	    h(() => {
	        // Make sure we've run our effect at least once on mount.
	        // (If we have an initial value, of course)
	        tryEnsureValue();
	    }, []);
	    // The actual code the user calls to (possibly) run a new effect.
	    const setValue = F((arg) => {
	        const prevDep = valueRef.current === Unset$1 ? undefined : getValue();
	        const dep = arg instanceof Function ? arg(prevDep) : arg;
	        if (dep !== valueRef.current) {
	            // Indicate to the user that they shouldn't call getValue during onChange
	            warningRef.current = true;
	            // Call any registerd cleanup function
	            onShouldCleanUp();
	            cleanupCallbackRef.current = (onChange?.(dep, prevDep) ?? undefined);
	            valueRef.current = dep;
	            // Allow the user to normally call getValue again
	            warningRef.current = false;
	        }
	    }, []);
	    return [getValue, setValue];
	}
	const Unset$1 = Symbol();
	// Easy constants for getInitialValue
	function returnTrue() { return true; }
	function returnFalse() { return false; }
	function returnNull$1() { return null; }

	function useMergedChildren(lhsProps, rhsProps) {
	    const lhs = lhsProps?.children;
	    const rhs = rhsProps?.children;
	    if (lhs == null && rhs == null) {
	        return undefined;
	    }
	    else if (lhs == null) {
	        return rhs;
	    }
	    else if (rhs == null) {
	        return lhs;
	    }
	    else {
	        const ret = v$1(d$1, {}, lhs, rhs);
	        return ret;
	    }
	}

	/**
	 * Given two sets of props, merges their `class` and `className` properties.
	 * Duplicate classes are removed (order doesn't matter anyway).
	 *
	 * @param lhs Classes of the first component
	 * @param rhs Classes of the second component
	 * @returns A string representing all combined classes from both arguments.
	 */
	function useMergedClasses(lhs, rhs) {
	    // Note: For the sake of forward compatibility, this function is labelled as
	    // a hook, but as it uses no other hooks it technically isn't one.
	    return mergeClasses(lhs, rhs);
	}
	function mergeClasses(lhs, rhs) {
	    const lhsClass = lhs?.class;
	    const lhsClassName = lhs?.className;
	    const rhsClass = rhs?.class;
	    const rhsClassName = rhs?.className;
	    if (lhsClass || rhsClass || lhsClassName || rhsClassName) {
	        const lhsClasses = clsx(lhsClass, lhsClassName).split(" ");
	        const rhsClasses = clsx(rhsClass, rhsClassName).split(" ");
	        const allClasses = new Set([...Array.from(lhsClasses), ...Array.from(rhsClasses)]);
	        return Array.from(allClasses).join(" ");
	    }
	    else {
	        return undefined;
	    }
	}

	function processRef(instance, ref) {
	    if (typeof ref === "function") {
	        ref(instance);
	    }
	    else if (ref != null) {
	        ref.current = instance;
	    }
	    else {
	        /* eslint-disable no-debugger */
	        debugger;
	        console.assert(false, "Unknown ref type found that was neither a RefCallback nor a RefObject");
	    }
	}
	/**
	 * Combines two refs into one. This allows a component to both use its own ref *and* forward a ref that was given to it.
	 * @param lhs
	 * @param rhs
	 * @returns
	 */
	function useMergedRefs() {
	    return function (lhsProps, rhsProps) {
	        const lhs = lhsProps?.ref;
	        const rhs = rhsProps?.ref;
	        const combined = F((current) => {
	            processRef(current, lhs);
	            processRef(current, rhs);
	        }, [lhs, rhs]);
	        if (lhs == null && rhs == null) {
	            return undefined;
	        }
	        else if (lhs == null) {
	            return rhs;
	        }
	        else if (rhs == null) {
	            return lhs;
	        }
	        else {
	            return combined;
	        }
	    };
	}

	function styleStringToObject(style) {
	    // TODO: This sucks D:
	    return Object.fromEntries(style.split(";").map(statement => statement.split(":")));
	}
	/**
	 * Merges two style objects, returning the result.
	 *
	 * @param style The user-given style prop for this component
	 * @param obj The CSS properties you want added to the user-given style
	 * @returns A CSS object containing the properties of both objects.
	 */
	function useMergedStyles(lhs, rhs) {
	    // Easy case, when there are no styles to merge return nothing.
	    if (!lhs?.style && !rhs?.style)
	        return undefined;
	    if (typeof lhs != typeof rhs) {
	        // Easy cases, when one is null and the other isn't.
	        if (lhs?.style && !rhs?.style)
	            return lhs.style;
	        if (!lhs?.style && rhs?.style)
	            return rhs.style;
	        // They're both non-null but different types.
	        // Convert the string type to an object bag type and run it again.
	        if (lhs?.style && rhs?.style) {
	            // (useMergedStyles isn't a true hook -- this isn't a violation)
	            if (typeof lhs?.style == "string")
	                return useMergedStyles({ style: styleStringToObject(lhs?.style) }, rhs);
	            if (typeof rhs?.style == "string")
	                return useMergedStyles(lhs, { style: styleStringToObject(rhs?.style) });
	        }
	        // Logic???
	        return undefined;
	    }
	    // They're both strings, just concatenate them.
	    if (typeof lhs?.style == "string") {
	        return `${lhs.style};${rhs?.style ?? ""}`;
	    }
	    // They're both objects, just merge them.
	    return {
	        ...(lhs?.style ?? {}),
	        ...(rhs?.style ?? {})
	    };
	}

	let log = console.warn;
	/**
	 * Given two sets of props, merges them and returns the result.
	 *
	 * The hook is aware of and can intelligently merge `className`, `class`, `style`, `ref`, and all event handlers.
	 * @param lhs2
	 * @param rhs2
	 * @returns
	 */
	function useMergedProps() {
	    return function (lhsAll, rhsAll) {
	        // First, separate the props we were given into two groups:
	        // lhsAll and rhsAll contain all the props we were given, and
	        // lhsMisc and rhsMisc contain all props *except* for the easy ones
	        // like className and style that we already know how to merge.
	        const { children: _lhsChildren, class: _lhsClass, className: _lhsClassName, style: _lhsStyle, ref: _lhsRef, ...lhsMisc } = lhsAll;
	        const { children: _rhsChildren, class: _rhsClass, className: _rhsClassName, style: _rhsStyle, ref: _rhsRef, ...rhsMisc } = rhsAll;
	        const ret = {
	            ...lhsMisc,
	            ref: useMergedRefs()(lhsAll, rhsAll),
	            style: useMergedStyles(lhsAll, rhsAll),
	            className: useMergedClasses(lhsAll, rhsAll),
	            children: useMergedChildren(lhsAll, rhsAll),
	        };
	        if (ret.ref === undefined)
	            delete ret.ref;
	        if (ret.style === undefined)
	            delete ret.style;
	        if (ret.className === undefined)
	            delete ret.className;
	        if (ret.children === undefined)
	            delete ret.children;
	        // Now, do *everything* else
	        // Merge every remaining existing entry in lhs with what we've already put in ret.
	        //const lhsEntries = Object.entries(lhs) as [keyof T, T[keyof T]][];
	        const rhsEntries = Object.entries(rhsMisc);
	        for (const [rhsKey, rhsValue] of rhsEntries) {
	            const lhsValue = lhsMisc[rhsKey];
	            if (typeof lhsValue === "function" || typeof rhsValue === "function") {
	                // They're both functions that can be merged (or one's a function and the other's null).
	                // Not an *easy* case, but a well-defined one.
	                const merged = mergeFunctions(lhsValue, rhsValue);
	                ret[rhsKey] = merged;
	            }
	            else {
	                // Uh...we're here because one of them's null, right?
	                if (lhsValue == null && rhsValue == null) {
	                    if (rhsValue === null && lhsValue === undefined)
	                        ret[rhsKey] = rhsValue;
	                    else
	                        ret[rhsKey] = lhsValue;
	                }
	                if (lhsValue == null)
	                    ret[rhsKey] = rhsValue;
	                else if (rhsValue == null)
	                    ret[rhsKey] = lhsValue;
	                else if (rhsValue == lhsValue) ;
	                else {
	                    // Ugh.
	                    // No good strategies here, just log it if requested
	                    log?.(`The prop "${typeof rhsKey == "symbol" ? "<symbol>" : rhsKey}" cannot simultaneously be the values ${lhsValue} and ${rhsValue}. One must be chosen outside of useMergedProps.`);
	                    ret[rhsKey] = rhsValue;
	                }
	            }
	        }
	        return ret;
	    };
	}
	function mergeFunctions(lhs, rhs) {
	    if (!lhs)
	        return rhs;
	    if (!rhs)
	        return lhs;
	    return (...args) => {
	        const lv = lhs(...args);
	        const rv = rhs(...args);
	        if (lv instanceof Promise || rv instanceof Promise)
	            return Promise.all([lv, rv]);
	    };
	}
	/*
	function test<P extends h.JSX.HTMLAttributes<HTMLInputElement>>(props: P) {

	    const id0: GenericGet<{}, "id", string> = "";
	    const id3: GenericGet<{ id: undefined }, "id", string> = undefined;
	    const id4: GenericGet<{ id: undefined }, "id", string> = undefined;
	    const id5: GenericGet<{ id: undefined }, "id", string> = undefined;
	    const id6: GenericGet<{ id: undefined }, "id", string> = undefined;
	    //const id2: ZipSingle<string | undefined, string | undefined> = undefined;
	    const id1: ZipObject<{ id: undefined }, { id: string }> = { id: undefined };

	    type M1 = GenericGet<P, "style", string>;
	    type M2 = GenericGet<{}, "style", string>;
	    const m1: M1 = "";
	    const m2: M1 = undefined;
	    /// @ts-expect-error    Because number isn't assignable to string
	    const m3: M1 = 0;

	    const m4: M2 = "";
	    const m5: M2 = undefined;
	    /// @ts-expect-error    Because number isn't assignable to string
	    const m6: M2 = 0;

	    const p1: MergedProps<HTMLInputElement, {}, { id: string }> = useMergedProps<HTMLInputElement>()({}, { id: "string" });
	    const p2: MergedProps<HTMLInputElement, { id: undefined }, { id: string }> = useMergedProps<HTMLInputElement>()({ id: undefined }, { id: "string" });
	    const p3: MergedProps<HTMLInputElement, { id: undefined }, { id: undefined }> = useMergedProps<HTMLInputElement>()({ id: undefined }, { id: undefined });
	    const p4: MergedProps<HTMLInputElement, {}, {}> = useMergedProps<HTMLInputElement>()({}, {});
	    const p5 = useMergedProps<HTMLInputElement>()(props, {});
	    const p6 = useMergedProps<HTMLInputElement>()(props, { id: undefined });
	    const p7 = useMergedProps<HTMLInputElement>()(props, { id: "string" });


	    p1.id?.concat("");
	    p2.id?.concat("");
	    /// @ts-expect-error    id can't be anything but undefined
	    p3.id?.concat("");
	    /// @ts-expect-error    id can't be anything but undefined
	    p4.id?.concat("");


	    p5.id?.concat("");
	    p6.id?.concat("");
	    p7.id?.concat("");

	    /// @ts-expect-error    id must contain undefined
	    p5.id.concat("");
	    /// @ts-expect-error    id must contain undefined
	    p6.id.concat("");
	    /// @ts-expect-error    id must contain undefined
	    p7.id.concat("");


	    if (p5.allowFullScreen === undefined) {}
	    else if (p5.allowFullScreen === false) {}
	    else if (p5.allowFullScreen === true) {}
	    else {
	        acceptsNever(p5.allowFullScreen);
	    }


	    if (p6.allowFullScreen === undefined) {}
	    else if (p6.allowFullScreen === false) {}
	    else if (p6.allowFullScreen === true) {}
	    else {
	        acceptsNever(p6.allowFullScreen);
	    }


	    if (p7.allowFullScreen === undefined) {}
	    else if (p7.allowFullScreen === false) {}
	    else if (p7.allowFullScreen === true) {}
	    else {
	        acceptsNever(p7.allowFullScreen);
	    }


	    // Make sure it works recursively
	    const r1a = useMergedProps<HTMLInputElement>()({}, p1);
	    const r1b = useMergedProps<HTMLInputElement>()(props, p1);
	    const r2a = useMergedProps<HTMLInputElement>()({}, p2);
	    const r2b = useMergedProps<HTMLInputElement>()(props, p2);
	    const r3a = useMergedProps<HTMLInputElement>()({}, p3);
	    const r3b = useMergedProps<HTMLInputElement>()(props, p3);
	    const r4a = useMergedProps<HTMLInputElement>()({}, p4);
	    const r4b = useMergedProps<HTMLInputElement>()(props, p4);
	    const r5a = useMergedProps<HTMLInputElement>()({}, p5);
	    const r5b = useMergedProps<HTMLInputElement>()(props, p5);
	    const r6a = useMergedProps<HTMLInputElement>()({}, p6);
	    const r6b = useMergedProps<HTMLInputElement>()(props, p6);
	    const r7a = useMergedProps<HTMLInputElement>()({}, p7);
	    const r7b = useMergedProps<HTMLInputElement>()(props, p7);


	    r1a.id?.concat("");
	    r1b.id?.concat("");
	    r2a.id?.concat("");
	    r2b.id?.concat("");
	    // @ts-expect-error    id can't be anything but undefined
	    r3a.id?.concat("");
	    r3b.id?.concat("");
	    /// @ts-expect-error    id can't be anything but undefined
	    r4a.id?.concat("");
	    r4b.id?.concat("");


	    r5a.id?.concat("");
	    r5b.id?.concat("");
	    r6a.id?.concat("");
	    r6b.id?.concat("");
	    r7a.id?.concat("");
	    r7b.id?.concat("");

	    /// @ts-expect-error    id must contain undefined
	    r5a.id.concat("");
	    /// @ts-expect-error    id must contain undefined
	    r5b.id.concat("");
	    /// @ts-expect-error    id must contain undefined
	    r6a.id.concat("");
	    /// @ts-expect-error    id must contain undefined
	    r6b.id.concat("");
	    /// @ts-expect-error    id must contain undefined
	    r7a.id.concat("");
	    /// @ts-expect-error    id must contain undefined
	    r7b.id.concat("");


	    if (r5a.allowFullScreen === undefined) {}
	    else if (r5a.allowFullScreen === false) {}
	    else if (r5a.allowFullScreen === true) {}
	    else {
	        acceptsNever(r5a.allowFullScreen);
	    }


	    if (r5b.allowFullScreen === undefined) {}
	    else if (r5b.allowFullScreen === false) {}
	    else if (r5b.allowFullScreen === true) {}
	    else {
	        acceptsNever(r5b.allowFullScreen);
	    }


	    if (r6a.allowFullScreen === undefined) {}
	    else if (r6a.allowFullScreen === false) {}
	    else if (r6a.allowFullScreen === true) {}
	    else {
	        acceptsNever(r6a.allowFullScreen);
	    }


	    if (r6b.allowFullScreen === undefined) {}
	    else if (r6b.allowFullScreen === false) {}
	    else if (r6b.allowFullScreen === true) {}
	    else {
	        acceptsNever(r6b.allowFullScreen);
	    }


	    if (r7a.allowFullScreen === undefined) {}
	    else if (r7a.allowFullScreen === false) {}
	    else if (r7a.allowFullScreen === true) {}
	    else {
	        acceptsNever(r7a.allowFullScreen);
	    }


	    if (r7b.allowFullScreen === undefined) {}
	    else if (r7b.allowFullScreen === false) {}
	    else if (r7b.allowFullScreen === true) {}
	    else {
	        acceptsNever(r7b.allowFullScreen);
	    }

	}
	function acceptsNever(n: never) {}
	*/

	function returnNull() { return null; }
	/**
	 * Allows accessing the element a ref references as soon as it does so.
	 * *This hook itself returns a hook*--useRefElementProps modifies the props that you were going to pass to an HTMLElement,
	 * adding a RefCallback and merging it with any existing ref that existed on the props.
	 *
	 * Don't forget to provide the Element as the type argument!
	 *
	 * @returns The element, and the sub-hook that makes it retrievable.
	 */
	function useRefElement(args) {
	    const { onElementChange, onMount, onUnmount } = (args ?? {});
	    useEnsureStability("useRefElement", onElementChange, onMount, onUnmount);
	    // Called (indirectly) by the ref that the element receives.
	    const handler = F((e, prevValue) => {
	        onElementChange?.(e, prevValue);
	        if (prevValue)
	            onUnmount?.(prevValue);
	        if (e)
	            onMount?.(e);
	    }, []);
	    // Let us store the actual (reference to) the element we capture
	    const [getElement, setElement] = usePassiveState(handler, returnNull);
	    // Create a RefCallback that's fired when mounted 
	    // and that notifies us of our element when we have it
	    const myRef = F((e) => {
	        if (e)
	            setElement(() => e);
	    }, []);
	    const useRefElementProps = F((props) => useMergedProps()({ ref: myRef }, props), []);
	    // Return both the element and the hook that modifies 
	    // the props and allows us to actually find the element
	    return {
	        useRefElementProps,
	        getElement
	    };
	}

	function useElementSize({ getObserveBox, onSizeChange }) {
	    useEnsureStability("useElementSize", getObserveBox, onSizeChange);
	    const [getSize, setSize] = usePassiveState(onSizeChange, returnNull$1);
	    const currentObserveBox = s(undefined);
	    const needANewObserver = F((element, observeBox) => {
	        if (element) {
	            const document = getDocument(element);
	            const window = document.defaultView;
	            const handleUpdate = () => {
	                if (element.isConnected) {
	                    const { clientWidth, scrollWidth, offsetWidth, clientHeight, scrollHeight, offsetHeight, clientLeft, scrollLeft, offsetLeft, clientTop, scrollTop, offsetTop } = element;
	                    setSize({ clientWidth, scrollWidth, offsetWidth, clientHeight, scrollHeight, offsetHeight, clientLeft, scrollLeft, offsetLeft, clientTop, scrollTop, offsetTop });
	                }
	            };
	            if (window && ("ResizeObserver" in window)) {
	                const observer = new ResizeObserver((_entries) => { handleUpdate(); });
	                observer.observe(element, { box: observeBox });
	                return () => observer.disconnect();
	            }
	            else {
	                document.addEventListener("resize", handleUpdate, { passive: true });
	                return () => document.removeEventListener("resize", handleUpdate);
	            }
	        }
	    }, []);
	    const { getElement, useRefElementProps } = useRefElement({ onElementChange: F((e) => needANewObserver(e, getObserveBox?.()), []) });
	    y(() => {
	        if (getObserveBox) {
	            if (currentObserveBox.current !== getObserveBox())
	                needANewObserver(getElement(), getObserveBox());
	        }
	    });
	    return {
	        getElement,
	        getSize,
	        useElementSizeProps: useRefElementProps
	    };
	}

	function capitalize(str) {
	    return (str[0].toUpperCase() + str.substr(1));
	}
	/**
	 * Inspects the element's style and determines the logical direction that text flows.
	 *
	 * Certain CSS properties, like `block-size`, respect the current writing mode and text direction.
	 * But `transform`, `clip`, etc. don't.
	 *
	 * This is provided so that CSS properties can consistently use those logical properties.
	 *
	 * See https://drafts.csswg.org/css-writing-modes/#logical-to-physical
	 *
	 * @returns An object containing the following functions:
	 * * `getLogicalDirection`: retrieves a `LogicalDirectionInfo` representing the current state of the element. (Function is constant between renders)
	 * * `convertElementSize`: When used in conjunction with `useElementSize`, allows you to retrieve the logical size of an element instead of the physical size.
	 * * `convertToLogicalOrientation`: Based on the current direction, converts "horizontal" or "vertical" to "inline" or "block".
	 * * `convertToPhysicalOrientation`:  Based on the current direction, converts "inline" or "block" to "horizontal" or "vertical".
	 */
	function useLogicalDirection({ onLogicalDirectionChange }) {
	    useEnsureStability("useLogicalDirection", onLogicalDirectionChange);
	    const [getComputedStyles, setComputedStyles] = usePassiveState(null, returnNull$1);
	    const { getElement, useRefElementProps } = useRefElement({
	        onElementChange: F((element) => {
	            if (element) {
	                setComputedStyles(window.getComputedStyle(element));
	            }
	        }, [])
	    });
	    // TODO: There's no way to refresh which writing mode we have once mounted.
	    //   A. There's no way to watch for CSS style changes
	    //   B. Calling getComputedStyle after every render for every element gets expensive fast and
	    //   C. Is not necessary for most use cases that will never switch writing-mode within a single component
	    //      (Those that do will need to mount and unmount the component that uses it)
	    //
	    // As a solution, here's a cheap workaround that checks when the element's size has changed,
	    // and if so, tests if the writing mode has changed too.
	    //
	    // This will work for at least some number of cases, but a better solution is still needed.
	    const { useElementSizeProps } = useElementSize({ onSizeChange: F(_ => onLogicalDirectionChange?.(getLogicalDirectionInfo()), []) });
	    const getLogicalDirectionInfo = F(() => {
	        const computedStyles = getComputedStyles();
	        if (computedStyles) {
	            const w = computedStyles.writingMode;
	            let d = computedStyles.direction;
	            const t = computedStyles.textOrientation;
	            if (t == "upright")
	                d = "ltr";
	            return ({ ...WritingModes[w || "horizontal-tb"][d || "ltr"] });
	        }
	        return null;
	    }, []);
	    //const [getLogicalDirectionInfo, setLogicalDirectionInfo] = usePassiveState<LogicalDirectionInfo>(onLogicalDirectionChange);
	    const convertToLogicalOrientation = F((elementOrientation, direction) => {
	        direction ??= getLogicalDirectionInfo();
	        if (direction?.inlineOrientation === elementOrientation)
	            return "inline";
	        return "block";
	    }, []);
	    const convertToPhysicalSide = F((side, direction) => {
	        direction ??= getLogicalDirectionInfo();
	        switch (side) {
	            case "block-start":
	                return M[(direction?.blockDirection ?? "ttb")[0]];
	            case "block-end":
	                return M[(direction?.blockDirection ?? "ttb")[2]];
	            case "inline-start":
	                return M[(direction?.inlineDirection ?? "ltr")[0]];
	            case "inline-end":
	                return M[(direction?.inlineDirection ?? "ltr")[2]];
	        }
	    }, []);
	    const convertToLogicalSide = F((side, direction) => {
	        direction ??= getLogicalDirectionInfo();
	        if (direction?.inlineOrientation === "vertical") {
	            switch (side) {
	                case "top":
	                    return direction.inlineDirection === "ttb" ? "inline-start" : "inline-end";
	                case "bottom":
	                    return direction.inlineDirection === "btt" ? "inline-start" : "inline-end";
	                case "left":
	                    return direction.blockDirection === "ltr" ? "block-start" : "block-end";
	                case "right":
	                    return direction.blockDirection === "rtl" ? "block-start" : "block-end";
	            }
	        }
	        else if (direction?.inlineOrientation === "horizontal") {
	            switch (side) {
	                case "top":
	                    return direction.blockDirection === "ttb" ? "block-start" : "block-end";
	                case "bottom":
	                    return direction.blockDirection === "btt" ? "block-start" : "block-end";
	                case "left":
	                    return direction.inlineDirection === "ltr" ? "inline-start" : "inline-end";
	                case "right":
	                    return direction.inlineDirection === "rtl" ? "inline-start" : "inline-end";
	            }
	        }
	        /* eslint-disable no-debugger */
	        debugger;
	        console.assert(false);
	        return "inline-start";
	    }, []);
	    const convertToPhysicalOrientation = F((elementOrientation, direction) => {
	        direction ??= getLogicalDirectionInfo();
	        if (elementOrientation == "inline") {
	            if (direction?.inlineOrientation == "horizontal")
	                return "horizontal";
	            return "vertical";
	        }
	        else {
	            if (direction?.blockOrientation == "vertical")
	                return "vertical";
	            return "horizontal";
	        }
	    }, []);
	    const convertElementSize = F((elementSize, direction) => {
	        direction ??= getLogicalDirectionInfo();
	        if (direction) {
	            const { inlineSize, blockSize, inlineDirection, blockDirection } = direction;
	            // Size is relatively simple
	            const clientInlineSize = elementSize[`client${capitalize(inlineSize)}`];
	            const clientBlockSize = elementSize[`client${capitalize(blockSize)}`];
	            const offsetInlineSize = elementSize[`offset${capitalize(inlineSize)}`];
	            const offsetBlockSize = elementSize[`offset${capitalize(blockSize)}`];
	            const scrollInlineSize = elementSize[`scroll${capitalize(inlineSize)}`];
	            const scrollBlockSize = elementSize[`scroll${capitalize(blockSize)}`];
	            const f1 = getPhysicalLeftTop(inlineDirection);
	            const f2 = getPhysicalRightBottom(inlineDirection);
	            const f3 = getPhysicalLeftTop(blockDirection);
	            const f4 = getPhysicalRightBottom(blockDirection);
	            const clientInlineInset = elementSize[`client${capitalize(f1)}`] + (!f2 ? 0 : elementSize[`client${capitalize(f2)}`]);
	            const scrollInlineInset = elementSize[`scroll${capitalize(f1)}`] + (!f2 ? 0 : elementSize[`scroll${capitalize(f2)}`]);
	            const offsetInlineInset = elementSize[`offset${capitalize(f1)}`] == undefined ? undefined : (elementSize[`offset${capitalize(f1)}`] + (!f2 ? 0 : elementSize[`offset${capitalize(f2)}`]));
	            const clientBlockInset = elementSize[`client${capitalize(f3)}`] + (!f4 ? 0 : elementSize[`client${capitalize(f4)}`]);
	            const scrollBlockInset = elementSize[`scroll${capitalize(f3)}`] + (!f4 ? 0 : elementSize[`scroll${capitalize(f4)}`]);
	            const offsetBlockInset = elementSize[`offset${capitalize(f3)}`] == undefined ? undefined : (elementSize[`offset${capitalize(f3)}`] + (!f4 ? 0 : elementSize[`offset${capitalize(f4)}`]));
	            return {
	                clientInlineSize,
	                scrollInlineSize,
	                offsetInlineSize,
	                clientBlockSize,
	                scrollBlockSize,
	                offsetBlockSize,
	                clientInlineInset,
	                scrollInlineInset,
	                offsetInlineInset,
	                clientBlockInset,
	                scrollBlockInset,
	                offsetBlockInset,
	            };
	        }
	        return null;
	    }, []);
	    return {
	        useLogicalDirectionProps: F((props) => useRefElementProps(useElementSizeProps(props)), []),
	        getElement,
	        getLogicalDirectionInfo,
	        convertToLogicalSize: convertElementSize,
	        convertToLogicalOrientation,
	        convertToPhysicalOrientation,
	        convertToLogicalSide,
	        convertToPhysicalSide
	    };
	}
	// Position requires us to sometimes use one property (like `left`)
	// or sometimes two (like `left` + `width`)
	function getPhysicalLeftTop(dir) { if (dir === "ltr" || dir == "rtl")
	    return "left"; return "top"; }
	function getPhysicalRightBottom(dir) { if (dir === "rtl")
	    return "width"; if (dir === "btt")
	    return "height"; return null; }
	// Helper for extracting info from "ltr", "ttb", etc.
	const M = {
	    t: "top",
	    b: "bottom",
	    l: "left",
	    r: "right"
	};
	const HorizontalTbLtr = {
	    inlineDirection: "ltr",
	    blockDirection: "ttb",
	    inlineOrientation: "horizontal",
	    blockOrientation: "vertical",
	    inlineSize: "width",
	    blockSize: "height",
	    leftRightDirection: "ltr",
	    overUnderDirection: "ttb"
	};
	const HorizontalTbRtl = {
	    ...HorizontalTbLtr,
	    inlineDirection: "rtl",
	};
	const VerticalRlLtr = {
	    inlineDirection: "ttb",
	    blockDirection: "rtl",
	    inlineOrientation: "vertical",
	    blockOrientation: "horizontal",
	    inlineSize: "height",
	    blockSize: "width",
	    leftRightDirection: "ttb",
	    overUnderDirection: "rtl"
	};
	const VerticalRlRtl = {
	    ...VerticalRlLtr,
	    inlineDirection: "btt"
	};
	const SidewaysRlLtr = { ...VerticalRlLtr };
	const SidewaysRlRtl = { ...VerticalRlRtl };
	const VerticalLrLtr = {
	    ...VerticalRlLtr,
	    blockDirection: "ltr",
	};
	const VerticalLrRtl = {
	    ...VerticalRlRtl,
	    blockDirection: "ltr",
	};
	const SidewaysLtLtr = {
	    ...VerticalLrLtr,
	    inlineDirection: "btt",
	    leftRightDirection: "btt",
	    overUnderDirection: "ltr"
	};
	const SidewaysLtRtl = {
	    ...SidewaysLtLtr,
	    inlineDirection: "ttb"
	};
	const HorizontalTb = {
	    ltr: HorizontalTbLtr,
	    rtl: HorizontalTbRtl
	};
	const VerticalRl = {
	    ltr: VerticalRlLtr,
	    rtl: VerticalRlRtl
	};
	const VerticalLr = {
	    ltr: VerticalLrLtr,
	    rtl: VerticalLrRtl
	};
	const SidewaysRl = {
	    ltr: SidewaysRlLtr,
	    rtl: SidewaysRlRtl
	};
	const SidewaysLr = {
	    ltr: SidewaysLtLtr,
	    rtl: SidewaysLtRtl
	};
	const WritingModes = {
	    "horizontal-tb": HorizontalTb,
	    "vertical-lr": VerticalLr,
	    "vertical-rl": VerticalRl,
	    "sideways-lr": SidewaysLr,
	    "sideways-rl": SidewaysRl
	};

	/**
	 * Slightly enhanced version of `useState` that includes a getter that remains constant
	 * (i.e. you can use it in `useEffect` and friends without it being a dependency).
	 *
	 * @param initialState
	 * @returns
	 */
	function useState(initialState) {
	    // We keep both, but overrride the `setState` functionality
	    const [state, setStateP] = d(initialState);
	    const ref = s(state);
	    // Hijack the normal setter function 
	    // to also set our ref to the new value
	    const setState = F(value => {
	        if (typeof value === "function") {
	            const callback = value;
	            setStateP(prevValue => {
	                const nextValue = callback(prevValue);
	                ref.current = nextValue;
	                return nextValue;
	            });
	        }
	        else {
	            ref.current = value;
	            setStateP(value);
	        }
	    }, []);
	    const getState = () => { return ref.current; };
	    console.assert(ref.current === state || (typeof state === "number" && isNaN(state)));
	    return [state, setState, getState];
	}

	const Table = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_-";
	function base64(value) {
	    return Table[value];
	}
	function random6Bits() {
	    return Math.floor(Math.random() * 0b1000000);
	}
	function random64Bits() {
	    return [random6Bits(), random6Bits(), random6Bits(), random6Bits(), random6Bits(), random6Bits(), random6Bits(), random6Bits(), random6Bits(), random6Bits(), random6Bits()];
	}
	/**
	 * Returns a randomly-generated ID with an optional prefix.
	 * Note that if the prefix is *explicitly* set to "", then
	 * IDs that are not valid under HTML4 may be generated. Oh no.
	 */
	function generateRandomId(prefix) {
	    return `${prefix ?? "id-"}${random64Bits().map(n => base64(n)).join("")}`;
	}

	const previousInputs = new Map();
	const toRun = new Map();
	// TODO: Whether this goes in options.diffed or options._commit
	// is a post-suspense question.
	// Right now, using options._commit has the problem of running
	// *after* refs are applied, but we need to come before even that
	// so `ref={someStableFunction}` works.
	// 
	// Also it's private.
	//
	// ...
	// Well, useEvent or whatever is finally, finally 4 years later finally here
	// which is cool and means we won't need this at all soon.
	// So for now we'll stick with diff to prevent any weirdness with
	// commit being private and all.
	const commitName = "diffed";
	const originalCommit = l$1[commitName];
	const newCommit = (...args) => {
	    for (const [id, effectInfo] of toRun) {
	        const oldInputs = previousInputs.get(id);
	        if (argsChanged(oldInputs, effectInfo.inputs)) {
	            effectInfo.cleanup?.();
	            effectInfo.cleanup = effectInfo.effect();
	            previousInputs.set(id, effectInfo.inputs);
	        }
	    }
	    toRun.clear();
	    originalCommit?.(...args);
	};
	l$1[commitName] = newCommit;
	/**
	 * Semi-private function to allow stable callbacks even within `useLayoutEffect` and ref assignment.
	 *
	 * Every render, we send the arguments to be evaluated after diffing has completed,
	 * which happens before.
	 *
	 * @param effect
	 * @param inputs
	 */
	function useBeforeLayoutEffect(effect, inputs) {
	    /*(() => {
	        const cleanup = useRef<void | (() => void) | null>(null);
	        const prevArgsRef = useRef<Inputs>(null!);
	        if (argsChanged(inputs, prevArgsRef.current)) {
	            prevArgsRef.current = inputs!;
	            if (cleanup.current)
	                cleanup.current();
	            cleanup.current = effect();
	        }
	    })();*/
	    const [id] = d(() => generateRandomId());
	    toRun.set(id, { effect, inputs, cleanup: null });
	    y(() => {
	        return () => {
	            toRun.delete(id);
	            previousInputs.delete(id);
	        };
	    }, [id]);
	}
	function argsChanged(oldArgs, newArgs) {
	    return !!(!oldArgs ||
	        oldArgs.length !== newArgs?.length ||
	        newArgs?.some((arg, index) => arg !== oldArgs[index]));
	}

	const Unset = Symbol("unset");
	/**
	 * Given an input value, returns a constant getter function that can be used
	 * inside of `useEffect` and friends without including it in the dependency array.
	 *
	 * This uses `options.diffed` in order to run before everything, even
	 * ref assignment. This means this getter is safe to use anywhere ***except the render phase***.
	 *
	 * @param value
	 * @returns
	 */
	function useStableGetter(value) {
	    const ref = s(Unset);
	    useBeforeLayoutEffect(() => { ref.current = value; }, [value]);
	    return F(() => {
	        if (ref.current === Unset) {
	            throw new Error('Value retrieved from useStableGetter() cannot be called during render.');
	        }
	        return ref.current;
	    }, []);
	}

	/**
	 * Alternate useCallback() which always returns the same (wrapped) function reference
	 * so that it can be excluded from the dependency arrays of `useEffect` and friends.
	 *
	 * Do not use during the render phase!  `useLayoutEffect` is fine though.
	 */
	function useStableCallback(fn) {
	    const currentCallbackGetter = useStableGetter(fn);
	    return F((...args) => {
	        return currentCallbackGetter()(...args);
	    }, []);
	}

	/**
	 * Checks if `value` is the
	 * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
	 * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
	 *
	 * @static
	 * @memberOf _
	 * @since 0.1.0
	 * @category Lang
	 * @param {*} value The value to check.
	 * @returns {boolean} Returns `true` if `value` is an object, else `false`.
	 * @example
	 *
	 * _.isObject({});
	 * // => true
	 *
	 * _.isObject([1, 2, 3]);
	 * // => true
	 *
	 * _.isObject(_.noop);
	 * // => true
	 *
	 * _.isObject(null);
	 * // => false
	 */
	function isObject(value) {
	  var type = typeof value;
	  return value != null && (type == 'object' || type == 'function');
	}

	/** Detect free variable `global` from Node.js. */
	var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;

	/** Detect free variable `self`. */
	var freeSelf = typeof self == 'object' && self && self.Object === Object && self;

	/** Used as a reference to the global object. */
	var root = freeGlobal || freeSelf || Function('return this')();

	/**
	 * Gets the timestamp of the number of milliseconds that have elapsed since
	 * the Unix epoch (1 January 1970 00:00:00 UTC).
	 *
	 * @static
	 * @memberOf _
	 * @since 2.4.0
	 * @category Date
	 * @returns {number} Returns the timestamp.
	 * @example
	 *
	 * _.defer(function(stamp) {
	 *   console.log(_.now() - stamp);
	 * }, _.now());
	 * // => Logs the number of milliseconds it took for the deferred invocation.
	 */
	var now = function() {
	  return root.Date.now();
	};

	/** Used to match a single whitespace character. */
	var reWhitespace = /\s/;

	/**
	 * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace
	 * character of `string`.
	 *
	 * @private
	 * @param {string} string The string to inspect.
	 * @returns {number} Returns the index of the last non-whitespace character.
	 */
	function trimmedEndIndex(string) {
	  var index = string.length;

	  while (index-- && reWhitespace.test(string.charAt(index))) {}
	  return index;
	}

	/** Used to match leading whitespace. */
	var reTrimStart = /^\s+/;

	/**
	 * The base implementation of `_.trim`.
	 *
	 * @private
	 * @param {string} string The string to trim.
	 * @returns {string} Returns the trimmed string.
	 */
	function baseTrim(string) {
	  return string
	    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')
	    : string;
	}

	/** Built-in value references. */
	var Symbol$1 = root.Symbol;

	/** Used for built-in method references. */
	var objectProto$1 = Object.prototype;

	/** Used to check objects for own properties. */
	var hasOwnProperty = objectProto$1.hasOwnProperty;

	/**
	 * Used to resolve the
	 * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
	 * of values.
	 */
	var nativeObjectToString$1 = objectProto$1.toString;

	/** Built-in value references. */
	var symToStringTag$1 = Symbol$1 ? Symbol$1.toStringTag : undefined;

	/**
	 * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.
	 *
	 * @private
	 * @param {*} value The value to query.
	 * @returns {string} Returns the raw `toStringTag`.
	 */
	function getRawTag(value) {
	  var isOwn = hasOwnProperty.call(value, symToStringTag$1),
	      tag = value[symToStringTag$1];

	  try {
	    value[symToStringTag$1] = undefined;
	    var unmasked = true;
	  } catch (e) {}

	  var result = nativeObjectToString$1.call(value);
	  if (unmasked) {
	    if (isOwn) {
	      value[symToStringTag$1] = tag;
	    } else {
	      delete value[symToStringTag$1];
	    }
	  }
	  return result;
	}

	/** Used for built-in method references. */
	var objectProto = Object.prototype;

	/**
	 * Used to resolve the
	 * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
	 * of values.
	 */
	var nativeObjectToString = objectProto.toString;

	/**
	 * Converts `value` to a string using `Object.prototype.toString`.
	 *
	 * @private
	 * @param {*} value The value to convert.
	 * @returns {string} Returns the converted string.
	 */
	function objectToString(value) {
	  return nativeObjectToString.call(value);
	}

	/** `Object#toString` result references. */
	var nullTag = '[object Null]',
	    undefinedTag = '[object Undefined]';

	/** Built-in value references. */
	var symToStringTag = Symbol$1 ? Symbol$1.toStringTag : undefined;

	/**
	 * The base implementation of `getTag` without fallbacks for buggy environments.
	 *
	 * @private
	 * @param {*} value The value to query.
	 * @returns {string} Returns the `toStringTag`.
	 */
	function baseGetTag(value) {
	  if (value == null) {
	    return value === undefined ? undefinedTag : nullTag;
	  }
	  return (symToStringTag && symToStringTag in Object(value))
	    ? getRawTag(value)
	    : objectToString(value);
	}

	/**
	 * Checks if `value` is object-like. A value is object-like if it's not `null`
	 * and has a `typeof` result of "object".
	 *
	 * @static
	 * @memberOf _
	 * @since 4.0.0
	 * @category Lang
	 * @param {*} value The value to check.
	 * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
	 * @example
	 *
	 * _.isObjectLike({});
	 * // => true
	 *
	 * _.isObjectLike([1, 2, 3]);
	 * // => true
	 *
	 * _.isObjectLike(_.noop);
	 * // => false
	 *
	 * _.isObjectLike(null);
	 * // => false
	 */
	function isObjectLike(value) {
	  return value != null && typeof value == 'object';
	}

	/** `Object#toString` result references. */
	var symbolTag = '[object Symbol]';

	/**
	 * Checks if `value` is classified as a `Symbol` primitive or object.
	 *
	 * @static
	 * @memberOf _
	 * @since 4.0.0
	 * @category Lang
	 * @param {*} value The value to check.
	 * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.
	 * @example
	 *
	 * _.isSymbol(Symbol.iterator);
	 * // => true
	 *
	 * _.isSymbol('abc');
	 * // => false
	 */
	function isSymbol(value) {
	  return typeof value == 'symbol' ||
	    (isObjectLike(value) && baseGetTag(value) == symbolTag);
	}

	/** Used as references for various `Number` constants. */
	var NAN = 0 / 0;

	/** Used to detect bad signed hexadecimal string values. */
	var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;

	/** Used to detect binary string values. */
	var reIsBinary = /^0b[01]+$/i;

	/** Used to detect octal string values. */
	var reIsOctal = /^0o[0-7]+$/i;

	/** Built-in method references without a dependency on `root`. */
	var freeParseInt = parseInt;

	/**
	 * Converts `value` to a number.
	 *
	 * @static
	 * @memberOf _
	 * @since 4.0.0
	 * @category Lang
	 * @param {*} value The value to process.
	 * @returns {number} Returns the number.
	 * @example
	 *
	 * _.toNumber(3.2);
	 * // => 3.2
	 *
	 * _.toNumber(Number.MIN_VALUE);
	 * // => 5e-324
	 *
	 * _.toNumber(Infinity);
	 * // => Infinity
	 *
	 * _.toNumber('3.2');
	 * // => 3.2
	 */
	function toNumber(value) {
	  if (typeof value == 'number') {
	    return value;
	  }
	  if (isSymbol(value)) {
	    return NAN;
	  }
	  if (isObject(value)) {
	    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;
	    value = isObject(other) ? (other + '') : other;
	  }
	  if (typeof value != 'string') {
	    return value === 0 ? value : +value;
	  }
	  value = baseTrim(value);
	  var isBinary = reIsBinary.test(value);
	  return (isBinary || reIsOctal.test(value))
	    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)
	    : (reIsBadHex.test(value) ? NAN : +value);
	}

	/** Error message constants. */
	var FUNC_ERROR_TEXT$1 = 'Expected a function';

	/* Built-in method references for those with the same name as other `lodash` methods. */
	var nativeMax = Math.max,
	    nativeMin = Math.min;

	/**
	 * Creates a debounced function that delays invoking `func` until after `wait`
	 * milliseconds have elapsed since the last time the debounced function was
	 * invoked. The debounced function comes with a `cancel` method to cancel
	 * delayed `func` invocations and a `flush` method to immediately invoke them.
	 * Provide `options` to indicate whether `func` should be invoked on the
	 * leading and/or trailing edge of the `wait` timeout. The `func` is invoked
	 * with the last arguments provided to the debounced function. Subsequent
	 * calls to the debounced function return the result of the last `func`
	 * invocation.
	 *
	 * **Note:** If `leading` and `trailing` options are `true`, `func` is
	 * invoked on the trailing edge of the timeout only if the debounced function
	 * is invoked more than once during the `wait` timeout.
	 *
	 * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred
	 * until to the next tick, similar to `setTimeout` with a timeout of `0`.
	 *
	 * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)
	 * for details over the differences between `_.debounce` and `_.throttle`.
	 *
	 * @static
	 * @memberOf _
	 * @since 0.1.0
	 * @category Function
	 * @param {Function} func The function to debounce.
	 * @param {number} [wait=0] The number of milliseconds to delay.
	 * @param {Object} [options={}] The options object.
	 * @param {boolean} [options.leading=false]
	 *  Specify invoking on the leading edge of the timeout.
	 * @param {number} [options.maxWait]
	 *  The maximum time `func` is allowed to be delayed before it's invoked.
	 * @param {boolean} [options.trailing=true]
	 *  Specify invoking on the trailing edge of the timeout.
	 * @returns {Function} Returns the new debounced function.
	 * @example
	 *
	 * // Avoid costly calculations while the window size is in flux.
	 * jQuery(window).on('resize', _.debounce(calculateLayout, 150));
	 *
	 * // Invoke `sendMail` when clicked, debouncing subsequent calls.
	 * jQuery(element).on('click', _.debounce(sendMail, 300, {
	 *   'leading': true,
	 *   'trailing': false
	 * }));
	 *
	 * // Ensure `batchLog` is invoked once after 1 second of debounced calls.
	 * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });
	 * var source = new EventSource('/stream');
	 * jQuery(source).on('message', debounced);
	 *
	 * // Cancel the trailing debounced invocation.
	 * jQuery(window).on('popstate', debounced.cancel);
	 */
	function debounce(func, wait, options) {
	  var lastArgs,
	      lastThis,
	      maxWait,
	      result,
	      timerId,
	      lastCallTime,
	      lastInvokeTime = 0,
	      leading = false,
	      maxing = false,
	      trailing = true;

	  if (typeof func != 'function') {
	    throw new TypeError(FUNC_ERROR_TEXT$1);
	  }
	  wait = toNumber(wait) || 0;
	  if (isObject(options)) {
	    leading = !!options.leading;
	    maxing = 'maxWait' in options;
	    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;
	    trailing = 'trailing' in options ? !!options.trailing : trailing;
	  }

	  function invokeFunc(time) {
	    var args = lastArgs,
	        thisArg = lastThis;

	    lastArgs = lastThis = undefined;
	    lastInvokeTime = time;
	    result = func.apply(thisArg, args);
	    return result;
	  }

	  function leadingEdge(time) {
	    // Reset any `maxWait` timer.
	    lastInvokeTime = time;
	    // Start the timer for the trailing edge.
	    timerId = setTimeout(timerExpired, wait);
	    // Invoke the leading edge.
	    return leading ? invokeFunc(time) : result;
	  }

	  function remainingWait(time) {
	    var timeSinceLastCall = time - lastCallTime,
	        timeSinceLastInvoke = time - lastInvokeTime,
	        timeWaiting = wait - timeSinceLastCall;

	    return maxing
	      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)
	      : timeWaiting;
	  }

	  function shouldInvoke(time) {
	    var timeSinceLastCall = time - lastCallTime,
	        timeSinceLastInvoke = time - lastInvokeTime;

	    // Either this is the first call, activity has stopped and we're at the
	    // trailing edge, the system time has gone backwards and we're treating
	    // it as the trailing edge, or we've hit the `maxWait` limit.
	    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||
	      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));
	  }

	  function timerExpired() {
	    var time = now();
	    if (shouldInvoke(time)) {
	      return trailingEdge(time);
	    }
	    // Restart the timer.
	    timerId = setTimeout(timerExpired, remainingWait(time));
	  }

	  function trailingEdge(time) {
	    timerId = undefined;

	    // Only invoke if we have `lastArgs` which means `func` has been
	    // debounced at least once.
	    if (trailing && lastArgs) {
	      return invokeFunc(time);
	    }
	    lastArgs = lastThis = undefined;
	    return result;
	  }

	  function cancel() {
	    if (timerId !== undefined) {
	      clearTimeout(timerId);
	    }
	    lastInvokeTime = 0;
	    lastArgs = lastCallTime = lastThis = timerId = undefined;
	  }

	  function flush() {
	    return timerId === undefined ? result : trailingEdge(now());
	  }

	  function debounced() {
	    var time = now(),
	        isInvoking = shouldInvoke(time);

	    lastArgs = arguments;
	    lastThis = this;
	    lastCallTime = time;

	    if (isInvoking) {
	      if (timerId === undefined) {
	        return leadingEdge(lastCallTime);
	      }
	      if (maxing) {
	        // Handle invocations in a tight loop.
	        clearTimeout(timerId);
	        timerId = setTimeout(timerExpired, wait);
	        return invokeFunc(lastCallTime);
	      }
	    }
	    if (timerId === undefined) {
	      timerId = setTimeout(timerExpired, wait);
	    }
	    return result;
	  }
	  debounced.cancel = cancel;
	  debounced.flush = flush;
	  return debounced;
	}

	/** Error message constants. */
	var FUNC_ERROR_TEXT = 'Expected a function';

	/**
	 * Creates a throttled function that only invokes `func` at most once per
	 * every `wait` milliseconds. The throttled function comes with a `cancel`
	 * method to cancel delayed `func` invocations and a `flush` method to
	 * immediately invoke them. Provide `options` to indicate whether `func`
	 * should be invoked on the leading and/or trailing edge of the `wait`
	 * timeout. The `func` is invoked with the last arguments provided to the
	 * throttled function. Subsequent calls to the throttled function return the
	 * result of the last `func` invocation.
	 *
	 * **Note:** If `leading` and `trailing` options are `true`, `func` is
	 * invoked on the trailing edge of the timeout only if the throttled function
	 * is invoked more than once during the `wait` timeout.
	 *
	 * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred
	 * until to the next tick, similar to `setTimeout` with a timeout of `0`.
	 *
	 * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)
	 * for details over the differences between `_.throttle` and `_.debounce`.
	 *
	 * @static
	 * @memberOf _
	 * @since 0.1.0
	 * @category Function
	 * @param {Function} func The function to throttle.
	 * @param {number} [wait=0] The number of milliseconds to throttle invocations to.
	 * @param {Object} [options={}] The options object.
	 * @param {boolean} [options.leading=true]
	 *  Specify invoking on the leading edge of the timeout.
	 * @param {boolean} [options.trailing=true]
	 *  Specify invoking on the trailing edge of the timeout.
	 * @returns {Function} Returns the new throttled function.
	 * @example
	 *
	 * // Avoid excessively updating the position while scrolling.
	 * jQuery(window).on('scroll', _.throttle(updatePosition, 100));
	 *
	 * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.
	 * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });
	 * jQuery(element).on('click', throttled);
	 *
	 * // Cancel the trailing throttled invocation.
	 * jQuery(window).on('popstate', throttled.cancel);
	 */
	function throttle(func, wait, options) {
	  var leading = true,
	      trailing = true;

	  if (typeof func != 'function') {
	    throw new TypeError(FUNC_ERROR_TEXT);
	  }
	  if (isObject(options)) {
	    leading = 'leading' in options ? !!options.leading : leading;
	    trailing = 'trailing' in options ? !!options.trailing : trailing;
	  }
	  return debounce(func, wait, {
	    'leading': leading,
	    'maxWait': wait,
	    'trailing': trailing
	  });
	}

	function identity$2(...t) { return t; }
	function useThrottled(callback, wait, options) {
	    const throttled = A$1(() => {
	        return callback ? throttle(callback, wait, options) : null;
	    }, [callback, wait, options?.leading, options?.trailing]);
	    y(() => {
	        return () => throttled?.cancel();
	    }, [throttled]);
	    return throttled;
	}
	function useDebounced(callback, wait, options) {
	    const debounced = A$1(() => {
	        return callback ? debounce(callback, wait, options) : null;
	    }, [callback, wait, options?.leading, options?.maxWait, options?.trailing]);
	    y(() => {
	        return () => debounced?.cancel();
	    }, [debounced]);
	    return debounced;
	}
	/**
	 * Given an async function, returns a function that's suitable for non-async APIs,
	 * along with other information about the current run's status.
	 *
	 * See also `useAsyncHandler` for a version that's specialized for DOM event handlers.
	 *
	 * When called multiple times in quick succession, (i.e. before the handler has finished),
	 * this works like Lodash's `throttle` function with the `wait` option always
	 * set to however long the handler takes to complete. A second call to the sync function will be
	 * throttled until the first call has finished. The return value of the function is the result
	 * of the previous invocation, or `undefined` on the first call.
	 *
	 * The handler is only ever delayed if one is currently running, so, e.g. for iOS touch events the
	 * first call happens in the same event handler (which means things like calls to `element.focus()`
	 * will work as intended, since that fails when the event is "split up")
	 *
	 * Finally, because the sync handler may be invoked on a delay, any property references on the arguments
	 * provided might be stale by the time it's actually invoked (e.g. accessing `event.currentTarget.checked`
	 * is not stable across time because it's a "live" value -- you almost always want the value that it
	 * had at the original time the handler was called). The `capture` option allows you to save that kind of
	 * dynamic data at the time it runs; the `AP` and `SP` type parameters likewise control
	 * the parameters the async handler and sync handler expect respectively.
	 *
	 */
	function useAsync(asyncHandler, options) {
	    /* eslint-disable prefer-const */
	    let { throttle, debounce, capture } = (options ?? {});
	    capture ??= identity$2;
	    // We keep, like, a lot of render-state, but it only ever triggers a re-render
	    // when we start/stop an async action.
	    // Keep track of this for the caller's sake -- we don't really care.
	    const [currentType, setCurrentType] = useState(null);
	    const [runCount, setRunCount] = useState(0);
	    const [settleCount, setSettleCount] = useState(0);
	    const [resolveCount, setResolveCount] = useState(0);
	    const [rejectCount, setRejectCount] = useState(0);
	    // Things related to current execution
	    // Because we can both return and throw undefined, 
	    // we need separate state to track their existance too.
	    const [pending, setPending, getPending] = useState(false);
	    const [result, setResult, getResult] = useState(undefined);
	    const [error, setError, _getError] = useState(undefined);
	    const [hasError, setHasError, _getHasError] = useState(false);
	    const [hasResult, setHasResult, _getHasResult] = useState(false);
	    // We implement our own throttling behavior in regards to waiting until the async handler finishes.
	    // These two passive state variables keep track of that, automatically queueing/dequeuing the next handler.
	    const [getQueued, setQueued] = usePassiveState(null, returnNull$1);
	    // The actual sync handler.
	    // Capture/transform the given parameters if applicable,
	    // then run further logic that's debounced/throttled
	    const captureArgsAndExecuteDebouncedHandler = useStableCallback(function onNewExecuteRequest(...newArgs2) {
	        console.log("captureArgsAndExecuteDebouncedHandler");
	        // Capture the arguments we were given.
	        // We might use them immediately, or we might store them to `queued`,
	        // but in either case we do need the captured value.
	        const captured = capture(...newArgs2);
	        // This is all logic that deals with the captured value instead of the raw arguments.
	        // It's called in two separate circumstances,
	        // and has the debounce/throttle logic already applied
	        return executeHandlerWithDebounce(getPending(), ...captured);
	    });
	    // This is the logic that runs when the handler is *just* about to start.
	    // This function itself is further transformed to be throttled/debounced if requested,
	    // so this might not be called immediately after 
	    const executeHandlerWithoutDebounce = useStableCallback(function onNewExecuteRequest2(enqueue, ...newArgs) {
	        const onThen = (value) => { console.log("executeHandlerWithoutDebounce.onThen"); setResult(value); setHasResult(true); setHasError(false); setResolveCount(r => ++r); };
	        const onCatch = (ex) => { console.log("executeHandlerWithoutDebounce.onCatch"); setError(ex); setHasError(true); setHasResult(false); setRejectCount(r => ++r); };
	        const onFinally = () => {
	            const queued = getQueued();
	            setSettleCount(s => ++s);
	            if (queued) {
	                console.log("executeHandlerWithoutDebounce.onFinally (queued)");
	                setQueued(null);
	                executeHandlerWithDebounce(false, ...queued);
	            }
	            else {
	                console.log("executeHandlerWithoutDebounce.onFinally (empty)");
	                setPending(false);
	            }
	        };
	        if (!enqueue) {
	            console.log("executeHandlerWithoutDebounce (immediate)");
	            // Nothing is pending at the moment, so we can run our function immediately.
	            setRunCount(r => ++r);
	            setPending(true);
	            const result = asyncHandler?.(...newArgs);
	            const isPromise = (result != null && typeof result == "object" && "then" in result);
	            if (result == null || !isPromise) {
	                // It's synchronous and returned successfully.
	                // Bail out early.
	                onThen(result);
	                onFinally();
	                setCurrentType("sync");
	            }
	            else {
	                result.then(onThen).catch(onCatch).finally(onFinally);
	                setCurrentType("async");
	            }
	        }
	        else {
	            console.log("executeHandlerWithoutDebounce (pending)");
	            // When we're still running a previous handler,
	            // just set ourselves as the next one to run and quit early.
	            // Nothing more to do.
	            setQueued(newArgs);
	        }
	        return getResult();
	    });
	    const executeHandlerWithT = useThrottled(!throttle ? null : executeHandlerWithoutDebounce, throttle ?? 0);
	    const executeHandlerWithD = useDebounced(!debounce ? null : (executeHandlerWithT ?? executeHandlerWithoutDebounce), debounce ?? 0);
	    const executeHandlerWithDebounce = (executeHandlerWithD ?? executeHandlerWithT ?? executeHandlerWithoutDebounce);
	    const flushDebouncedPromise = useStableCallback(() => {
	        executeHandlerWithDebounce?.flush();
	    });
	    return {
	        syncHandler: captureArgsAndExecuteDebouncedHandler,
	        currentType,
	        pending,
	        result,
	        error,
	        hasError,
	        hasResult,
	        resolveCount,
	        rejectCount,
	        settleCount,
	        callCount: runCount,
	        flushDebouncedPromise
	    };
	}

	/**
	 * Given an asyncronous event handler, returns a syncronous one that works on the DOM,
	 * along with some other information related to the current state.
	 * Does not modify any props.
	 *
	 * Note that because the handler you provide may be called with a delay, and
	 * because the value of, e.g., an `<input>` element will likely be stale by the
	 * time the delay is over, a `capture` function is necessary in order to
	 * capture the relevant information from the DOM. Any other simple event data,
	 * like `mouseX` or `shiftKey` can stay on the event itself and don't
	 * need to be captured &ndash; it's never stale.
	 *
	 * ```tsx
	 * const asyncOnInput = async (value: number, e: Event) => {
	 *     [...] // Ex. send to a server and setState when done
	 * };
	 * const {
	 *     // A sync version of asyncOnInput
	 *     syncHandler,
	 *     // True while the handler is running
	 *     pending,
	 *     // The error thrown, if any
	 *     error,
	 *     // Show this value while the operation's pending
	 *     currentCapture,
	 *     // And others, see `UseAsyncHandlerReturnType`
	 *     ...rest
	 * } = useAsyncHandler<HTMLInputElement>()(asyncOnInput, {
	 *     // Pass in the capture function that saves event data
	 *     // from being stale.
	 *     capture: e => {
	 *         // `capture` can have side-effects because
	 *         // it's called exactly once per invocation
	 *         e.preventDefault();
	 *
	 *         // Save this value so that it's never stale
	 *         return e.currentTarget.valueAsNumber;
	 *     }
	 * });
	 *
	 * const onInput = pending? null : syncHandler;
	 * ```
	 *
	 * The handler is automatically throttled to only run one at a time.
	 * If the handler is called, and then before it finishes, is called again,
	 * it will be put on hold until the current one finishes, at which point
	 * the second one will run.  If the handler is called a third time before
	 * the first has finished, it will *replace* the second, so only the most
	 * recently called iteration of the handler will run.
	 *
	 *
	 * You may optionally *also* specify debounce and throttle parameters that wait until the
	 * syncronous handler has not been called for the specified number of
	 * milliseconds, at which point we *actually* run the asyncronous handler
	 * according to the logic in the previous paragraph. This is in
	 * *addition* to throttling the handler, and does not replace that behavior.
	 *
	 * @see useAsync A more general version of this hook that can work with any type of handler, not just DOM event handlers.
	 */
	function useAsyncHandler(asyncHandler, { capture: originalCapture, ...restAsyncOptions }) {
	    // We need to differentiate between "nothing captured yet" and "`undefined` was captured"
	    const [currentCapture, setCurrentCapture, getCurrentCapture] = useState(undefined);
	    const [hasCapture, setHasCapture] = useState(false);
	    // Wrap around the normal `useAsync` `capture` function to also
	    // keep track of the last value the user actually input.
	    // 
	    // Without this there's no way to re-render the control with
	    // it being both controlled and also having the "correct" value,
	    // and at any rate also protects against sudden exceptions reverting
	    // your change out from under you.
	    const capture = useStableCallback((e) => {
	        const captured = originalCapture(e);
	        setCurrentCapture(captured);
	        setHasCapture(true);
	        return [captured, e];
	    });
	    return {
	        getCurrentCapture,
	        currentCapture,
	        hasCapture,
	        ...useAsync(asyncHandler, { capture, ...restAsyncOptions })
	    };
	}

	/**
	 * Wrap the native `useEffect` to add arguments
	 * that allow accessing the previous value as the first argument,
	 * as well as the changes that caused the hook to be called as the second argument.
	 *
	 * @param effect
	 * @param inputs
	 * @param impl You can choose whether to use `useEffect` or `useLayoutEffect` by
	 * passing one of them as this argument. By default, it's `useEffect`.
	 */
	function useEffect(effect, inputs, impl = y) {
	    const prevInputs = s(undefined);
	    const effect2 = () => {
	        const changes = [];
	        if (inputs && prevInputs.current) {
	            for (let i = 0; i < Math.max(prevInputs.current.length, inputs.length); ++i) {
	                if (prevInputs.current[i] != inputs[i])
	                    changes[i] = { from: prevInputs.current[i], to: inputs[i] };
	            }
	        }
	        const ret = effect(prevInputs.current, changes);
	        prevInputs.current = inputs;
	        return ret;
	    };
	    impl(effect2, inputs);
	}

	/**
	 * Wrap the native `useLayoutEffect` to add arguments
	 * that allow accessing the previous value as the first argument,
	 * as well as the changes that caused the hook to be called as the second argument.
	 *
	 * @param effect
	 * @param inputs
	 */
	function useLayoutEffect(effect, inputs) {
	    return useEffect(effect, inputs, h);
	}

	function useTimeout({ timeout, callback, triggerIndex }) {
	    const stableCallback = useStableCallback(() => { startTimeRef.current = null; callback(); });
	    const getTimeout = useStableGetter(timeout);
	    // Set any time we start timeout.
	    // Unset any time the timeout completes
	    const startTimeRef = s(null);
	    const timeoutIsNull = (timeout == null);
	    // Any time the triggerIndex changes (including on mount)
	    // restart the timeout.  The timeout does NOT reset
	    // when the duration or callback changes, only triggerIndex.
	    y(() => {
	        if (!timeoutIsNull) {
	            const timeout = getTimeout();
	            console.assert(timeoutIsNull == (timeout == null));
	            if (timeout != null) {
	                startTimeRef.current = +(new Date());
	                const handle = setTimeout(stableCallback, timeout);
	                return () => clearTimeout(handle);
	            }
	        }
	    }, [triggerIndex, timeoutIsNull]);
	    const getElapsedTime = F(() => {
	        return (+(new Date())) - (+(startTimeRef.current ?? new Date()));
	    }, []);
	    const getRemainingTime = F(() => {
	        const timeout = getTimeout();
	        return timeout == null ? null : Math.max(0, timeout - getElapsedTime());
	    }, []);
	    return { getElapsedTime, getRemainingTime };
	}

	/**
	 * When used in tandem with `useRovingTabIndex`, allows control of
	 * the tabbable index with the arrow keys.
	 *
	 * @see useListNavigation, which packages everything up together.
	 */
	function useLinearNavigation({ index, navigateToFirst, navigateToLast, navigateToNext, navigateToPrev, managedChildren, navigationDirection, disableArrowKeys, disableHomeEndKeys }) {
	    navigationDirection ??= "either";
	    const childCount = managedChildren.length;
	    // Make sure the tabbable index never escapes the bounds of all available children
	    // TODO: Keep track of the original index and keep it, at least until keyboard navigation.
	    useLayoutEffect(() => {
	        if (index !== null) {
	            if (index < 0) {
	                navigateToFirst();
	            }
	            else if (childCount > 0 && index >= childCount) {
	                navigateToLast();
	            }
	        }
	    }, [index, childCount, navigateToFirst, navigateToLast]);
	    const { getLogicalDirectionInfo, useLogicalDirectionProps } = useLogicalDirection({});
	    const onKeyDown = (e) => {
	        // Not handled by typeahead (i.e. assume this is a keyboard shortcut)
	        if (e.ctrlKey || e.metaKey)
	            return;
	        const info = getLogicalDirectionInfo();
	        const allowsBlockNavigation = (navigationDirection == "block" || navigationDirection == "either");
	        const allowsInlineNavigation = (navigationDirection == "inline" || navigationDirection == "either");
	        switch (e.key) {
	            case "ArrowUp": {
	                const propName = (info?.blockOrientation === "vertical" ? "blockDirection" : "inlineDirection");
	                const directionAllowed = (!disableArrowKeys && (info?.blockOrientation === "vertical" ? allowsBlockNavigation : allowsInlineNavigation));
	                if (directionAllowed) {
	                    if (info?.[propName] === "btt") {
	                        navigateToNext();
	                    }
	                    else {
	                        navigateToPrev();
	                    }
	                    e.preventDefault();
	                    e.stopPropagation();
	                }
	                break;
	            }
	            case "ArrowDown": {
	                const propName = (info?.blockOrientation === "vertical" ? "blockDirection" : "inlineDirection");
	                const directionAllowed = (!disableArrowKeys && (info?.blockOrientation === "vertical" ? allowsBlockNavigation : allowsInlineNavigation));
	                if (directionAllowed) {
	                    if (info?.[propName] === "btt") {
	                        navigateToPrev();
	                    }
	                    else {
	                        navigateToNext();
	                    }
	                    e.preventDefault();
	                    e.stopPropagation();
	                }
	                break;
	            }
	            case "ArrowLeft": {
	                const propName = (info?.inlineOrientation === "horizontal" ? "inlineDirection" : "blockDirection");
	                const directionAllowed = (!disableArrowKeys && (info?.inlineOrientation === "horizontal" ? allowsInlineNavigation : allowsBlockNavigation));
	                if (directionAllowed) {
	                    if (info?.[propName] === "rtl") {
	                        navigateToNext();
	                    }
	                    else {
	                        navigateToPrev();
	                    }
	                    e.preventDefault();
	                    e.stopPropagation();
	                }
	                break;
	            }
	            case "ArrowRight": {
	                const propName = (info?.inlineOrientation === "horizontal" ? "inlineDirection" : "blockDirection");
	                const directionAllowed = (!disableArrowKeys && (info?.inlineOrientation === "horizontal" ? allowsInlineNavigation : allowsBlockNavigation));
	                if (directionAllowed) {
	                    if (info?.[propName] === "rtl") {
	                        navigateToPrev();
	                    }
	                    else {
	                        navigateToNext();
	                    }
	                    e.preventDefault();
	                    e.stopPropagation();
	                }
	                e.preventDefault();
	                e.stopPropagation();
	                break;
	            }
	            case "Home":
	                if (!disableHomeEndKeys) {
	                    navigateToFirst();
	                    e.preventDefault();
	                    e.stopPropagation();
	                }
	                break;
	            case "End":
	                if (!disableHomeEndKeys) {
	                    navigateToLast();
	                    e.preventDefault();
	                    e.stopPropagation();
	                }
	                break;
	        }
	    };
	    return {
	        useLinearNavigationProps: F((props) => { return useLogicalDirectionProps(useMergedProps()({ onKeyDown }, props)); }, []),
	    };
	}
	/**
	 * Allows for the selection of a managed child by typing the given text associated with it.
	 *
	 * @see useListNavigation, which packages everything up together.
	 */
	function useTypeaheadNavigation({ collator, getIndex, typeaheadTimeout, setIndex }) {
	    // For typeahead, keep track of what our current "search" string is (if we have one)
	    // and also clear it every 1000 ms since the last time it changed.
	    // Next, keep a mapping of typeahead values to indices for faster searching.
	    // And, for the user's sake, let them know when their typeahead can't match anything anymore
	    const [currentTypeahead, setCurrentTypeahead, getCurrentTypeahead] = useState(null);
	    useTimeout({ timeout: typeaheadTimeout ?? 1000, callback: () => { setCurrentTypeahead(null); setInvalidTypeahead(null); }, triggerIndex: currentTypeahead });
	    const sortedTypeaheadInfo = s([]);
	    const [invalidTypeahead, setInvalidTypeahead] = useState(false);
	    // Handle typeahead for input method editors as well
	    // Essentially, when active, ignore further keys 
	    // because we're waiting for a CompositionEnd event
	    const [, setImeActive, getImeActive] = useState(false);
	    // Because composition events fire *after* keydown events 
	    // (but within the same task, which, TODO, could be browser-dependent),
	    // we can use this to keep track of which event we're listening for on the first keydown.
	    const [nextTypeaheadChar, setNextTypeaheadChar] = useState(null);
	    useLayoutEffect(() => {
	        if (nextTypeaheadChar !== null) {
	            setCurrentTypeahead(typeahead => ((typeahead ?? "") + nextTypeaheadChar));
	            setNextTypeaheadChar(null);
	        }
	    }, [nextTypeaheadChar]);
	    const comparatorShared = useStableCallback((safeLhs, safeRhs) => {
	        let compare;
	        // For the purposes of typeahead, only compare a string of the same size as our currently typed string.
	        // By normalizing them first, we ensure this byte-by-byte handling of raw character data works out okay.
	        safeLhs = safeLhs.normalize("NFD");
	        safeRhs = safeRhs.normalize("NFD");
	        if (collator)
	            compare = collator.compare(safeLhs, safeRhs);
	        else
	            compare = safeLhs.toLowerCase().localeCompare(safeRhs.toLowerCase() ?? "");
	        return compare;
	    });
	    const insertingComparator = useStableCallback((lhs, rhs) => {
	        if (typeof lhs === "string" && typeof rhs.text === "string") {
	            return comparatorShared(lhs, rhs.text);
	        }
	        return lhs - rhs;
	    });
	    const typeaheadComparator = useStableCallback((lhs, rhs) => {
	        if (typeof lhs === "string" && typeof rhs.text === "string") {
	            // During typeahead, all strings longer than ours should be truncated
	            // so that they're all considered equally by that point.
	            return comparatorShared(lhs, rhs.text.substring(0, lhs.length));
	        }
	        return lhs - rhs;
	    });
	    const useTypeaheadNavigationProps = F(function ({ ...props }) {
	        const onCompositionStart = (_e) => { setImeActive(true); };
	        const onCompositionEnd = (e) => {
	            setNextTypeaheadChar(e.data);
	            setImeActive(false);
	        };
	        const onKeyDown = (e) => {
	            const imeActive = getImeActive();
	            const key = e.key;
	            // Not handled by typeahead (i.e. assume this is a keyboard shortcut)
	            if (e.ctrlKey || e.metaKey)
	                return;
	            if (!imeActive && e.key === "Backspace") {
	                // Remove the last character in a way that doesn't split UTF-16 surrogates.
	                setCurrentTypeahead(t => t === null ? null : [...t].reverse().slice(1).reverse().join(""));
	                e.preventDefault();
	                e.stopPropagation();
	                return;
	            }
	            // The key property represents the typed character OR the "named key attribute" of the key pressed.
	            // There's no definite way to tell the difference, but for all intents and purposes
	            // there are no one-character names, and there are no non-ASCII-alpha names.
	            // Thus, any one-character or non-ASCII value for `key` is *almost certainly* a typed character.
	            const isCharacterKey = (key.length === 1 || !/^[A-Za-z]/.test(key));
	            if (isCharacterKey) {
	                if (key == " " && (getCurrentTypeahead() ?? "").trim().length == 0) ;
	                else {
	                    e.preventDefault();
	                    e.stopPropagation();
	                    // Note: Won't be true for the first keydown
	                    // but will be overwritten before useLayoutEffect is called
	                    // to actually apply the change
	                    if (!imeActive)
	                        setNextTypeaheadChar(key);
	                }
	            }
	        };
	        return useMergedProps()({ onKeyDown, onCompositionStart, onCompositionEnd, }, props);
	    }, []);
	    // Handle changes in typeahead that cause changes to the tabbable index
	    y(() => {
	        if (currentTypeahead && sortedTypeaheadInfo.current.length) {
	            const sortedTypeaheadIndex = binarySearch(sortedTypeaheadInfo.current, currentTypeahead, typeaheadComparator);
	            if (sortedTypeaheadIndex < 0) {
	                // The user has typed an entry that doesn't exist in the list
	                // (or more specifically "for which there is no entry that starts with that input")
	                setInvalidTypeahead(true);
	            }
	            else {
	                setInvalidTypeahead(false);
	                /*
	                  We know roughly where, in the sorted array of strings, our next typeahead location is.
	                  But roughly isn't good enough if there are multiple matches.
	                  To convert our sorted index to the unsorted index we need, we have to find the first
	                  element that matches us *and* (if any such exist) is *after* our current selection.

	                  In other words, the only way typeahead moves backwards relative to our current
	                  position is if the only other option is behind us.

	                  It's not specified in WAI-ARIA what to do in that case.  I suppose wrap back to the start?
	                  Though there's also a case for just going upwards to the nearest to prevent jumpiness.
	                  But if you're already doing typeahead on an unsorted list, like, jumpiness can't be avoided.
	                  I dunno. Going back to the start is the simplist though.

	                  Basically what this does: Starting from where we found ourselves after our binary search,
	                  scan backwards and forwards through all adjacent entries that also compare equally so that
	                  we can find the one whose `unsortedIndex` is the lowest amongst all other equal strings
	                  (and also the lowest `unsortedIndex` yadda yadda except that it comes after us).

	                  TODO: The binary search starts this off with a solid O(log n), but one-character
	                  searches are, thanks to pigeonhole principal, eventually guaranteed to become
	                  O(n*log n). This is annoying but probably not easily solvable? There could be an
	                  exception for one-character strings, but that's just kicking the can down
	                  the road. Maybe one or two characters would be good enough though.
	                */
	                // These are used to keep track of the candidates' positions in both our sorted array and the unsorted DOM.
	                let lowestUnsortedIndexAll = null;
	                let lowestSortedIndexAll = sortedTypeaheadIndex;
	                // These two are only set for elements that are ahead of us, but the principle's the same otherwise
	                let lowestUnsortedIndexNext = null;
	                let lowestSortedIndexNext = sortedTypeaheadIndex;
	                const updateBestFit = (u) => {
	                    if (lowestUnsortedIndexAll == null || u < lowestUnsortedIndexAll) {
	                        lowestUnsortedIndexAll = u;
	                        lowestSortedIndexAll = i;
	                    }
	                    if ((lowestUnsortedIndexNext == null || u < lowestUnsortedIndexNext) && u > (getIndex() ?? -Infinity)) {
	                        lowestUnsortedIndexNext = u;
	                        lowestSortedIndexNext = i;
	                    }
	                };
	                let i = sortedTypeaheadIndex;
	                while (i >= 0 && typeaheadComparator(currentTypeahead, sortedTypeaheadInfo.current[i]) == 0) {
	                    updateBestFit(sortedTypeaheadInfo.current[i].unsortedIndex);
	                    --i;
	                }
	                i = sortedTypeaheadIndex;
	                while (i < sortedTypeaheadInfo.current.length && typeaheadComparator(currentTypeahead, sortedTypeaheadInfo.current[i]) == 0) {
	                    updateBestFit(sortedTypeaheadInfo.current[i].unsortedIndex);
	                    ++i;
	                }
	                if (lowestUnsortedIndexNext !== null)
	                    setIndex(sortedTypeaheadInfo.current[lowestSortedIndexNext].unsortedIndex);
	                else if (lowestUnsortedIndexAll !== null)
	                    setIndex(sortedTypeaheadInfo.current[lowestSortedIndexAll].unsortedIndex);
	            }
	        }
	    }, [currentTypeahead]);
	    const useTypeaheadNavigationChild = F(({ text, ...i }) => {
	        y(() => {
	            if (text) {
	                // Find where to insert this item.
	                // Because all index values should be unique, the returned sortedIndex
	                // should always refer to a new location (i.e. be negative)                
	                const sortedIndex = binarySearch(sortedTypeaheadInfo.current, text, insertingComparator);
	                console.assert(sortedIndex < 0 || insertingComparator(sortedTypeaheadInfo.current[sortedIndex].text, { unsortedIndex: i.index, text }) == 0);
	                if (sortedIndex < 0) {
	                    sortedTypeaheadInfo.current.splice(-sortedIndex - 1, 0, { text, unsortedIndex: i.index });
	                }
	                else {
	                    sortedTypeaheadInfo.current.splice(sortedIndex, 0, { text, unsortedIndex: i.index });
	                }
	                return () => {
	                    // When unmounting, find where we were and remove ourselves.
	                    // Again, we should always find ourselves because there should be no duplicate values if each index is unique.
	                    const sortedIndex = binarySearch(sortedTypeaheadInfo.current, text, insertingComparator);
	                    console.assert(sortedIndex < 0 || insertingComparator(sortedTypeaheadInfo.current[sortedIndex].text, { unsortedIndex: i.index, text }) == 0);
	                    if (sortedIndex >= 0) {
	                        sortedTypeaheadInfo.current.splice(sortedIndex, 1);
	                    }
	                };
	            }
	        }, [text]);
	        return {};
	    }, []);
	    return {
	        useTypeaheadNavigationChild,
	        useTypeaheadNavigationProps,
	        currentTypeahead,
	        invalidTypeahead,
	    };
	}
	/**
	 * Your usual binary search implementation.
	 *
	 * It's used here to quickly find a good spot to start searching for our next typeahead candidate.
	 * @param array The array to search through
	 * @param wanted The value you'd like to find
	 * @param comparator Compares `wanted` with the current value in `array`
	 * @returns A non-negative value if `wanted` was found, and a negative number if not.
	 * The absolute value of this number, minus one, is where `wanted` *would* be found if it *was* in `array`
	 */
	function binarySearch(array, wanted, comparator) {
	    let firstIndex = 0;
	    let lastIndex = array.length - 1;
	    while (firstIndex <= lastIndex) {
	        const testIndex = (lastIndex + firstIndex) >> 1;
	        const comparisonResult = comparator(wanted, array[testIndex]);
	        if (comparisonResult > 0) {
	            firstIndex = testIndex + 1;
	        }
	        else if (comparisonResult < 0) {
	            lastIndex = testIndex - 1;
	        }
	        else {
	            return testIndex;
	        }
	    }
	    return -firstIndex - 1;
	}

	/**
	 * Allows a parent component to access information about certain
	 * child components once they have rendered.
	 *
	 * This hook is slightly more complicated in that it returns both a
	 * prop-modifying hook, but also a hook that each child will need
	 * to use: `useManagedChild`.  It's stable across renders, so just
	 * toss it into a `Context` so the children can have access to it.
	 * This function registers the child with the parent and provides
	 * it with any requested information, but doesn't do anything else
	 * until it unmounts and retracts that information.
	 */
	function useChildManager() {
	    // This is blindly updated any time a child mounts or unmounts itself.
	    // Used to make sure that any time the array of managed children updates,
	    // we also re-render.
	    const [_childUpdateIndex, setChildUpdateIndex] = useState(0);
	    const [totalChildrenMounted, setTotalChildrenMounted, getTotalChildrenMounted] = useState(0);
	    const [totalChildrenUnounted, setTotalChildrenUnounted, _getTotalChildrenUnounted] = useState(0);
	    const childrenCurrentlyMounted = totalChildrenMounted - totalChildrenUnounted;
	    const managedChildren = s([] /** TODO: Any problems caused by using an array when it should be an object? */);
	    const mountedChildren = s([]);
	    const mountOrder = s(new Map());
	    const indicesByElement = s(new Map());
	    const deletedIndices = s(new Set());
	    // Used to keep track of indices that have "over-mounted" and by how much.
	    // We need this so that we don't erase saved information when a component
	    // "overmounts" over another which then, correctly, switches *itself* to something else.
	    // In general, this should only happen when components are swapping between indices.
	    // By the time they're done, this map should be all 0s again, at which point
	    // it's okay to actually run the unmount code.
	    // 
	    // TODO: throw a console.assert somewhere to make up for the lost 
	    // "are you sure you want to overwrite this child's index!" assertion.
	    // Namely, is this map all 0s when the parent element re-renders? 
	    // Probably not because of setChildUpdateIndex
	    const overmountCount = s(new Map());
	    const getMountIndex = F((index) => { return mountOrder.current.get(index); }, []);
	    const useManagedChild = F((info) => {
	        const { getElement, useRefElementProps } = useRefElement({ onElementChange: F((element) => {
	                if (element) {
	                    indicesByElement.current.set(element, info.index);
	                    deletedIndices.current.delete(info.index);
	                    if (managedChildren.current[info.index] != undefined) {
	                        overmountCount.current.set(info.index, (overmountCount.current.get(info.index) ?? 0) + 1);
	                    }
	                    setChildUpdateIndex(c => ++c);
	                    managedChildren.current[info.index] = { ...info };
	                    return () => {
	                        setChildUpdateIndex(c => ++c);
	                        if ((overmountCount.current.get(info.index) ?? 0) > 0) {
	                            overmountCount.current.set(info.index, (overmountCount.current.get(info.index) ?? 0) - 1);
	                        }
	                        else {
	                            delete managedChildren.current[info.index];
	                            deletedIndices.current.add(info.index);
	                            if (typeof info.index === "number") {
	                                while (managedChildren.current.length && managedChildren.current[managedChildren.current.length - 1] === undefined)
	                                    managedChildren.current.length -= 1;
	                            }
	                            indicesByElement.current.delete(element);
	                        }
	                    };
	                }
	            }, []) });
	        useLayoutEffect(() => {
	            const index = getTotalChildrenMounted();
	            mountOrder.current.set(info.index, index);
	            mountedChildren.current[index] = info;
	            setTotalChildrenMounted(t => ++t);
	            return () => {
	                mountOrder.current.delete(info.index);
	                mountedChildren.current[index] = null;
	                setTotalChildrenUnounted(t => ++t);
	            };
	        }, [info.index]);
	        // Any time our child props change, make that information available generally.
	        // *Don't re-render*, otherwise we'd be stuck in an
	        // infinite loop every time an anonymous function is passed.
	        // It comes in from the props so the child was already updated by it --
	        // we don't need the parent to re-render every single child any time
	        // "onClick" updates or whatever.  The relevant child already knows,
	        // and that's what matters.
	        useLayoutEffect(() => {
	            if (managedChildren.current[info.index] != undefined)
	                managedChildren.current[info.index] = { ...info };
	        }, [...Object.entries(info).flat()]);
	        return { getElement, useManagedChildProps: useRefElementProps };
	    }, []);
	    return {
	        useManagedChild,
	        childCount: childrenCurrentlyMounted,
	        managedChildren: managedChildren.current,
	        mountedChildren: mountedChildren.current,
	        indicesByElement: indicesByElement.current,
	        totalChildrenMounted,
	        totalChildrenUnounted,
	        getMountIndex,
	        deletedIndices: deletedIndices.current
	    };
	}
	/**
	 * Helper function for letting children know when they are or are not the
	 * current selected/expanded/focused/whatever child.
	 *
	 * Automatically handles when children are mounted & unmounted and such.
	 *
	 * While it will be called once for every child on mount, after that setFlag
	 * is guaranteed to only be called once on activation and once on deactivation,
	 * so it's generally safe to put side effects inside if necessary.
	 * It's also safe to make it non-stable.
	 *
	 * @param activatedIndex What index the current selected (etc.) child is
	 * @param length How many children exist (as managedChildren.length)
	 * @param setFlag A function that probably looks like (i, flag) => managedChildren[i].setActive(flag)
	 * @param useEffect Which version of useEffect to use. Default is `useLayoutEffect`.
	 */
	function useChildFlag({ activatedIndex, closestFit, managedChildren, setChildFlag, getChildFlag, useEffect }) {
	    useEffect ??= useLayoutEffect;
	    if (closestFit)
	        console.assert(typeof activatedIndex == "number" || activatedIndex == null);
	    // Whenever we re-render, make sure that any children that have mounted
	    // have their flags properly set.  We know it's unset if it was null,
	    // in which case we just set it to true or false.
	    //
	    // And, I mean, as long as we're already iterating through every child
	    // on every render to check for newly mounted children, might as well
	    // just handle changed in the activatedIndex here too.
	    useEffect(() => {
	        // TODO: We have limited information about when a child mounts or unmounts
	        // and so we don't know where to look for any null entries that need changing.
	        // We know when activatedIndex changes and what it was, but not much else.
	        // Looping over every child *works*, and it's not an expensive loop by any means,
	        // but, like, eugh.
	        // Also, before we do anything, see if we need to "correct" activatedIndex.
	        // It could be pointing to a child that doesn't exist, and if closestFit is given,
	        // we need to adjust activatedIndex to point to a valid child.
	        if (typeof activatedIndex == "number" && Array.isArray(managedChildren) && managedChildren[activatedIndex] == null) {
	            // Oh dear. Are we actively correcting this?
	            if (closestFit) {
	                // Oh dear.
	                // Search up and down the list of children for any that actually exist.
	                let searchHigh = activatedIndex + 1;
	                let searchLow = activatedIndex - 1;
	                while ((searchLow >= 0 && managedChildren[searchLow] == null) || (searchHigh < managedChildren.length && managedChildren[searchHigh] == null)) {
	                    ++searchHigh;
	                    --searchLow;
	                }
	                if (searchLow >= 0 && managedChildren[searchLow] != null) {
	                    activatedIndex = searchLow;
	                }
	                else if (searchHigh < managedChildren.length && managedChildren[searchHigh] != null) {
	                    activatedIndex = searchHigh;
	                }
	                // Now that we've done that, if any valid children exist, we've reset activatedIndex to point to it instead.
	                // Now we'll fall through to the for loop set and unset our flags based on this "corrected" value.
	                //
	                // We don't correct it or save it anywhere because we'd very much like to return to it
	                // if the child remounts itself.
	            }
	        }
	        if (Array.isArray(managedChildren)) {
	            for (let i = 0; i < managedChildren.length; ++i) {
	                const shouldBeSet = (i == activatedIndex);
	                if (getChildFlag(i) != shouldBeSet) {
	                    setChildFlag(i, shouldBeSet);
	                }
	            }
	        }
	        else {
	            Object.entries(managedChildren).forEach(([i, _info]) => {
	                const shouldBeSet = (i == activatedIndex);
	                if (getChildFlag(i) != shouldBeSet) {
	                    setChildFlag(i, shouldBeSet);
	                }
	            });
	        }
	    });
	}

	/**
	 * Returns a function that will, when called, force the component
	 * that uses this hook to re-render itself.
	 *
	 * It's a bit smelly, so best to use sparingly.
	 */
	function useForceUpdate() {
	    const [, set] = d(0);
	    return s(() => set(i => ++i)).current;
	}

	/**
	 * Implements a roving tabindex system where only one "focusable"
	 * component in a set is able to receive a tab focus. *Which*
	 * of those elements receives focus is determined by you, but it's
	 * recommended to offload that logic then to another hook, like
	 * `useLinearNavigation`, which lets you change the tabbable
	 * element with the arrow keys, `useTypeaheadNavigation`, which
	 * lets you change the tabbable index with typeahead, or
	 * `useListNavigation` if you just want everything bundled together.
	 *
	 * Note that the child hook returned by this function must be used
	 * by every child that uses this roving tabindex logic.  The
	 * prop-modifying hook *that* hook returns should then be used
	 * on the child's element, as well as any other elements you'd like
	 * to be explicitly made untabbable too.
	 *
	 * `shouldFocusOnChange` should return true if focus is
	 * contained within whatever element contains the roving tab index.
	 * Generally as simple as the following:
	 * ```
	 * const [focusedInner, setFocusedInner] = useState(false);
	 * const { useHasFocusProps } = useHasFocus<ParentElement>({ setFocusedInner });
	 * const focusOnChange = (focusedInner != false);
	 * ```
	 * It's not included here because `useRovingTabIndex` doesn't know
	 * anything about the container element, only children elements.
	 * And just as well! Children should be allowed at the root,
	 * regardless of if it's the whole app or just a given component.
	 */
	function useRovingTabIndex({ shouldFocusOnChange: foc, tabbableIndex }) {
	    const getShouldFocusOnChange = useStableGetter(foc);
	    const getTabbableIndex = useStableGetter(tabbableIndex);
	    // Call the hook that allows us to collect information from children who provide it
	    const { managedChildren, childCount, useManagedChild, indicesByElement, ...rest } = useChildManager();
	    // Any time the tabbable index changes,
	    // notify the previous child that it's no longer tabbable,
	    // and notify the next child that is allowed to be tabbed to.
	    useChildFlag({
	        activatedIndex: tabbableIndex,
	        managedChildren,
	        closestFit: true,
	        setChildFlag: (index, tabbable) => {
	            if (index != null)
	                managedChildren[index]?.setTabbable(tabbable);
	        },
	        getChildFlag: (index) => (managedChildren[index]?.getTabbable() ?? null)
	    });
	    const useRovingTabIndexChild = F((info) => {
	        const [rrafIndex, setRrafIndex] = useState(1);
	        const rerenderAndFocus = F(() => { setRrafIndex(i => ++i); }, []);
	        const [tabbable, setTabbable, getTabbable] = useState(null);
	        const newInfo = {
	            ...info,
	            rerenderAndFocus,
	            setTabbable: F((tabbable) => { setTabbable(tabbable); }, []),
	            getTabbable
	        };
	        const { getElement, useManagedChildProps } = useManagedChild(newInfo);
	        y(() => {
	            const element = getElement();
	            if (tabbable) {
	                const shouldFocusOnChange = getShouldFocusOnChange()();
	                if (shouldFocusOnChange && "focus" in element) {
	                    requestAnimationFrame(() => {
	                        queueMicrotask(() => {
	                            element.focus();
	                        });
	                    });
	                }
	            }
	        }, [tabbable, rrafIndex]);
	        function useRovingTabIndexSiblingProps({ tabIndex, ...props }) {
	            if (tabIndex == null) {
	                if (tabbable)
	                    tabIndex = 0;
	                else
	                    tabIndex = -1;
	            }
	            return useMergedProps()({ tabIndex }, props);
	        }
	        function useRovingTabIndexChildProps({ tabIndex, ...props }) {
	            if (tabIndex == null) {
	                if (tabbable)
	                    tabIndex = 0;
	                else
	                    tabIndex = -1;
	            }
	            return useMergedProps()(useManagedChildProps({ tabIndex }), props);
	        }
	        return {
	            useRovingTabIndexChildProps,
	            useRovingTabIndexSiblingProps,
	            tabbable
	        };
	    }, [useManagedChild]);
	    return {
	        useRovingTabIndexChild,
	        childCount,
	        managedChildren,
	        indicesByElement,
	        focusCurrent: F(() => {
	            if (managedChildren[getTabbableIndex() ?? 0].getTabbable()) {
	                managedChildren[getTabbableIndex() ?? 0]?.rerenderAndFocus();
	            }
	            else {
	                // For whatever reason, the previously tabbable child
	                // is no longer tabbable without us knowing about it.
	                // Maybe it unmounted?
	                // Either way, try to find the newly-selected child.
	                // (I don't think this code path has ever been run)
	                /* eslint-disable no-debugger */
	                debugger;
	                let i = getTabbableIndex() ?? 0;
	                let j = i + 1;
	                while (i >= 0) {
	                    --i;
	                    if (managedChildren[getTabbableIndex() ?? 0].getTabbable()) {
	                        managedChildren[getTabbableIndex() ?? 0]?.rerenderAndFocus();
	                        return;
	                    }
	                }
	                while (j < managedChildren.length) {
	                    ++j;
	                    if (managedChildren[getTabbableIndex() ?? 0].getTabbable()) {
	                        managedChildren[getTabbableIndex() ?? 0]?.rerenderAndFocus();
	                        return;
	                    }
	                }
	            }
	        }, []),
	        ...rest
	    };
	}

	function identity$1(t) { return t; }
	/**
	 * Implements proper keyboard navigation for components like listboxes, button groups, menus, etc.
	 *
	 * In the document order, there will be only one "focused" or "tabbable" element, making it act more like one complete unit in comparison to everything around it.
	 * Navigating forwards/backwards can be done with the arrow keys, Home/End keys, or any any text for typeahead to focus the next item that matches.
	 */
	function useListNavigation({ initialIndex, shouldFocusOnChange, collator, keyNavigation, indexMangler, indexDemangler }) {
	    indexMangler ??= identity$1;
	    indexDemangler ??= identity$1;
	    keyNavigation ??= "either";
	    useEnsureStability("useListNavigation", indexMangler, indexDemangler);
	    // Keep track of three things related to the currently tabbable element's index:
	    // What it is, and whether, when we render this component and it's changed, to also focus the element that was made tabbable.
	    const [tabbableIndex, setTabbableIndex, getTabbableIndex] = useState(initialIndex === undefined ? 0 : initialIndex);
	    const { managedChildren, indicesByElement, useRovingTabIndexChild, focusCurrent, ...rest } = useRovingTabIndex({ shouldFocusOnChange, tabbableIndex });
	    /*const navigateToIndex = useCallback((i: number | null) => { setTabbableIndex(i); }, []);
	    const navigateToFirst = useCallback(() => { tryNavigateToIndex(managedChildren,) setTabbableIndex(indexMangler!(0)); }, []);
	    const navigateToLast = useCallback(() => { setTabbableIndex(indexMangler!(managedChildren.length - 1)); }, []);
	    const navigateToPrev = useCallback(() => { setTabbableIndex(i => indexMangler!(indexDemangler!(i ?? 0) - 1)) }, [indexDemangler, indexMangler]);
	    const navigateToNext = useCallback(() => { setTabbableIndex(i => indexMangler!(indexDemangler!(i ?? 0) + 1)) }, [indexDemangler, indexMangler]);
	*/
	    const navigateToIndex = F((i) => {
	        setTabbableIndex(i == null ? null : tryNavigateToIndex(managedChildren, 0, i, 1, indexMangler ?? identity$1, indexDemangler ?? identity$1));
	    }, []);
	    const navigateToFirst = F(() => {
	        setTabbableIndex(tryNavigateToIndex(managedChildren, 0, 0, 1, indexMangler ?? identity$1, indexDemangler ?? identity$1));
	    }, []);
	    const navigateToLast = F(() => { setTabbableIndex(tryNavigateToIndex(managedChildren, managedChildren.length, managedChildren.length, -1, indexMangler ?? identity$1, indexDemangler ?? identity$1)); }, []);
	    const navigateToPrev = F(() => {
	        setTabbableIndex(c => {
	            return tryNavigateToIndex(managedChildren, c ?? 0, (c ?? 0) - 1, -1, indexMangler ?? identity$1, indexDemangler ?? identity$1);
	        });
	    }, []);
	    const navigateToNext = F(() => {
	        setTabbableIndex(c => {
	            return tryNavigateToIndex(managedChildren, c ?? 0, (c ?? 0) + 1, 1, indexMangler ?? identity$1, indexDemangler ?? identity$1);
	        });
	    }, []);
	    const setIndex = F((index) => {
	        setTabbableIndex(index);
	    }, []);
	    const { currentTypeahead, invalidTypeahead, useTypeaheadNavigationChild, useTypeaheadNavigationProps } = useTypeaheadNavigation({ collator, getIndex: getTabbableIndex, setIndex, typeaheadTimeout: 1000 });
	    const { useLinearNavigationProps } = useLinearNavigation({ navigationDirection: keyNavigation, index: getTabbableIndex() ?? 0, managedChildren, navigateToPrev, navigateToNext, navigateToFirst, navigateToLast });
	    const useListNavigationProps = F((props) => {
	        return useLinearNavigationProps(useTypeaheadNavigationProps(props));
	    }, [useLinearNavigationProps, useTypeaheadNavigationProps]);
	    const useListNavigationChild = F((info) => {
	        useTypeaheadNavigationChild(info);
	        //const { useLinearNavigationChildProps } = useLinearNavigationChild(info as I);
	        const { useRovingTabIndexChildProps, useRovingTabIndexSiblingProps, tabbable } = useRovingTabIndexChild(info);
	        const useListNavigationChildProps = function ({ ...props }) {
	            return useMergedProps()(useRovingTabIndexChildProps((({ onClick: roveToSelf, hidden: info.hidden }))), props);
	        };
	        const roveToSelf = F(() => { navigateToIndex(info.index); }, []);
	        return {
	            useListNavigationChildProps,
	            useListNavigationSiblingProps: useRovingTabIndexSiblingProps,
	            tabbable
	        };
	    }, [useTypeaheadNavigationChild, useRovingTabIndexChild, navigateToIndex]);
	    return {
	        useListNavigationChild,
	        useListNavigationProps,
	        currentTypeahead,
	        invalidTypeahead,
	        tabbableIndex,
	        managedChildren,
	        indicesByElement,
	        navigateToIndex,
	        navigateToNext,
	        navigateToPrev,
	        navigateToFirst,
	        navigateToLast,
	        focusCurrent,
	        ...rest
	    };
	}
	function tryNavigateToIndex(managedCells, initial, target, searchDirection, indexMangler, indexDemangler) {
	    function helper() {
	        if (searchDirection === -1) {
	            while (target >= 0 && (managedCells[target] == null || !!managedCells[target]?.hidden))
	                target = indexMangler(indexDemangler(target) - 1);
	            return target < 0 ? initial : target;
	        }
	        else if (searchDirection === 1) {
	            while (target < managedCells.length && managedCells[target] == null || !!managedCells[target]?.hidden)
	                target = indexMangler(indexDemangler(target) + 1);
	            return target >= managedCells.length ? initial : target;
	        }
	        else {
	            return initial;
	        }
	    }
	    return (helper());
	}

	function identity(t) { return t; }
	function useGridNavigation({ shouldFocusOnChange, indexMangler, indexDemangler }) {
	    indexMangler ??= identity;
	    indexDemangler ??= identity;
	    const getFocusCellOnRowChange = useStableCallback(shouldFocusOnChange);
	    // Keep track of our currently tabbable row and column.
	    // These are mangled, and so relative to the DOM order, not component order.
	    // Any operations done on these numbers need to be demangled first,
	    // otherwise they'll be incorrect.
	    const [currentRow, setCurrentRow2, getCurrentRow] = useState(0);
	    const [currentColumn, setCurrentColumn2, getCurrentColumn] = useState(0);
	    // Functions used for navigating to different rows.
	    // Each row has its own useRovingTabIndex -- if it's not the 
	    // current row, then all of its children are non-tabbable.
	    // Otherwise, it is tabbable, with the tabbable cell being currentColumn.
	    // This happens automatically when these functions are called.
	    const navigateToFirstRow = F(() => { setCurrentRow2(c => tryNavigateToIndex(managedRows, c ?? 0, 0, 1, indexMangler, indexDemangler)); }, [indexMangler, indexDemangler]);
	    const navigateToLastRow = F(() => { setCurrentRow2(c => tryNavigateToIndex(managedRows, c ?? 0, managedRows.length - 1, -1, indexMangler, indexDemangler)); }, [indexMangler, indexDemangler]);
	    const navigateToPrevRow = F(() => { setCurrentRow2(c => { return tryNavigateToIndex(managedRows, c ?? 0, indexMangler(Math.max(0, indexDemangler(c ?? 0) - 1)), -1, indexMangler, indexDemangler); }); }, [indexMangler, indexDemangler]);
	    const navigateToNextRow = F(() => { setCurrentRow2(c => { return tryNavigateToIndex(managedRows, c ?? 0, indexMangler(Math.min((managedRows.length - 1), indexDemangler(c ?? 0) + 1)), 1, indexMangler, indexDemangler); }); }, [indexMangler, indexDemangler]);
	    // Track child rows and manage keyboard navigation among them.
	    const { childCount, managedChildren: managedRows, useManagedChild: useManagedRow } = useChildManager();
	    const { useLinearNavigationProps: useLinearNavigationRowProps } = useLinearNavigation({
	        managedChildren: managedRows,
	        index: indexMangler(getCurrentRow() ?? 0),
	        navigateToFirst: navigateToFirstRow,
	        navigateToLast: navigateToLastRow,
	        navigateToNext: navigateToNextRow,
	        navigateToPrev: navigateToPrevRow,
	        navigationDirection: "block"
	    });
	    // Actually handle notifying the relevant rows when they
	    // change from untabbable to tabbable or vice-versa.
	    useChildFlag({
	        activatedIndex: currentRow,
	        managedChildren: managedRows,
	        setChildFlag: (index, tabbable) => { managedRows[index]?.setIsTabbableRow(tabbable); },
	        getChildFlag: (index) => (managedRows[index]?.getIsTabbableRow() ?? null),
	        useEffect: useEffect
	    });
	    /**
	     * Optional, but provides typeahead for each column in the table.
	     */
	    const useGridNavigationColumn = F(() => {
	        const { currentTypeahead, invalidTypeahead, useTypeaheadNavigationChild } = useTypeaheadNavigation({ getIndex: getCurrentRow, setIndex: setCurrentRow2 });
	        const useGridNavigationColumnChild = F(({ index: rowIndex, text, hidden }) => {
	            useTypeaheadNavigationChild({ index: rowIndex, text: hidden ? null : text });
	        }, [useTypeaheadNavigationChild]);
	        return { useGridNavigationColumnChild, currentTypeahead, invalidTypeahead };
	    }, []);
	    // Last thing before we return -- here's the hook for individual rows and their cells.
	    const useGridNavigationRow = F(({ index: rowIndex, hidden, ...info }) => {
	        // When we change the current column, we send that information
	        // to the parent via setState, but that doesn't do anything
	        // for us.  The parent doesn't ever manage rows' cells for them.
	        // 
	        // So to get us to also update alongside the parent,
	        // we just use forceUpdate.
	        // We could also keep a copy of, like, "what this row thinks
	        // the current column is" that *should* always be kept in-
	        // sync with "getCurrentColumn()" as a state variable,
	        // but it *just* being used for that is arguably *more* confusing.
	        //
	        // Basically, information regarding the currently selected column
	        // "belongs" to *both* this row and the parent, conceptually,
	        // but for cleanliness' sake, just one of them gets it,
	        // and the other is manually updated whenever it changes.
	        const forceUpdate = useForceUpdate();
	        // "Shortcut" for any given row to know that it should or should not
	        // consider one of its cells tabbable.  Also used to determine
	        // if a change to the current selected cell should also
	        // trigger focusing that cell.
	        const [isTabbableRow, setIsTabbableRow, getIsTabbableRow] = useState(null);
	        // If we're not the tabbable row, then for the purposes of tabIndex
	        // calculations, we don't have a tabbable child cell.
	        const currentColumn = isTabbableRow ? getCurrentColumn() : null;
	        // Track child cells and manage keyboard navigation among them.
	        const { managedChildren: managedCells, useRovingTabIndexChild: useRovingTabIndexCell, childCount: cellCount } = useRovingTabIndex({
	            shouldFocusOnChange: F(() => { return !!getFocusCellOnRowChange() && !!getIsTabbableRow(); }, []),
	            tabbableIndex: currentColumn
	        });
	        // More navigation stuff
	        const navigateToFirstColumn = F(() => {
	            setCurrentColumn2(tryNavigateToIndex(managedCells, 0, 0, 1, identity, identity));
	            forceUpdate();
	        }, []);
	        const navigateToLastColumn = F(() => { setCurrentColumn2(tryNavigateToIndex(managedCells, managedCells.length, managedCells.length, -1, identity, identity)); forceUpdate(); }, []);
	        const navigateToPrevColumn = F(() => {
	            setCurrentColumn2(c => {
	                return tryNavigateToIndex(managedCells, c, c - 1, -1, identity, identity);
	            });
	            forceUpdate();
	        }, []);
	        const navigateToNextColumn = F(() => {
	            setCurrentColumn2(c => {
	                return tryNavigateToIndex(managedCells, c, c + 1, 1, identity, identity);
	            });
	            forceUpdate();
	        }, []);
	        const { useLinearNavigationProps: useLinearNavigationCellProps } = useLinearNavigation({
	            managedChildren: managedCells,
	            navigationDirection: "inline",
	            index: currentColumn ?? 0,
	            disableHomeEndKeys: true,
	            navigateToFirst: navigateToFirstColumn,
	            navigateToLast: navigateToLastColumn,
	            navigateToPrev: navigateToPrevColumn,
	            navigateToNext: navigateToNextColumn
	        });
	        // Notify the relevant child cells when they should/should not be tabbable
	        useChildFlag({
	            activatedIndex: currentColumn,
	            managedChildren: managedCells,
	            setChildFlag: (cellIndex, cellIsTabbable) => {
	                if (cellIndex != null && managedCells[cellIndex]) {
	                    managedCells[cellIndex].setTabbable(cellIsTabbable);
	                    if (cellIsTabbable)
	                        managedCells[cellIndex].rerenderAndFocus();
	                }
	            },
	            getChildFlag: (cellIndex) => (managedCells[cellIndex]?.getTabbable() ?? null),
	            useEffect
	        });
	        // Any time we become the currently tabbable row,
	        // make sure that we're in a valid cell, and shift left/right if not to find one.
	        // TODO: Seems kinda janky? Is there no cleaner way to accomplish this,
	        // especially since it's similar to other code?
	        useEffect(() => {
	            if (isTabbableRow) {
	                let cellIndex = getCurrentColumn();
	                while (cellIndex >= 0 && managedCells[cellIndex] == null) {
	                    --cellIndex;
	                }
	                if (cellIndex < 0) {
	                    cellIndex = getCurrentColumn();
	                    while (cellIndex < managedCells.length && managedCells[cellIndex] == null) {
	                        ++cellIndex;
	                    }
	                    if (cellIndex == managedCells.length)
	                        cellIndex = getCurrentColumn();
	                }
	                if (cellIndex != getCurrentColumn())
	                    setCurrentColumn2(cellIndex);
	            }
	        }, [isTabbableRow]);
	        const { useManagedChildProps: useManagedRowProps } = useManagedRow({
	            index: rowIndex,
	            setIsTabbableRow,
	            getIsTabbableRow: getIsTabbableRow,
	            hidden,
	            ...info
	        });
	        //const { useLinearNavigationChildProps: useLinearNavigationChildRowProps } = useLinearNavigationChildRow(info as IR)
	        const useGridNavigationRowProps = F((props) => useManagedRowProps(useLinearNavigationCellProps(useMergedProps()({ hidden: !!hidden, "data-index": rowIndex }, props))), [useManagedRowProps, !!hidden]);
	        const getRowIndex = useStableGetter(rowIndex);
	        const useGridNavigationCell = F((info) => {
	            const getTabbable = useStableCallback(() => tabbable);
	            const { tabbable, useRovingTabIndexChildProps } = useRovingTabIndexCell({ ...info, getTabbable });
	            //const { useLinearNavigationChildProps: useLinearNavigationChildCellProps } = useLinearNavigationChildCell(info as IC);
	            // Any time we interact with this cell, set it to be
	            // our "currently tabbable" cell, regardless of
	            // any previously selected row/column.
	            //
	            // TODO: Mouseup/down might be preferable,
	            // but it doesn't fire on label elements here?????
	            const onClick = F(() => {
	                setCurrentRow2(getRowIndex());
	                setCurrentColumn2(info.index);
	            }, [info.index]);
	            const useGridNavigationCellProps = F((props) => useRovingTabIndexChildProps((useMergedProps()({ onClick }, props))), [useRovingTabIndexChildProps]);
	            return { tabbable, useGridNavigationCellProps };
	        }, []);
	        return {
	            currentColumn,
	            useGridNavigationRowProps,
	            useGridNavigationCell,
	            cellCount,
	            isTabbableRow,
	            managedCells: managedCells
	        };
	    }, [useManagedRow, indexDemangler, indexMangler]);
	    return {
	        useGridNavigationProps: useLinearNavigationRowProps,
	        useGridNavigationRow,
	        useGridNavigationColumn,
	        rowCount: childCount,
	        cellIndex: currentColumn,
	        rowIndex: currentRow,
	        managedRows
	    };
	}

	const SharedAnimationFrameContext = D(null);
	/**
	 * The (optionally non-stable) `callback` you provide will start running every frame after the component mounts.
	 *
	 * Passing `null` is fine and simply stops the effect until you restart it by providing a non-null callback.
	 *
	 * **This hook does not return anything at all, including no prop-modifying hooks**
	 */
	function useAnimationFrame({ callback }) {
	    // Get a wrapper around the given callback that's stable
	    const stableCallback = useStableCallback(callback ?? noop);
	    const hasCallback = (callback != null);
	    const sharedAnimationFrameContext = T$1(SharedAnimationFrameContext);
	    y(() => {
	        if (sharedAnimationFrameContext) {
	            if (hasCallback) {
	                sharedAnimationFrameContext.addCallback(stableCallback);
	            }
	            else {
	                sharedAnimationFrameContext.removeCallback(stableCallback);
	            }
	        }
	        else {
	            if (hasCallback) {
	                // Get a wrapper around the wrapper around the callback
	                // that also calls `requestAnimationFrame` again.
	                const rafCallback = (ms) => {
	                    handle = requestAnimationFrame(rafCallback);
	                    stableCallback(ms);
	                };
	                let handle = requestAnimationFrame(rafCallback);
	                return () => cancelAnimationFrame(handle);
	            }
	        }
	    }, [sharedAnimationFrameContext, hasCallback]);
	}
	// eslint-disable @typescript-eslint/no-empty-function
	function noop() { }

	function useDraggable({ effectAllowed, data, dragImage, dragImageXOffset, dragImageYOffset }) {
	    const [dragging, setDragging, getDragging] = useState(false);
	    const [lastDropEffect, setLastDropEffect, getLastDropEffect] = useState(null);
	    const useDraggableProps = F((p) => {
	        const ref = s(null);
	        const onDragStart = (e) => {
	            //e.preventDefault();
	            setDragging(true);
	            if (e.dataTransfer) {
	                e.dataTransfer.effectAllowed = (effectAllowed ?? "all");
	                if (dragImage)
	                    e.dataTransfer.setDragImage(dragImage, dragImageXOffset ?? 0, dragImageYOffset ?? 0);
	                const entries = Object.entries(data);
	                for (const [mimeType, data] of entries) {
	                    e.dataTransfer.setData(mimeType, data);
	                }
	            }
	        };
	        const onDragEnd = (e) => {
	            e.preventDefault();
	            setDragging(false);
	            if (e.dataTransfer) {
	                if (e.dataTransfer.dropEffect != "none") {
	                    setLastDropEffect(e.dataTransfer.dropEffect);
	                }
	                else {
	                    setLastDropEffect(null);
	                }
	            }
	        };
	        return useMergedProps()({
	            draggable: true,
	            onDragStart,
	            onDragEnd,
	            ref
	        }, p);
	    }, [effectAllowed, dragImage, dragImageXOffset, dragImageYOffset, ...Object.entries(data).flat()]);
	    // Return both the element and the hook that modifies 
	    // the props and allows us to actually find the element
	    const ret = {
	        useDraggableProps,
	        dragging,
	        getDragging,
	        // Set once a drag has completed with the resulting action
	        // Useful for removing the element afterwards if it was "move"
	        lastDropEffect,
	        /**
	         * Test
	         */
	        getLastDropEffect
	    };
	    return ret;
	}

	class DroppableFileError extends Error {
	    fileName;
	    errorType;
	    constructor(fileName, base) {
	        super(base?.message ?? "An unspecified error occurred reading the file.");
	        this.fileName = fileName;
	        this.errorType = base?.name;
	    }
	}
	//MergedProps<UseRefElementPropsReturnType<E, Pick<h.JSX.HTMLAttributes<E>, "onDragEnter" | "onDragLeave" | "onDragOver" | "onDrop">>, P>;
	function useDroppable({ effect }) {
	    const [filesForConsideration, setFilesForConsideration] = useState(null);
	    const [stringsForConsideration, setStringsForConsideration] = useState(null);
	    const [droppedFiles, setDroppedFiles] = useState(null);
	    const [droppedStrings, setDroppedStrings] = useState(null);
	    const [dropError, setDropError] = useState(undefined);
	    // All the promises generated from the drop events.
	    // Used to process multiple drop events in succession
	    const dropPromisesRef = s([]);
	    const [currentPromiseIndex, setCurrentPromiseIndex, getCurrentPromiseIndex] = useState(-1);
	    const [promiseCount, setPromiseCount, getPromiseCount] = useState(0);
	    // Any time we add a new promise, if there's no current promise running, we need to start one.
	    // If there is one, then we don't need to do anything, since it runs the same check.
	    y(() => {
	        const currentPromiseIndex = getCurrentPromiseIndex();
	        const promiseCount = getPromiseCount();
	        if (promiseCount > 0) {
	            if ((currentPromiseIndex + 1) < promiseCount) {
	                setCurrentPromiseIndex(i => ++i);
	            }
	        }
	    }, [promiseCount]);
	    // Anytime our current promise changes,
	    // wait for it to finish, then set our state to its result.
	    // Finally, check to see if there are anymore promises.
	    // If there are, then increase currentPromiseCount,
	    // which will trigger this again.
	    //
	    // This shouldn't happen *often*, but maybe in the case of
	    // individually dropping a bunch of large files or something.
	    y(() => {
	        if (currentPromiseIndex >= 0) {
	            const currentPromise = dropPromisesRef.current[currentPromiseIndex];
	            currentPromise.then((info) => {
	                if (info !== null) {
	                    const { files, strings } = info;
	                    setDroppedFiles(files);
	                    setDroppedStrings(strings);
	                }
	                // Now that we're done, are there more promises in the queue?
	                const currentPromiseIndex = getCurrentPromiseIndex();
	                const promiseCount = getPromiseCount();
	                if ((currentPromiseIndex + 1) < promiseCount) {
	                    // Since this promise has started, more have been added.
	                    // Run this effect again.
	                    setCurrentPromiseIndex(i => ++i);
	                }
	            });
	        }
	    }, [currentPromiseIndex]);
	    const useDroppableProps = (p) => {
	        //const ref = useRef<E>(null);
	        // Handle collecting the current file metadata or MIME types.
	        const onDragEnter = (e) => {
	            e.preventDefault();
	            if (e.dataTransfer) {
	                // Is there a default? I can't find one anywhere.
	                e.dataTransfer.dropEffect = (effect ?? "move");
	                const newMimeTypes = new Set();
	                const newFiles = new Array();
	                for (const item of e.dataTransfer?.items ?? []) {
	                    const { kind, type } = item;
	                    if (kind === "string") {
	                        newMimeTypes.add(type);
	                    }
	                    else if (kind === "file") {
	                        newFiles.push({ type: item.type });
	                    }
	                }
	                setFilesForConsideration(newFiles);
	                setStringsForConsideration(newMimeTypes);
	            }
	        };
	        // Handle resetting the current file metadata or MIME types
	        const onDragLeave = (e) => {
	            e.preventDefault();
	            setFilesForConsideration(null);
	            setStringsForConsideration(null);
	        };
	        // Boilerplate, I guess
	        const onDragOver = (e) => {
	            e.preventDefault();
	        };
	        // Handle getting the drop data asynchronously
	        const onDrop = (e) => {
	            e.preventDefault();
	            setFilesForConsideration(null);
	            setStringsForConsideration(null);
	            const allPromises = new Array();
	            const dropData = {};
	            const dropFile = [];
	            for (const item of e.dataTransfer?.items ?? []) {
	                const { kind, type } = item;
	                if (kind === "string") {
	                    allPromises.push((new Promise((resolve, _reject) => item.getAsString(resolve))).then(str => dropData[type] = str));
	                }
	                else if (kind === "file") {
	                    const file = item.getAsFile();
	                    if (file) {
	                        allPromises.push(new Promise((resolve, reject) => {
	                            const reader = new FileReader();
	                            reader.onload = (_) => {
	                                resolve();
	                                const data = reader.result;
	                                dropFile.push({ data, name: file.name, type: file.type, size: data.byteLength, lastModified: file.lastModified });
	                            };
	                            reader.onerror = (_) => { reject(new DroppableFileError(file.name, reader.error)); };
	                            reader.onabort = (_) => { reject(new DroppableFileError(file.name, reader.error)); };
	                            reader.readAsArrayBuffer(file);
	                        }));
	                        dropFile.push();
	                    }
	                }
	            }
	            dropPromisesRef.current.push(Promise.all(allPromises).then(() => {
	                setPromiseCount(i => ++i);
	                setDropError(null);
	                return {
	                    strings: dropData,
	                    files: dropFile
	                };
	            }).catch(ex => {
	                /* eslint-disable no-debugger */
	                debugger;
	                setPromiseCount(i => ++i);
	                setDropError(ex);
	                return null;
	            }));
	        };
	        return useMergedProps()({ onDragEnter, onDragLeave, onDragOver, onDrop }, p);
	    };
	    return {
	        useDroppableProps,
	        filesForConsideration,
	        stringsForConsideration,
	        droppedFiles,
	        droppedStrings,
	        dropError
	    };
	}

	const activeElementUpdaters = new Map();
	const lastActiveElementUpdaters = new Map();
	const windowFocusedUpdaters = new Map();
	const windowsFocusedUpdaters = new Map();
	function forEachUpdater(window, map, value) {
	    for (const [otherWindow, updaters] of map) {
	        if (window === otherWindow) {
	            for (const updater of updaters) {
	                updater?.(value);
	            }
	        }
	    }
	}
	function focusout(e) {
	    const window = e.target.ownerDocument.defaultView;
	    if (e.relatedTarget == null) {
	        forEachUpdater(window, activeElementUpdaters, null);
	    }
	}
	function focusin(e) {
	    const window = e.target.ownerDocument.defaultView;
	    const currentlyFocusedElement = e.target;
	    forEachUpdater(window, activeElementUpdaters, currentlyFocusedElement);
	    forEachUpdater(window, lastActiveElementUpdaters, currentlyFocusedElement);
	}
	function windowFocus(e) {
	    const window = (e.target instanceof Window ? e.target : e.currentTarget instanceof Window ? e.currentTarget : e.target.ownerDocument.defaultView);
	    windowsFocusedUpdaters.set(window, true);
	    forEachUpdater(window, windowFocusedUpdaters, true);
	}
	function windowBlur(e) {
	    const window = (e.target instanceof Window ? e.target : e.currentTarget instanceof Window ? e.currentTarget : e.target.ownerDocument.defaultView);
	    windowsFocusedUpdaters.set(window, false);
	    forEachUpdater(window, windowFocusedUpdaters, false);
	}
	/**
	 * Allows you to inspect which element in the `document` currently has focus, which was most recently focused if none are currently, and whether or not the window has focus by returning the following functions:
	 * * `getActiveElement()`
	 * * `getLastActiveElement()`
	 * * `getWindowFocused()`
	 *
	 * (The document's body receiving focus, like it does when you click on an empty area, is counted as no element having focus for all intents and purposes)
	 *
	 * This is a passive hook, so by default it returns getter functions that report this information but the component will not re-render by default when the active element changes.
	 *
	 * If you need the component to re-render when the active element changes, use the `on*Change` arguments to set some state on your end.
	 */
	function useActiveElement({ onActiveElementChange, onLastActiveElementChange, onWindowFocusedChange, onMount, onUnmount, onMountChange }) {
	    useEnsureStability("useActiveElement", onActiveElementChange, onLastActiveElementChange, onWindowFocusedChange, onMountChange, onMount, onUnmount);
	    const { getElement, useRefElementProps } = useRefElement({
	        onMount,
	        onUnmount,
	        onElementChange: F((element, prevValue) => {
	            onMountChange?.(element, prevValue);
	            if (element) {
	                const document = element.ownerDocument;
	                const window = document?.defaultView;
	                if ((activeElementUpdaters.get(window)?.size ?? 0) === 0) {
	                    document?.addEventListener("focusin", focusin, { passive: true });
	                    document?.addEventListener("focusout", focusout, { passive: true });
	                    window?.addEventListener("focus", windowFocus, { passive: true });
	                    window?.addEventListener("blur", windowBlur, { passive: true });
	                }
	                // Add them even if they're undefined to more easily
	                // manage the ">0 means don't add handlers" logic.
	                const localActiveElementUpdaters = activeElementUpdaters.get(window) ?? new Set();
	                const localLastActiveElementUpdaters = lastActiveElementUpdaters.get(window) ?? new Set();
	                const localWindowFocusedUpdaters = windowFocusedUpdaters.get(window) ?? new Set();
	                localActiveElementUpdaters.add(setActiveElement);
	                localLastActiveElementUpdaters.add(setLastActiveElement);
	                localWindowFocusedUpdaters.add(setWindowFocused);
	                activeElementUpdaters.set(window, localActiveElementUpdaters);
	                lastActiveElementUpdaters.set(window, localLastActiveElementUpdaters);
	                windowFocusedUpdaters.set(window, localWindowFocusedUpdaters);
	                return () => {
	                    activeElementUpdaters.get(window).delete(setActiveElement);
	                    lastActiveElementUpdaters.get(window).delete(setLastActiveElement);
	                    windowFocusedUpdaters.get(window).delete(setWindowFocused);
	                    if (activeElementUpdaters.size === 0) {
	                        document?.removeEventListener("focusin", focusin);
	                        document?.removeEventListener("focusout", focusout);
	                        window?.removeEventListener("focus", windowFocus);
	                        window?.removeEventListener("blur", windowBlur);
	                    }
	                };
	            }
	        }, [])
	    });
	    const [getActiveElement, setActiveElement] = usePassiveState(onActiveElementChange, returnNull$1);
	    const [getLastActiveElement, setLastActiveElement] = usePassiveState(onLastActiveElementChange, returnNull$1);
	    const [getWindowFocused, setWindowFocused] = usePassiveState(onWindowFocusedChange, returnTrue);
	    return { getElement, useActiveElementProps: useRefElementProps, getActiveElement, getLastActiveElement, getWindowFocused };
	}

	function useHasFocus({ onFocusedChanged, onFocusedInnerChanged, onLastFocusedChanged, onLastFocusedInnerChanged, onLastActiveElementChange, onActiveElementChange, onWindowFocusedChange }) {
	    useEnsureStability("useHasFocus", onFocusedChanged, onFocusedInnerChanged, onLastFocusedChanged, onLastFocusedInnerChanged, onLastActiveElementChange, onActiveElementChange, onWindowFocusedChange);
	    const [getFocused, setFocused] = usePassiveState(onFocusedChanged, returnFalse);
	    const [getFocusedInner, setFocusedInner] = usePassiveState(onFocusedInnerChanged, returnFalse);
	    const [getLastFocused, setLastFocused] = usePassiveState(onLastFocusedChanged, returnFalse);
	    const [getLastFocusedInner, setLastFocusedInner] = usePassiveState(onLastFocusedInnerChanged, returnFalse);
	    const { getActiveElement, getLastActiveElement, getWindowFocused, useActiveElementProps, getElement } = useActiveElement({
	        onActiveElementChange: F((activeElement, prevActiveElement) => {
	            const selfElement = getElement();
	            const focused = (selfElement != null && (selfElement == activeElement));
	            const focusedInner = (!!selfElement?.contains(activeElement));
	            setFocused(focused);
	            setFocusedInner(focusedInner);
	            onActiveElementChange?.(activeElement, prevActiveElement);
	        }, []),
	        onLastActiveElementChange: F((lastActiveElement, prevLastActiveElement) => {
	            const selfElement = getElement();
	            const focused = (selfElement != null && (selfElement == lastActiveElement));
	            const focusedInner = (!!selfElement?.contains(lastActiveElement));
	            setLastFocused(focused);
	            setLastFocusedInner(focusedInner);
	            onLastActiveElementChange?.(lastActiveElement, prevLastActiveElement);
	        }, []),
	        onWindowFocusedChange
	    });
	    const useHasFocusProps = F((props) => { return useActiveElementProps(props); }, [useActiveElementProps]);
	    return { useHasFocusProps, getElement, getFocused, getFocusedInner, getLastFocused, getLastFocusedInner, getActiveElement, getLastActiveElement, getWindowFocused };
	}

	function useInterval({ interval, callback }) {
	    // Get a wrapper around the given callback that's stable
	    const stableCallback = useStableCallback(callback);
	    const getInterval = useStableGetter(interval);
	    y(() => {
	        const interval = getInterval();
	        let lastDelayUsed = interval;
	        if (interval == null)
	            return;
	        // Get a wrapper around the wrapper around the callback
	        // that clears and resets the interval if it changes.
	        const adjustableCallback = () => {
	            stableCallback();
	            const currentInterval = getInterval();
	            if (currentInterval != lastDelayUsed) {
	                clearInterval(handle);
	                if (currentInterval != null)
	                    handle = setInterval(adjustableCallback, lastDelayUsed = currentInterval);
	            }
	        };
	        let handle = setInterval(adjustableCallback, interval);
	        return () => clearInterval(handle);
	    }, []);
	}

	/*!
	* tabbable 5.3.3
	* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
	*/
	var candidateSelectors = ['input', 'select', 'textarea', 'a[href]', 'button', '[tabindex]:not(slot)', 'audio[controls]', 'video[controls]', '[contenteditable]:not([contenteditable="false"])', 'details>summary:first-of-type', 'details'];
	var NoElement = typeof Element === 'undefined';
	var matches = NoElement ? function () {} : Element.prototype.matches || Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;
	var getRootNode = !NoElement && Element.prototype.getRootNode ? function (element) {
	  return element.getRootNode();
	} : function (element) {
	  return element.ownerDocument;
	};

	var isInput = function isInput(node) {
	  return node.tagName === 'INPUT';
	};

	var isHiddenInput = function isHiddenInput(node) {
	  return isInput(node) && node.type === 'hidden';
	};

	var isDetailsWithSummary = function isDetailsWithSummary(node) {
	  var r = node.tagName === 'DETAILS' && Array.prototype.slice.apply(node.children).some(function (child) {
	    return child.tagName === 'SUMMARY';
	  });
	  return r;
	};

	var isZeroArea = function isZeroArea(node) {
	  var _node$getBoundingClie = node.getBoundingClientRect(),
	      width = _node$getBoundingClie.width,
	      height = _node$getBoundingClie.height;

	  return width === 0 && height === 0;
	};

	var isHidden = function isHidden(node, _ref) {
	  var displayCheck = _ref.displayCheck,
	      getShadowRoot = _ref.getShadowRoot;

	  // NOTE: visibility will be `undefined` if node is detached from the document
	  //  (see notes about this further down), which means we will consider it visible
	  //  (this is legacy behavior from a very long way back)
	  // NOTE: we check this regardless of `displayCheck="none"` because this is a
	  //  _visibility_ check, not a _display_ check
	  if (getComputedStyle(node).visibility === 'hidden') {
	    return true;
	  }

	  var isDirectSummary = matches.call(node, 'details>summary:first-of-type');
	  var nodeUnderDetails = isDirectSummary ? node.parentElement : node;

	  if (matches.call(nodeUnderDetails, 'details:not([open]) *')) {
	    return true;
	  } // The root node is the shadow root if the node is in a shadow DOM; some document otherwise
	  //  (but NOT _the_ document; see second 'If' comment below for more).
	  // If rootNode is shadow root, it'll have a host, which is the element to which the shadow
	  //  is attached, and the one we need to check if it's in the document or not (because the
	  //  shadow, and all nodes it contains, is never considered in the document since shadows
	  //  behave like self-contained DOMs; but if the shadow's HOST, which is part of the document,
	  //  is hidden, or is not in the document itself but is detached, it will affect the shadow's
	  //  visibility, including all the nodes it contains). The host could be any normal node,
	  //  or a custom element (i.e. web component). Either way, that's the one that is considered
	  //  part of the document, not the shadow root, nor any of its children (i.e. the node being
	  //  tested).
	  // If rootNode is not a shadow root, it won't have a host, and so rootNode should be the
	  //  document (per the docs) and while it's a Document-type object, that document does not
	  //  appear to be the same as the node's `ownerDocument` for some reason, so it's safer
	  //  to ignore the rootNode at this point, and use `node.ownerDocument`. Otherwise,
	  //  using `rootNode.contains(node)` will _always_ be true we'll get false-positives when
	  //  node is actually detached.


	  var nodeRootHost = getRootNode(node).host;
	  var nodeIsAttached = (nodeRootHost === null || nodeRootHost === void 0 ? void 0 : nodeRootHost.ownerDocument.contains(nodeRootHost)) || node.ownerDocument.contains(node);

	  if (!displayCheck || displayCheck === 'full') {
	    if (typeof getShadowRoot === 'function') {
	      // figure out if we should consider the node to be in an undisclosed shadow and use the
	      //  'non-zero-area' fallback
	      var originalNode = node;

	      while (node) {
	        var parentElement = node.parentElement;
	        var rootNode = getRootNode(node);

	        if (parentElement && !parentElement.shadowRoot && getShadowRoot(parentElement) === true // check if there's an undisclosed shadow
	        ) {
	          // node has an undisclosed shadow which means we can only treat it as a black box, so we
	          //  fall back to a non-zero-area test
	          return isZeroArea(node);
	        } else if (node.assignedSlot) {
	          // iterate up slot
	          node = node.assignedSlot;
	        } else if (!parentElement && rootNode !== node.ownerDocument) {
	          // cross shadow boundary
	          node = rootNode.host;
	        } else {
	          // iterate up normal dom
	          node = parentElement;
	        }
	      }

	      node = originalNode;
	    } // else, `getShadowRoot` might be true, but all that does is enable shadow DOM support
	    //  (i.e. it does not also presume that all nodes might have undisclosed shadows); or
	    //  it might be a falsy value, which means shadow DOM support is disabled
	    // Since we didn't find it sitting in an undisclosed shadow (or shadows are disabled)
	    //  now we can just test to see if it would normally be visible or not, provided it's
	    //  attached to the main document.
	    // NOTE: We must consider case where node is inside a shadow DOM and given directly to
	    //  `isTabbable()` or `isFocusable()` -- regardless of `getShadowRoot` option setting.


	    if (nodeIsAttached) {
	      // this works wherever the node is: if there's at least one client rect, it's
	      //  somehow displayed; it also covers the CSS 'display: contents' case where the
	      //  node itself is hidden in place of its contents; and there's no need to search
	      //  up the hierarchy either
	      return !node.getClientRects().length;
	    } // Else, the node isn't attached to the document, which means the `getClientRects()`
	    //  API will __always__ return zero rects (this can happen, for example, if React
	    //  is used to render nodes onto a detached tree, as confirmed in this thread:
	    //  https://github.com/facebook/react/issues/9117#issuecomment-284228870)
	    //
	    // It also means that even window.getComputedStyle(node).display will return `undefined`
	    //  because styles are only computed for nodes that are in the document.
	    //
	    // NOTE: THIS HAS BEEN THE CASE FOR YEARS. It is not new, nor is it caused by tabbable
	    //  somehow. Though it was never stated officially, anyone who has ever used tabbable
	    //  APIs on nodes in detached containers has actually implicitly used tabbable in what
	    //  was later (as of v5.2.0 on Apr 9, 2021) called `displayCheck="none"` mode -- essentially
	    //  considering __everything__ to be visible because of the innability to determine styles.

	  } else if (displayCheck === 'non-zero-area') {
	    // NOTE: Even though this tests that the node's client rect is non-zero to determine
	    //  whether it's displayed, and that a detached node will __always__ have a zero-area
	    //  client rect, we don't special-case for whether the node is attached or not. In
	    //  this mode, we do want to consider nodes that have a zero area to be hidden at all
	    //  times, and that includes attached or not.
	    return isZeroArea(node);
	  } // visible, as far as we can tell, or per current `displayCheck` mode


	  return false;
	}; // form fields (nested) inside a disabled fieldset are not focusable/tabbable
	//  unless they are in the _first_ <legend> element of the top-most disabled
	//  fieldset


	var isDisabledFromFieldset = function isDisabledFromFieldset(node) {
	  if (/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(node.tagName)) {
	    var parentNode = node.parentElement; // check if `node` is contained in a disabled <fieldset>

	    while (parentNode) {
	      if (parentNode.tagName === 'FIELDSET' && parentNode.disabled) {
	        // look for the first <legend> among the children of the disabled <fieldset>
	        for (var i = 0; i < parentNode.children.length; i++) {
	          var child = parentNode.children.item(i); // when the first <legend> (in document order) is found

	          if (child.tagName === 'LEGEND') {
	            // if its parent <fieldset> is not nested in another disabled <fieldset>,
	            // return whether `node` is a descendant of its first <legend>
	            return matches.call(parentNode, 'fieldset[disabled] *') ? true : !child.contains(node);
	          }
	        } // the disabled <fieldset> containing `node` has no <legend>


	        return true;
	      }

	      parentNode = parentNode.parentElement;
	    }
	  } // else, node's tabbable/focusable state should not be affected by a fieldset's
	  //  enabled/disabled state


	  return false;
	};

	var isNodeMatchingSelectorFocusable = function isNodeMatchingSelectorFocusable(options, node) {
	  if (node.disabled || isHiddenInput(node) || isHidden(node, options) || // For a details element with a summary, the summary element gets the focus
	  isDetailsWithSummary(node) || isDisabledFromFieldset(node)) {
	    return false;
	  }

	  return true;
	};

	var focusableCandidateSelector = /* #__PURE__ */candidateSelectors.concat('iframe').join(',');

	var isFocusable = function isFocusable(node, options) {
	  options = options || {};

	  if (!node) {
	    throw new Error('No node provided');
	  }

	  if (matches.call(node, focusableCandidateSelector) === false) {
	    return false;
	  }

	  return isNodeMatchingSelectorFocusable(options, node);
	};

	var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};

	(function (module, exports) {
		(function (global, factory) {
		  factory() ;
		}(commonjsGlobal, (function () {
		  var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

		  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

		  /**
		   * This work is licensed under the W3C Software and Document License
		   * (http://www.w3.org/Consortium/Legal/2015/copyright-software-and-document).
		   */

		  (function () {
		    // Return early if we're not running inside of the browser.
		    if (typeof window === 'undefined') {
		      return;
		    }

		    // Convenience function for converting NodeLists.
		    /** @type {typeof Array.prototype.slice} */
		    var slice = Array.prototype.slice;

		    /**
		     * IE has a non-standard name for "matches".
		     * @type {typeof Element.prototype.matches}
		     */
		    var matches = Element.prototype.matches || Element.prototype.msMatchesSelector;

		    /** @type {string} */
		    var _focusableElementsString = ['a[href]', 'area[href]', 'input:not([disabled])', 'select:not([disabled])', 'textarea:not([disabled])', 'button:not([disabled])', 'details', 'summary', 'iframe', 'object', 'embed', '[contenteditable]'].join(',');

		    /**
		     * `InertRoot` manages a single inert subtree, i.e. a DOM subtree whose root element has an `inert`
		     * attribute.
		     *
		     * Its main functions are:
		     *
		     * - to create and maintain a set of managed `InertNode`s, including when mutations occur in the
		     *   subtree. The `makeSubtreeUnfocusable()` method handles collecting `InertNode`s via registering
		     *   each focusable node in the subtree with the singleton `InertManager` which manages all known
		     *   focusable nodes within inert subtrees. `InertManager` ensures that a single `InertNode`
		     *   instance exists for each focusable node which has at least one inert root as an ancestor.
		     *
		     * - to notify all managed `InertNode`s when this subtree stops being inert (i.e. when the `inert`
		     *   attribute is removed from the root node). This is handled in the destructor, which calls the
		     *   `deregister` method on `InertManager` for each managed inert node.
		     */

		    var InertRoot = function () {
		      /**
		       * @param {!HTMLElement} rootElement The HTMLElement at the root of the inert subtree.
		       * @param {!InertManager} inertManager The global singleton InertManager object.
		       */
		      function InertRoot(rootElement, inertManager) {
		        _classCallCheck(this, InertRoot);

		        /** @type {!InertManager} */
		        this._inertManager = inertManager;

		        /** @type {!HTMLElement} */
		        this._rootElement = rootElement;

		        /**
		         * @type {!Set<!InertNode>}
		         * All managed focusable nodes in this InertRoot's subtree.
		         */
		        this._managedNodes = new Set();

		        // Make the subtree hidden from assistive technology
		        if (this._rootElement.hasAttribute('aria-hidden')) {
		          /** @type {?string} */
		          this._savedAriaHidden = this._rootElement.getAttribute('aria-hidden');
		        } else {
		          this._savedAriaHidden = null;
		        }
		        this._rootElement.setAttribute('aria-hidden', 'true');

		        // Make all focusable elements in the subtree unfocusable and add them to _managedNodes
		        this._makeSubtreeUnfocusable(this._rootElement);

		        // Watch for:
		        // - any additions in the subtree: make them unfocusable too
		        // - any removals from the subtree: remove them from this inert root's managed nodes
		        // - attribute changes: if `tabindex` is added, or removed from an intrinsically focusable
		        //   element, make that node a managed node.
		        this._observer = new MutationObserver(this._onMutation.bind(this));
		        this._observer.observe(this._rootElement, { attributes: true, childList: true, subtree: true });
		      }

		      /**
		       * Call this whenever this object is about to become obsolete.  This unwinds all of the state
		       * stored in this object and updates the state of all of the managed nodes.
		       */


		      _createClass(InertRoot, [{
		        key: 'destructor',
		        value: function destructor() {
		          this._observer.disconnect();

		          if (this._rootElement) {
		            if (this._savedAriaHidden !== null) {
		              this._rootElement.setAttribute('aria-hidden', this._savedAriaHidden);
		            } else {
		              this._rootElement.removeAttribute('aria-hidden');
		            }
		          }

		          this._managedNodes.forEach(function (inertNode) {
		            this._unmanageNode(inertNode.node);
		          }, this);

		          // Note we cast the nulls to the ANY type here because:
		          // 1) We want the class properties to be declared as non-null, or else we
		          //    need even more casts throughout this code. All bets are off if an
		          //    instance has been destroyed and a method is called.
		          // 2) We don't want to cast "this", because we want type-aware optimizations
		          //    to know which properties we're setting.
		          this._observer = /** @type {?} */null;
		          this._rootElement = /** @type {?} */null;
		          this._managedNodes = /** @type {?} */null;
		          this._inertManager = /** @type {?} */null;
		        }

		        /**
		         * @return {!Set<!InertNode>} A copy of this InertRoot's managed nodes set.
		         */

		      }, {
		        key: '_makeSubtreeUnfocusable',


		        /**
		         * @param {!Node} startNode
		         */
		        value: function _makeSubtreeUnfocusable(startNode) {
		          var _this2 = this;

		          composedTreeWalk(startNode, function (node) {
		            return _this2._visitNode(node);
		          });

		          var activeElement = document.activeElement;

		          if (!document.body.contains(startNode)) {
		            // startNode may be in shadow DOM, so find its nearest shadowRoot to get the activeElement.
		            var node = startNode;
		            /** @type {!ShadowRoot|undefined} */
		            var root = undefined;
		            while (node) {
		              if (node.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {
		                root = /** @type {!ShadowRoot} */node;
		                break;
		              }
		              node = node.parentNode;
		            }
		            if (root) {
		              activeElement = root.activeElement;
		            }
		          }
		          if (startNode.contains(activeElement)) {
		            activeElement.blur();
		            // In IE11, if an element is already focused, and then set to tabindex=-1
		            // calling blur() will not actually move the focus.
		            // To work around this we call focus() on the body instead.
		            if (activeElement === document.activeElement) {
		              document.body.focus();
		            }
		          }
		        }

		        /**
		         * @param {!Node} node
		         */

		      }, {
		        key: '_visitNode',
		        value: function _visitNode(node) {
		          if (node.nodeType !== Node.ELEMENT_NODE) {
		            return;
		          }
		          var element = /** @type {!HTMLElement} */node;

		          // If a descendant inert root becomes un-inert, its descendants will still be inert because of
		          // this inert root, so all of its managed nodes need to be adopted by this InertRoot.
		          if (element !== this._rootElement && element.hasAttribute('inert')) {
		            this._adoptInertRoot(element);
		          }

		          if (matches.call(element, _focusableElementsString) || element.hasAttribute('tabindex')) {
		            this._manageNode(element);
		          }
		        }

		        /**
		         * Register the given node with this InertRoot and with InertManager.
		         * @param {!Node} node
		         */

		      }, {
		        key: '_manageNode',
		        value: function _manageNode(node) {
		          var inertNode = this._inertManager.register(node, this);
		          this._managedNodes.add(inertNode);
		        }

		        /**
		         * Unregister the given node with this InertRoot and with InertManager.
		         * @param {!Node} node
		         */

		      }, {
		        key: '_unmanageNode',
		        value: function _unmanageNode(node) {
		          var inertNode = this._inertManager.deregister(node, this);
		          if (inertNode) {
		            this._managedNodes['delete'](inertNode);
		          }
		        }

		        /**
		         * Unregister the entire subtree starting at `startNode`.
		         * @param {!Node} startNode
		         */

		      }, {
		        key: '_unmanageSubtree',
		        value: function _unmanageSubtree(startNode) {
		          var _this3 = this;

		          composedTreeWalk(startNode, function (node) {
		            return _this3._unmanageNode(node);
		          });
		        }

		        /**
		         * If a descendant node is found with an `inert` attribute, adopt its managed nodes.
		         * @param {!HTMLElement} node
		         */

		      }, {
		        key: '_adoptInertRoot',
		        value: function _adoptInertRoot(node) {
		          var inertSubroot = this._inertManager.getInertRoot(node);

		          // During initialisation this inert root may not have been registered yet,
		          // so register it now if need be.
		          if (!inertSubroot) {
		            this._inertManager.setInert(node, true);
		            inertSubroot = this._inertManager.getInertRoot(node);
		          }

		          inertSubroot.managedNodes.forEach(function (savedInertNode) {
		            this._manageNode(savedInertNode.node);
		          }, this);
		        }

		        /**
		         * Callback used when mutation observer detects subtree additions, removals, or attribute changes.
		         * @param {!Array<!MutationRecord>} records
		         * @param {!MutationObserver} self
		         */

		      }, {
		        key: '_onMutation',
		        value: function _onMutation(records, self) {
		          records.forEach(function (record) {
		            var target = /** @type {!HTMLElement} */record.target;
		            if (record.type === 'childList') {
		              // Manage added nodes
		              slice.call(record.addedNodes).forEach(function (node) {
		                this._makeSubtreeUnfocusable(node);
		              }, this);

		              // Un-manage removed nodes
		              slice.call(record.removedNodes).forEach(function (node) {
		                this._unmanageSubtree(node);
		              }, this);
		            } else if (record.type === 'attributes') {
		              if (record.attributeName === 'tabindex') {
		                // Re-initialise inert node if tabindex changes
		                this._manageNode(target);
		              } else if (target !== this._rootElement && record.attributeName === 'inert' && target.hasAttribute('inert')) {
		                // If a new inert root is added, adopt its managed nodes and make sure it knows about the
		                // already managed nodes from this inert subroot.
		                this._adoptInertRoot(target);
		                var inertSubroot = this._inertManager.getInertRoot(target);
		                this._managedNodes.forEach(function (managedNode) {
		                  if (target.contains(managedNode.node)) {
		                    inertSubroot._manageNode(managedNode.node);
		                  }
		                });
		              }
		            }
		          }, this);
		        }
		      }, {
		        key: 'managedNodes',
		        get: function get() {
		          return new Set(this._managedNodes);
		        }

		        /** @return {boolean} */

		      }, {
		        key: 'hasSavedAriaHidden',
		        get: function get() {
		          return this._savedAriaHidden !== null;
		        }

		        /** @param {?string} ariaHidden */

		      }, {
		        key: 'savedAriaHidden',
		        set: function set(ariaHidden) {
		          this._savedAriaHidden = ariaHidden;
		        }

		        /** @return {?string} */
		        ,
		        get: function get() {
		          return this._savedAriaHidden;
		        }
		      }]);

		      return InertRoot;
		    }();

		    /**
		     * `InertNode` initialises and manages a single inert node.
		     * A node is inert if it is a descendant of one or more inert root elements.
		     *
		     * On construction, `InertNode` saves the existing `tabindex` value for the node, if any, and
		     * either removes the `tabindex` attribute or sets it to `-1`, depending on whether the element
		     * is intrinsically focusable or not.
		     *
		     * `InertNode` maintains a set of `InertRoot`s which are descendants of this `InertNode`. When an
		     * `InertRoot` is destroyed, and calls `InertManager.deregister()`, the `InertManager` notifies the
		     * `InertNode` via `removeInertRoot()`, which in turn destroys the `InertNode` if no `InertRoot`s
		     * remain in the set. On destruction, `InertNode` reinstates the stored `tabindex` if one exists,
		     * or removes the `tabindex` attribute if the element is intrinsically focusable.
		     */


		    var InertNode = function () {
		      /**
		       * @param {!Node} node A focusable element to be made inert.
		       * @param {!InertRoot} inertRoot The inert root element associated with this inert node.
		       */
		      function InertNode(node, inertRoot) {
		        _classCallCheck(this, InertNode);

		        /** @type {!Node} */
		        this._node = node;

		        /** @type {boolean} */
		        this._overrodeFocusMethod = false;

		        /**
		         * @type {!Set<!InertRoot>} The set of descendant inert roots.
		         *    If and only if this set becomes empty, this node is no longer inert.
		         */
		        this._inertRoots = new Set([inertRoot]);

		        /** @type {?number} */
		        this._savedTabIndex = null;

		        /** @type {boolean} */
		        this._destroyed = false;

		        // Save any prior tabindex info and make this node untabbable
		        this.ensureUntabbable();
		      }

		      /**
		       * Call this whenever this object is about to become obsolete.
		       * This makes the managed node focusable again and deletes all of the previously stored state.
		       */


		      _createClass(InertNode, [{
		        key: 'destructor',
		        value: function destructor() {
		          this._throwIfDestroyed();

		          if (this._node && this._node.nodeType === Node.ELEMENT_NODE) {
		            var element = /** @type {!HTMLElement} */this._node;
		            if (this._savedTabIndex !== null) {
		              element.setAttribute('tabindex', this._savedTabIndex);
		            } else {
		              element.removeAttribute('tabindex');
		            }

		            // Use `delete` to restore native focus method.
		            if (this._overrodeFocusMethod) {
		              delete element.focus;
		            }
		          }

		          // See note in InertRoot.destructor for why we cast these nulls to ANY.
		          this._node = /** @type {?} */null;
		          this._inertRoots = /** @type {?} */null;
		          this._destroyed = true;
		        }

		        /**
		         * @type {boolean} Whether this object is obsolete because the managed node is no longer inert.
		         * If the object has been destroyed, any attempt to access it will cause an exception.
		         */

		      }, {
		        key: '_throwIfDestroyed',


		        /**
		         * Throw if user tries to access destroyed InertNode.
		         */
		        value: function _throwIfDestroyed() {
		          if (this.destroyed) {
		            throw new Error('Trying to access destroyed InertNode');
		          }
		        }

		        /** @return {boolean} */

		      }, {
		        key: 'ensureUntabbable',


		        /** Save the existing tabindex value and make the node untabbable and unfocusable */
		        value: function ensureUntabbable() {
		          if (this.node.nodeType !== Node.ELEMENT_NODE) {
		            return;
		          }
		          var element = /** @type {!HTMLElement} */this.node;
		          if (matches.call(element, _focusableElementsString)) {
		            if ( /** @type {!HTMLElement} */element.tabIndex === -1 && this.hasSavedTabIndex) {
		              return;
		            }

		            if (element.hasAttribute('tabindex')) {
		              this._savedTabIndex = /** @type {!HTMLElement} */element.tabIndex;
		            }
		            element.setAttribute('tabindex', '-1');
		            if (element.nodeType === Node.ELEMENT_NODE) {
		              element.focus = function () {};
		              this._overrodeFocusMethod = true;
		            }
		          } else if (element.hasAttribute('tabindex')) {
		            this._savedTabIndex = /** @type {!HTMLElement} */element.tabIndex;
		            element.removeAttribute('tabindex');
		          }
		        }

		        /**
		         * Add another inert root to this inert node's set of managing inert roots.
		         * @param {!InertRoot} inertRoot
		         */

		      }, {
		        key: 'addInertRoot',
		        value: function addInertRoot(inertRoot) {
		          this._throwIfDestroyed();
		          this._inertRoots.add(inertRoot);
		        }

		        /**
		         * Remove the given inert root from this inert node's set of managing inert roots.
		         * If the set of managing inert roots becomes empty, this node is no longer inert,
		         * so the object should be destroyed.
		         * @param {!InertRoot} inertRoot
		         */

		      }, {
		        key: 'removeInertRoot',
		        value: function removeInertRoot(inertRoot) {
		          this._throwIfDestroyed();
		          this._inertRoots['delete'](inertRoot);
		          if (this._inertRoots.size === 0) {
		            this.destructor();
		          }
		        }
		      }, {
		        key: 'destroyed',
		        get: function get() {
		          return (/** @type {!InertNode} */this._destroyed
		          );
		        }
		      }, {
		        key: 'hasSavedTabIndex',
		        get: function get() {
		          return this._savedTabIndex !== null;
		        }

		        /** @return {!Node} */

		      }, {
		        key: 'node',
		        get: function get() {
		          this._throwIfDestroyed();
		          return this._node;
		        }

		        /** @param {?number} tabIndex */

		      }, {
		        key: 'savedTabIndex',
		        set: function set(tabIndex) {
		          this._throwIfDestroyed();
		          this._savedTabIndex = tabIndex;
		        }

		        /** @return {?number} */
		        ,
		        get: function get() {
		          this._throwIfDestroyed();
		          return this._savedTabIndex;
		        }
		      }]);

		      return InertNode;
		    }();

		    /**
		     * InertManager is a per-document singleton object which manages all inert roots and nodes.
		     *
		     * When an element becomes an inert root by having an `inert` attribute set and/or its `inert`
		     * property set to `true`, the `setInert` method creates an `InertRoot` object for the element.
		     * The `InertRoot` in turn registers itself as managing all of the element's focusable descendant
		     * nodes via the `register()` method. The `InertManager` ensures that a single `InertNode` instance
		     * is created for each such node, via the `_managedNodes` map.
		     */


		    var InertManager = function () {
		      /**
		       * @param {!Document} document
		       */
		      function InertManager(document) {
		        _classCallCheck(this, InertManager);

		        if (!document) {
		          throw new Error('Missing required argument; InertManager needs to wrap a document.');
		        }

		        /** @type {!Document} */
		        this._document = document;

		        /**
		         * All managed nodes known to this InertManager. In a map to allow looking up by Node.
		         * @type {!Map<!Node, !InertNode>}
		         */
		        this._managedNodes = new Map();

		        /**
		         * All inert roots known to this InertManager. In a map to allow looking up by Node.
		         * @type {!Map<!Node, !InertRoot>}
		         */
		        this._inertRoots = new Map();

		        /**
		         * Observer for mutations on `document.body`.
		         * @type {!MutationObserver}
		         */
		        this._observer = new MutationObserver(this._watchForInert.bind(this));

		        // Add inert style.
		        addInertStyle(document.head || document.body || document.documentElement);

		        // Wait for document to be loaded.
		        if (document.readyState === 'loading') {
		          document.addEventListener('DOMContentLoaded', this._onDocumentLoaded.bind(this));
		        } else {
		          this._onDocumentLoaded();
		        }
		      }

		      /**
		       * Set whether the given element should be an inert root or not.
		       * @param {!HTMLElement} root
		       * @param {boolean} inert
		       */


		      _createClass(InertManager, [{
		        key: 'setInert',
		        value: function setInert(root, inert) {
		          if (inert) {
		            if (this._inertRoots.has(root)) {
		              // element is already inert
		              return;
		            }

		            var inertRoot = new InertRoot(root, this);
		            root.setAttribute('inert', '');
		            this._inertRoots.set(root, inertRoot);
		            // If not contained in the document, it must be in a shadowRoot.
		            // Ensure inert styles are added there.
		            if (!this._document.body.contains(root)) {
		              var parent = root.parentNode;
		              while (parent) {
		                if (parent.nodeType === 11) {
		                  addInertStyle(parent);
		                }
		                parent = parent.parentNode;
		              }
		            }
		          } else {
		            if (!this._inertRoots.has(root)) {
		              // element is already non-inert
		              return;
		            }

		            var _inertRoot = this._inertRoots.get(root);
		            _inertRoot.destructor();
		            this._inertRoots['delete'](root);
		            root.removeAttribute('inert');
		          }
		        }

		        /**
		         * Get the InertRoot object corresponding to the given inert root element, if any.
		         * @param {!Node} element
		         * @return {!InertRoot|undefined}
		         */

		      }, {
		        key: 'getInertRoot',
		        value: function getInertRoot(element) {
		          return this._inertRoots.get(element);
		        }

		        /**
		         * Register the given InertRoot as managing the given node.
		         * In the case where the node has a previously existing inert root, this inert root will
		         * be added to its set of inert roots.
		         * @param {!Node} node
		         * @param {!InertRoot} inertRoot
		         * @return {!InertNode} inertNode
		         */

		      }, {
		        key: 'register',
		        value: function register(node, inertRoot) {
		          var inertNode = this._managedNodes.get(node);
		          if (inertNode !== undefined) {
		            // node was already in an inert subtree
		            inertNode.addInertRoot(inertRoot);
		          } else {
		            inertNode = new InertNode(node, inertRoot);
		          }

		          this._managedNodes.set(node, inertNode);

		          return inertNode;
		        }

		        /**
		         * De-register the given InertRoot as managing the given inert node.
		         * Removes the inert root from the InertNode's set of managing inert roots, and remove the inert
		         * node from the InertManager's set of managed nodes if it is destroyed.
		         * If the node is not currently managed, this is essentially a no-op.
		         * @param {!Node} node
		         * @param {!InertRoot} inertRoot
		         * @return {?InertNode} The potentially destroyed InertNode associated with this node, if any.
		         */

		      }, {
		        key: 'deregister',
		        value: function deregister(node, inertRoot) {
		          var inertNode = this._managedNodes.get(node);
		          if (!inertNode) {
		            return null;
		          }

		          inertNode.removeInertRoot(inertRoot);
		          if (inertNode.destroyed) {
		            this._managedNodes['delete'](node);
		          }

		          return inertNode;
		        }

		        /**
		         * Callback used when document has finished loading.
		         */

		      }, {
		        key: '_onDocumentLoaded',
		        value: function _onDocumentLoaded() {
		          // Find all inert roots in document and make them actually inert.
		          var inertElements = slice.call(this._document.querySelectorAll('[inert]'));
		          inertElements.forEach(function (inertElement) {
		            this.setInert(inertElement, true);
		          }, this);

		          // Comment this out to use programmatic API only.
		          this._observer.observe(this._document.body || this._document.documentElement, { attributes: true, subtree: true, childList: true });
		        }

		        /**
		         * Callback used when mutation observer detects attribute changes.
		         * @param {!Array<!MutationRecord>} records
		         * @param {!MutationObserver} self
		         */

		      }, {
		        key: '_watchForInert',
		        value: function _watchForInert(records, self) {
		          var _this = this;
		          records.forEach(function (record) {
		            switch (record.type) {
		              case 'childList':
		                slice.call(record.addedNodes).forEach(function (node) {
		                  if (node.nodeType !== Node.ELEMENT_NODE) {
		                    return;
		                  }
		                  var inertElements = slice.call(node.querySelectorAll('[inert]'));
		                  if (matches.call(node, '[inert]')) {
		                    inertElements.unshift(node);
		                  }
		                  inertElements.forEach(function (inertElement) {
		                    this.setInert(inertElement, true);
		                  }, _this);
		                }, _this);
		                break;
		              case 'attributes':
		                if (record.attributeName !== 'inert') {
		                  return;
		                }
		                var target = /** @type {!HTMLElement} */record.target;
		                var inert = target.hasAttribute('inert');
		                _this.setInert(target, inert);
		                break;
		            }
		          }, this);
		        }
		      }]);

		      return InertManager;
		    }();

		    /**
		     * Recursively walk the composed tree from |node|.
		     * @param {!Node} node
		     * @param {(function (!HTMLElement))=} callback Callback to be called for each element traversed,
		     *     before descending into child nodes.
		     * @param {?ShadowRoot=} shadowRootAncestor The nearest ShadowRoot ancestor, if any.
		     */


		    function composedTreeWalk(node, callback, shadowRootAncestor) {
		      if (node.nodeType == Node.ELEMENT_NODE) {
		        var element = /** @type {!HTMLElement} */node;
		        if (callback) {
		          callback(element);
		        }

		        // Descend into node:
		        // If it has a ShadowRoot, ignore all child elements - these will be picked
		        // up by the <content> or <shadow> elements. Descend straight into the
		        // ShadowRoot.
		        var shadowRoot = /** @type {!HTMLElement} */element.shadowRoot;
		        if (shadowRoot) {
		          composedTreeWalk(shadowRoot, callback);
		          return;
		        }

		        // If it is a <content> element, descend into distributed elements - these
		        // are elements from outside the shadow root which are rendered inside the
		        // shadow DOM.
		        if (element.localName == 'content') {
		          var content = /** @type {!HTMLContentElement} */element;
		          // Verifies if ShadowDom v0 is supported.
		          var distributedNodes = content.getDistributedNodes ? content.getDistributedNodes() : [];
		          for (var i = 0; i < distributedNodes.length; i++) {
		            composedTreeWalk(distributedNodes[i], callback);
		          }
		          return;
		        }

		        // If it is a <slot> element, descend into assigned nodes - these
		        // are elements from outside the shadow root which are rendered inside the
		        // shadow DOM.
		        if (element.localName == 'slot') {
		          var slot = /** @type {!HTMLSlotElement} */element;
		          // Verify if ShadowDom v1 is supported.
		          var _distributedNodes = slot.assignedNodes ? slot.assignedNodes({ flatten: true }) : [];
		          for (var _i = 0; _i < _distributedNodes.length; _i++) {
		            composedTreeWalk(_distributedNodes[_i], callback);
		          }
		          return;
		        }
		      }

		      // If it is neither the parent of a ShadowRoot, a <content> element, a <slot>
		      // element, nor a <shadow> element recurse normally.
		      var child = node.firstChild;
		      while (child != null) {
		        composedTreeWalk(child, callback);
		        child = child.nextSibling;
		      }
		    }

		    /**
		     * Adds a style element to the node containing the inert specific styles
		     * @param {!Node} node
		     */
		    function addInertStyle(node) {
		      if (node.querySelector('style#inert-style, link#inert-style')) {
		        return;
		      }
		      var style = document.createElement('style');
		      style.setAttribute('id', 'inert-style');
		      style.textContent = '\n' + '[inert] {\n' + '  pointer-events: none;\n' + '  cursor: default;\n' + '}\n' + '\n' + '[inert], [inert] * {\n' + '  -webkit-user-select: none;\n' + '  -moz-user-select: none;\n' + '  -ms-user-select: none;\n' + '  user-select: none;\n' + '}\n';
		      node.appendChild(style);
		    }

		    if (!HTMLElement.prototype.hasOwnProperty('inert')) {
		      /** @type {!InertManager} */
		      var inertManager = new InertManager(document);

		      Object.defineProperty(HTMLElement.prototype, 'inert', {
		        enumerable: true,
		        /** @this {!HTMLElement} */
		        get: function get() {
		          return this.hasAttribute('inert');
		        },
		        /** @this {!HTMLElement} */
		        set: function set(inert) {
		          inertManager.setInert(this, inert);
		        }
		      });
		    }
		  })();

		})));
	} ());

	/**
	 * @license
	 * Copyright 2016 Google Inc. All rights reserved.
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *     http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */
	(() => {
	    var _a, _b, _c;
	    /* Symbols for private properties */
	    const _blockingElements = Symbol();
	    const _alreadyInertElements = Symbol();
	    const _topElParents = Symbol();
	    const _siblingsToRestore = Symbol();
	    const _parentMO = Symbol();
	    /* Symbols for private static methods */
	    const _topChanged = Symbol();
	    const _swapInertedSibling = Symbol();
	    const _inertSiblings = Symbol();
	    const _restoreInertedSiblings = Symbol();
	    const _getParents = Symbol();
	    const _getDistributedChildren = Symbol();
	    const _isInertable = Symbol();
	    const _handleMutations = Symbol();
	    class BlockingElementsImpl {
	        constructor() {
	            /**
	             * The blocking elements.
	             */
	            this[_a] = [];
	            /**
	             * Used to keep track of the parents of the top element, from the element
	             * itself up to body. When top changes, the old top might have been removed
	             * from the document, so we need to memoize the inerted parents' siblings
	             * in order to restore their inerteness when top changes.
	             */
	            this[_b] = [];
	            /**
	             * Elements that are already inert before the first blocking element is
	             * pushed.
	             */
	            this[_c] = new Set();
	        }
	        destructor() {
	            // Restore original inertness.
	            this[_restoreInertedSiblings](this[_topElParents]);
	            // Note we don't want to make these properties nullable on the class,
	            // since then we'd need non-null casts in many places. Calling a method on
	            // a BlockingElements instance after calling destructor will result in an
	            // exception.
	            const nullable = this;
	            nullable[_blockingElements] = null;
	            nullable[_topElParents] = null;
	            nullable[_alreadyInertElements] = null;
	        }
	        get top() {
	            const elems = this[_blockingElements];
	            return elems[elems.length - 1] || null;
	        }
	        push(element) {
	            if (!element || element === this.top) {
	                return;
	            }
	            // Remove it from the stack, we'll bring it to the top.
	            this.remove(element);
	            this[_topChanged](element);
	            this[_blockingElements].push(element);
	        }
	        remove(element) {
	            const i = this[_blockingElements].indexOf(element);
	            if (i === -1) {
	                return false;
	            }
	            this[_blockingElements].splice(i, 1);
	            // Top changed only if the removed element was the top element.
	            if (i === this[_blockingElements].length) {
	                this[_topChanged](this.top);
	            }
	            return true;
	        }
	        pop() {
	            const top = this.top;
	            top && this.remove(top);
	            return top;
	        }
	        has(element) {
	            return this[_blockingElements].indexOf(element) !== -1;
	        }
	        /**
	         * Sets `inert` to all document elements except the new top element, its
	         * parents, and its distributed content.
	         */
	        [(_a = _blockingElements, _b = _topElParents, _c = _alreadyInertElements, _topChanged)](newTop) {
	            const toKeepInert = this[_alreadyInertElements];
	            const oldParents = this[_topElParents];
	            // No new top, reset old top if any.
	            if (!newTop) {
	                this[_restoreInertedSiblings](oldParents);
	                toKeepInert.clear();
	                this[_topElParents] = [];
	                return;
	            }
	            const newParents = this[_getParents](newTop);
	            // New top is not contained in the main document!
	            if (newParents[newParents.length - 1].parentNode !== document.body) {
	                throw Error('Non-connected element cannot be a blocking element');
	            }
	            // Cast here because we know we'll call _inertSiblings on newParents
	            // below.
	            this[_topElParents] = newParents;
	            const toSkip = this[_getDistributedChildren](newTop);
	            // No previous top element.
	            if (!oldParents.length) {
	                this[_inertSiblings](newParents, toSkip, toKeepInert);
	                return;
	            }
	            let i = oldParents.length - 1;
	            let j = newParents.length - 1;
	            // Find common parent. Index 0 is the element itself (so stop before it).
	            while (i > 0 && j > 0 && oldParents[i] === newParents[j]) {
	                i--;
	                j--;
	            }
	            // If up the parents tree there are 2 elements that are siblings, swap
	            // the inerted sibling.
	            if (oldParents[i] !== newParents[j]) {
	                this[_swapInertedSibling](oldParents[i], newParents[j]);
	            }
	            // Restore old parents siblings inertness.
	            i > 0 && this[_restoreInertedSiblings](oldParents.slice(0, i));
	            // Make new parents siblings inert.
	            j > 0 && this[_inertSiblings](newParents.slice(0, j), toSkip, null);
	        }
	        /**
	         * Swaps inertness between two sibling elements.
	         * Sets the property `inert` over the attribute since the inert spec
	         * doesn't specify if it should be reflected.
	         * https://html.spec.whatwg.org/multipage/interaction.html#inert
	         */
	        [_swapInertedSibling](oldInert, newInert) {
	            const siblingsToRestore = oldInert[_siblingsToRestore];
	            // oldInert is not contained in siblings to restore, so we have to check
	            // if it's inertable and if already inert.
	            if (this[_isInertable](oldInert) && !oldInert.inert) {
	                oldInert.inert = true;
	                siblingsToRestore.add(oldInert);
	            }
	            // If newInert was already between the siblings to restore, it means it is
	            // inertable and must be restored.
	            if (siblingsToRestore.has(newInert)) {
	                newInert.inert = false;
	                siblingsToRestore.delete(newInert);
	            }
	            newInert[_parentMO] = oldInert[_parentMO];
	            newInert[_siblingsToRestore] = siblingsToRestore;
	            oldInert[_parentMO] = undefined;
	            oldInert[_siblingsToRestore] = undefined;
	        }
	        /**
	         * Restores original inertness to the siblings of the elements.
	         * Sets the property `inert` over the attribute since the inert spec
	         * doesn't specify if it should be reflected.
	         * https://html.spec.whatwg.org/multipage/interaction.html#inert
	         */
	        [_restoreInertedSiblings](elements) {
	            for (const element of elements) {
	                const mo = element[_parentMO];
	                mo.disconnect();
	                element[_parentMO] = undefined;
	                const siblings = element[_siblingsToRestore];
	                for (const sibling of siblings) {
	                    sibling.inert = false;
	                }
	                element[_siblingsToRestore] = undefined;
	            }
	        }
	        /**
	         * Inerts the siblings of the elements except the elements to skip. Stores
	         * the inerted siblings into the element's symbol `_siblingsToRestore`.
	         * Pass `toKeepInert` to collect the already inert elements.
	         * Sets the property `inert` over the attribute since the inert spec
	         * doesn't specify if it should be reflected.
	         * https://html.spec.whatwg.org/multipage/interaction.html#inert
	         */
	        [_inertSiblings](elements, toSkip, toKeepInert) {
	            for (const element of elements) {
	                // Assume element is not a Document, so it must have a parentNode.
	                const parent = element.parentNode;
	                const children = parent.children;
	                const inertedSiblings = new Set();
	                for (let j = 0; j < children.length; j++) {
	                    const sibling = children[j];
	                    // Skip the input element, if not inertable or to be skipped.
	                    if (sibling === element || !this[_isInertable](sibling) ||
	                        (toSkip && toSkip.has(sibling))) {
	                        continue;
	                    }
	                    // Should be collected since already inerted.
	                    if (toKeepInert && sibling.inert) {
	                        toKeepInert.add(sibling);
	                    }
	                    else {
	                        sibling.inert = true;
	                        inertedSiblings.add(sibling);
	                    }
	                }
	                // Store the siblings that were inerted.
	                element[_siblingsToRestore] = inertedSiblings;
	                // Observe only immediate children mutations on the parent.
	                const mo = new MutationObserver(this[_handleMutations].bind(this));
	                element[_parentMO] = mo;
	                let parentToObserve = parent;
	                // If we're using the ShadyDOM polyfill, then our parent could be a
	                // shady root, which is an object that acts like a ShadowRoot, but isn't
	                // actually a node in the real DOM. Observe the real DOM parent instead.
	                const maybeShadyRoot = parentToObserve;
	                if (maybeShadyRoot.__shady && maybeShadyRoot.host) {
	                    parentToObserve = maybeShadyRoot.host;
	                }
	                mo.observe(parentToObserve, {
	                    childList: true,
	                });
	            }
	        }
	        /**
	         * Handles newly added/removed nodes by toggling their inertness.
	         * It also checks if the current top Blocking Element has been removed,
	         * notifying and removing it.
	         */
	        [_handleMutations](mutations) {
	            const parents = this[_topElParents];
	            const toKeepInert = this[_alreadyInertElements];
	            for (const mutation of mutations) {
	                // If the target is a shadowRoot, get its host as we skip shadowRoots when
	                // computing _topElParents.
	                const target = mutation.target.host || mutation.target;
	                const idx = target === document.body ?
	                    parents.length :
	                    parents.indexOf(target);
	                const inertedChild = parents[idx - 1];
	                const inertedSiblings = inertedChild[_siblingsToRestore];
	                // To restore.
	                for (let i = 0; i < mutation.removedNodes.length; i++) {
	                    const sibling = mutation.removedNodes[i];
	                    if (sibling === inertedChild) {
	                        console.info('Detected removal of the top Blocking Element.');
	                        this.pop();
	                        return;
	                    }
	                    if (inertedSiblings.has(sibling)) {
	                        sibling.inert = false;
	                        inertedSiblings.delete(sibling);
	                    }
	                }
	                // To inert.
	                for (let i = 0; i < mutation.addedNodes.length; i++) {
	                    const sibling = mutation.addedNodes[i];
	                    if (!this[_isInertable](sibling)) {
	                        continue;
	                    }
	                    if (toKeepInert && sibling.inert) {
	                        toKeepInert.add(sibling);
	                    }
	                    else {
	                        sibling.inert = true;
	                        inertedSiblings.add(sibling);
	                    }
	                }
	            }
	        }
	        /**
	         * Returns if the element is inertable.
	         */
	        [_isInertable](element) {
	            return false === /^(style|template|script)$/.test(element.localName);
	        }
	        /**
	         * Returns the list of newParents of an element, starting from element
	         * (included) up to `document.body` (excluded).
	         */
	        [_getParents](element) {
	            const parents = [];
	            let current = element;
	            // Stop to body.
	            while (current && current !== document.body) {
	                // Skip shadow roots.
	                if (current.nodeType === Node.ELEMENT_NODE) {
	                    parents.push(current);
	                }
	                // ShadowDom v1
	                if (current.assignedSlot) {
	                    // Collect slots from deepest slot to top.
	                    while (current = current.assignedSlot) {
	                        parents.push(current);
	                    }
	                    // Continue the search on the top slot.
	                    current = parents.pop();
	                    continue;
	                }
	                current = current.parentNode ||
	                    current.host;
	            }
	            return parents;
	        }
	        /**
	         * Returns the distributed children of the element's shadow root.
	         * Returns null if the element doesn't have a shadow root.
	         */
	        [_getDistributedChildren](element) {
	            const shadowRoot = element.shadowRoot;
	            if (!shadowRoot) {
	                return null;
	            }
	            const result = new Set();
	            let i;
	            let j;
	            let nodes;
	            const slots = shadowRoot.querySelectorAll('slot');
	            if (slots.length && slots[0].assignedNodes) {
	                for (i = 0; i < slots.length; i++) {
	                    nodes = slots[i].assignedNodes({
	                        flatten: true,
	                    });
	                    for (j = 0; j < nodes.length; j++) {
	                        if (nodes[j].nodeType === Node.ELEMENT_NODE) {
	                            result.add(nodes[j]);
	                        }
	                    }
	                }
	                // No need to search for <content>.
	            }
	            return result;
	        }
	    }
	    document.$blockingElements =
	        new BlockingElementsImpl();
	})();

	function blockingElements() { return getDocument().$blockingElements; }
	/**
	 * Allows an element to trap focus by applying the "inert" attribute to all sibling, aunt, and uncle nodes.
	 *
	 * Automatically handles consecutive calls with a loosely applied stack operation
	 * (specifically via `blockingElements`, with a small polyfill because I'm not sure how long
	 * it'll take to find its way into the spec, if ever)
	 * @param target
	 */
	function useBlockingElement(enabled, getTarget) {
	    const stableGetTarget = useStableCallback(getTarget);
	    /**
	     * Push/pop the element from the blockingElements stack.
	     */
	    h(() => {
	        const target = stableGetTarget();
	        if (enabled) {
	            // Sometimes blockingElements will fail if, for example,
	            // the target element isn't connected to document.body.
	            // This is rare, but it's better to fail silently with weird tabbing behavior
	            // than to crash the entire application.
	            try {
	                blockingElements().push(target);
	                return () => {
	                    blockingElements().remove(target);
	                };
	            }
	            catch (ex) {
	                // Well, semi-silently.
	                console.error(ex);
	            }
	        }
	    }, [enabled]);
	}
	function getTopElement() {
	    return blockingElements().top;
	}

	const elementsToRestoreFocusTo = new Map();
	function useFocusTrap({ trapActive }) {
	    const handleActiveChange = F((trapActive, element) => {
	        if (trapActive && element) {
	            let rafHandle = requestAnimationFrame(() => {
	                // TODO: This extra queueMicrotask is needed for
	                // ...reasons?
	                queueMicrotask(() => {
	                    findFirstFocusable(element)?.focus();
	                    rafHandle = 0;
	                });
	            });
	            return () => {
	                if (rafHandle)
	                    cancelAnimationFrame(rafHandle);
	            };
	        }
	        else if (element) {
	            // Restore the focus to the element
	            // that has returned to the top of the stack
	            let rafHandle = requestAnimationFrame(() => {
	                queueMicrotask(() => {
	                    elementsToRestoreFocusTo.get(getTopElement())?.focus();
	                    rafHandle = 0;
	                });
	            });
	            return () => {
	                if (rafHandle)
	                    cancelAnimationFrame(rafHandle);
	            };
	        }
	    }, []);
	    const { getLastActiveElement, useActiveElementProps, getElement } = useActiveElement({ onMountChange: useStableCallback((element) => handleActiveChange(trapActive, element)) });
	    // When the trap becomes active, before we let the blockingElements hook run,
	    // keep track of whatever's currently focused and save it.
	    h(() => {
	        const element = getElement();
	        if (trapActive && element) {
	            const document = getDocument(element);
	            // Save the currently focused element
	            // to whatever's currently at the top of the stack
	            elementsToRestoreFocusTo.set(getTopElement(), getLastActiveElement() ?? document.body);
	        }
	    }, [trapActive]);
	    useBlockingElement(trapActive, getElement);
	    /**
	     * Any time we activate or deactivate the trap,
	     * change focus to something else (something in
	     * the trap if it's active, or whatever we've
	     * tracked in elementsToRestoreFocusTo if not)
	     */
	    h(() => {
	        handleActiveChange(trapActive, getElement());
	    }, [trapActive]);
	    const useFocusTrapProps = ((props) => {
	        const p1 = useActiveElementProps(props);
	        const p2 = { "aria-modal": trapActive ? "true" : undefined };
	        return useMergedProps()(p1, p2);
	    });
	    return {
	        useFocusTrapProps,
	        getElement
	    };
	}
	/**
	 * Returns the first focusable element contained within the given node, or null if none are found.
	 * @param element
	 * @returns
	 */
	function findFirstFocusable(element) {
	    const treeWalker = document.createTreeWalker(element, NodeFilter.SHOW_ELEMENT, { acceptNode: (node) => (node instanceof Element && isFocusable(node) ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_SKIP) });
	    const firstFocusable = treeWalker.firstChild();
	    return firstFocusable;
	}

	const DemoUseInterval = () => {
	    const [interval, setInterval] = d(1000);
	    const [fireCount, setFireCount] = d(0);
	    useInterval({ interval, callback: () => setFireCount(i => ++i) });
	    return (e$1("div", { class: "demo", children: [e$1("label", { children: ["Interval duration: ", e$1("input", { type: "number", value: interval, onInput: e => setInterval(e.currentTarget.valueAsNumber) })] }), e$1("div", { children: ["The callback has been called ", fireCount, " time", fireCount === 1 ? "" : "s", "."] })] }));
	};

	const RandomWords$1 = "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.".split(" ");
	const RovingChildContext = D(null);
	const DemoUseRovingTabIndex = g(() => {
	    const [lastFocusedInner, setLastFocusedInner, getLastFocusedInner] = useState(false);
	    const { useHasFocusProps } = useHasFocus({ onLastFocusedInnerChanged: setLastFocusedInner });
	    const { useListNavigationChild, currentTypeahead, tabbableIndex, useListNavigationProps, navigateToIndex } = useListNavigation({ shouldFocusOnChange: getLastFocusedInner });
	    //const { useRovingTabIndexChild, useRovingTabIndexProps } = useRovingTabIndex<HTMLUListElement, RovingTabIndexChildInfo>({ tabbableIndex, focusOnChange: false });
	    return (e$1("div", { className: "demo", children: [e$1("h2", { children: "Keyboard & List Navigation" }), e$1("h3", { children: e$1("code", { children: "useRovingTabIndex" }) }), e$1("p", { children: ["Native HTML elements offer fantastic keyboard accessability, but cover a relatively limited number of use cases. There is no native HTML tree element, for example, that allows keyboard navigation of its items, nor is it possible to combine the keyboard navigation behavior of a ", e$1("code", { children: "<select>" }), " menu with the menu in a drawer component."] }), e$1("p", { children: ["When coming across a List or a Menu or a RadioGroup or a ToggleButtonGroup or any other \"one component made up of child components\", the usual expected behavior, at least natively, is that tabbing into the component is one action, and tabbing out is another.  Navigating ", e$1("em", { children: "within" }), " the component is done with the arrow keys or other methods."] }), e$1("p", { children: ["This is important both for accessability, but also just for general usability.  When tabbing back and forth, the ability to skip a long list without needing to trudge through ", e$1("em", { children: "every one" }), " of its child elements is extremely important."] }), e$1("p", { children: [e$1("code", { children: "useListNavigation" }), " wraps up the functionality of a few hooks (", e$1("code", { children: "useRovingTabIndex" }), ", ", e$1("code", { children: "useLinearNavigation" }), ", ", e$1("code", { children: "useTypeaheadNavigation" }), "to allow for ARIA-compliant navigation of lists and other similar components.  For more advanced use cases, you can use the other hooks individually."] }), e$1("p", { children: [e$1("code", { children: "useListNavigation" }), " (and ", e$1("code", { children: "useRovingTabIndex" }), ") internally use ", e$1("code", { children: "useChildManager" }), ", which is how the child elements and the parent communicate with each other. This means there are virtually no restrictions on how the DOM is set up as long as you can provide the children with the ", e$1("code", { children: "useListNavigationChild" }), " hook that's returned, usually with a simple ", e$1("code", { children: "Context" }), ". If the child element itself has a focusable element, like a button, it can also be wired up to disable itself Feel free to nest them too, as long as you are aware of your ", e$1("code", { children: "Context" }), " management (i.e. remember that you need to create a new ", e$1("code", { children: "Context" }), " for each use case)."] }), e$1("label", { children: ["Tabbable index: ", e$1("input", { type: "number", value: tabbableIndex ?? undefined, onInput: e => { e.preventDefault(); navigateToIndex(e.currentTarget.valueAsNumber); } })] }), e$1("ul", { ...useHasFocusProps(useListNavigationProps({})), children: e$1(RovingChildContext.Provider, { value: useListNavigationChild, children: Array.from((function* () {
	                        for (let i = 0; i < 10; ++i) {
	                            yield e$1(DemoUseRovingTabIndexChild, { index: i }, i);
	                        }
	                    })()) }) }), currentTypeahead && e$1("div", { children: ["Typeahead: ", currentTypeahead] })] }));
	});
	const DemoUseRovingTabIndexChild = g((({ index }) => {
	    const [randomWord] = useState(() => RandomWords$1[index /*Math.floor(Math.random() * (RandomWords.length - 1))*/]);
	    const useRovingTabIndexChild = T$1(RovingChildContext);
	    const text = `${randomWord} This is item #${index + 1}`;
	    const { useListNavigationChildProps, useListNavigationSiblingProps, tabbable } = useRovingTabIndexChild({ index, text, hidden: (index == 5) });
	    const props = useListNavigationChildProps({});
	    return (e$1("li", { ...props, children: [text, " (", tabbable ? "Tabbable" : "Not tabbable", ")", e$1("input", { ...useListNavigationSiblingProps({ type: "checkbox" }) })] }));
	}));

	const DemoUseTimeout = () => {
	    const [timeout, setTimeout] = d(1000);
	    const [triggerIndex, setTriggerIndex] = d("");
	    const [fireCount, setFireCount] = d(0);
	    useTimeout({ timeout, triggerIndex, callback: () => setFireCount(i => ++i) });
	    return (e$1("div", { class: "demo", children: [e$1("label", { children: ["Timeout duration: ", e$1("input", { type: "number", value: timeout, onInput: e => setTimeout(e.currentTarget.valueAsNumber) })] }), e$1("label", { children: ["Refresh key: ", e$1("input", { type: "text", value: triggerIndex, onInput: e => setTriggerIndex(e.currentTarget.value) })] }), e$1("div", { children: ["The callback has been called ", fireCount, " time", fireCount === 1 ? "" : "s", "."] })] }));
	};

	const RandomWords = "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.".split(" ");
	const DemoUseDroppable = () => {
	    const { droppedFiles, droppedStrings, filesForConsideration, stringsForConsideration, useDroppableProps, dropError } = useDroppable({ effect: "copy" });
	    useMergedProps()({}, { ref: s(null) });
	    const p = useDroppableProps({ className: "demo droppable" });
	    return (e$1("div", { ...p, children: [droppedStrings != null && e$1("div", { children: ["Data dropped: ", e$1("ul", { children: Object.entries(droppedStrings).map(([type, value]) => e$1("li", { children: [type, ": ", value] })) })] }), droppedFiles != null && e$1("div", { children: ["Files dropped: ", e$1("table", { children: [e$1("thead", { children: e$1("tr", { children: [e$1("th", { children: "Name" }), e$1("th", { children: "Size" }), e$1("th", { children: "Type" }), e$1("th", { children: "Last modified" })] }) }), e$1("tbody", { children: droppedFiles.map(f => e$1("tr", { children: [e$1("td", { children: f.name }), f.data.byteLength, e$1("td", { children: f.type }), e$1("td", { children: new Date(f.lastModified ?? 0) })] })) })] })] }), e$1("hr", {}), stringsForConsideration != null && e$1("div", { children: ["Data being considered: ", e$1("ul", { children: Array.from(stringsForConsideration).map(type => e$1("li", { children: type })) })] }), filesForConsideration != null && e$1("div", { children: ["Files being considered: ", e$1("ul", { children: filesForConsideration.map(f => e$1("li", { children: JSON.stringify(f) })) })] }), e$1("hr", {}), dropError && e$1("div", { children: dropError instanceof Error ? dropError.message : JSON.stringify(dropError) })] }));
	};
	const DemoUseDraggable = () => {
	    const { useDraggableProps } = useDraggable({ data: { "text/plain": "This is custom draggable content of type text/plain." } });
	    return (e$1("div", { ...useDraggableProps({ className: "demo" }), children: "Draggable content" }));
	};
	const DemoUseElementSizeAnimation = () => {
	    const [height, setHeight] = useState(0);
	    const [angle, setAngle] = useState(0);
	    useAnimationFrame({
	        callback: (_ms) => {
	            setAngle(a => a + 0.01);
	            setHeight((Math.sin(angle) + 1) / 0.5);
	        }
	    });
	    const [elementSize, setElementSize] = useState(null);
	    const { useElementSizeProps } = useElementSize({ onSizeChange: setElementSize });
	    return (e$1("div", { ...useElementSizeProps({ ref: undefined, className: "demo", style: { height: `${(height * 100) + 100}px` } }), children: e$1("pre", { children: JSON.stringify(elementSize, null, 2) }) }));
	};
	const DemoUseFocusTrap = g(({ depth }) => {
	    const [active, setActive] = useState(false);
	    const { useFocusTrapProps } = useFocusTrap({ trapActive: active });
	    //const { useRovingTabIndexChild, useRovingTabIndexProps } = useRovingTabIndex<HTMLUListElement, RovingTabIndexChildInfo>({ tabbableIndex, focusOnChange: false });
	    const divProps = useFocusTrapProps({ ref: undefined, className: "focus-trap-demo" });
	    if (depth == 2)
	        return e$1("div", {});
	    return (e$1("div", { className: "demo", children: [e$1("label", { children: ["Active: ", e$1("input", { type: "checkbox", checked: active, onInput: e => { e.preventDefault(); setActive(e.currentTarget.checked); } })] }), e$1("div", { ...divProps, children: e$1(DemoUseFocusTrapChild, { active: active, setActive: setActive, depth: depth ?? 0 }) })] }));
	});
	const DemoUseFocusTrapChild = g(({ setActive, active }) => {
	    return (e$1(d$1, { children: [e$1("button", { children: "Button 1" }), e$1("button", { children: "Button 2" }), e$1("button", { children: "Button 3" }), e$1("label", { children: ["Active: ", e$1("input", { type: "checkbox", checked: active, onInput: e => { e.preventDefault(); setActive(e.currentTarget.checked); } })] })] }));
	});
	const DemoUseAsyncHandler1 = g(() => {
	    const [timeout, setTimeout] = useState(1000);
	    const [debounce, setDebounce] = useState(0);
	    const [shouldThrow, setShouldThrow, getShouldThrow] = useState(false);
	    const [disableConsecutive, setDisableConsecutive] = useState(false);
	    const asyncOnClick = ((_v, _e) => new Promise((resolve, reject) => window.setTimeout(() => getShouldThrow() ? reject() : resolve(), timeout)));
	    const { callCount, settleCount, hasCapture, syncHandler, pending, hasError, rejectCount, resolveCount } = useAsyncHandler(asyncOnClick, { capture: () => { }, debounce: debounce == 0 ? undefined : debounce });
	    const onClick = pending ? undefined : syncHandler;
	    return (e$1("div", { className: "demo", children: [e$1("button", { disabled: pending && disableConsecutive, onClick: onClick, children: "Click me!" }), e$1("label", { children: ["Sleep for: ", e$1("input", { type: "number", value: timeout, onInput: e => setTimeout(e.currentTarget.valueAsNumber) })] }), e$1("label", { children: ["Throw an error ", e$1("input", { type: "checkbox", checked: shouldThrow, onInput: e => setShouldThrow(e.currentTarget.checked) })] }), e$1("label", { children: ["Disabled while pending ", e$1("input", { type: "checkbox", checked: disableConsecutive, onInput: e => setDisableConsecutive(e.currentTarget.checked) })] }), e$1("label", { children: ["Debounce: ", e$1("input", { type: "number", value: debounce, onInput: e => setDebounce(e.currentTarget.valueAsNumber) })] }), e$1("table", { children: [e$1("thead", { children: e$1("tr", { children: [e$1("th", { children: "Field" }), e$1("th", { children: "Value" })] }) }), e$1("tbody", { children: [e$1("tr", { children: [e$1("td", { children: "callCount" }), e$1("td", { children: callCount })] }), e$1("tr", { children: [e$1("td", { children: "settleCount" }), e$1("td", { children: settleCount })] }), e$1("tr", { children: [e$1("td", { children: "resolveCount" }), e$1("td", { children: resolveCount })] }), e$1("tr", { children: [e$1("td", { children: "rejectCount" }), e$1("td", { children: rejectCount })] }), e$1("tr", { children: [e$1("td", { children: "hasError" }), e$1("td", { children: hasError.toString() })] }), e$1("tr", { children: [e$1("td", { children: "hasCapture" }), e$1("td", { children: hasCapture.toString() })] })] })] })] }));
	});
	const DemoUseAsyncHandler2 = g(() => {
	    const [timeout, setTimeout] = useState(1000);
	    const [debounce, setDebounce] = useState(0);
	    const [shouldThrow, setShouldThrow, getShouldThrow] = useState(false);
	    const [disableConsecutive, setDisableConsecutive] = useState(false);
	    const [text, setText] = useState("");
	    const onInputAsync = async (v, _e) => new Promise((resolve, reject) => window.setTimeout(() => {
	        if (getShouldThrow()) {
	            reject();
	        }
	        else {
	            setText(v);
	            resolve();
	        }
	    }, timeout));
	    const { callCount, settleCount, hasCapture, syncHandler, currentCapture, pending, hasError, rejectCount, resolveCount } = useAsyncHandler(onInputAsync, { capture: (e) => { e.preventDefault(); return e.currentTarget.value; }, debounce: debounce == 0 ? undefined : debounce });
	    return (e$1("div", { className: "demo", children: [e$1("label", { children: ["Demo text: ", e$1("input", { value: hasCapture ? currentCapture : text, disabled: pending && disableConsecutive, onInput: syncHandler })] }), e$1("hr", {}), e$1("label", { children: ["Sleep for: ", e$1("input", { type: "number", value: timeout, onInput: e => setTimeout(e.currentTarget.valueAsNumber) })] }), e$1("label", { children: ["Throw an error ", e$1("input", { type: "checkbox", checked: shouldThrow, onInput: e => setShouldThrow(e.currentTarget.checked) })] }), e$1("label", { children: ["Disabled while pending ", e$1("input", { type: "checkbox", checked: disableConsecutive, onInput: e => setDisableConsecutive(e.currentTarget.checked) })] }), e$1("label", { children: ["Debounce: ", e$1("input", { type: "number", value: debounce, onInput: e => setDebounce(e.currentTarget.valueAsNumber) })] }), e$1("table", { children: [e$1("thead", { children: e$1("tr", { children: [e$1("th", { children: "Field" }), e$1("th", { children: "Value" })] }) }), e$1("tbody", { children: [e$1("tr", { children: [e$1("td", { children: "callCount" }), e$1("td", { children: callCount })] }), e$1("tr", { children: [e$1("td", { children: "settleCount" }), e$1("td", { children: settleCount })] }), e$1("tr", { children: [e$1("td", { children: "resolveCount" }), e$1("td", { children: resolveCount })] }), e$1("tr", { children: [e$1("td", { children: "rejectCount" }), e$1("td", { children: rejectCount })] }), e$1("tr", { children: [e$1("td", { children: "hasError" }), e$1("td", { children: hasError.toString() })] }), e$1("tr", { children: [e$1("td", { children: "currentCapture" }), e$1("td", { children: currentCapture })] }), e$1("tr", { children: [e$1("td", { children: "\"Saved\" input" }), e$1("td", { children: text })] })] })] })] }));
	});
	const DemoFocus = g(() => {
	    const [lastActiveElement, setLastActiveElement] = useState(null);
	    const [activeElement, setActiveElement] = useState(null);
	    const [windowFocused, setWindowFocused] = useState(false);
	    const [focused, setFocused] = useState(false);
	    const [focusedInner, setFocusedInner] = useState(false);
	    const [lastFocused, setLastFocused] = useState(false);
	    const [lastFocusedInner, setLastFocusedInner] = useState(false);
	    const { useHasFocusProps } = useHasFocus({
	        onFocusedChanged: setFocused,
	        onFocusedInnerChanged: setFocusedInner,
	        onLastFocusedChanged: setLastFocused,
	        onLastFocusedInnerChanged: setLastFocusedInner,
	        onActiveElementChange: setActiveElement,
	        onLastActiveElementChange: setLastActiveElement,
	        onWindowFocusedChange: setWindowFocused
	    });
	    return (e$1("div", { class: "demo", children: [e$1("h2", { children: "useHasFocus" }), e$1("div", { ...useHasFocusProps({ style: { border: "1px solid black" }, tabIndex: 0 }), children: ["Outer ", e$1("div", { tabIndex: 0, style: { border: "1px solid black" }, children: "Inner element" })] }), e$1("div", { children: e$1("ul", { children: [e$1("li", { children: ["Strictly focused: ", focused.toString(), ", ", lastFocused.toString()] }), e$1("li", { children: ["Inner focused: ", focusedInner.toString(), ", ", lastFocusedInner.toString()] }), e$1("li", { children: ["Window focused: ", windowFocused.toString()] }), e$1("li", { children: ["activeElement: ", activeElement?.textContent] }), e$1("li", { children: ["lastActiveElement: ", lastActiveElement?.textContent] })] }) })] }));
	});
	const GridRowContext = D(null);
	const GridCellContext = D(null);
	const DemoUseGrid = g(() => {
	    const [, setLastFocusedInner, getLastFocusedInner] = useState(false);
	    const { useHasFocusProps } = useHasFocus({ onLastFocusedInnerChanged: setLastFocusedInner });
	    const { useGridNavigationRow, rowCount, cellIndex, rowIndex, useGridNavigationProps } = useGridNavigation({ shouldFocusOnChange: getLastFocusedInner });
	    return (e$1("div", { className: "demo", children: [e$1("div", { children: [cellIndex, "+", rowIndex, "/", rowCount] }), e$1("div", { ...useHasFocusProps(useGridNavigationProps({})), children: e$1(GridRowContext.Provider, { value: useGridNavigationRow, children: Array.from((function* () {
	                        for (let i = 0; i < 10; ++i) {
	                            yield e$1(DemoUseGridRow, { index: i }, i);
	                        }
	                    })()) }) })] }));
	});
	const DemoUseGridRow = g((({ index }) => {
	    useState(() => RandomWords[index /*Math.floor(Math.random() * (RandomWords.length - 1))*/]);
	    const useGridRow = T$1(GridRowContext);
	    const { isTabbableRow, cellCount, useGridNavigationRowProps, useGridNavigationCell, currentColumn } = useGridRow({ index });
	    const props = useGridNavigationRowProps({});
	    return (e$1("div", { ...props, children: [e$1("div", { children: [`${isTabbableRow}`, " (", currentColumn, "/", cellCount - 1, ")"] }), e$1("div", { style: "display: flex", children: e$1(GridCellContext.Provider, { value: useGridNavigationCell, children: Array.from((function* () {
	                        for (let i = 0; i < 3; ++i) {
	                            yield e$1(DemoUseGridCell, { index: i }, i);
	                        }
	                    })()) }) })] }));
	}));
	const DemoUseGridCell = (({ index }) => {
	    const useGridCell = T$1(GridCellContext);
	    const { useGridNavigationCellProps } = useGridCell({ index });
	    const props = useGridNavigationCellProps({});
	    if (index === 0)
	        return e$1("div", { ...props, children: ["Grid cell #", index + 1] });
	    else
	        return e$1("label", { children: [e$1("input", { ...props, type: "checkbox" }), " Test input"] });
	});
	const Component = () => {
	    return e$1("div", { class: "flex", style: { flexWrap: "wrap" }, children: [e$1(DemoFocus, {}), e$1("hr", {}), e$1(DemoUseGrid, {}), e$1("hr", {}), e$1(DemoUseTimeout, {}), e$1("hr", {}), e$1(DemoUseInterval, {}), e$1("hr", {}), e$1(DemoUseRovingTabIndex, {}), e$1("hr", {}), e$1(DemoUseFocusTrap, {}), e$1("hr", {}), e$1(DemoUseAsyncHandler1, {}), e$1("hr", {}), e$1(DemoUseAsyncHandler2, {}), e$1("hr", {}), e$1(DemoUseDroppable, {}), e$1("hr", {}), e$1(DemoUseDraggable, {}), e$1("hr", {}), e$1(DemoUseElementSizeAnimation, {}), e$1("hr", {}), e$1("input", {})] });
	};
	requestAnimationFrame(() => {
	    S$1(e$1(Component, {}), document.getElementById("root"));
	});

	exports.DemoUseGrid = DemoUseGrid;

	Object.defineProperty(exports, '__esModule', { value: true });

	return exports;

})({});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlcyI6WyJub2RlX21vZHVsZXMvcHJlYWN0L3NyYy91dGlsLmpzIiwibm9kZV9tb2R1bGVzL3ByZWFjdC9zcmMvb3B0aW9ucy5qcyIsIm5vZGVfbW9kdWxlcy9wcmVhY3Qvc3JjL2NyZWF0ZS1lbGVtZW50LmpzIiwibm9kZV9tb2R1bGVzL3ByZWFjdC9zcmMvY29tcG9uZW50LmpzIiwibm9kZV9tb2R1bGVzL3ByZWFjdC9zcmMvY3JlYXRlLWNvbnRleHQuanMiLCJub2RlX21vZHVsZXMvcHJlYWN0L3NyYy9jb25zdGFudHMuanMiLCJub2RlX21vZHVsZXMvcHJlYWN0L3NyYy9kaWZmL2NoaWxkcmVuLmpzIiwibm9kZV9tb2R1bGVzL3ByZWFjdC9zcmMvZGlmZi9wcm9wcy5qcyIsIm5vZGVfbW9kdWxlcy9wcmVhY3Qvc3JjL2RpZmYvaW5kZXguanMiLCJub2RlX21vZHVsZXMvcHJlYWN0L3NyYy9yZW5kZXIuanMiLCJub2RlX21vZHVsZXMvcHJlYWN0L3NyYy9kaWZmL2NhdGNoLWVycm9yLmpzIiwibm9kZV9tb2R1bGVzL3ByZWFjdC9qc3gtcnVudGltZS9zcmMvaW5kZXguanMiLCJub2RlX21vZHVsZXMvcHJlYWN0L2hvb2tzL3NyYy9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9wcmVhY3QvY29tcGF0L3NyYy91dGlsLmpzIiwibm9kZV9tb2R1bGVzL3ByZWFjdC9jb21wYXQvc3JjL1B1cmVDb21wb25lbnQuanMiLCJub2RlX21vZHVsZXMvcHJlYWN0L2NvbXBhdC9zcmMvbWVtby5qcyIsIm5vZGVfbW9kdWxlcy9wcmVhY3QvY29tcGF0L3NyYy9mb3J3YXJkUmVmLmpzIiwibm9kZV9tb2R1bGVzL3ByZWFjdC9jb21wYXQvc3JjL3N1c3BlbnNlLmpzIiwibm9kZV9tb2R1bGVzL3ByZWFjdC9jb21wYXQvc3JjL3N1c3BlbnNlLWxpc3QuanMiLCJub2RlX21vZHVsZXMvcHJlYWN0L2NvbXBhdC9zcmMvcmVuZGVyLmpzIiwiLi4vbm9kZV9tb2R1bGVzL2Nsc3gvZGlzdC9jbHN4Lm0uanMiLCIuLi9zcmMvdXNlLWRvY3VtZW50LWNsYXNzLnRzeCIsIi4uL3NyYy91c2UtcGFzc2l2ZS1zdGF0ZS50c3giLCIuLi9zcmMvdXNlLW1lcmdlZC1jaGlsZHJlbi50c3giLCIuLi9zcmMvdXNlLW1lcmdlZC1jbGFzc2VzLnRzeCIsIi4uL3NyYy91c2UtbWVyZ2VkLXJlZnMudHN4IiwiLi4vc3JjL3VzZS1tZXJnZWQtc3R5bGVzLnRzeCIsIi4uL3NyYy91c2UtbWVyZ2VkLXByb3BzLnRzeCIsIi4uL3NyYy91c2UtcmVmLWVsZW1lbnQudHN4IiwiLi4vc3JjL3VzZS1lbGVtZW50LXNpemUudHN4IiwiLi4vc3JjL3VzZS1sb2dpY2FsLWRpcmVjdGlvbi50c3giLCIuLi9zcmMvdXNlLXN0YXRlLnRzeCIsIi4uL3NyYy91c2UtcmFuZG9tLWlkLnRzeCIsIi4uL3NyYy91c2UtYmVmb3JlLWxheW91dC1lZmZlY3QudHN4IiwiLi4vc3JjL3VzZS1zdGFibGUtZ2V0dGVyLnRzeCIsIi4uL3NyYy91c2Utc3RhYmxlLWNhbGxiYWNrLnRzeCIsIi4uL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvaXNPYmplY3QuanMiLCIuLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19mcmVlR2xvYmFsLmpzIiwiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fcm9vdC5qcyIsIi4uL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvbm93LmpzIiwiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fdHJpbW1lZEVuZEluZGV4LmpzIiwiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fYmFzZVRyaW0uanMiLCIuLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19TeW1ib2wuanMiLCIuLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19nZXRSYXdUYWcuanMiLCIuLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19vYmplY3RUb1N0cmluZy5qcyIsIi4uL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvX2Jhc2VHZXRUYWcuanMiLCIuLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL2lzT2JqZWN0TGlrZS5qcyIsIi4uL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvaXNTeW1ib2wuanMiLCIuLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL3RvTnVtYmVyLmpzIiwiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9kZWJvdW5jZS5qcyIsIi4uL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvdGhyb3R0bGUuanMiLCIuLi9zcmMvdXNlLWFzeW5jLnRzeCIsIi4uL3NyYy91c2UtYXN5bmMtaGFuZGxlci50c3giLCIuLi9zcmMvdXNlLWVmZmVjdC50c3giLCIuLi9zcmMvdXNlLWxheW91dC1lZmZlY3QudHN4IiwiLi4vc3JjL3VzZS10aW1lb3V0LnRzeCIsIi4uL3NyYy91c2Uta2V5Ym9hcmQtbmF2aWdhdGlvbi50c3giLCIuLi9zcmMvdXNlLWNoaWxkLW1hbmFnZXIudHN4IiwiLi4vc3JjL3VzZS1mb3JjZS11cGRhdGUudHN4IiwiLi4vc3JjL3VzZS1yb3ZpbmctdGFiaW5kZXgudHN4IiwiLi4vc3JjL3VzZS1saXN0LW5hdmlnYXRpb24udHN4IiwiLi4vc3JjL3VzZS1ncmlkLW5hdmlnYXRpb24udHN4IiwiLi4vc3JjL3VzZS1hbmltYXRpb24tZnJhbWUudHN4IiwiLi4vc3JjL3VzZS1kcmFnZ2FibGUudHN4IiwiLi4vc3JjL3VzZS1kcm9wcGFibGUudHN4IiwiLi4vc3JjL3VzZS1hY3RpdmUtZWxlbWVudC50c3giLCIuLi9zcmMvdXNlLWhhcy1mb2N1cy50c3giLCIuLi9zcmMvdXNlLWludGVydmFsLnRzeCIsIi4uL25vZGVfbW9kdWxlcy90YWJiYWJsZS9zcmMvaW5kZXguanMiLCIuLi9ub2RlX21vZHVsZXMvd2ljZy1pbmVydC9kaXN0L2luZXJ0LmpzIiwiLi4vbm9kZV9tb2R1bGVzL2Jsb2NraW5nLWVsZW1lbnRzL3NyYy9ibG9ja2luZy1lbGVtZW50cy50cyIsIi4uL3NyYy91c2UtYmxvY2tpbmctZWxlbWVudC50c3giLCIuLi9zcmMvdXNlLWZvY3VzLXRyYXAudHN4IiwiZGVtb3MvdXNlLWludGVydmFsLnRzeCIsImRlbW9zL3VzZS1yb3ZpbmctdGFiLWluZGV4LnRzeCIsImRlbW9zL3VzZS10aW1lb3V0LnRzeCIsImluZGV4LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFTVBUWV9BUlIgfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcblxuLyoqXG4gKiBBc3NpZ24gcHJvcGVydGllcyBmcm9tIGBwcm9wc2AgdG8gYG9iamBcbiAqIEB0ZW1wbGF0ZSBPLCBQIFRoZSBvYmogYW5kIHByb3BzIHR5cGVzXG4gKiBAcGFyYW0ge099IG9iaiBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyB0b1xuICogQHBhcmFtIHtQfSBwcm9wcyBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyBmcm9tXG4gKiBAcmV0dXJucyB7TyAmIFB9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NpZ24ob2JqLCBwcm9wcykge1xuXHQvLyBAdHMtaWdub3JlIFdlIGNoYW5nZSB0aGUgdHlwZSBvZiBgb2JqYCB0byBiZSBgTyAmIFBgXG5cdGZvciAobGV0IGkgaW4gcHJvcHMpIG9ialtpXSA9IHByb3BzW2ldO1xuXHRyZXR1cm4gLyoqIEB0eXBlIHtPICYgUH0gKi8gKG9iaik7XG59XG5cbi8qKlxuICogUmVtb3ZlIGEgY2hpbGQgbm9kZSBmcm9tIGl0cyBwYXJlbnQgaWYgYXR0YWNoZWQuIFRoaXMgaXMgYSB3b3JrYXJvdW5kIGZvclxuICogSUUxMSB3aGljaCBkb2Vzbid0IHN1cHBvcnQgYEVsZW1lbnQucHJvdG90eXBlLnJlbW92ZSgpYC4gVXNpbmcgdGhpcyBmdW5jdGlvblxuICogaXMgc21hbGxlciB0aGFuIGluY2x1ZGluZyBhIGRlZGljYXRlZCBwb2x5ZmlsbC5cbiAqIEBwYXJhbSB7Tm9kZX0gbm9kZSBUaGUgbm9kZSB0byByZW1vdmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZU5vZGUobm9kZSkge1xuXHRsZXQgcGFyZW50Tm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcblx0aWYgKHBhcmVudE5vZGUpIHBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZSk7XG59XG5cbmV4cG9ydCBjb25zdCBzbGljZSA9IEVNUFRZX0FSUi5zbGljZTtcbiIsImltcG9ydCB7IF9jYXRjaEVycm9yIH0gZnJvbSAnLi9kaWZmL2NhdGNoLWVycm9yJztcblxuLyoqXG4gKiBUaGUgYG9wdGlvbmAgb2JqZWN0IGNhbiBwb3RlbnRpYWxseSBjb250YWluIGNhbGxiYWNrIGZ1bmN0aW9uc1xuICogdGhhdCBhcmUgY2FsbGVkIGR1cmluZyB2YXJpb3VzIHN0YWdlcyBvZiBvdXIgcmVuZGVyZXIuIFRoaXMgaXMgdGhlXG4gKiBmb3VuZGF0aW9uIG9uIHdoaWNoIGFsbCBvdXIgYWRkb25zIGxpa2UgYHByZWFjdC9kZWJ1Z2AsIGBwcmVhY3QvY29tcGF0YCxcbiAqIGFuZCBgcHJlYWN0L2hvb2tzYCBhcmUgYmFzZWQgb24uIFNlZSB0aGUgYE9wdGlvbnNgIHR5cGUgaW4gYGludGVybmFsLmQudHNgXG4gKiBmb3IgYSBmdWxsIGxpc3Qgb2YgYXZhaWxhYmxlIG9wdGlvbiBob29rcyAobW9zdCBlZGl0b3JzL0lERXMgYWxsb3cgeW91IHRvXG4gKiBjdHJsK2NsaWNrIG9yIGNtZCtjbGljayBvbiBtYWMgdGhlIHR5cGUgZGVmaW5pdGlvbiBiZWxvdykuXG4gKiBAdHlwZSB7aW1wb3J0KCcuL2ludGVybmFsJykuT3B0aW9uc31cbiAqL1xuY29uc3Qgb3B0aW9ucyA9IHtcblx0X2NhdGNoRXJyb3Jcbn07XG5cbmV4cG9ydCBkZWZhdWx0IG9wdGlvbnM7XG4iLCJpbXBvcnQgeyBzbGljZSB9IGZyb20gJy4vdXRpbCc7XG5pbXBvcnQgb3B0aW9ucyBmcm9tICcuL29wdGlvbnMnO1xuXG5sZXQgdm5vZGVJZCA9IDA7XG5cbi8qKlxuICogQ3JlYXRlIGFuIHZpcnR1YWwgbm9kZSAodXNlZCBmb3IgSlNYKVxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5WTm9kZVtcInR5cGVcIl19IHR5cGUgVGhlIG5vZGUgbmFtZSBvciBDb21wb25lbnRcbiAqIGNvbnN0cnVjdG9yIGZvciB0aGlzIHZpcnR1YWwgbm9kZVxuICogQHBhcmFtIHtvYmplY3QgfCBudWxsIHwgdW5kZWZpbmVkfSBbcHJvcHNdIFRoZSBwcm9wZXJ0aWVzIG9mIHRoZSB2aXJ0dWFsIG5vZGVcbiAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KCcuJykuQ29tcG9uZW50Q2hpbGRyZW4+fSBbY2hpbGRyZW5dIFRoZSBjaGlsZHJlbiBvZiB0aGUgdmlydHVhbCBub2RlXG4gKiBAcmV0dXJucyB7aW1wb3J0KCcuL2ludGVybmFsJykuVk5vZGV9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVFbGVtZW50KHR5cGUsIHByb3BzLCBjaGlsZHJlbikge1xuXHRsZXQgbm9ybWFsaXplZFByb3BzID0ge30sXG5cdFx0a2V5LFxuXHRcdHJlZixcblx0XHRpO1xuXHRmb3IgKGkgaW4gcHJvcHMpIHtcblx0XHRpZiAoaSA9PSAna2V5Jykga2V5ID0gcHJvcHNbaV07XG5cdFx0ZWxzZSBpZiAoaSA9PSAncmVmJykgcmVmID0gcHJvcHNbaV07XG5cdFx0ZWxzZSBub3JtYWxpemVkUHJvcHNbaV0gPSBwcm9wc1tpXTtcblx0fVxuXG5cdGlmIChhcmd1bWVudHMubGVuZ3RoID4gMikge1xuXHRcdG5vcm1hbGl6ZWRQcm9wcy5jaGlsZHJlbiA9XG5cdFx0XHRhcmd1bWVudHMubGVuZ3RoID4gMyA/IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKSA6IGNoaWxkcmVuO1xuXHR9XG5cblx0Ly8gSWYgYSBDb21wb25lbnQgVk5vZGUsIGNoZWNrIGZvciBhbmQgYXBwbHkgZGVmYXVsdFByb3BzXG5cdC8vIE5vdGU6IHR5cGUgbWF5IGJlIHVuZGVmaW5lZCBpbiBkZXZlbG9wbWVudCwgbXVzdCBuZXZlciBlcnJvciBoZXJlLlxuXHRpZiAodHlwZW9mIHR5cGUgPT0gJ2Z1bmN0aW9uJyAmJiB0eXBlLmRlZmF1bHRQcm9wcyAhPSBudWxsKSB7XG5cdFx0Zm9yIChpIGluIHR5cGUuZGVmYXVsdFByb3BzKSB7XG5cdFx0XHRpZiAobm9ybWFsaXplZFByb3BzW2ldID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0bm9ybWFsaXplZFByb3BzW2ldID0gdHlwZS5kZWZhdWx0UHJvcHNbaV07XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGNyZWF0ZVZOb2RlKHR5cGUsIG5vcm1hbGl6ZWRQcm9wcywga2V5LCByZWYsIG51bGwpO1xufVxuXG4vKipcbiAqIENyZWF0ZSBhIFZOb2RlICh1c2VkIGludGVybmFsbHkgYnkgUHJlYWN0KVxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5WTm9kZVtcInR5cGVcIl19IHR5cGUgVGhlIG5vZGUgbmFtZSBvciBDb21wb25lbnRcbiAqIENvbnN0cnVjdG9yIGZvciB0aGlzIHZpcnR1YWwgbm9kZVxuICogQHBhcmFtIHtvYmplY3QgfCBzdHJpbmcgfCBudW1iZXIgfCBudWxsfSBwcm9wcyBUaGUgcHJvcGVydGllcyBvZiB0aGlzIHZpcnR1YWwgbm9kZS5cbiAqIElmIHRoaXMgdmlydHVhbCBub2RlIHJlcHJlc2VudHMgYSB0ZXh0IG5vZGUsIHRoaXMgaXMgdGhlIHRleHQgb2YgdGhlIG5vZGUgKHN0cmluZyBvciBudW1iZXIpLlxuICogQHBhcmFtIHtzdHJpbmcgfCBudW1iZXIgfCBudWxsfSBrZXkgVGhlIGtleSBmb3IgdGhpcyB2aXJ0dWFsIG5vZGUsIHVzZWQgd2hlblxuICogZGlmZmluZyBpdCBhZ2FpbnN0IGl0cyBjaGlsZHJlblxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5WTm9kZVtcInJlZlwiXX0gcmVmIFRoZSByZWYgcHJvcGVydHkgdGhhdCB3aWxsXG4gKiByZWNlaXZlIGEgcmVmZXJlbmNlIHRvIGl0cyBjcmVhdGVkIGNoaWxkXG4gKiBAcmV0dXJucyB7aW1wb3J0KCcuL2ludGVybmFsJykuVk5vZGV9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVWTm9kZSh0eXBlLCBwcm9wcywga2V5LCByZWYsIG9yaWdpbmFsKSB7XG5cdC8vIFY4IHNlZW1zIHRvIGJlIGJldHRlciBhdCBkZXRlY3RpbmcgdHlwZSBzaGFwZXMgaWYgdGhlIG9iamVjdCBpcyBhbGxvY2F0ZWQgZnJvbSB0aGUgc2FtZSBjYWxsIHNpdGVcblx0Ly8gRG8gbm90IGlubGluZSBpbnRvIGNyZWF0ZUVsZW1lbnQgYW5kIGNvZXJjZVRvVk5vZGUhXG5cdGNvbnN0IHZub2RlID0ge1xuXHRcdHR5cGUsXG5cdFx0cHJvcHMsXG5cdFx0a2V5LFxuXHRcdHJlZixcblx0XHRfY2hpbGRyZW46IG51bGwsXG5cdFx0X3BhcmVudDogbnVsbCxcblx0XHRfZGVwdGg6IDAsXG5cdFx0X2RvbTogbnVsbCxcblx0XHQvLyBfbmV4dERvbSBtdXN0IGJlIGluaXRpYWxpemVkIHRvIHVuZGVmaW5lZCBiL2MgaXQgd2lsbCBldmVudHVhbGx5XG5cdFx0Ly8gYmUgc2V0IHRvIGRvbS5uZXh0U2libGluZyB3aGljaCBjYW4gcmV0dXJuIGBudWxsYCBhbmQgaXQgaXMgaW1wb3J0YW50XG5cdFx0Ly8gdG8gYmUgYWJsZSB0byBkaXN0aW5ndWlzaCBiZXR3ZWVuIGFuIHVuaW5pdGlhbGl6ZWQgX25leHREb20gYW5kXG5cdFx0Ly8gYSBfbmV4dERvbSB0aGF0IGhhcyBiZWVuIHNldCB0byBgbnVsbGBcblx0XHRfbmV4dERvbTogdW5kZWZpbmVkLFxuXHRcdF9jb21wb25lbnQ6IG51bGwsXG5cdFx0X2h5ZHJhdGluZzogbnVsbCxcblx0XHRjb25zdHJ1Y3RvcjogdW5kZWZpbmVkLFxuXHRcdF9vcmlnaW5hbDogb3JpZ2luYWwgPT0gbnVsbCA/ICsrdm5vZGVJZCA6IG9yaWdpbmFsXG5cdH07XG5cblx0Ly8gT25seSBpbnZva2UgdGhlIHZub2RlIGhvb2sgaWYgdGhpcyB3YXMgKm5vdCogYSBkaXJlY3QgY29weTpcblx0aWYgKG9yaWdpbmFsID09IG51bGwgJiYgb3B0aW9ucy52bm9kZSAhPSBudWxsKSBvcHRpb25zLnZub2RlKHZub2RlKTtcblxuXHRyZXR1cm4gdm5vZGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVSZWYoKSB7XG5cdHJldHVybiB7IGN1cnJlbnQ6IG51bGwgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEZyYWdtZW50KHByb3BzKSB7XG5cdHJldHVybiBwcm9wcy5jaGlsZHJlbjtcbn1cblxuLyoqXG4gKiBDaGVjayBpZiBhIHRoZSBhcmd1bWVudCBpcyBhIHZhbGlkIFByZWFjdCBWTm9kZS5cbiAqIEBwYXJhbSB7Kn0gdm5vZGVcbiAqIEByZXR1cm5zIHt2bm9kZSBpcyBpbXBvcnQoJy4vaW50ZXJuYWwnKS5WTm9kZX1cbiAqL1xuZXhwb3J0IGNvbnN0IGlzVmFsaWRFbGVtZW50ID0gdm5vZGUgPT5cblx0dm5vZGUgIT0gbnVsbCAmJiB2bm9kZS5jb25zdHJ1Y3RvciA9PT0gdW5kZWZpbmVkO1xuIiwiaW1wb3J0IHsgYXNzaWduIH0gZnJvbSAnLi91dGlsJztcbmltcG9ydCB7IGRpZmYsIGNvbW1pdFJvb3QgfSBmcm9tICcuL2RpZmYvaW5kZXgnO1xuaW1wb3J0IG9wdGlvbnMgZnJvbSAnLi9vcHRpb25zJztcbmltcG9ydCB7IEZyYWdtZW50IH0gZnJvbSAnLi9jcmVhdGUtZWxlbWVudCc7XG5cbi8qKlxuICogQmFzZSBDb21wb25lbnQgY2xhc3MuIFByb3ZpZGVzIGBzZXRTdGF0ZSgpYCBhbmQgYGZvcmNlVXBkYXRlKClgLCB3aGljaFxuICogdHJpZ2dlciByZW5kZXJpbmdcbiAqIEBwYXJhbSB7b2JqZWN0fSBwcm9wcyBUaGUgaW5pdGlhbCBjb21wb25lbnQgcHJvcHNcbiAqIEBwYXJhbSB7b2JqZWN0fSBjb250ZXh0IFRoZSBpbml0aWFsIGNvbnRleHQgZnJvbSBwYXJlbnQgY29tcG9uZW50cydcbiAqIGdldENoaWxkQ29udGV4dFxuICovXG5leHBvcnQgZnVuY3Rpb24gQ29tcG9uZW50KHByb3BzLCBjb250ZXh0KSB7XG5cdHRoaXMucHJvcHMgPSBwcm9wcztcblx0dGhpcy5jb250ZXh0ID0gY29udGV4dDtcbn1cblxuLyoqXG4gKiBVcGRhdGUgY29tcG9uZW50IHN0YXRlIGFuZCBzY2hlZHVsZSBhIHJlLXJlbmRlci5cbiAqIEB0aGlzIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5Db21wb25lbnR9XG4gKiBAcGFyYW0ge29iamVjdCB8ICgoczogb2JqZWN0LCBwOiBvYmplY3QpID0+IG9iamVjdCl9IHVwZGF0ZSBBIGhhc2ggb2Ygc3RhdGVcbiAqIHByb3BlcnRpZXMgdG8gdXBkYXRlIHdpdGggbmV3IHZhbHVlcyBvciBhIGZ1bmN0aW9uIHRoYXQgZ2l2ZW4gdGhlIGN1cnJlbnRcbiAqIHN0YXRlIGFuZCBwcm9wcyByZXR1cm5zIGEgbmV3IHBhcnRpYWwgc3RhdGVcbiAqIEBwYXJhbSB7KCkgPT4gdm9pZH0gW2NhbGxiYWNrXSBBIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBvbmNlIGNvbXBvbmVudCBzdGF0ZSBpc1xuICogdXBkYXRlZFxuICovXG5Db21wb25lbnQucHJvdG90eXBlLnNldFN0YXRlID0gZnVuY3Rpb24odXBkYXRlLCBjYWxsYmFjaykge1xuXHQvLyBvbmx5IGNsb25lIHN0YXRlIHdoZW4gY29weWluZyB0byBuZXh0U3RhdGUgdGhlIGZpcnN0IHRpbWUuXG5cdGxldCBzO1xuXHRpZiAodGhpcy5fbmV4dFN0YXRlICE9IG51bGwgJiYgdGhpcy5fbmV4dFN0YXRlICE9PSB0aGlzLnN0YXRlKSB7XG5cdFx0cyA9IHRoaXMuX25leHRTdGF0ZTtcblx0fSBlbHNlIHtcblx0XHRzID0gdGhpcy5fbmV4dFN0YXRlID0gYXNzaWduKHt9LCB0aGlzLnN0YXRlKTtcblx0fVxuXG5cdGlmICh0eXBlb2YgdXBkYXRlID09ICdmdW5jdGlvbicpIHtcblx0XHQvLyBTb21lIGxpYnJhcmllcyBsaWtlIGBpbW1lcmAgbWFyayB0aGUgY3VycmVudCBzdGF0ZSBhcyByZWFkb25seSxcblx0XHQvLyBwcmV2ZW50aW5nIHVzIGZyb20gbXV0YXRpbmcgaXQsIHNvIHdlIG5lZWQgdG8gY2xvbmUgaXQuIFNlZSAjMjcxNlxuXHRcdHVwZGF0ZSA9IHVwZGF0ZShhc3NpZ24oe30sIHMpLCB0aGlzLnByb3BzKTtcblx0fVxuXG5cdGlmICh1cGRhdGUpIHtcblx0XHRhc3NpZ24ocywgdXBkYXRlKTtcblx0fVxuXG5cdC8vIFNraXAgdXBkYXRlIGlmIHVwZGF0ZXIgZnVuY3Rpb24gcmV0dXJuZWQgbnVsbFxuXHRpZiAodXBkYXRlID09IG51bGwpIHJldHVybjtcblxuXHRpZiAodGhpcy5fdm5vZGUpIHtcblx0XHRpZiAoY2FsbGJhY2spIHRoaXMuX3JlbmRlckNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcblx0XHRlbnF1ZXVlUmVuZGVyKHRoaXMpO1xuXHR9XG59O1xuXG4vKipcbiAqIEltbWVkaWF0ZWx5IHBlcmZvcm0gYSBzeW5jaHJvbm91cyByZS1yZW5kZXIgb2YgdGhlIGNvbXBvbmVudFxuICogQHRoaXMge2ltcG9ydCgnLi9pbnRlcm5hbCcpLkNvbXBvbmVudH1cbiAqIEBwYXJhbSB7KCkgPT4gdm9pZH0gW2NhbGxiYWNrXSBBIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBhZnRlciBjb21wb25lbnQgaXNcbiAqIHJlLXJlbmRlcmVkXG4gKi9cbkNvbXBvbmVudC5wcm90b3R5cGUuZm9yY2VVcGRhdGUgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuXHRpZiAodGhpcy5fdm5vZGUpIHtcblx0XHQvLyBTZXQgcmVuZGVyIG1vZGUgc28gdGhhdCB3ZSBjYW4gZGlmZmVyZW50aWF0ZSB3aGVyZSB0aGUgcmVuZGVyIHJlcXVlc3Rcblx0XHQvLyBpcyBjb21pbmcgZnJvbS4gV2UgbmVlZCB0aGlzIGJlY2F1c2UgZm9yY2VVcGRhdGUgc2hvdWxkIG5ldmVyIGNhbGxcblx0XHQvLyBzaG91bGRDb21wb25lbnRVcGRhdGVcblx0XHR0aGlzLl9mb3JjZSA9IHRydWU7XG5cdFx0aWYgKGNhbGxiYWNrKSB0aGlzLl9yZW5kZXJDYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG5cdFx0ZW5xdWV1ZVJlbmRlcih0aGlzKTtcblx0fVxufTtcblxuLyoqXG4gKiBBY2NlcHRzIGBwcm9wc2AgYW5kIGBzdGF0ZWAsIGFuZCByZXR1cm5zIGEgbmV3IFZpcnR1YWwgRE9NIHRyZWUgdG8gYnVpbGQuXG4gKiBWaXJ0dWFsIERPTSBpcyBnZW5lcmFsbHkgY29uc3RydWN0ZWQgdmlhIFtKU1hdKGh0dHA6Ly9qYXNvbmZvcm1hdC5jb20vd3RmLWlzLWpzeCkuXG4gKiBAcGFyYW0ge29iamVjdH0gcHJvcHMgUHJvcHMgKGVnOiBKU1ggYXR0cmlidXRlcykgcmVjZWl2ZWQgZnJvbSBwYXJlbnRcbiAqIGVsZW1lbnQvY29tcG9uZW50XG4gKiBAcGFyYW0ge29iamVjdH0gc3RhdGUgVGhlIGNvbXBvbmVudCdzIGN1cnJlbnQgc3RhdGVcbiAqIEBwYXJhbSB7b2JqZWN0fSBjb250ZXh0IENvbnRleHQgb2JqZWN0LCBhcyByZXR1cm5lZCBieSB0aGUgbmVhcmVzdFxuICogYW5jZXN0b3IncyBgZ2V0Q2hpbGRDb250ZXh0KClgXG4gKiBAcmV0dXJucyB7aW1wb3J0KCcuL2luZGV4JykuQ29tcG9uZW50Q2hpbGRyZW4gfCB2b2lkfVxuICovXG5Db21wb25lbnQucHJvdG90eXBlLnJlbmRlciA9IEZyYWdtZW50O1xuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2ludGVybmFsJykuVk5vZGV9IHZub2RlXG4gKiBAcGFyYW0ge251bWJlciB8IG51bGx9IFtjaGlsZEluZGV4XVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RG9tU2libGluZyh2bm9kZSwgY2hpbGRJbmRleCkge1xuXHRpZiAoY2hpbGRJbmRleCA9PSBudWxsKSB7XG5cdFx0Ly8gVXNlIGNoaWxkSW5kZXg9PW51bGwgYXMgYSBzaWduYWwgdG8gcmVzdW1lIHRoZSBzZWFyY2ggZnJvbSB0aGUgdm5vZGUncyBzaWJsaW5nXG5cdFx0cmV0dXJuIHZub2RlLl9wYXJlbnRcblx0XHRcdD8gZ2V0RG9tU2libGluZyh2bm9kZS5fcGFyZW50LCB2bm9kZS5fcGFyZW50Ll9jaGlsZHJlbi5pbmRleE9mKHZub2RlKSArIDEpXG5cdFx0XHQ6IG51bGw7XG5cdH1cblxuXHRsZXQgc2libGluZztcblx0Zm9yICg7IGNoaWxkSW5kZXggPCB2bm9kZS5fY2hpbGRyZW4ubGVuZ3RoOyBjaGlsZEluZGV4KyspIHtcblx0XHRzaWJsaW5nID0gdm5vZGUuX2NoaWxkcmVuW2NoaWxkSW5kZXhdO1xuXG5cdFx0aWYgKHNpYmxpbmcgIT0gbnVsbCAmJiBzaWJsaW5nLl9kb20gIT0gbnVsbCkge1xuXHRcdFx0Ly8gU2luY2UgdXBkYXRlUGFyZW50RG9tUG9pbnRlcnMga2VlcHMgX2RvbSBwb2ludGVyIGNvcnJlY3QsXG5cdFx0XHQvLyB3ZSBjYW4gcmVseSBvbiBfZG9tIHRvIHRlbGwgdXMgaWYgdGhpcyBzdWJ0cmVlIGNvbnRhaW5zIGFcblx0XHRcdC8vIHJlbmRlcmVkIERPTSBub2RlLCBhbmQgd2hhdCB0aGUgZmlyc3QgcmVuZGVyZWQgRE9NIG5vZGUgaXNcblx0XHRcdHJldHVybiBzaWJsaW5nLl9kb207XG5cdFx0fVxuXHR9XG5cblx0Ly8gSWYgd2UgZ2V0IGhlcmUsIHdlIGhhdmUgbm90IGZvdW5kIGEgRE9NIG5vZGUgaW4gdGhpcyB2bm9kZSdzIGNoaWxkcmVuLlxuXHQvLyBXZSBtdXN0IHJlc3VtZSBmcm9tIHRoaXMgdm5vZGUncyBzaWJsaW5nIChpbiBpdCdzIHBhcmVudCBfY2hpbGRyZW4gYXJyYXkpXG5cdC8vIE9ubHkgY2xpbWIgdXAgYW5kIHNlYXJjaCB0aGUgcGFyZW50IGlmIHdlIGFyZW4ndCBzZWFyY2hpbmcgdGhyb3VnaCBhIERPTVxuXHQvLyBWTm9kZSAobWVhbmluZyB3ZSByZWFjaGVkIHRoZSBET00gcGFyZW50IG9mIHRoZSBvcmlnaW5hbCB2bm9kZSB0aGF0IGJlZ2FuXG5cdC8vIHRoZSBzZWFyY2gpXG5cdHJldHVybiB0eXBlb2Ygdm5vZGUudHlwZSA9PSAnZnVuY3Rpb24nID8gZ2V0RG9tU2libGluZyh2bm9kZSkgOiBudWxsO1xufVxuXG4vKipcbiAqIFRyaWdnZXIgaW4tcGxhY2UgcmUtcmVuZGVyaW5nIG9mIGEgY29tcG9uZW50LlxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5Db21wb25lbnR9IGNvbXBvbmVudCBUaGUgY29tcG9uZW50IHRvIHJlcmVuZGVyXG4gKi9cbmZ1bmN0aW9uIHJlbmRlckNvbXBvbmVudChjb21wb25lbnQpIHtcblx0bGV0IHZub2RlID0gY29tcG9uZW50Ll92bm9kZSxcblx0XHRvbGREb20gPSB2bm9kZS5fZG9tLFxuXHRcdHBhcmVudERvbSA9IGNvbXBvbmVudC5fcGFyZW50RG9tO1xuXG5cdGlmIChwYXJlbnREb20pIHtcblx0XHRsZXQgY29tbWl0UXVldWUgPSBbXTtcblx0XHRjb25zdCBvbGRWTm9kZSA9IGFzc2lnbih7fSwgdm5vZGUpO1xuXHRcdG9sZFZOb2RlLl9vcmlnaW5hbCA9IHZub2RlLl9vcmlnaW5hbCArIDE7XG5cblx0XHRkaWZmKFxuXHRcdFx0cGFyZW50RG9tLFxuXHRcdFx0dm5vZGUsXG5cdFx0XHRvbGRWTm9kZSxcblx0XHRcdGNvbXBvbmVudC5fZ2xvYmFsQ29udGV4dCxcblx0XHRcdHBhcmVudERvbS5vd25lclNWR0VsZW1lbnQgIT09IHVuZGVmaW5lZCxcblx0XHRcdHZub2RlLl9oeWRyYXRpbmcgIT0gbnVsbCA/IFtvbGREb21dIDogbnVsbCxcblx0XHRcdGNvbW1pdFF1ZXVlLFxuXHRcdFx0b2xkRG9tID09IG51bGwgPyBnZXREb21TaWJsaW5nKHZub2RlKSA6IG9sZERvbSxcblx0XHRcdHZub2RlLl9oeWRyYXRpbmdcblx0XHQpO1xuXHRcdGNvbW1pdFJvb3QoY29tbWl0UXVldWUsIHZub2RlKTtcblxuXHRcdGlmICh2bm9kZS5fZG9tICE9IG9sZERvbSkge1xuXHRcdFx0dXBkYXRlUGFyZW50RG9tUG9pbnRlcnModm5vZGUpO1xuXHRcdH1cblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2ludGVybmFsJykuVk5vZGV9IHZub2RlXG4gKi9cbmZ1bmN0aW9uIHVwZGF0ZVBhcmVudERvbVBvaW50ZXJzKHZub2RlKSB7XG5cdGlmICgodm5vZGUgPSB2bm9kZS5fcGFyZW50KSAhPSBudWxsICYmIHZub2RlLl9jb21wb25lbnQgIT0gbnVsbCkge1xuXHRcdHZub2RlLl9kb20gPSB2bm9kZS5fY29tcG9uZW50LmJhc2UgPSBudWxsO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdm5vZGUuX2NoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRsZXQgY2hpbGQgPSB2bm9kZS5fY2hpbGRyZW5baV07XG5cdFx0XHRpZiAoY2hpbGQgIT0gbnVsbCAmJiBjaGlsZC5fZG9tICE9IG51bGwpIHtcblx0XHRcdFx0dm5vZGUuX2RvbSA9IHZub2RlLl9jb21wb25lbnQuYmFzZSA9IGNoaWxkLl9kb207XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB1cGRhdGVQYXJlbnREb21Qb2ludGVycyh2bm9kZSk7XG5cdH1cbn1cblxuLyoqXG4gKiBUaGUgcmVuZGVyIHF1ZXVlXG4gKiBAdHlwZSB7QXJyYXk8aW1wb3J0KCcuL2ludGVybmFsJykuQ29tcG9uZW50Pn1cbiAqL1xubGV0IHJlcmVuZGVyUXVldWUgPSBbXTtcblxuLyoqXG4gKiBBc3luY2hyb25vdXNseSBzY2hlZHVsZSBhIGNhbGxiYWNrXG4gKiBAdHlwZSB7KGNiOiAoKSA9PiB2b2lkKSA9PiB2b2lkfVxuICovXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuLy8gTm90ZSB0aGUgZm9sbG93aW5nIGxpbmUgaXNuJ3QgdHJlZS1zaGFrZW4gYnkgcm9sbHVwIGN1eiBvZiByb2xsdXAvcm9sbHVwIzI1NjZcbmNvbnN0IGRlZmVyID1cblx0dHlwZW9mIFByb21pc2UgPT0gJ2Z1bmN0aW9uJ1xuXHRcdD8gUHJvbWlzZS5wcm90b3R5cGUudGhlbi5iaW5kKFByb21pc2UucmVzb2x2ZSgpKVxuXHRcdDogc2V0VGltZW91dDtcblxuLypcbiAqIFRoZSB2YWx1ZSBvZiBgQ29tcG9uZW50LmRlYm91bmNlYCBtdXN0IGFzeW5jaHJvbm91c2x5IGludm9rZSB0aGUgcGFzc2VkIGluIGNhbGxiYWNrLiBJdCBpc1xuICogaW1wb3J0YW50IHRoYXQgY29udHJpYnV0b3JzIHRvIFByZWFjdCBjYW4gY29uc2lzdGVudGx5IHJlYXNvbiBhYm91dCB3aGF0IGNhbGxzIHRvIGBzZXRTdGF0ZWAsIGV0Yy5cbiAqIGRvLCBhbmQgd2hlbiB0aGVpciBlZmZlY3RzIHdpbGwgYmUgYXBwbGllZC4gU2VlIHRoZSBsaW5rcyBiZWxvdyBmb3Igc29tZSBmdXJ0aGVyIHJlYWRpbmcgb24gZGVzaWduaW5nXG4gKiBhc3luY2hyb25vdXMgQVBJcy5cbiAqICogW0Rlc2lnbmluZyBBUElzIGZvciBBc3luY2hyb255XShodHRwczovL2Jsb2cuaXpzLm1lLzIwMTMvMDgvZGVzaWduaW5nLWFwaXMtZm9yLWFzeW5jaHJvbnkpXG4gKiAqIFtDYWxsYmFja3Mgc3luY2hyb25vdXMgYW5kIGFzeW5jaHJvbm91c10oaHR0cHM6Ly9ibG9nLm9tZXRlci5jb20vMjAxMS8wNy8yNC9jYWxsYmFja3Mtc3luY2hyb25vdXMtYW5kLWFzeW5jaHJvbm91cy8pXG4gKi9cblxubGV0IHByZXZEZWJvdW5jZTtcblxuLyoqXG4gKiBFbnF1ZXVlIGEgcmVyZW5kZXIgb2YgYSBjb21wb25lbnRcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2ludGVybmFsJykuQ29tcG9uZW50fSBjIFRoZSBjb21wb25lbnQgdG8gcmVyZW5kZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVucXVldWVSZW5kZXIoYykge1xuXHRpZiAoXG5cdFx0KCFjLl9kaXJ0eSAmJlxuXHRcdFx0KGMuX2RpcnR5ID0gdHJ1ZSkgJiZcblx0XHRcdHJlcmVuZGVyUXVldWUucHVzaChjKSAmJlxuXHRcdFx0IXByb2Nlc3MuX3JlcmVuZGVyQ291bnQrKykgfHxcblx0XHRwcmV2RGVib3VuY2UgIT09IG9wdGlvbnMuZGVib3VuY2VSZW5kZXJpbmdcblx0KSB7XG5cdFx0cHJldkRlYm91bmNlID0gb3B0aW9ucy5kZWJvdW5jZVJlbmRlcmluZztcblx0XHQocHJldkRlYm91bmNlIHx8IGRlZmVyKShwcm9jZXNzKTtcblx0fVxufVxuXG4vKiogRmx1c2ggdGhlIHJlbmRlciBxdWV1ZSBieSByZXJlbmRlcmluZyBhbGwgcXVldWVkIGNvbXBvbmVudHMgKi9cbmZ1bmN0aW9uIHByb2Nlc3MoKSB7XG5cdGxldCBxdWV1ZTtcblx0d2hpbGUgKChwcm9jZXNzLl9yZXJlbmRlckNvdW50ID0gcmVyZW5kZXJRdWV1ZS5sZW5ndGgpKSB7XG5cdFx0cXVldWUgPSByZXJlbmRlclF1ZXVlLnNvcnQoKGEsIGIpID0+IGEuX3Zub2RlLl9kZXB0aCAtIGIuX3Zub2RlLl9kZXB0aCk7XG5cdFx0cmVyZW5kZXJRdWV1ZSA9IFtdO1xuXHRcdC8vIERvbid0IHVwZGF0ZSBgcmVuZGVyQ291bnRgIHlldC4gS2VlcCBpdHMgdmFsdWUgbm9uLXplcm8gdG8gcHJldmVudCB1bm5lY2Vzc2FyeVxuXHRcdC8vIHByb2Nlc3MoKSBjYWxscyBmcm9tIGdldHRpbmcgc2NoZWR1bGVkIHdoaWxlIGBxdWV1ZWAgaXMgc3RpbGwgYmVpbmcgY29uc3VtZWQuXG5cdFx0cXVldWUuc29tZShjID0+IHtcblx0XHRcdGlmIChjLl9kaXJ0eSkgcmVuZGVyQ29tcG9uZW50KGMpO1xuXHRcdH0pO1xuXHR9XG59XG5wcm9jZXNzLl9yZXJlbmRlckNvdW50ID0gMDtcbiIsImltcG9ydCB7IGVucXVldWVSZW5kZXIgfSBmcm9tICcuL2NvbXBvbmVudCc7XG5cbmV4cG9ydCBsZXQgaSA9IDA7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDb250ZXh0KGRlZmF1bHRWYWx1ZSwgY29udGV4dElkKSB7XG5cdGNvbnRleHRJZCA9ICdfX2NDJyArIGkrKztcblxuXHRjb25zdCBjb250ZXh0ID0ge1xuXHRcdF9pZDogY29udGV4dElkLFxuXHRcdF9kZWZhdWx0VmFsdWU6IGRlZmF1bHRWYWx1ZSxcblx0XHQvKiogQHR5cGUge2ltcG9ydCgnLi9pbnRlcm5hbCcpLkZ1bmN0aW9uQ29tcG9uZW50fSAqL1xuXHRcdENvbnN1bWVyKHByb3BzLCBjb250ZXh0VmFsdWUpIHtcblx0XHRcdC8vIHJldHVybiBwcm9wcy5jaGlsZHJlbihcblx0XHRcdC8vIFx0Y29udGV4dFtjb250ZXh0SWRdID8gY29udGV4dFtjb250ZXh0SWRdLnByb3BzLnZhbHVlIDogZGVmYXVsdFZhbHVlXG5cdFx0XHQvLyApO1xuXHRcdFx0cmV0dXJuIHByb3BzLmNoaWxkcmVuKGNvbnRleHRWYWx1ZSk7XG5cdFx0fSxcblx0XHQvKiogQHR5cGUge2ltcG9ydCgnLi9pbnRlcm5hbCcpLkZ1bmN0aW9uQ29tcG9uZW50fSAqL1xuXHRcdFByb3ZpZGVyKHByb3BzKSB7XG5cdFx0XHRpZiAoIXRoaXMuZ2V0Q2hpbGRDb250ZXh0KSB7XG5cdFx0XHRcdGxldCBzdWJzID0gW107XG5cdFx0XHRcdGxldCBjdHggPSB7fTtcblx0XHRcdFx0Y3R4W2NvbnRleHRJZF0gPSB0aGlzO1xuXG5cdFx0XHRcdHRoaXMuZ2V0Q2hpbGRDb250ZXh0ID0gKCkgPT4gY3R4O1xuXG5cdFx0XHRcdHRoaXMuc2hvdWxkQ29tcG9uZW50VXBkYXRlID0gZnVuY3Rpb24oX3Byb3BzKSB7XG5cdFx0XHRcdFx0aWYgKHRoaXMucHJvcHMudmFsdWUgIT09IF9wcm9wcy52YWx1ZSkge1xuXHRcdFx0XHRcdFx0Ly8gSSB0aGluayB0aGUgZm9yY2VkIHZhbHVlIHByb3BhZ2F0aW9uIGhlcmUgd2FzIG9ubHkgbmVlZGVkIHdoZW4gYG9wdGlvbnMuZGVib3VuY2VSZW5kZXJpbmdgIHdhcyBiZWluZyBieXBhc3NlZDpcblx0XHRcdFx0XHRcdC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9wcmVhY3Rqcy9wcmVhY3QvY29tbWl0LzRkMzM5ZmI4MDNiZWEwOWU5ZjE5OGFiZjM4Y2ExYmY4ZWE0Yjc3NzEjZGlmZi01NDY4MmNlMzgwOTM1YTcxN2U0MWI4YmZjNTQ3MzdmNlIzNThcblx0XHRcdFx0XHRcdC8vIEluIHRob3NlIGNhc2VzIHRob3VnaCwgZXZlbiB3aXRoIHRoZSB2YWx1ZSBjb3JyZWN0ZWQsIHdlJ3JlIGRvdWJsZS1yZW5kZXJpbmcgYWxsIG5vZGVzLlxuXHRcdFx0XHRcdFx0Ly8gSXQgbWlnaHQgYmUgYmV0dGVyIHRvIGp1c3QgdGVsbCBmb2xrcyBub3QgdG8gdXNlIGZvcmNlLXN5bmMgbW9kZS5cblx0XHRcdFx0XHRcdC8vIEN1cnJlbnRseSwgdXNpbmcgYHVzZUNvbnRleHQoKWAgaW4gYSBjbGFzcyBjb21wb25lbnQgd2lsbCBvdmVyd3JpdGUgaXRzIGB0aGlzLmNvbnRleHRgIHZhbHVlLlxuXHRcdFx0XHRcdFx0Ly8gc3Vicy5zb21lKGMgPT4ge1xuXHRcdFx0XHRcdFx0Ly8gXHRjLmNvbnRleHQgPSBfcHJvcHMudmFsdWU7XG5cdFx0XHRcdFx0XHQvLyBcdGVucXVldWVSZW5kZXIoYyk7XG5cdFx0XHRcdFx0XHQvLyB9KTtcblxuXHRcdFx0XHRcdFx0Ly8gc3Vicy5zb21lKGMgPT4ge1xuXHRcdFx0XHRcdFx0Ly8gXHRjLmNvbnRleHRbY29udGV4dElkXSA9IF9wcm9wcy52YWx1ZTtcblx0XHRcdFx0XHRcdC8vIFx0ZW5xdWV1ZVJlbmRlcihjKTtcblx0XHRcdFx0XHRcdC8vIH0pO1xuXHRcdFx0XHRcdFx0c3Vicy5zb21lKGVucXVldWVSZW5kZXIpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fTtcblxuXHRcdFx0XHR0aGlzLnN1YiA9IGMgPT4ge1xuXHRcdFx0XHRcdHN1YnMucHVzaChjKTtcblx0XHRcdFx0XHRsZXQgb2xkID0gYy5jb21wb25lbnRXaWxsVW5tb3VudDtcblx0XHRcdFx0XHRjLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gKCkgPT4ge1xuXHRcdFx0XHRcdFx0c3Vicy5zcGxpY2Uoc3Vicy5pbmRleE9mKGMpLCAxKTtcblx0XHRcdFx0XHRcdGlmIChvbGQpIG9sZC5jYWxsKGMpO1xuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH07XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBwcm9wcy5jaGlsZHJlbjtcblx0XHR9XG5cdH07XG5cblx0Ly8gRGV2dG9vbHMgbmVlZHMgYWNjZXNzIHRvIHRoZSBjb250ZXh0IG9iamVjdCB3aGVuIGl0XG5cdC8vIGVuY291bnRlcnMgYSBQcm92aWRlci4gVGhpcyBpcyBuZWNlc3NhcnkgdG8gc3VwcG9ydFxuXHQvLyBzZXR0aW5nIGBkaXNwbGF5TmFtZWAgb24gdGhlIGNvbnRleHQgb2JqZWN0IGluc3RlYWRcblx0Ly8gb2Ygb24gdGhlIGNvbXBvbmVudCBpdHNlbGYuIFNlZTpcblx0Ly8gaHR0cHM6Ly9yZWFjdGpzLm9yZy9kb2NzL2NvbnRleHQuaHRtbCNjb250ZXh0ZGlzcGxheW5hbWVcblxuXHRyZXR1cm4gKGNvbnRleHQuUHJvdmlkZXIuX2NvbnRleHRSZWYgPSBjb250ZXh0LkNvbnN1bWVyLmNvbnRleHRUeXBlID0gY29udGV4dCk7XG59XG4iLCJleHBvcnQgY29uc3QgRU1QVFlfT0JKID0ge307XG5leHBvcnQgY29uc3QgRU1QVFlfQVJSID0gW107XG5leHBvcnQgY29uc3QgSVNfTk9OX0RJTUVOU0lPTkFMID0gL2FjaXR8ZXgoPzpzfGd8bnxwfCQpfHJwaHxncmlkfG93c3xtbmN8bnR3fGluZVtjaF18em9vfF5vcmR8aXRlcmEvaTtcbiIsImltcG9ydCB7IGRpZmYsIHVubW91bnQsIGFwcGx5UmVmIH0gZnJvbSAnLi9pbmRleCc7XG5pbXBvcnQgeyBjcmVhdGVWTm9kZSwgRnJhZ21lbnQgfSBmcm9tICcuLi9jcmVhdGUtZWxlbWVudCc7XG5pbXBvcnQgeyBFTVBUWV9PQkosIEVNUFRZX0FSUiB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBnZXREb21TaWJsaW5nIH0gZnJvbSAnLi4vY29tcG9uZW50JztcblxuLyoqXG4gKiBEaWZmIHRoZSBjaGlsZHJlbiBvZiBhIHZpcnR1YWwgbm9kZVxuICogQHBhcmFtIHtpbXBvcnQoJy4uL2ludGVybmFsJykuUHJlYWN0RWxlbWVudH0gcGFyZW50RG9tIFRoZSBET00gZWxlbWVudCB3aG9zZVxuICogY2hpbGRyZW4gYXJlIGJlaW5nIGRpZmZlZFxuICogQHBhcmFtIHtpbXBvcnQoJy4uL2ludGVybmFsJykuQ29tcG9uZW50Q2hpbGRyZW5bXX0gcmVuZGVyUmVzdWx0XG4gKiBAcGFyYW0ge2ltcG9ydCgnLi4vaW50ZXJuYWwnKS5WTm9kZX0gbmV3UGFyZW50Vk5vZGUgVGhlIG5ldyB2aXJ0dWFsXG4gKiBub2RlIHdob3NlIGNoaWxkcmVuIHNob3VsZCBiZSBkaWZmJ2VkIGFnYWluc3Qgb2xkUGFyZW50Vk5vZGVcbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9pbnRlcm5hbCcpLlZOb2RlfSBvbGRQYXJlbnRWTm9kZSBUaGUgb2xkIHZpcnR1YWxcbiAqIG5vZGUgd2hvc2UgY2hpbGRyZW4gc2hvdWxkIGJlIGRpZmYnZWQgYWdhaW5zdCBuZXdQYXJlbnRWTm9kZVxuICogQHBhcmFtIHtvYmplY3R9IGdsb2JhbENvbnRleHQgVGhlIGN1cnJlbnQgY29udGV4dCBvYmplY3QgLSBtb2RpZmllZCBieSBnZXRDaGlsZENvbnRleHRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNTdmcgV2hldGhlciBvciBub3QgdGhpcyBET00gbm9kZSBpcyBhbiBTVkcgbm9kZVxuICogQHBhcmFtIHtBcnJheTxpbXBvcnQoJy4uL2ludGVybmFsJykuUHJlYWN0RWxlbWVudD59IGV4Y2Vzc0RvbUNoaWxkcmVuXG4gKiBAcGFyYW0ge0FycmF5PGltcG9ydCgnLi4vaW50ZXJuYWwnKS5Db21wb25lbnQ+fSBjb21taXRRdWV1ZSBMaXN0IG9mIGNvbXBvbmVudHNcbiAqIHdoaWNoIGhhdmUgY2FsbGJhY2tzIHRvIGludm9rZSBpbiBjb21taXRSb290XG4gKiBAcGFyYW0ge2ltcG9ydCgnLi4vaW50ZXJuYWwnKS5QcmVhY3RFbGVtZW50fSBvbGREb20gVGhlIGN1cnJlbnQgYXR0YWNoZWQgRE9NXG4gKiBlbGVtZW50IGFueSBuZXcgZG9tIGVsZW1lbnRzIHNob3VsZCBiZSBwbGFjZWQgYXJvdW5kLiBMaWtlbHkgYG51bGxgIG9uIGZpcnN0XG4gKiByZW5kZXIgKGV4Y2VwdCB3aGVuIGh5ZHJhdGluZykuIENhbiBiZSBhIHNpYmxpbmcgRE9NIGVsZW1lbnQgd2hlbiBkaWZmaW5nXG4gKiBGcmFnbWVudHMgdGhhdCBoYXZlIHNpYmxpbmdzLiBJbiBtb3N0IGNhc2VzLCBpdCBzdGFydHMgb3V0IGFzIGBvbGRDaGlsZHJlblswXS5fZG9tYC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNIeWRyYXRpbmcgV2hldGhlciBvciBub3Qgd2UgYXJlIGluIGh5ZHJhdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gZGlmZkNoaWxkcmVuKFxuXHRwYXJlbnREb20sXG5cdHJlbmRlclJlc3VsdCxcblx0bmV3UGFyZW50Vk5vZGUsXG5cdG9sZFBhcmVudFZOb2RlLFxuXHRnbG9iYWxDb250ZXh0LFxuXHRpc1N2Zyxcblx0ZXhjZXNzRG9tQ2hpbGRyZW4sXG5cdGNvbW1pdFF1ZXVlLFxuXHRvbGREb20sXG5cdGlzSHlkcmF0aW5nXG4pIHtcblx0bGV0IGksIGosIG9sZFZOb2RlLCBjaGlsZFZOb2RlLCBuZXdEb20sIGZpcnN0Q2hpbGREb20sIHJlZnM7XG5cblx0Ly8gVGhpcyBpcyBhIGNvbXByZXNzaW9uIG9mIG9sZFBhcmVudFZOb2RlIT1udWxsICYmIG9sZFBhcmVudFZOb2RlICE9IEVNUFRZX09CSiAmJiBvbGRQYXJlbnRWTm9kZS5fY2hpbGRyZW4gfHwgRU1QVFlfQVJSXG5cdC8vIGFzIEVNUFRZX09CSi5fY2hpbGRyZW4gc2hvdWxkIGJlIGB1bmRlZmluZWRgLlxuXHRsZXQgb2xkQ2hpbGRyZW4gPSAob2xkUGFyZW50Vk5vZGUgJiYgb2xkUGFyZW50Vk5vZGUuX2NoaWxkcmVuKSB8fCBFTVBUWV9BUlI7XG5cblx0bGV0IG9sZENoaWxkcmVuTGVuZ3RoID0gb2xkQ2hpbGRyZW4ubGVuZ3RoO1xuXG5cdG5ld1BhcmVudFZOb2RlLl9jaGlsZHJlbiA9IFtdO1xuXHRmb3IgKGkgPSAwOyBpIDwgcmVuZGVyUmVzdWx0Lmxlbmd0aDsgaSsrKSB7XG5cdFx0Y2hpbGRWTm9kZSA9IHJlbmRlclJlc3VsdFtpXTtcblxuXHRcdGlmIChjaGlsZFZOb2RlID09IG51bGwgfHwgdHlwZW9mIGNoaWxkVk5vZGUgPT0gJ2Jvb2xlYW4nKSB7XG5cdFx0XHRjaGlsZFZOb2RlID0gbmV3UGFyZW50Vk5vZGUuX2NoaWxkcmVuW2ldID0gbnVsbDtcblx0XHR9XG5cdFx0Ly8gSWYgdGhpcyBuZXdWTm9kZSBpcyBiZWluZyByZXVzZWQgKGUuZy4gPGRpdj57cmV1c2V9e3JldXNlfTwvZGl2PikgaW4gdGhlIHNhbWUgZGlmZixcblx0XHQvLyBvciB3ZSBhcmUgcmVuZGVyaW5nIGEgY29tcG9uZW50IChlLmcuIHNldFN0YXRlKSBjb3B5IHRoZSBvbGRWTm9kZXMgc28gaXQgY2FuIGhhdmVcblx0XHQvLyBpdCdzIG93biBET00gJiBldGMuIHBvaW50ZXJzXG5cdFx0ZWxzZSBpZiAoXG5cdFx0XHR0eXBlb2YgY2hpbGRWTm9kZSA9PSAnc3RyaW5nJyB8fFxuXHRcdFx0dHlwZW9mIGNoaWxkVk5vZGUgPT0gJ251bWJlcicgfHxcblx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSB2YWxpZC10eXBlb2Zcblx0XHRcdHR5cGVvZiBjaGlsZFZOb2RlID09ICdiaWdpbnQnXG5cdFx0KSB7XG5cdFx0XHRjaGlsZFZOb2RlID0gbmV3UGFyZW50Vk5vZGUuX2NoaWxkcmVuW2ldID0gY3JlYXRlVk5vZGUoXG5cdFx0XHRcdG51bGwsXG5cdFx0XHRcdGNoaWxkVk5vZGUsXG5cdFx0XHRcdG51bGwsXG5cdFx0XHRcdG51bGwsXG5cdFx0XHRcdGNoaWxkVk5vZGVcblx0XHRcdCk7XG5cdFx0fSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGNoaWxkVk5vZGUpKSB7XG5cdFx0XHRjaGlsZFZOb2RlID0gbmV3UGFyZW50Vk5vZGUuX2NoaWxkcmVuW2ldID0gY3JlYXRlVk5vZGUoXG5cdFx0XHRcdEZyYWdtZW50LFxuXHRcdFx0XHR7IGNoaWxkcmVuOiBjaGlsZFZOb2RlIH0sXG5cdFx0XHRcdG51bGwsXG5cdFx0XHRcdG51bGwsXG5cdFx0XHRcdG51bGxcblx0XHRcdCk7XG5cdFx0fSBlbHNlIGlmIChjaGlsZFZOb2RlLl9kZXB0aCA+IDApIHtcblx0XHRcdC8vIFZOb2RlIGlzIGFscmVhZHkgaW4gdXNlLCBjbG9uZSBpdC4gVGhpcyBjYW4gaGFwcGVuIGluIHRoZSBmb2xsb3dpbmdcblx0XHRcdC8vIHNjZW5hcmlvOlxuXHRcdFx0Ly8gICBjb25zdCByZXVzZSA9IDxkaXYgLz5cblx0XHRcdC8vICAgPGRpdj57cmV1c2V9PHNwYW4gLz57cmV1c2V9PC9kaXY+XG5cdFx0XHRjaGlsZFZOb2RlID0gbmV3UGFyZW50Vk5vZGUuX2NoaWxkcmVuW2ldID0gY3JlYXRlVk5vZGUoXG5cdFx0XHRcdGNoaWxkVk5vZGUudHlwZSxcblx0XHRcdFx0Y2hpbGRWTm9kZS5wcm9wcyxcblx0XHRcdFx0Y2hpbGRWTm9kZS5rZXksXG5cdFx0XHRcdG51bGwsXG5cdFx0XHRcdGNoaWxkVk5vZGUuX29yaWdpbmFsXG5cdFx0XHQpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjaGlsZFZOb2RlID0gbmV3UGFyZW50Vk5vZGUuX2NoaWxkcmVuW2ldID0gY2hpbGRWTm9kZTtcblx0XHR9XG5cblx0XHQvLyBUZXJzZXIgcmVtb3ZlcyB0aGUgYGNvbnRpbnVlYCBoZXJlIGFuZCB3cmFwcyB0aGUgbG9vcCBib2R5XG5cdFx0Ly8gaW4gYSBgaWYgKGNoaWxkVk5vZGUpIHsgLi4uIH0gY29uZGl0aW9uXG5cdFx0aWYgKGNoaWxkVk5vZGUgPT0gbnVsbCkge1xuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXG5cdFx0Y2hpbGRWTm9kZS5fcGFyZW50ID0gbmV3UGFyZW50Vk5vZGU7XG5cdFx0Y2hpbGRWTm9kZS5fZGVwdGggPSBuZXdQYXJlbnRWTm9kZS5fZGVwdGggKyAxO1xuXG5cdFx0Ly8gQ2hlY2sgaWYgd2UgZmluZCBhIGNvcnJlc3BvbmRpbmcgZWxlbWVudCBpbiBvbGRDaGlsZHJlbi5cblx0XHQvLyBJZiBmb3VuZCwgZGVsZXRlIHRoZSBhcnJheSBpdGVtIGJ5IHNldHRpbmcgdG8gYHVuZGVmaW5lZGAuXG5cdFx0Ly8gV2UgdXNlIGB1bmRlZmluZWRgLCBhcyBgbnVsbGAgaXMgcmVzZXJ2ZWQgZm9yIGVtcHR5IHBsYWNlaG9sZGVyc1xuXHRcdC8vIChob2xlcykuXG5cdFx0b2xkVk5vZGUgPSBvbGRDaGlsZHJlbltpXTtcblxuXHRcdGlmIChcblx0XHRcdG9sZFZOb2RlID09PSBudWxsIHx8XG5cdFx0XHQob2xkVk5vZGUgJiZcblx0XHRcdFx0Y2hpbGRWTm9kZS5rZXkgPT0gb2xkVk5vZGUua2V5ICYmXG5cdFx0XHRcdGNoaWxkVk5vZGUudHlwZSA9PT0gb2xkVk5vZGUudHlwZSlcblx0XHQpIHtcblx0XHRcdG9sZENoaWxkcmVuW2ldID0gdW5kZWZpbmVkO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBFaXRoZXIgb2xkVk5vZGUgPT09IHVuZGVmaW5lZCBvciBvbGRDaGlsZHJlbkxlbmd0aCA+IDAsXG5cdFx0XHQvLyBzbyBhZnRlciB0aGlzIGxvb3Agb2xkVk5vZGUgPT0gbnVsbCBvciBvbGRWTm9kZSBpcyBhIHZhbGlkIHZhbHVlLlxuXHRcdFx0Zm9yIChqID0gMDsgaiA8IG9sZENoaWxkcmVuTGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0b2xkVk5vZGUgPSBvbGRDaGlsZHJlbltqXTtcblx0XHRcdFx0Ly8gSWYgY2hpbGRWTm9kZSBpcyB1bmtleWVkLCB3ZSBvbmx5IG1hdGNoIHNpbWlsYXJseSB1bmtleWVkIG5vZGVzLCBvdGhlcndpc2Ugd2UgbWF0Y2ggYnkga2V5LlxuXHRcdFx0XHQvLyBXZSBhbHdheXMgbWF0Y2ggYnkgdHlwZSAoaW4gZWl0aGVyIGNhc2UpLlxuXHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0b2xkVk5vZGUgJiZcblx0XHRcdFx0XHRjaGlsZFZOb2RlLmtleSA9PSBvbGRWTm9kZS5rZXkgJiZcblx0XHRcdFx0XHRjaGlsZFZOb2RlLnR5cGUgPT09IG9sZFZOb2RlLnR5cGVcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0b2xkQ2hpbGRyZW5bal0gPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdFx0b2xkVk5vZGUgPSBudWxsO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdG9sZFZOb2RlID0gb2xkVk5vZGUgfHwgRU1QVFlfT0JKO1xuXG5cdFx0Ly8gTW9ycGggdGhlIG9sZCBlbGVtZW50IGludG8gdGhlIG5ldyBvbmUsIGJ1dCBkb24ndCBhcHBlbmQgaXQgdG8gdGhlIGRvbSB5ZXRcblx0XHRkaWZmKFxuXHRcdFx0cGFyZW50RG9tLFxuXHRcdFx0Y2hpbGRWTm9kZSxcblx0XHRcdG9sZFZOb2RlLFxuXHRcdFx0Z2xvYmFsQ29udGV4dCxcblx0XHRcdGlzU3ZnLFxuXHRcdFx0ZXhjZXNzRG9tQ2hpbGRyZW4sXG5cdFx0XHRjb21taXRRdWV1ZSxcblx0XHRcdG9sZERvbSxcblx0XHRcdGlzSHlkcmF0aW5nXG5cdFx0KTtcblxuXHRcdG5ld0RvbSA9IGNoaWxkVk5vZGUuX2RvbTtcblxuXHRcdGlmICgoaiA9IGNoaWxkVk5vZGUucmVmKSAmJiBvbGRWTm9kZS5yZWYgIT0gaikge1xuXHRcdFx0aWYgKCFyZWZzKSByZWZzID0gW107XG5cdFx0XHRpZiAob2xkVk5vZGUucmVmKSByZWZzLnB1c2gob2xkVk5vZGUucmVmLCBudWxsLCBjaGlsZFZOb2RlKTtcblx0XHRcdHJlZnMucHVzaChqLCBjaGlsZFZOb2RlLl9jb21wb25lbnQgfHwgbmV3RG9tLCBjaGlsZFZOb2RlKTtcblx0XHR9XG5cblx0XHRpZiAobmV3RG9tICE9IG51bGwpIHtcblx0XHRcdGlmIChmaXJzdENoaWxkRG9tID09IG51bGwpIHtcblx0XHRcdFx0Zmlyc3RDaGlsZERvbSA9IG5ld0RvbTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKFxuXHRcdFx0XHR0eXBlb2YgY2hpbGRWTm9kZS50eXBlID09ICdmdW5jdGlvbicgJiZcblx0XHRcdFx0Y2hpbGRWTm9kZS5fY2hpbGRyZW4gPT09IG9sZFZOb2RlLl9jaGlsZHJlblxuXHRcdFx0KSB7XG5cdFx0XHRcdGNoaWxkVk5vZGUuX25leHREb20gPSBvbGREb20gPSByZW9yZGVyQ2hpbGRyZW4oXG5cdFx0XHRcdFx0Y2hpbGRWTm9kZSxcblx0XHRcdFx0XHRvbGREb20sXG5cdFx0XHRcdFx0cGFyZW50RG9tXG5cdFx0XHRcdCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRvbGREb20gPSBwbGFjZUNoaWxkKFxuXHRcdFx0XHRcdHBhcmVudERvbSxcblx0XHRcdFx0XHRjaGlsZFZOb2RlLFxuXHRcdFx0XHRcdG9sZFZOb2RlLFxuXHRcdFx0XHRcdG9sZENoaWxkcmVuLFxuXHRcdFx0XHRcdG5ld0RvbSxcblx0XHRcdFx0XHRvbGREb21cblx0XHRcdFx0KTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHR5cGVvZiBuZXdQYXJlbnRWTm9kZS50eXBlID09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0Ly8gQmVjYXVzZSB0aGUgbmV3UGFyZW50Vk5vZGUgaXMgRnJhZ21lbnQtbGlrZSwgd2UgbmVlZCB0byBzZXQgaXQnc1xuXHRcdFx0XHQvLyBfbmV4dERvbSBwcm9wZXJ0eSB0byB0aGUgbmV4dFNpYmxpbmcgb2YgaXRzIGxhc3QgY2hpbGQgRE9NIG5vZGUuXG5cdFx0XHRcdC8vXG5cdFx0XHRcdC8vIGBvbGREb21gIGNvbnRhaW5zIHRoZSBjb3JyZWN0IHZhbHVlIGhlcmUgYmVjYXVzZSBpZiB0aGUgbGFzdCBjaGlsZFxuXHRcdFx0XHQvLyBpcyBhIEZyYWdtZW50LWxpa2UsIHRoZW4gb2xkRG9tIGhhcyBhbHJlYWR5IGJlZW4gc2V0IHRvIHRoYXQgY2hpbGQncyBfbmV4dERvbS5cblx0XHRcdFx0Ly8gSWYgdGhlIGxhc3QgY2hpbGQgaXMgYSBET00gVk5vZGUsIHRoZW4gb2xkRG9tIHdpbGwgYmUgc2V0IHRvIHRoYXQgRE9NXG5cdFx0XHRcdC8vIG5vZGUncyBuZXh0U2libGluZy5cblx0XHRcdFx0bmV3UGFyZW50Vk5vZGUuX25leHREb20gPSBvbGREb207XG5cdFx0XHR9XG5cdFx0fSBlbHNlIGlmIChcblx0XHRcdG9sZERvbSAmJlxuXHRcdFx0b2xkVk5vZGUuX2RvbSA9PSBvbGREb20gJiZcblx0XHRcdG9sZERvbS5wYXJlbnROb2RlICE9IHBhcmVudERvbVxuXHRcdCkge1xuXHRcdFx0Ly8gVGhlIGFib3ZlIGNvbmRpdGlvbiBpcyB0byBoYW5kbGUgbnVsbCBwbGFjZWhvbGRlcnMuIFNlZSB0ZXN0IGluIHBsYWNlaG9sZGVyLnRlc3QuanM6XG5cdFx0XHQvLyBgZWZmaWNpZW50bHkgcmVwbGFjZSBudWxsIHBsYWNlaG9sZGVycyBpbiBwYXJlbnQgcmVyZW5kZXJzYFxuXHRcdFx0b2xkRG9tID0gZ2V0RG9tU2libGluZyhvbGRWTm9kZSk7XG5cdFx0fVxuXHR9XG5cblx0bmV3UGFyZW50Vk5vZGUuX2RvbSA9IGZpcnN0Q2hpbGREb207XG5cblx0Ly8gUmVtb3ZlIHJlbWFpbmluZyBvbGRDaGlsZHJlbiBpZiB0aGVyZSBhcmUgYW55LlxuXHRmb3IgKGkgPSBvbGRDaGlsZHJlbkxlbmd0aDsgaS0tOyApIHtcblx0XHRpZiAob2xkQ2hpbGRyZW5baV0gIT0gbnVsbCkge1xuXHRcdFx0aWYgKFxuXHRcdFx0XHR0eXBlb2YgbmV3UGFyZW50Vk5vZGUudHlwZSA9PSAnZnVuY3Rpb24nICYmXG5cdFx0XHRcdG9sZENoaWxkcmVuW2ldLl9kb20gIT0gbnVsbCAmJlxuXHRcdFx0XHRvbGRDaGlsZHJlbltpXS5fZG9tID09IG5ld1BhcmVudFZOb2RlLl9uZXh0RG9tXG5cdFx0XHQpIHtcblx0XHRcdFx0Ly8gSWYgdGhlIG5ld1BhcmVudFZOb2RlLl9fbmV4dERvbSBwb2ludHMgdG8gYSBkb20gbm9kZSB0aGF0IGlzIGFib3V0IHRvXG5cdFx0XHRcdC8vIGJlIHVubW91bnRlZCwgdGhlbiBnZXQgdGhlIG5leHQgc2libGluZyBvZiB0aGF0IHZub2RlIGFuZCBzZXRcblx0XHRcdFx0Ly8gX25leHREb20gdG8gaXRcblx0XHRcdFx0bmV3UGFyZW50Vk5vZGUuX25leHREb20gPSBnZXREb21TaWJsaW5nKG9sZFBhcmVudFZOb2RlLCBpICsgMSk7XG5cdFx0XHR9XG5cblx0XHRcdHVubW91bnQob2xkQ2hpbGRyZW5baV0sIG9sZENoaWxkcmVuW2ldKTtcblx0XHR9XG5cdH1cblxuXHQvLyBTZXQgcmVmcyBvbmx5IGFmdGVyIHVubW91bnRcblx0aWYgKHJlZnMpIHtcblx0XHRmb3IgKGkgPSAwOyBpIDwgcmVmcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0YXBwbHlSZWYocmVmc1tpXSwgcmVmc1srK2ldLCByZWZzWysraV0pO1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiByZW9yZGVyQ2hpbGRyZW4oY2hpbGRWTm9kZSwgb2xkRG9tLCBwYXJlbnREb20pIHtcblx0Ly8gTm90ZTogVk5vZGVzIGluIG5lc3RlZCBzdXNwZW5kZWQgdHJlZXMgbWF5IGJlIG1pc3NpbmcgX2NoaWxkcmVuLlxuXHRsZXQgYyA9IGNoaWxkVk5vZGUuX2NoaWxkcmVuO1xuXHRsZXQgdG1wID0gMDtcblx0Zm9yICg7IGMgJiYgdG1wIDwgYy5sZW5ndGg7IHRtcCsrKSB7XG5cdFx0bGV0IHZub2RlID0gY1t0bXBdO1xuXHRcdGlmICh2bm9kZSkge1xuXHRcdFx0Ly8gV2UgdHlwaWNhbGx5IGVudGVyIHRoaXMgY29kZSBwYXRoIG9uIHNDVSBiYWlsb3V0LCB3aGVyZSB3ZSBjb3B5XG5cdFx0XHQvLyBvbGRWTm9kZS5fY2hpbGRyZW4gdG8gbmV3Vk5vZGUuX2NoaWxkcmVuLiBJZiB0aGF0IGlzIHRoZSBjYXNlLCB3ZSBuZWVkXG5cdFx0XHQvLyB0byB1cGRhdGUgdGhlIG9sZCBjaGlsZHJlbidzIF9wYXJlbnQgcG9pbnRlciB0byBwb2ludCB0byB0aGUgbmV3Vk5vZGVcblx0XHRcdC8vIChjaGlsZFZOb2RlIGhlcmUpLlxuXHRcdFx0dm5vZGUuX3BhcmVudCA9IGNoaWxkVk5vZGU7XG5cblx0XHRcdGlmICh0eXBlb2Ygdm5vZGUudHlwZSA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdG9sZERvbSA9IHJlb3JkZXJDaGlsZHJlbih2bm9kZSwgb2xkRG9tLCBwYXJlbnREb20pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0b2xkRG9tID0gcGxhY2VDaGlsZChcblx0XHRcdFx0XHRwYXJlbnREb20sXG5cdFx0XHRcdFx0dm5vZGUsXG5cdFx0XHRcdFx0dm5vZGUsXG5cdFx0XHRcdFx0Yyxcblx0XHRcdFx0XHR2bm9kZS5fZG9tLFxuXHRcdFx0XHRcdG9sZERvbVxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiBvbGREb207XG59XG5cbi8qKlxuICogRmxhdHRlbiBhbmQgbG9vcCB0aHJvdWdoIHRoZSBjaGlsZHJlbiBvZiBhIHZpcnR1YWwgbm9kZVxuICogQHBhcmFtIHtpbXBvcnQoJy4uL2luZGV4JykuQ29tcG9uZW50Q2hpbGRyZW59IGNoaWxkcmVuIFRoZSB1bmZsYXR0ZW5lZFxuICogY2hpbGRyZW4gb2YgYSB2aXJ0dWFsIG5vZGVcbiAqIEByZXR1cm5zIHtpbXBvcnQoJy4uL2ludGVybmFsJykuVk5vZGVbXX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvQ2hpbGRBcnJheShjaGlsZHJlbiwgb3V0KSB7XG5cdG91dCA9IG91dCB8fCBbXTtcblx0aWYgKGNoaWxkcmVuID09IG51bGwgfHwgdHlwZW9mIGNoaWxkcmVuID09ICdib29sZWFuJykge1xuXHR9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoY2hpbGRyZW4pKSB7XG5cdFx0Y2hpbGRyZW4uc29tZShjaGlsZCA9PiB7XG5cdFx0XHR0b0NoaWxkQXJyYXkoY2hpbGQsIG91dCk7XG5cdFx0fSk7XG5cdH0gZWxzZSB7XG5cdFx0b3V0LnB1c2goY2hpbGRyZW4pO1xuXHR9XG5cdHJldHVybiBvdXQ7XG59XG5cbmZ1bmN0aW9uIHBsYWNlQ2hpbGQoXG5cdHBhcmVudERvbSxcblx0Y2hpbGRWTm9kZSxcblx0b2xkVk5vZGUsXG5cdG9sZENoaWxkcmVuLFxuXHRuZXdEb20sXG5cdG9sZERvbVxuKSB7XG5cdGxldCBuZXh0RG9tO1xuXHRpZiAoY2hpbGRWTm9kZS5fbmV4dERvbSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0Ly8gT25seSBGcmFnbWVudHMgb3IgY29tcG9uZW50cyB0aGF0IHJldHVybiBGcmFnbWVudCBsaWtlIFZOb2RlcyB3aWxsXG5cdFx0Ly8gaGF2ZSBhIG5vbi11bmRlZmluZWQgX25leHREb20uIENvbnRpbnVlIHRoZSBkaWZmIGZyb20gdGhlIHNpYmxpbmdcblx0XHQvLyBvZiBsYXN0IERPTSBjaGlsZCBvZiB0aGlzIGNoaWxkIFZOb2RlXG5cdFx0bmV4dERvbSA9IGNoaWxkVk5vZGUuX25leHREb207XG5cblx0XHQvLyBFYWdlcmx5IGNsZWFudXAgX25leHREb20uIFdlIGRvbid0IG5lZWQgdG8gcGVyc2lzdCB0aGUgdmFsdWUgYmVjYXVzZVxuXHRcdC8vIGl0IGlzIG9ubHkgdXNlZCBieSBgZGlmZkNoaWxkcmVuYCB0byBkZXRlcm1pbmUgd2hlcmUgdG8gcmVzdW1lIHRoZSBkaWZmIGFmdGVyXG5cdFx0Ly8gZGlmZmluZyBDb21wb25lbnRzIGFuZCBGcmFnbWVudHMuIE9uY2Ugd2Ugc3RvcmUgaXQgdGhlIG5leHRET00gbG9jYWwgdmFyLCB3ZVxuXHRcdC8vIGNhbiBjbGVhbiB1cCB0aGUgcHJvcGVydHlcblx0XHRjaGlsZFZOb2RlLl9uZXh0RG9tID0gdW5kZWZpbmVkO1xuXHR9IGVsc2UgaWYgKFxuXHRcdG9sZFZOb2RlID09IG51bGwgfHxcblx0XHRuZXdEb20gIT0gb2xkRG9tIHx8XG5cdFx0bmV3RG9tLnBhcmVudE5vZGUgPT0gbnVsbFxuXHQpIHtcblx0XHRvdXRlcjogaWYgKG9sZERvbSA9PSBudWxsIHx8IG9sZERvbS5wYXJlbnROb2RlICE9PSBwYXJlbnREb20pIHtcblx0XHRcdHBhcmVudERvbS5hcHBlbmRDaGlsZChuZXdEb20pO1xuXHRcdFx0bmV4dERvbSA9IG51bGw7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIGBqPG9sZENoaWxkcmVuTGVuZ3RoOyBqKz0yYCBpcyBhbiBhbHRlcm5hdGl2ZSB0byBgaisrPG9sZENoaWxkcmVuTGVuZ3RoLzJgXG5cdFx0XHRmb3IgKFxuXHRcdFx0XHRsZXQgc2liRG9tID0gb2xkRG9tLCBqID0gMDtcblx0XHRcdFx0KHNpYkRvbSA9IHNpYkRvbS5uZXh0U2libGluZykgJiYgaiA8IG9sZENoaWxkcmVuLmxlbmd0aDtcblx0XHRcdFx0aiArPSAyXG5cdFx0XHQpIHtcblx0XHRcdFx0aWYgKHNpYkRvbSA9PSBuZXdEb20pIHtcblx0XHRcdFx0XHRicmVhayBvdXRlcjtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cGFyZW50RG9tLmluc2VydEJlZm9yZShuZXdEb20sIG9sZERvbSk7XG5cdFx0XHRuZXh0RG9tID0gb2xkRG9tO1xuXHRcdH1cblx0fVxuXG5cdC8vIElmIHdlIGhhdmUgcHJlLWNhbGN1bGF0ZWQgdGhlIG5leHRET00gbm9kZSwgdXNlIGl0LiBFbHNlIGNhbGN1bGF0ZSBpdCBub3dcblx0Ly8gU3RyaWN0bHkgY2hlY2sgZm9yIGB1bmRlZmluZWRgIGhlcmUgY3V6IGBudWxsYCBpcyBhIHZhbGlkIHZhbHVlIG9mIGBuZXh0RG9tYC5cblx0Ly8gU2VlIG1vcmUgZGV0YWlsIGluIGNyZWF0ZS1lbGVtZW50LmpzOmNyZWF0ZVZOb2RlXG5cdGlmIChuZXh0RG9tICE9PSB1bmRlZmluZWQpIHtcblx0XHRvbGREb20gPSBuZXh0RG9tO1xuXHR9IGVsc2Uge1xuXHRcdG9sZERvbSA9IG5ld0RvbS5uZXh0U2libGluZztcblx0fVxuXG5cdHJldHVybiBvbGREb207XG59XG4iLCJpbXBvcnQgeyBJU19OT05fRElNRU5TSU9OQUwgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IG9wdGlvbnMgZnJvbSAnLi4vb3B0aW9ucyc7XG5cbi8qKlxuICogRGlmZiB0aGUgb2xkIGFuZCBuZXcgcHJvcGVydGllcyBvZiBhIFZOb2RlIGFuZCBhcHBseSBjaGFuZ2VzIHRvIHRoZSBET00gbm9kZVxuICogQHBhcmFtIHtpbXBvcnQoJy4uL2ludGVybmFsJykuUHJlYWN0RWxlbWVudH0gZG9tIFRoZSBET00gbm9kZSB0byBhcHBseVxuICogY2hhbmdlcyB0b1xuICogQHBhcmFtIHtvYmplY3R9IG5ld1Byb3BzIFRoZSBuZXcgcHJvcHNcbiAqIEBwYXJhbSB7b2JqZWN0fSBvbGRQcm9wcyBUaGUgb2xkIHByb3BzXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlzU3ZnIFdoZXRoZXIgb3Igbm90IHRoaXMgbm9kZSBpcyBhbiBTVkcgbm9kZVxuICogQHBhcmFtIHtib29sZWFufSBoeWRyYXRlIFdoZXRoZXIgb3Igbm90IHdlIGFyZSBpbiBoeWRyYXRpb24gbW9kZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGlmZlByb3BzKGRvbSwgbmV3UHJvcHMsIG9sZFByb3BzLCBpc1N2ZywgaHlkcmF0ZSkge1xuXHRsZXQgaTtcblxuXHRmb3IgKGkgaW4gb2xkUHJvcHMpIHtcblx0XHRpZiAoaSAhPT0gJ2NoaWxkcmVuJyAmJiBpICE9PSAna2V5JyAmJiAhKGkgaW4gbmV3UHJvcHMpKSB7XG5cdFx0XHRzZXRQcm9wZXJ0eShkb20sIGksIG51bGwsIG9sZFByb3BzW2ldLCBpc1N2Zyk7XG5cdFx0fVxuXHR9XG5cblx0Zm9yIChpIGluIG5ld1Byb3BzKSB7XG5cdFx0aWYgKFxuXHRcdFx0KCFoeWRyYXRlIHx8IHR5cGVvZiBuZXdQcm9wc1tpXSA9PSAnZnVuY3Rpb24nKSAmJlxuXHRcdFx0aSAhPT0gJ2NoaWxkcmVuJyAmJlxuXHRcdFx0aSAhPT0gJ2tleScgJiZcblx0XHRcdGkgIT09ICd2YWx1ZScgJiZcblx0XHRcdGkgIT09ICdjaGVja2VkJyAmJlxuXHRcdFx0b2xkUHJvcHNbaV0gIT09IG5ld1Byb3BzW2ldXG5cdFx0KSB7XG5cdFx0XHRzZXRQcm9wZXJ0eShkb20sIGksIG5ld1Byb3BzW2ldLCBvbGRQcm9wc1tpXSwgaXNTdmcpO1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBzZXRTdHlsZShzdHlsZSwga2V5LCB2YWx1ZSkge1xuXHRpZiAoa2V5WzBdID09PSAnLScpIHtcblx0XHRzdHlsZS5zZXRQcm9wZXJ0eShrZXksIHZhbHVlKTtcblx0fSBlbHNlIGlmICh2YWx1ZSA9PSBudWxsKSB7XG5cdFx0c3R5bGVba2V5XSA9ICcnO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSAhPSAnbnVtYmVyJyB8fCBJU19OT05fRElNRU5TSU9OQUwudGVzdChrZXkpKSB7XG5cdFx0c3R5bGVba2V5XSA9IHZhbHVlO1xuXHR9IGVsc2Uge1xuXHRcdHN0eWxlW2tleV0gPSB2YWx1ZSArICdweCc7XG5cdH1cbn1cblxuLyoqXG4gKiBTZXQgYSBwcm9wZXJ0eSB2YWx1ZSBvbiBhIERPTSBub2RlXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi4vaW50ZXJuYWwnKS5QcmVhY3RFbGVtZW50fSBkb20gVGhlIERPTSBub2RlIHRvIG1vZGlmeVxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5IHRvIHNldFxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0IHRoZSBwcm9wZXJ0eSB0b1xuICogQHBhcmFtIHsqfSBvbGRWYWx1ZSBUaGUgb2xkIHZhbHVlIHRoZSBwcm9wZXJ0eSBoYWRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNTdmcgV2hldGhlciBvciBub3QgdGhpcyBET00gbm9kZSBpcyBhbiBTVkcgbm9kZSBvciBub3RcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldFByb3BlcnR5KGRvbSwgbmFtZSwgdmFsdWUsIG9sZFZhbHVlLCBpc1N2Zykge1xuXHRsZXQgdXNlQ2FwdHVyZTtcblxuXHRvOiBpZiAobmFtZSA9PT0gJ3N0eWxlJykge1xuXHRcdGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycpIHtcblx0XHRcdGRvbS5zdHlsZS5jc3NUZXh0ID0gdmFsdWU7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGlmICh0eXBlb2Ygb2xkVmFsdWUgPT0gJ3N0cmluZycpIHtcblx0XHRcdFx0ZG9tLnN0eWxlLmNzc1RleHQgPSBvbGRWYWx1ZSA9ICcnO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAob2xkVmFsdWUpIHtcblx0XHRcdFx0Zm9yIChuYW1lIGluIG9sZFZhbHVlKSB7XG5cdFx0XHRcdFx0aWYgKCEodmFsdWUgJiYgbmFtZSBpbiB2YWx1ZSkpIHtcblx0XHRcdFx0XHRcdHNldFN0eWxlKGRvbS5zdHlsZSwgbmFtZSwgJycpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAodmFsdWUpIHtcblx0XHRcdFx0Zm9yIChuYW1lIGluIHZhbHVlKSB7XG5cdFx0XHRcdFx0aWYgKCFvbGRWYWx1ZSB8fCB2YWx1ZVtuYW1lXSAhPT0gb2xkVmFsdWVbbmFtZV0pIHtcblx0XHRcdFx0XHRcdHNldFN0eWxlKGRvbS5zdHlsZSwgbmFtZSwgdmFsdWVbbmFtZV0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHQvLyBCZW5jaG1hcmsgZm9yIGNvbXBhcmlzb246IGh0dHBzOi8vZXNiZW5jaC5jb20vYmVuY2gvNTc0Yzk1NGJkYjk2NWI5YTAwOTY1YWM2XG5cdGVsc2UgaWYgKG5hbWVbMF0gPT09ICdvJyAmJiBuYW1lWzFdID09PSAnbicpIHtcblx0XHR1c2VDYXB0dXJlID0gbmFtZSAhPT0gKG5hbWUgPSBuYW1lLnJlcGxhY2UoL0NhcHR1cmUkLywgJycpKTtcblxuXHRcdC8vIEluZmVyIGNvcnJlY3QgY2FzaW5nIGZvciBET00gYnVpbHQtaW4gZXZlbnRzOlxuXHRcdGlmIChuYW1lLnRvTG93ZXJDYXNlKCkgaW4gZG9tKSBuYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpLnNsaWNlKDIpO1xuXHRcdGVsc2UgbmFtZSA9IG5hbWUuc2xpY2UoMik7XG5cblx0XHRpZiAoIWRvbS5fbGlzdGVuZXJzKSBkb20uX2xpc3RlbmVycyA9IHt9O1xuXHRcdGRvbS5fbGlzdGVuZXJzW25hbWUgKyB1c2VDYXB0dXJlXSA9IHZhbHVlO1xuXG5cdFx0aWYgKHZhbHVlKSB7XG5cdFx0XHRpZiAoIW9sZFZhbHVlKSB7XG5cdFx0XHRcdGNvbnN0IGhhbmRsZXIgPSB1c2VDYXB0dXJlID8gZXZlbnRQcm94eUNhcHR1cmUgOiBldmVudFByb3h5O1xuXHRcdFx0XHRkb20uYWRkRXZlbnRMaXN0ZW5lcihuYW1lLCBoYW5kbGVyLCB1c2VDYXB0dXJlKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29uc3QgaGFuZGxlciA9IHVzZUNhcHR1cmUgPyBldmVudFByb3h5Q2FwdHVyZSA6IGV2ZW50UHJveHk7XG5cdFx0XHRkb20ucmVtb3ZlRXZlbnRMaXN0ZW5lcihuYW1lLCBoYW5kbGVyLCB1c2VDYXB0dXJlKTtcblx0XHR9XG5cdH0gZWxzZSBpZiAobmFtZSAhPT0gJ2Rhbmdlcm91c2x5U2V0SW5uZXJIVE1MJykge1xuXHRcdGlmIChpc1N2Zykge1xuXHRcdFx0Ly8gTm9ybWFsaXplIGluY29ycmVjdCBwcm9wIHVzYWdlIGZvciBTVkc6XG5cdFx0XHQvLyAtIHhsaW5rOmhyZWYgLyB4bGlua0hyZWYgLS0+IGhyZWYgKHhsaW5rOmhyZWYgd2FzIHJlbW92ZWQgZnJvbSBTVkcgYW5kIGlzbid0IG5lZWRlZClcblx0XHRcdC8vIC0gY2xhc3NOYW1lIC0tPiBjbGFzc1xuXHRcdFx0bmFtZSA9IG5hbWUucmVwbGFjZSgveGxpbmsoSHw6aCkvLCAnaCcpLnJlcGxhY2UoL3NOYW1lJC8sICdzJyk7XG5cdFx0fSBlbHNlIGlmIChcblx0XHRcdG5hbWUgIT09ICdocmVmJyAmJlxuXHRcdFx0bmFtZSAhPT0gJ2xpc3QnICYmXG5cdFx0XHRuYW1lICE9PSAnZm9ybScgJiZcblx0XHRcdC8vIERlZmF1bHQgdmFsdWUgaW4gYnJvd3NlcnMgaXMgYC0xYCBhbmQgYW4gZW1wdHkgc3RyaW5nIGlzXG5cdFx0XHQvLyBjYXN0IHRvIGAwYCBpbnN0ZWFkXG5cdFx0XHRuYW1lICE9PSAndGFiSW5kZXgnICYmXG5cdFx0XHRuYW1lICE9PSAnZG93bmxvYWQnICYmXG5cdFx0XHRuYW1lIGluIGRvbVxuXHRcdCkge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0ZG9tW25hbWVdID0gdmFsdWUgPT0gbnVsbCA/ICcnIDogdmFsdWU7XG5cdFx0XHRcdC8vIGxhYmVsbGVkIGJyZWFrIGlzIDFiIHNtYWxsZXIgaGVyZSB0aGFuIGEgcmV0dXJuIHN0YXRlbWVudCAoc29ycnkpXG5cdFx0XHRcdGJyZWFrIG87XG5cdFx0XHR9IGNhdGNoIChlKSB7fVxuXHRcdH1cblxuXHRcdC8vIEFSSUEtYXR0cmlidXRlcyBoYXZlIGEgZGlmZmVyZW50IG5vdGlvbiBvZiBib29sZWFuIHZhbHVlcy5cblx0XHQvLyBUaGUgdmFsdWUgYGZhbHNlYCBpcyBkaWZmZXJlbnQgZnJvbSB0aGUgYXR0cmlidXRlIG5vdFxuXHRcdC8vIGV4aXN0aW5nIG9uIHRoZSBET00sIHNvIHdlIGNhbid0IHJlbW92ZSBpdC4gRm9yIG5vbi1ib29sZWFuXG5cdFx0Ly8gQVJJQS1hdHRyaWJ1dGVzIHdlIGNvdWxkIHRyZWF0IGZhbHNlIGFzIGEgcmVtb3ZhbCwgYnV0IHRoZVxuXHRcdC8vIGFtb3VudCBvZiBleGNlcHRpb25zIHdvdWxkIGNvc3QgdXMgdG9vIG1hbnkgYnl0ZXMuIE9uIHRvcCBvZlxuXHRcdC8vIHRoYXQgb3RoZXIgVkRPTSBmcmFtZXdvcmtzIGFsc28gYWx3YXlzIHN0cmluZ2lmeSBgZmFsc2VgLlxuXG5cdFx0aWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0Ly8gbmV2ZXIgc2VyaWFsaXplIGZ1bmN0aW9ucyBhcyBhdHRyaWJ1dGUgdmFsdWVzXG5cdFx0fSBlbHNlIGlmIChcblx0XHRcdHZhbHVlICE9IG51bGwgJiZcblx0XHRcdCh2YWx1ZSAhPT0gZmFsc2UgfHwgKG5hbWVbMF0gPT09ICdhJyAmJiBuYW1lWzFdID09PSAncicpKVxuXHRcdCkge1xuXHRcdFx0ZG9tLnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGRvbS5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogUHJveHkgYW4gZXZlbnQgdG8gaG9va2VkIGV2ZW50IGhhbmRsZXJzXG4gKiBAcGFyYW0ge0V2ZW50fSBlIFRoZSBldmVudCBvYmplY3QgZnJvbSB0aGUgYnJvd3NlclxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gZXZlbnRQcm94eShlKSB7XG5cdHRoaXMuX2xpc3RlbmVyc1tlLnR5cGUgKyBmYWxzZV0ob3B0aW9ucy5ldmVudCA/IG9wdGlvbnMuZXZlbnQoZSkgOiBlKTtcbn1cblxuZnVuY3Rpb24gZXZlbnRQcm94eUNhcHR1cmUoZSkge1xuXHR0aGlzLl9saXN0ZW5lcnNbZS50eXBlICsgdHJ1ZV0ob3B0aW9ucy5ldmVudCA/IG9wdGlvbnMuZXZlbnQoZSkgOiBlKTtcbn1cbiIsImltcG9ydCB7IEVNUFRZX09CSiB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBDb21wb25lbnQsIGdldERvbVNpYmxpbmcgfSBmcm9tICcuLi9jb21wb25lbnQnO1xuaW1wb3J0IHsgRnJhZ21lbnQgfSBmcm9tICcuLi9jcmVhdGUtZWxlbWVudCc7XG5pbXBvcnQgeyBkaWZmQ2hpbGRyZW4gfSBmcm9tICcuL2NoaWxkcmVuJztcbmltcG9ydCB7IGRpZmZQcm9wcywgc2V0UHJvcGVydHkgfSBmcm9tICcuL3Byb3BzJztcbmltcG9ydCB7IGFzc2lnbiwgcmVtb3ZlTm9kZSwgc2xpY2UgfSBmcm9tICcuLi91dGlsJztcbmltcG9ydCBvcHRpb25zIGZyb20gJy4uL29wdGlvbnMnO1xuXG4vKipcbiAqIERpZmYgdHdvIHZpcnR1YWwgbm9kZXMgYW5kIGFwcGx5IHByb3BlciBjaGFuZ2VzIHRvIHRoZSBET01cbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9pbnRlcm5hbCcpLlByZWFjdEVsZW1lbnR9IHBhcmVudERvbSBUaGUgcGFyZW50IG9mIHRoZSBET00gZWxlbWVudFxuICogQHBhcmFtIHtpbXBvcnQoJy4uL2ludGVybmFsJykuVk5vZGV9IG5ld1ZOb2RlIFRoZSBuZXcgdmlydHVhbCBub2RlXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi4vaW50ZXJuYWwnKS5WTm9kZX0gb2xkVk5vZGUgVGhlIG9sZCB2aXJ0dWFsIG5vZGVcbiAqIEBwYXJhbSB7b2JqZWN0fSBnbG9iYWxDb250ZXh0IFRoZSBjdXJyZW50IGNvbnRleHQgb2JqZWN0LiBNb2RpZmllZCBieSBnZXRDaGlsZENvbnRleHRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNTdmcgV2hldGhlciBvciBub3QgdGhpcyBlbGVtZW50IGlzIGFuIFNWRyBub2RlXG4gKiBAcGFyYW0ge0FycmF5PGltcG9ydCgnLi4vaW50ZXJuYWwnKS5QcmVhY3RFbGVtZW50Pn0gZXhjZXNzRG9tQ2hpbGRyZW5cbiAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KCcuLi9pbnRlcm5hbCcpLkNvbXBvbmVudD59IGNvbW1pdFF1ZXVlIExpc3Qgb2YgY29tcG9uZW50c1xuICogd2hpY2ggaGF2ZSBjYWxsYmFja3MgdG8gaW52b2tlIGluIGNvbW1pdFJvb3RcbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9pbnRlcm5hbCcpLlByZWFjdEVsZW1lbnR9IG9sZERvbSBUaGUgY3VycmVudCBhdHRhY2hlZCBET01cbiAqIGVsZW1lbnQgYW55IG5ldyBkb20gZWxlbWVudHMgc2hvdWxkIGJlIHBsYWNlZCBhcm91bmQuIExpa2VseSBgbnVsbGAgb24gZmlyc3RcbiAqIHJlbmRlciAoZXhjZXB0IHdoZW4gaHlkcmF0aW5nKS4gQ2FuIGJlIGEgc2libGluZyBET00gZWxlbWVudCB3aGVuIGRpZmZpbmdcbiAqIEZyYWdtZW50cyB0aGF0IGhhdmUgc2libGluZ3MuIEluIG1vc3QgY2FzZXMsIGl0IHN0YXJ0cyBvdXQgYXMgYG9sZENoaWxkcmVuWzBdLl9kb21gLlxuICogQHBhcmFtIHtib29sZWFufSBbaXNIeWRyYXRpbmddIFdoZXRoZXIgb3Igbm90IHdlIGFyZSBpbiBoeWRyYXRpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRpZmYoXG5cdHBhcmVudERvbSxcblx0bmV3Vk5vZGUsXG5cdG9sZFZOb2RlLFxuXHRnbG9iYWxDb250ZXh0LFxuXHRpc1N2Zyxcblx0ZXhjZXNzRG9tQ2hpbGRyZW4sXG5cdGNvbW1pdFF1ZXVlLFxuXHRvbGREb20sXG5cdGlzSHlkcmF0aW5nXG4pIHtcblx0bGV0IHRtcCxcblx0XHRuZXdUeXBlID0gbmV3Vk5vZGUudHlwZTtcblxuXHQvLyBXaGVuIHBhc3NpbmcgdGhyb3VnaCBjcmVhdGVFbGVtZW50IGl0IGFzc2lnbnMgdGhlIG9iamVjdFxuXHQvLyBjb25zdHJ1Y3RvciBhcyB1bmRlZmluZWQuIFRoaXMgdG8gcHJldmVudCBKU09OLWluamVjdGlvbi5cblx0aWYgKG5ld1ZOb2RlLmNvbnN0cnVjdG9yICE9PSB1bmRlZmluZWQpIHJldHVybiBudWxsO1xuXG5cdC8vIElmIHRoZSBwcmV2aW91cyBkaWZmIGJhaWxlZCBvdXQsIHJlc3VtZSBjcmVhdGluZy9oeWRyYXRpbmcuXG5cdGlmIChvbGRWTm9kZS5faHlkcmF0aW5nICE9IG51bGwpIHtcblx0XHRpc0h5ZHJhdGluZyA9IG9sZFZOb2RlLl9oeWRyYXRpbmc7XG5cdFx0b2xkRG9tID0gbmV3Vk5vZGUuX2RvbSA9IG9sZFZOb2RlLl9kb207XG5cdFx0Ly8gaWYgd2UgcmVzdW1lLCB3ZSB3YW50IHRoZSB0cmVlIHRvIGJlIFwidW5sb2NrZWRcIlxuXHRcdG5ld1ZOb2RlLl9oeWRyYXRpbmcgPSBudWxsO1xuXHRcdGV4Y2Vzc0RvbUNoaWxkcmVuID0gW29sZERvbV07XG5cdH1cblxuXHRpZiAoKHRtcCA9IG9wdGlvbnMuX2RpZmYpKSB0bXAobmV3Vk5vZGUpO1xuXG5cdHRyeSB7XG5cdFx0b3V0ZXI6IGlmICh0eXBlb2YgbmV3VHlwZSA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRsZXQgYywgaXNOZXcsIG9sZFByb3BzLCBvbGRTdGF0ZSwgc25hcHNob3QsIGNsZWFyUHJvY2Vzc2luZ0V4Y2VwdGlvbjtcblx0XHRcdGxldCBuZXdQcm9wcyA9IG5ld1ZOb2RlLnByb3BzO1xuXG5cdFx0XHQvLyBOZWNlc3NhcnkgZm9yIGNyZWF0ZUNvbnRleHQgYXBpLiBTZXR0aW5nIHRoaXMgcHJvcGVydHkgd2lsbCBwYXNzXG5cdFx0XHQvLyB0aGUgY29udGV4dCB2YWx1ZSBhcyBgdGhpcy5jb250ZXh0YCBqdXN0IGZvciB0aGlzIGNvbXBvbmVudC5cblx0XHRcdHRtcCA9IG5ld1R5cGUuY29udGV4dFR5cGU7XG5cdFx0XHRsZXQgcHJvdmlkZXIgPSB0bXAgJiYgZ2xvYmFsQ29udGV4dFt0bXAuX2lkXTtcblx0XHRcdGxldCBjb21wb25lbnRDb250ZXh0ID0gdG1wXG5cdFx0XHRcdD8gcHJvdmlkZXJcblx0XHRcdFx0XHQ/IHByb3ZpZGVyLnByb3BzLnZhbHVlXG5cdFx0XHRcdFx0OiB0bXAuX2RlZmF1bHRWYWx1ZVxuXHRcdFx0XHQ6IGdsb2JhbENvbnRleHQ7XG5cblx0XHRcdC8vIEdldCBjb21wb25lbnQgYW5kIHNldCBpdCB0byBgY2Bcblx0XHRcdGlmIChvbGRWTm9kZS5fY29tcG9uZW50KSB7XG5cdFx0XHRcdGMgPSBuZXdWTm9kZS5fY29tcG9uZW50ID0gb2xkVk5vZGUuX2NvbXBvbmVudDtcblx0XHRcdFx0Y2xlYXJQcm9jZXNzaW5nRXhjZXB0aW9uID0gYy5fcHJvY2Vzc2luZ0V4Y2VwdGlvbiA9IGMuX3BlbmRpbmdFcnJvcjtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIEluc3RhbnRpYXRlIHRoZSBuZXcgY29tcG9uZW50XG5cdFx0XHRcdGlmICgncHJvdG90eXBlJyBpbiBuZXdUeXBlICYmIG5ld1R5cGUucHJvdG90eXBlLnJlbmRlcikge1xuXHRcdFx0XHRcdC8vIEB0cy1pZ25vcmUgVGhlIGNoZWNrIGFib3ZlIHZlcmlmaWVzIHRoYXQgbmV3VHlwZSBpcyBzdXBwb3NlIHRvIGJlIGNvbnN0cnVjdGVkXG5cdFx0XHRcdFx0bmV3Vk5vZGUuX2NvbXBvbmVudCA9IGMgPSBuZXcgbmV3VHlwZShuZXdQcm9wcywgY29tcG9uZW50Q29udGV4dCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbmV3LWNhcFxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdC8vIEB0cy1pZ25vcmUgVHJ1c3QgbWUsIENvbXBvbmVudCBpbXBsZW1lbnRzIHRoZSBpbnRlcmZhY2Ugd2Ugd2FudFxuXHRcdFx0XHRcdG5ld1ZOb2RlLl9jb21wb25lbnQgPSBjID0gbmV3IENvbXBvbmVudChuZXdQcm9wcywgY29tcG9uZW50Q29udGV4dCk7XG5cdFx0XHRcdFx0Yy5jb25zdHJ1Y3RvciA9IG5ld1R5cGU7XG5cdFx0XHRcdFx0Yy5yZW5kZXIgPSBkb1JlbmRlcjtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAocHJvdmlkZXIpIHByb3ZpZGVyLnN1YihjKTtcblxuXHRcdFx0XHRjLnByb3BzID0gbmV3UHJvcHM7XG5cdFx0XHRcdGlmICghYy5zdGF0ZSkgYy5zdGF0ZSA9IHt9O1xuXHRcdFx0XHRjLmNvbnRleHQgPSBjb21wb25lbnRDb250ZXh0O1xuXHRcdFx0XHRjLl9nbG9iYWxDb250ZXh0ID0gZ2xvYmFsQ29udGV4dDtcblx0XHRcdFx0aXNOZXcgPSBjLl9kaXJ0eSA9IHRydWU7XG5cdFx0XHRcdGMuX3JlbmRlckNhbGxiYWNrcyA9IFtdO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJbnZva2UgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzXG5cdFx0XHRpZiAoYy5fbmV4dFN0YXRlID09IG51bGwpIHtcblx0XHRcdFx0Yy5fbmV4dFN0YXRlID0gYy5zdGF0ZTtcblx0XHRcdH1cblx0XHRcdGlmIChuZXdUeXBlLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyAhPSBudWxsKSB7XG5cdFx0XHRcdGlmIChjLl9uZXh0U3RhdGUgPT0gYy5zdGF0ZSkge1xuXHRcdFx0XHRcdGMuX25leHRTdGF0ZSA9IGFzc2lnbih7fSwgYy5fbmV4dFN0YXRlKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGFzc2lnbihcblx0XHRcdFx0XHRjLl9uZXh0U3RhdGUsXG5cdFx0XHRcdFx0bmV3VHlwZS5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMobmV3UHJvcHMsIGMuX25leHRTdGF0ZSlcblx0XHRcdFx0KTtcblx0XHRcdH1cblxuXHRcdFx0b2xkUHJvcHMgPSBjLnByb3BzO1xuXHRcdFx0b2xkU3RhdGUgPSBjLnN0YXRlO1xuXG5cdFx0XHQvLyBJbnZva2UgcHJlLXJlbmRlciBsaWZlY3ljbGUgbWV0aG9kc1xuXHRcdFx0aWYgKGlzTmV3KSB7XG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHRuZXdUeXBlLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9PSBudWxsICYmXG5cdFx0XHRcdFx0Yy5jb21wb25lbnRXaWxsTW91bnQgIT0gbnVsbFxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHRjLmNvbXBvbmVudFdpbGxNb3VudCgpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGMuY29tcG9uZW50RGlkTW91bnQgIT0gbnVsbCkge1xuXHRcdFx0XHRcdGMuX3JlbmRlckNhbGxiYWNrcy5wdXNoKGMuY29tcG9uZW50RGlkTW91bnQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0bmV3VHlwZS5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPT0gbnVsbCAmJlxuXHRcdFx0XHRcdG5ld1Byb3BzICE9PSBvbGRQcm9wcyAmJlxuXHRcdFx0XHRcdGMuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyAhPSBudWxsXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdGMuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXdQcm9wcywgY29tcG9uZW50Q29udGV4dCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0KCFjLl9mb3JjZSAmJlxuXHRcdFx0XHRcdFx0Yy5zaG91bGRDb21wb25lbnRVcGRhdGUgIT0gbnVsbCAmJlxuXHRcdFx0XHRcdFx0Yy5zaG91bGRDb21wb25lbnRVcGRhdGUoXG5cdFx0XHRcdFx0XHRcdG5ld1Byb3BzLFxuXHRcdFx0XHRcdFx0XHRjLl9uZXh0U3RhdGUsXG5cdFx0XHRcdFx0XHRcdGNvbXBvbmVudENvbnRleHRcblx0XHRcdFx0XHRcdCkgPT09IGZhbHNlKSB8fFxuXHRcdFx0XHRcdG5ld1ZOb2RlLl9vcmlnaW5hbCA9PT0gb2xkVk5vZGUuX29yaWdpbmFsXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdGMucHJvcHMgPSBuZXdQcm9wcztcblx0XHRcdFx0XHRjLnN0YXRlID0gYy5fbmV4dFN0YXRlO1xuXHRcdFx0XHRcdC8vIE1vcmUgaW5mbyBhYm91dCB0aGlzIGhlcmU6IGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL0pvdmlEZUNyb29jay9iZWM1ZjJjZTkzNTQ0ZDJlNjA3MGVmOGUwMDM2ZTRlOFxuXHRcdFx0XHRcdGlmIChuZXdWTm9kZS5fb3JpZ2luYWwgIT09IG9sZFZOb2RlLl9vcmlnaW5hbCkgYy5fZGlydHkgPSBmYWxzZTtcblx0XHRcdFx0XHRjLl92bm9kZSA9IG5ld1ZOb2RlO1xuXHRcdFx0XHRcdG5ld1ZOb2RlLl9kb20gPSBvbGRWTm9kZS5fZG9tO1xuXHRcdFx0XHRcdG5ld1ZOb2RlLl9jaGlsZHJlbiA9IG9sZFZOb2RlLl9jaGlsZHJlbjtcblx0XHRcdFx0XHRuZXdWTm9kZS5fY2hpbGRyZW4uZm9yRWFjaCh2bm9kZSA9PiB7XG5cdFx0XHRcdFx0XHRpZiAodm5vZGUpIHZub2RlLl9wYXJlbnQgPSBuZXdWTm9kZTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRpZiAoYy5fcmVuZGVyQ2FsbGJhY2tzLmxlbmd0aCkge1xuXHRcdFx0XHRcdFx0Y29tbWl0UXVldWUucHVzaChjKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRicmVhayBvdXRlcjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChjLmNvbXBvbmVudFdpbGxVcGRhdGUgIT0gbnVsbCkge1xuXHRcdFx0XHRcdGMuY29tcG9uZW50V2lsbFVwZGF0ZShuZXdQcm9wcywgYy5fbmV4dFN0YXRlLCBjb21wb25lbnRDb250ZXh0KTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChjLmNvbXBvbmVudERpZFVwZGF0ZSAhPSBudWxsKSB7XG5cdFx0XHRcdFx0Yy5fcmVuZGVyQ2FsbGJhY2tzLnB1c2goKCkgPT4ge1xuXHRcdFx0XHRcdFx0Yy5jb21wb25lbnREaWRVcGRhdGUob2xkUHJvcHMsIG9sZFN0YXRlLCBzbmFwc2hvdCk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Yy5jb250ZXh0ID0gY29tcG9uZW50Q29udGV4dDtcblx0XHRcdGMucHJvcHMgPSBuZXdQcm9wcztcblx0XHRcdGMuX3Zub2RlID0gbmV3Vk5vZGU7XG5cdFx0XHRjLl9wYXJlbnREb20gPSBwYXJlbnREb207XG5cblx0XHRcdGxldCByZW5kZXJIb29rID0gb3B0aW9ucy5fcmVuZGVyLFxuXHRcdFx0XHRjb3VudCA9IDA7XG5cdFx0XHRpZiAoJ3Byb3RvdHlwZScgaW4gbmV3VHlwZSAmJiBuZXdUeXBlLnByb3RvdHlwZS5yZW5kZXIpIHtcblx0XHRcdFx0Yy5zdGF0ZSA9IGMuX25leHRTdGF0ZTtcblx0XHRcdFx0Yy5fZGlydHkgPSBmYWxzZTtcblxuXHRcdFx0XHRpZiAocmVuZGVySG9vaykgcmVuZGVySG9vayhuZXdWTm9kZSk7XG5cblx0XHRcdFx0dG1wID0gYy5yZW5kZXIoYy5wcm9wcywgYy5zdGF0ZSwgYy5jb250ZXh0KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGRvIHtcblx0XHRcdFx0XHRjLl9kaXJ0eSA9IGZhbHNlO1xuXHRcdFx0XHRcdGlmIChyZW5kZXJIb29rKSByZW5kZXJIb29rKG5ld1ZOb2RlKTtcblxuXHRcdFx0XHRcdHRtcCA9IGMucmVuZGVyKGMucHJvcHMsIGMuc3RhdGUsIGMuY29udGV4dCk7XG5cblx0XHRcdFx0XHQvLyBIYW5kbGUgc2V0U3RhdGUgY2FsbGVkIGluIHJlbmRlciwgc2VlICMyNTUzXG5cdFx0XHRcdFx0Yy5zdGF0ZSA9IGMuX25leHRTdGF0ZTtcblx0XHRcdFx0fSB3aGlsZSAoYy5fZGlydHkgJiYgKytjb3VudCA8IDI1KTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gSGFuZGxlIHNldFN0YXRlIGNhbGxlZCBpbiByZW5kZXIsIHNlZSAjMjU1M1xuXHRcdFx0Yy5zdGF0ZSA9IGMuX25leHRTdGF0ZTtcblxuXHRcdFx0aWYgKGMuZ2V0Q2hpbGRDb250ZXh0ICE9IG51bGwpIHtcblx0XHRcdFx0Z2xvYmFsQ29udGV4dCA9IGFzc2lnbihhc3NpZ24oe30sIGdsb2JhbENvbnRleHQpLCBjLmdldENoaWxkQ29udGV4dCgpKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCFpc05ldyAmJiBjLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlICE9IG51bGwpIHtcblx0XHRcdFx0c25hcHNob3QgPSBjLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlKG9sZFByb3BzLCBvbGRTdGF0ZSk7XG5cdFx0XHR9XG5cblx0XHRcdGxldCBpc1RvcExldmVsRnJhZ21lbnQgPVxuXHRcdFx0XHR0bXAgIT0gbnVsbCAmJiB0bXAudHlwZSA9PT0gRnJhZ21lbnQgJiYgdG1wLmtleSA9PSBudWxsO1xuXHRcdFx0bGV0IHJlbmRlclJlc3VsdCA9IGlzVG9wTGV2ZWxGcmFnbWVudCA/IHRtcC5wcm9wcy5jaGlsZHJlbiA6IHRtcDtcblxuXHRcdFx0ZGlmZkNoaWxkcmVuKFxuXHRcdFx0XHRwYXJlbnREb20sXG5cdFx0XHRcdEFycmF5LmlzQXJyYXkocmVuZGVyUmVzdWx0KSA/IHJlbmRlclJlc3VsdCA6IFtyZW5kZXJSZXN1bHRdLFxuXHRcdFx0XHRuZXdWTm9kZSxcblx0XHRcdFx0b2xkVk5vZGUsXG5cdFx0XHRcdGdsb2JhbENvbnRleHQsXG5cdFx0XHRcdGlzU3ZnLFxuXHRcdFx0XHRleGNlc3NEb21DaGlsZHJlbixcblx0XHRcdFx0Y29tbWl0UXVldWUsXG5cdFx0XHRcdG9sZERvbSxcblx0XHRcdFx0aXNIeWRyYXRpbmdcblx0XHRcdCk7XG5cblx0XHRcdGMuYmFzZSA9IG5ld1ZOb2RlLl9kb207XG5cblx0XHRcdC8vIFdlIHN1Y2Nlc3NmdWxseSByZW5kZXJlZCB0aGlzIFZOb2RlLCB1bnNldCBhbnkgc3RvcmVkIGh5ZHJhdGlvbi9iYWlsb3V0IHN0YXRlOlxuXHRcdFx0bmV3Vk5vZGUuX2h5ZHJhdGluZyA9IG51bGw7XG5cblx0XHRcdGlmIChjLl9yZW5kZXJDYWxsYmFja3MubGVuZ3RoKSB7XG5cdFx0XHRcdGNvbW1pdFF1ZXVlLnB1c2goYyk7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChjbGVhclByb2Nlc3NpbmdFeGNlcHRpb24pIHtcblx0XHRcdFx0Yy5fcGVuZGluZ0Vycm9yID0gYy5fcHJvY2Vzc2luZ0V4Y2VwdGlvbiA9IG51bGw7XG5cdFx0XHR9XG5cblx0XHRcdGMuX2ZvcmNlID0gZmFsc2U7XG5cdFx0fSBlbHNlIGlmIChcblx0XHRcdGV4Y2Vzc0RvbUNoaWxkcmVuID09IG51bGwgJiZcblx0XHRcdG5ld1ZOb2RlLl9vcmlnaW5hbCA9PT0gb2xkVk5vZGUuX29yaWdpbmFsXG5cdFx0KSB7XG5cdFx0XHRuZXdWTm9kZS5fY2hpbGRyZW4gPSBvbGRWTm9kZS5fY2hpbGRyZW47XG5cdFx0XHRuZXdWTm9kZS5fZG9tID0gb2xkVk5vZGUuX2RvbTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0bmV3Vk5vZGUuX2RvbSA9IGRpZmZFbGVtZW50Tm9kZXMoXG5cdFx0XHRcdG9sZFZOb2RlLl9kb20sXG5cdFx0XHRcdG5ld1ZOb2RlLFxuXHRcdFx0XHRvbGRWTm9kZSxcblx0XHRcdFx0Z2xvYmFsQ29udGV4dCxcblx0XHRcdFx0aXNTdmcsXG5cdFx0XHRcdGV4Y2Vzc0RvbUNoaWxkcmVuLFxuXHRcdFx0XHRjb21taXRRdWV1ZSxcblx0XHRcdFx0aXNIeWRyYXRpbmdcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0aWYgKCh0bXAgPSBvcHRpb25zLmRpZmZlZCkpIHRtcChuZXdWTm9kZSk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRuZXdWTm9kZS5fb3JpZ2luYWwgPSBudWxsO1xuXHRcdC8vIGlmIGh5ZHJhdGluZyBvciBjcmVhdGluZyBpbml0aWFsIHRyZWUsIGJhaWxvdXQgcHJlc2VydmVzIERPTTpcblx0XHRpZiAoaXNIeWRyYXRpbmcgfHwgZXhjZXNzRG9tQ2hpbGRyZW4gIT0gbnVsbCkge1xuXHRcdFx0bmV3Vk5vZGUuX2RvbSA9IG9sZERvbTtcblx0XHRcdG5ld1ZOb2RlLl9oeWRyYXRpbmcgPSAhIWlzSHlkcmF0aW5nO1xuXHRcdFx0ZXhjZXNzRG9tQ2hpbGRyZW5bZXhjZXNzRG9tQ2hpbGRyZW4uaW5kZXhPZihvbGREb20pXSA9IG51bGw7XG5cdFx0XHQvLyBeIGNvdWxkIHBvc3NpYmx5IGJlIHNpbXBsaWZpZWQgdG86XG5cdFx0XHQvLyBleGNlc3NEb21DaGlsZHJlbi5sZW5ndGggPSAwO1xuXHRcdH1cblx0XHRvcHRpb25zLl9jYXRjaEVycm9yKGUsIG5ld1ZOb2RlLCBvbGRWTm9kZSk7XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PGltcG9ydCgnLi4vaW50ZXJuYWwnKS5Db21wb25lbnQ+fSBjb21taXRRdWV1ZSBMaXN0IG9mIGNvbXBvbmVudHNcbiAqIHdoaWNoIGhhdmUgY2FsbGJhY2tzIHRvIGludm9rZSBpbiBjb21taXRSb290XG4gKiBAcGFyYW0ge2ltcG9ydCgnLi4vaW50ZXJuYWwnKS5WTm9kZX0gcm9vdFxuICovXG5leHBvcnQgZnVuY3Rpb24gY29tbWl0Um9vdChjb21taXRRdWV1ZSwgcm9vdCkge1xuXHRpZiAob3B0aW9ucy5fY29tbWl0KSBvcHRpb25zLl9jb21taXQocm9vdCwgY29tbWl0UXVldWUpO1xuXG5cdGNvbW1pdFF1ZXVlLnNvbWUoYyA9PiB7XG5cdFx0dHJ5IHtcblx0XHRcdC8vIEB0cy1pZ25vcmUgUmV1c2UgdGhlIGNvbW1pdFF1ZXVlIHZhcmlhYmxlIGhlcmUgc28gdGhlIHR5cGUgY2hhbmdlc1xuXHRcdFx0Y29tbWl0UXVldWUgPSBjLl9yZW5kZXJDYWxsYmFja3M7XG5cdFx0XHRjLl9yZW5kZXJDYWxsYmFja3MgPSBbXTtcblx0XHRcdGNvbW1pdFF1ZXVlLnNvbWUoY2IgPT4ge1xuXHRcdFx0XHQvLyBAdHMtaWdub3JlIFNlZSBhYm92ZSB0cy1pZ25vcmUgb24gY29tbWl0UXVldWVcblx0XHRcdFx0Y2IuY2FsbChjKTtcblx0XHRcdH0pO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdG9wdGlvbnMuX2NhdGNoRXJyb3IoZSwgYy5fdm5vZGUpO1xuXHRcdH1cblx0fSk7XG59XG5cbi8qKlxuICogRGlmZiB0d28gdmlydHVhbCBub2RlcyByZXByZXNlbnRpbmcgRE9NIGVsZW1lbnRcbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9pbnRlcm5hbCcpLlByZWFjdEVsZW1lbnR9IGRvbSBUaGUgRE9NIGVsZW1lbnQgcmVwcmVzZW50aW5nXG4gKiB0aGUgdmlydHVhbCBub2RlcyBiZWluZyBkaWZmZWRcbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9pbnRlcm5hbCcpLlZOb2RlfSBuZXdWTm9kZSBUaGUgbmV3IHZpcnR1YWwgbm9kZVxuICogQHBhcmFtIHtpbXBvcnQoJy4uL2ludGVybmFsJykuVk5vZGV9IG9sZFZOb2RlIFRoZSBvbGQgdmlydHVhbCBub2RlXG4gKiBAcGFyYW0ge29iamVjdH0gZ2xvYmFsQ29udGV4dCBUaGUgY3VycmVudCBjb250ZXh0IG9iamVjdFxuICogQHBhcmFtIHtib29sZWFufSBpc1N2ZyBXaGV0aGVyIG9yIG5vdCB0aGlzIERPTSBub2RlIGlzIGFuIFNWRyBub2RlXG4gKiBAcGFyYW0geyp9IGV4Y2Vzc0RvbUNoaWxkcmVuXG4gKiBAcGFyYW0ge0FycmF5PGltcG9ydCgnLi4vaW50ZXJuYWwnKS5Db21wb25lbnQ+fSBjb21taXRRdWV1ZSBMaXN0IG9mIGNvbXBvbmVudHNcbiAqIHdoaWNoIGhhdmUgY2FsbGJhY2tzIHRvIGludm9rZSBpbiBjb21taXRSb290XG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlzSHlkcmF0aW5nIFdoZXRoZXIgb3Igbm90IHdlIGFyZSBpbiBoeWRyYXRpb25cbiAqIEByZXR1cm5zIHtpbXBvcnQoJy4uL2ludGVybmFsJykuUHJlYWN0RWxlbWVudH1cbiAqL1xuZnVuY3Rpb24gZGlmZkVsZW1lbnROb2Rlcyhcblx0ZG9tLFxuXHRuZXdWTm9kZSxcblx0b2xkVk5vZGUsXG5cdGdsb2JhbENvbnRleHQsXG5cdGlzU3ZnLFxuXHRleGNlc3NEb21DaGlsZHJlbixcblx0Y29tbWl0UXVldWUsXG5cdGlzSHlkcmF0aW5nXG4pIHtcblx0bGV0IG9sZFByb3BzID0gb2xkVk5vZGUucHJvcHM7XG5cdGxldCBuZXdQcm9wcyA9IG5ld1ZOb2RlLnByb3BzO1xuXHRsZXQgbm9kZVR5cGUgPSBuZXdWTm9kZS50eXBlO1xuXHRsZXQgaSA9IDA7XG5cblx0Ly8gVHJhY2tzIGVudGVyaW5nIGFuZCBleGl0aW5nIFNWRyBuYW1lc3BhY2Ugd2hlbiBkZXNjZW5kaW5nIHRocm91Z2ggdGhlIHRyZWUuXG5cdGlmIChub2RlVHlwZSA9PT0gJ3N2ZycpIGlzU3ZnID0gdHJ1ZTtcblxuXHRpZiAoZXhjZXNzRG9tQ2hpbGRyZW4gIT0gbnVsbCkge1xuXHRcdGZvciAoOyBpIDwgZXhjZXNzRG9tQ2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcblx0XHRcdGNvbnN0IGNoaWxkID0gZXhjZXNzRG9tQ2hpbGRyZW5baV07XG5cblx0XHRcdC8vIGlmIG5ld1ZOb2RlIG1hdGNoZXMgYW4gZWxlbWVudCBpbiBleGNlc3NEb21DaGlsZHJlbiBvciB0aGUgYGRvbWBcblx0XHRcdC8vIGFyZ3VtZW50IG1hdGNoZXMgYW4gZWxlbWVudCBpbiBleGNlc3NEb21DaGlsZHJlbiwgcmVtb3ZlIGl0IGZyb21cblx0XHRcdC8vIGV4Y2Vzc0RvbUNoaWxkcmVuIHNvIGl0IGlzbid0IGxhdGVyIHJlbW92ZWQgaW4gZGlmZkNoaWxkcmVuXG5cdFx0XHRpZiAoXG5cdFx0XHRcdGNoaWxkICYmXG5cdFx0XHRcdCdzZXRBdHRyaWJ1dGUnIGluIGNoaWxkID09PSAhIW5vZGVUeXBlICYmXG5cdFx0XHRcdChub2RlVHlwZSA/IGNoaWxkLmxvY2FsTmFtZSA9PT0gbm9kZVR5cGUgOiBjaGlsZC5ub2RlVHlwZSA9PT0gMylcblx0XHRcdCkge1xuXHRcdFx0XHRkb20gPSBjaGlsZDtcblx0XHRcdFx0ZXhjZXNzRG9tQ2hpbGRyZW5baV0gPSBudWxsO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRpZiAoZG9tID09IG51bGwpIHtcblx0XHRpZiAobm9kZVR5cGUgPT09IG51bGwpIHtcblx0XHRcdC8vIEB0cy1pZ25vcmUgY3JlYXRlVGV4dE5vZGUgcmV0dXJucyBUZXh0LCB3ZSBleHBlY3QgUHJlYWN0RWxlbWVudFxuXHRcdFx0cmV0dXJuIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG5ld1Byb3BzKTtcblx0XHR9XG5cblx0XHRpZiAoaXNTdmcpIHtcblx0XHRcdGRvbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcblx0XHRcdFx0J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyxcblx0XHRcdFx0Ly8gQHRzLWlnbm9yZSBXZSBrbm93IGBuZXdWTm9kZS50eXBlYCBpcyBhIHN0cmluZ1xuXHRcdFx0XHRub2RlVHlwZVxuXHRcdFx0KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZG9tID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcblx0XHRcdFx0Ly8gQHRzLWlnbm9yZSBXZSBrbm93IGBuZXdWTm9kZS50eXBlYCBpcyBhIHN0cmluZ1xuXHRcdFx0XHRub2RlVHlwZSxcblx0XHRcdFx0bmV3UHJvcHMuaXMgJiYgbmV3UHJvcHNcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0Ly8gd2UgY3JlYXRlZCBhIG5ldyBwYXJlbnQsIHNvIG5vbmUgb2YgdGhlIHByZXZpb3VzbHkgYXR0YWNoZWQgY2hpbGRyZW4gY2FuIGJlIHJldXNlZDpcblx0XHRleGNlc3NEb21DaGlsZHJlbiA9IG51bGw7XG5cdFx0Ly8gd2UgYXJlIGNyZWF0aW5nIGEgbmV3IG5vZGUsIHNvIHdlIGNhbiBhc3N1bWUgdGhpcyBpcyBhIG5ldyBzdWJ0cmVlIChpbiBjYXNlIHdlIGFyZSBoeWRyYXRpbmcpLCB0aGlzIGRlb3B0cyB0aGUgaHlkcmF0ZVxuXHRcdGlzSHlkcmF0aW5nID0gZmFsc2U7XG5cdH1cblxuXHRpZiAobm9kZVR5cGUgPT09IG51bGwpIHtcblx0XHQvLyBEdXJpbmcgaHlkcmF0aW9uLCB3ZSBzdGlsbCBoYXZlIHRvIHNwbGl0IG1lcmdlZCB0ZXh0IGZyb20gU1NSJ2QgSFRNTC5cblx0XHRpZiAob2xkUHJvcHMgIT09IG5ld1Byb3BzICYmICghaXNIeWRyYXRpbmcgfHwgZG9tLmRhdGEgIT09IG5ld1Byb3BzKSkge1xuXHRcdFx0ZG9tLmRhdGEgPSBuZXdQcm9wcztcblx0XHR9XG5cdH0gZWxzZSB7XG5cdFx0Ly8gSWYgZXhjZXNzRG9tQ2hpbGRyZW4gd2FzIG5vdCBudWxsLCByZXBvcHVsYXRlIGl0IHdpdGggdGhlIGN1cnJlbnQgZWxlbWVudCdzIGNoaWxkcmVuOlxuXHRcdGV4Y2Vzc0RvbUNoaWxkcmVuID0gZXhjZXNzRG9tQ2hpbGRyZW4gJiYgc2xpY2UuY2FsbChkb20uY2hpbGROb2Rlcyk7XG5cblx0XHRvbGRQcm9wcyA9IG9sZFZOb2RlLnByb3BzIHx8IEVNUFRZX09CSjtcblxuXHRcdGxldCBvbGRIdG1sID0gb2xkUHJvcHMuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw7XG5cdFx0bGV0IG5ld0h0bWwgPSBuZXdQcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTDtcblxuXHRcdC8vIER1cmluZyBoeWRyYXRpb24sIHByb3BzIGFyZSBub3QgZGlmZmVkIGF0IGFsbCAoaW5jbHVkaW5nIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MKVxuXHRcdC8vIEBUT0RPIHdlIHNob3VsZCB3YXJuIGluIGRlYnVnIG1vZGUgd2hlbiBwcm9wcyBkb24ndCBtYXRjaCBoZXJlLlxuXHRcdGlmICghaXNIeWRyYXRpbmcpIHtcblx0XHRcdC8vIEJ1dCwgaWYgd2UgYXJlIGluIGEgc2l0dWF0aW9uIHdoZXJlIHdlIGFyZSB1c2luZyBleGlzdGluZyBET00gKGUuZy4gcmVwbGFjZU5vZGUpXG5cdFx0XHQvLyB3ZSBzaG91bGQgcmVhZCB0aGUgZXhpc3RpbmcgRE9NIGF0dHJpYnV0ZXMgdG8gZGlmZiB0aGVtXG5cdFx0XHRpZiAoZXhjZXNzRG9tQ2hpbGRyZW4gIT0gbnVsbCkge1xuXHRcdFx0XHRvbGRQcm9wcyA9IHt9O1xuXHRcdFx0XHRmb3IgKGkgPSAwOyBpIDwgZG9tLmF0dHJpYnV0ZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRvbGRQcm9wc1tkb20uYXR0cmlidXRlc1tpXS5uYW1lXSA9IGRvbS5hdHRyaWJ1dGVzW2ldLnZhbHVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGlmIChuZXdIdG1sIHx8IG9sZEh0bWwpIHtcblx0XHRcdFx0Ly8gQXZvaWQgcmUtYXBwbHlpbmcgdGhlIHNhbWUgJ19faHRtbCcgaWYgaXQgZGlkIG5vdCBjaGFuZ2VkIGJldHdlZW4gcmUtcmVuZGVyXG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHQhbmV3SHRtbCB8fFxuXHRcdFx0XHRcdCgoIW9sZEh0bWwgfHwgbmV3SHRtbC5fX2h0bWwgIT0gb2xkSHRtbC5fX2h0bWwpICYmXG5cdFx0XHRcdFx0XHRuZXdIdG1sLl9faHRtbCAhPT0gZG9tLmlubmVySFRNTClcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0ZG9tLmlubmVySFRNTCA9IChuZXdIdG1sICYmIG5ld0h0bWwuX19odG1sKSB8fCAnJztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGRpZmZQcm9wcyhkb20sIG5ld1Byb3BzLCBvbGRQcm9wcywgaXNTdmcsIGlzSHlkcmF0aW5nKTtcblxuXHRcdC8vIElmIHRoZSBuZXcgdm5vZGUgZGlkbid0IGhhdmUgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwsIGRpZmYgaXRzIGNoaWxkcmVuXG5cdFx0aWYgKG5ld0h0bWwpIHtcblx0XHRcdG5ld1ZOb2RlLl9jaGlsZHJlbiA9IFtdO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRpID0gbmV3Vk5vZGUucHJvcHMuY2hpbGRyZW47XG5cdFx0XHRkaWZmQ2hpbGRyZW4oXG5cdFx0XHRcdGRvbSxcblx0XHRcdFx0QXJyYXkuaXNBcnJheShpKSA/IGkgOiBbaV0sXG5cdFx0XHRcdG5ld1ZOb2RlLFxuXHRcdFx0XHRvbGRWTm9kZSxcblx0XHRcdFx0Z2xvYmFsQ29udGV4dCxcblx0XHRcdFx0aXNTdmcgJiYgbm9kZVR5cGUgIT09ICdmb3JlaWduT2JqZWN0Jyxcblx0XHRcdFx0ZXhjZXNzRG9tQ2hpbGRyZW4sXG5cdFx0XHRcdGNvbW1pdFF1ZXVlLFxuXHRcdFx0XHRleGNlc3NEb21DaGlsZHJlblxuXHRcdFx0XHRcdD8gZXhjZXNzRG9tQ2hpbGRyZW5bMF1cblx0XHRcdFx0XHQ6IG9sZFZOb2RlLl9jaGlsZHJlbiAmJiBnZXREb21TaWJsaW5nKG9sZFZOb2RlLCAwKSxcblx0XHRcdFx0aXNIeWRyYXRpbmdcblx0XHRcdCk7XG5cblx0XHRcdC8vIFJlbW92ZSBjaGlsZHJlbiB0aGF0IGFyZSBub3QgcGFydCBvZiBhbnkgdm5vZGUuXG5cdFx0XHRpZiAoZXhjZXNzRG9tQ2hpbGRyZW4gIT0gbnVsbCkge1xuXHRcdFx0XHRmb3IgKGkgPSBleGNlc3NEb21DaGlsZHJlbi5sZW5ndGg7IGktLTsgKSB7XG5cdFx0XHRcdFx0aWYgKGV4Y2Vzc0RvbUNoaWxkcmVuW2ldICE9IG51bGwpIHJlbW92ZU5vZGUoZXhjZXNzRG9tQ2hpbGRyZW5baV0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gKGFzIGFib3ZlLCBkb24ndCBkaWZmIHByb3BzIGR1cmluZyBoeWRyYXRpb24pXG5cdFx0aWYgKCFpc0h5ZHJhdGluZykge1xuXHRcdFx0aWYgKFxuXHRcdFx0XHQndmFsdWUnIGluIG5ld1Byb3BzICYmXG5cdFx0XHRcdChpID0gbmV3UHJvcHMudmFsdWUpICE9PSB1bmRlZmluZWQgJiZcblx0XHRcdFx0Ly8gIzI3NTYgRm9yIHRoZSA8cHJvZ3Jlc3M+LWVsZW1lbnQgdGhlIGluaXRpYWwgdmFsdWUgaXMgMCxcblx0XHRcdFx0Ly8gZGVzcGl0ZSB0aGUgYXR0cmlidXRlIG5vdCBiZWluZyBwcmVzZW50LiBXaGVuIHRoZSBhdHRyaWJ1dGVcblx0XHRcdFx0Ly8gaXMgbWlzc2luZyB0aGUgcHJvZ3Jlc3MgYmFyIGlzIHRyZWF0ZWQgYXMgaW5kZXRlcm1pbmF0ZS5cblx0XHRcdFx0Ly8gVG8gZml4IHRoYXQgd2UnbGwgYWx3YXlzIHVwZGF0ZSBpdCB3aGVuIGl0IGlzIDAgZm9yIHByb2dyZXNzIGVsZW1lbnRzXG5cdFx0XHRcdChpICE9PSBkb20udmFsdWUgfHxcblx0XHRcdFx0XHQobm9kZVR5cGUgPT09ICdwcm9ncmVzcycgJiYgIWkpIHx8XG5cdFx0XHRcdFx0Ly8gVGhpcyBpcyBvbmx5IGZvciBJRSAxMSB0byBmaXggPHNlbGVjdD4gdmFsdWUgbm90IGJlaW5nIHVwZGF0ZWQuXG5cdFx0XHRcdFx0Ly8gVG8gYXZvaWQgYSBzdGFsZSBzZWxlY3QgdmFsdWUgd2UgbmVlZCB0byBzZXQgdGhlIG9wdGlvbi52YWx1ZVxuXHRcdFx0XHRcdC8vIGFnYWluLCB3aGljaCB0cmlnZ2VycyBJRTExIHRvIHJlLWV2YWx1YXRlIHRoZSBzZWxlY3QgdmFsdWVcblx0XHRcdFx0XHQobm9kZVR5cGUgPT09ICdvcHRpb24nICYmIGkgIT09IG9sZFByb3BzLnZhbHVlKSlcblx0XHRcdCkge1xuXHRcdFx0XHRzZXRQcm9wZXJ0eShkb20sICd2YWx1ZScsIGksIG9sZFByb3BzLnZhbHVlLCBmYWxzZSk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoXG5cdFx0XHRcdCdjaGVja2VkJyBpbiBuZXdQcm9wcyAmJlxuXHRcdFx0XHQoaSA9IG5ld1Byb3BzLmNoZWNrZWQpICE9PSB1bmRlZmluZWQgJiZcblx0XHRcdFx0aSAhPT0gZG9tLmNoZWNrZWRcblx0XHRcdCkge1xuXHRcdFx0XHRzZXRQcm9wZXJ0eShkb20sICdjaGVja2VkJywgaSwgb2xkUHJvcHMuY2hlY2tlZCwgZmFsc2UpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiBkb207XG59XG5cbi8qKlxuICogSW52b2tlIG9yIHVwZGF0ZSBhIHJlZiwgZGVwZW5kaW5nIG9uIHdoZXRoZXIgaXQgaXMgYSBmdW5jdGlvbiBvciBvYmplY3QgcmVmLlxuICogQHBhcmFtIHtvYmplY3R8ZnVuY3Rpb259IHJlZlxuICogQHBhcmFtIHthbnl9IHZhbHVlXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi4vaW50ZXJuYWwnKS5WTm9kZX0gdm5vZGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5UmVmKHJlZiwgdmFsdWUsIHZub2RlKSB7XG5cdHRyeSB7XG5cdFx0aWYgKHR5cGVvZiByZWYgPT0gJ2Z1bmN0aW9uJykgcmVmKHZhbHVlKTtcblx0XHRlbHNlIHJlZi5jdXJyZW50ID0gdmFsdWU7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRvcHRpb25zLl9jYXRjaEVycm9yKGUsIHZub2RlKTtcblx0fVxufVxuXG4vKipcbiAqIFVubW91bnQgYSB2aXJ0dWFsIG5vZGUgZnJvbSB0aGUgdHJlZSBhbmQgYXBwbHkgRE9NIGNoYW5nZXNcbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9pbnRlcm5hbCcpLlZOb2RlfSB2bm9kZSBUaGUgdmlydHVhbCBub2RlIHRvIHVubW91bnRcbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9pbnRlcm5hbCcpLlZOb2RlfSBwYXJlbnRWTm9kZSBUaGUgcGFyZW50IG9mIHRoZSBWTm9kZSB0aGF0XG4gKiBpbml0aWF0ZWQgdGhlIHVubW91bnRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NraXBSZW1vdmVdIEZsYWcgdGhhdCBpbmRpY2F0ZXMgdGhhdCBhIHBhcmVudCBub2RlIG9mIHRoZVxuICogY3VycmVudCBlbGVtZW50IGlzIGFscmVhZHkgZGV0YWNoZWQgZnJvbSB0aGUgRE9NLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5tb3VudCh2bm9kZSwgcGFyZW50Vk5vZGUsIHNraXBSZW1vdmUpIHtcblx0bGV0IHI7XG5cdGlmIChvcHRpb25zLnVubW91bnQpIG9wdGlvbnMudW5tb3VudCh2bm9kZSk7XG5cblx0aWYgKChyID0gdm5vZGUucmVmKSkge1xuXHRcdGlmICghci5jdXJyZW50IHx8IHIuY3VycmVudCA9PT0gdm5vZGUuX2RvbSkgYXBwbHlSZWYociwgbnVsbCwgcGFyZW50Vk5vZGUpO1xuXHR9XG5cblx0aWYgKChyID0gdm5vZGUuX2NvbXBvbmVudCkgIT0gbnVsbCkge1xuXHRcdGlmIChyLmNvbXBvbmVudFdpbGxVbm1vdW50KSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRyLmNvbXBvbmVudFdpbGxVbm1vdW50KCk7XG5cdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdG9wdGlvbnMuX2NhdGNoRXJyb3IoZSwgcGFyZW50Vk5vZGUpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHIuYmFzZSA9IHIuX3BhcmVudERvbSA9IG51bGw7XG5cdH1cblxuXHRpZiAoKHIgPSB2bm9kZS5fY2hpbGRyZW4pKSB7XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCByLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRpZiAocltpXSkge1xuXHRcdFx0XHR1bm1vdW50KHJbaV0sIHBhcmVudFZOb2RlLCB0eXBlb2Ygdm5vZGUudHlwZSAhPSAnZnVuY3Rpb24nKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRpZiAoIXNraXBSZW1vdmUgJiYgdm5vZGUuX2RvbSAhPSBudWxsKSByZW1vdmVOb2RlKHZub2RlLl9kb20pO1xuXG5cdC8vIE11c3QgYmUgc2V0IHRvIGB1bmRlZmluZWRgIHRvIHByb3Blcmx5IGNsZWFuIHVwIGBfbmV4dERvbWBcblx0Ly8gZm9yIHdoaWNoIGBudWxsYCBpcyBhIHZhbGlkIHZhbHVlLiBTZWUgY29tbWVudCBpbiBgY3JlYXRlLWVsZW1lbnQuanNgXG5cdHZub2RlLl9kb20gPSB2bm9kZS5fbmV4dERvbSA9IHVuZGVmaW5lZDtcbn1cblxuLyoqIFRoZSBgLnJlbmRlcigpYCBtZXRob2QgZm9yIGEgUEZDIGJhY2tpbmcgaW5zdGFuY2UuICovXG5mdW5jdGlvbiBkb1JlbmRlcihwcm9wcywgc3RhdGUsIGNvbnRleHQpIHtcblx0cmV0dXJuIHRoaXMuY29uc3RydWN0b3IocHJvcHMsIGNvbnRleHQpO1xufVxuIiwiaW1wb3J0IHsgRU1QVFlfT0JKIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgY29tbWl0Um9vdCwgZGlmZiB9IGZyb20gJy4vZGlmZi9pbmRleCc7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50LCBGcmFnbWVudCB9IGZyb20gJy4vY3JlYXRlLWVsZW1lbnQnO1xuaW1wb3J0IG9wdGlvbnMgZnJvbSAnLi9vcHRpb25zJztcbmltcG9ydCB7IHNsaWNlIH0gZnJvbSAnLi91dGlsJztcblxuLyoqXG4gKiBSZW5kZXIgYSBQcmVhY3QgdmlydHVhbCBub2RlIGludG8gYSBET00gZWxlbWVudFxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5Db21wb25lbnRDaGlsZH0gdm5vZGUgVGhlIHZpcnR1YWwgbm9kZSB0byByZW5kZXJcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2ludGVybmFsJykuUHJlYWN0RWxlbWVudH0gcGFyZW50RG9tIFRoZSBET00gZWxlbWVudCB0b1xuICogcmVuZGVyIGludG9cbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2ludGVybmFsJykuUHJlYWN0RWxlbWVudCB8IG9iamVjdH0gW3JlcGxhY2VOb2RlXSBPcHRpb25hbDogQXR0ZW1wdCB0byByZS11c2UgYW5cbiAqIGV4aXN0aW5nIERPTSB0cmVlIHJvb3RlZCBhdCBgcmVwbGFjZU5vZGVgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXIodm5vZGUsIHBhcmVudERvbSwgcmVwbGFjZU5vZGUpIHtcblx0aWYgKG9wdGlvbnMuX3Jvb3QpIG9wdGlvbnMuX3Jvb3Qodm5vZGUsIHBhcmVudERvbSk7XG5cblx0Ly8gV2UgYWJ1c2UgdGhlIGByZXBsYWNlTm9kZWAgcGFyYW1ldGVyIGluIGBoeWRyYXRlKClgIHRvIHNpZ25hbCBpZiB3ZSBhcmUgaW5cblx0Ly8gaHlkcmF0aW9uIG1vZGUgb3Igbm90IGJ5IHBhc3NpbmcgdGhlIGBoeWRyYXRlYCBmdW5jdGlvbiBpbnN0ZWFkIG9mIGEgRE9NXG5cdC8vIGVsZW1lbnQuLlxuXHRsZXQgaXNIeWRyYXRpbmcgPSB0eXBlb2YgcmVwbGFjZU5vZGUgPT09ICdmdW5jdGlvbic7XG5cblx0Ly8gVG8gYmUgYWJsZSB0byBzdXBwb3J0IGNhbGxpbmcgYHJlbmRlcigpYCBtdWx0aXBsZSB0aW1lcyBvbiB0aGUgc2FtZVxuXHQvLyBET00gbm9kZSwgd2UgbmVlZCB0byBvYnRhaW4gYSByZWZlcmVuY2UgdG8gdGhlIHByZXZpb3VzIHRyZWUuIFdlIGRvXG5cdC8vIHRoaXMgYnkgYXNzaWduaW5nIGEgbmV3IGBfY2hpbGRyZW5gIHByb3BlcnR5IHRvIERPTSBub2RlcyB3aGljaCBwb2ludHNcblx0Ly8gdG8gdGhlIGxhc3QgcmVuZGVyZWQgdHJlZS4gQnkgZGVmYXVsdCB0aGlzIHByb3BlcnR5IGlzIG5vdCBwcmVzZW50LCB3aGljaFxuXHQvLyBtZWFucyB0aGF0IHdlIGFyZSBtb3VudGluZyBhIG5ldyB0cmVlIGZvciB0aGUgZmlyc3QgdGltZS5cblx0bGV0IG9sZFZOb2RlID0gaXNIeWRyYXRpbmdcblx0XHQ/IG51bGxcblx0XHQ6IChyZXBsYWNlTm9kZSAmJiByZXBsYWNlTm9kZS5fY2hpbGRyZW4pIHx8IHBhcmVudERvbS5fY2hpbGRyZW47XG5cblx0dm5vZGUgPSAoXG5cdFx0KCFpc0h5ZHJhdGluZyAmJiByZXBsYWNlTm9kZSkgfHxcblx0XHRwYXJlbnREb21cblx0KS5fY2hpbGRyZW4gPSBjcmVhdGVFbGVtZW50KEZyYWdtZW50LCBudWxsLCBbdm5vZGVdKTtcblxuXHQvLyBMaXN0IG9mIGVmZmVjdHMgdGhhdCBuZWVkIHRvIGJlIGNhbGxlZCBhZnRlciBkaWZmaW5nLlxuXHRsZXQgY29tbWl0UXVldWUgPSBbXTtcblx0ZGlmZihcblx0XHRwYXJlbnREb20sXG5cdFx0Ly8gRGV0ZXJtaW5lIHRoZSBuZXcgdm5vZGUgdHJlZSBhbmQgc3RvcmUgaXQgb24gdGhlIERPTSBlbGVtZW50IG9uXG5cdFx0Ly8gb3VyIGN1c3RvbSBgX2NoaWxkcmVuYCBwcm9wZXJ0eS5cblx0XHR2bm9kZSxcblx0XHRvbGRWTm9kZSB8fCBFTVBUWV9PQkosXG5cdFx0RU1QVFlfT0JKLFxuXHRcdHBhcmVudERvbS5vd25lclNWR0VsZW1lbnQgIT09IHVuZGVmaW5lZCxcblx0XHQhaXNIeWRyYXRpbmcgJiYgcmVwbGFjZU5vZGVcblx0XHRcdD8gW3JlcGxhY2VOb2RlXVxuXHRcdFx0OiBvbGRWTm9kZVxuXHRcdFx0PyBudWxsXG5cdFx0XHQ6IHBhcmVudERvbS5maXJzdENoaWxkXG5cdFx0XHQ/IHNsaWNlLmNhbGwocGFyZW50RG9tLmNoaWxkTm9kZXMpXG5cdFx0XHQ6IG51bGwsXG5cdFx0Y29tbWl0UXVldWUsXG5cdFx0IWlzSHlkcmF0aW5nICYmIHJlcGxhY2VOb2RlXG5cdFx0XHQ/IHJlcGxhY2VOb2RlXG5cdFx0XHQ6IG9sZFZOb2RlXG5cdFx0XHQ/IG9sZFZOb2RlLl9kb21cblx0XHRcdDogcGFyZW50RG9tLmZpcnN0Q2hpbGQsXG5cdFx0aXNIeWRyYXRpbmdcblx0KTtcblxuXHQvLyBGbHVzaCBhbGwgcXVldWVkIGVmZmVjdHNcblx0Y29tbWl0Um9vdChjb21taXRRdWV1ZSwgdm5vZGUpO1xufVxuXG4vKipcbiAqIFVwZGF0ZSBhbiBleGlzdGluZyBET00gZWxlbWVudCB3aXRoIGRhdGEgZnJvbSBhIFByZWFjdCB2aXJ0dWFsIG5vZGVcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2ludGVybmFsJykuQ29tcG9uZW50Q2hpbGR9IHZub2RlIFRoZSB2aXJ0dWFsIG5vZGUgdG8gcmVuZGVyXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9pbnRlcm5hbCcpLlByZWFjdEVsZW1lbnR9IHBhcmVudERvbSBUaGUgRE9NIGVsZW1lbnQgdG9cbiAqIHVwZGF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0ZSh2bm9kZSwgcGFyZW50RG9tKSB7XG5cdHJlbmRlcih2bm9kZSwgcGFyZW50RG9tLCBoeWRyYXRlKTtcbn1cbiIsIi8qKlxuICogRmluZCB0aGUgY2xvc2VzdCBlcnJvciBib3VuZGFyeSB0byBhIHRocm93biBlcnJvciBhbmQgY2FsbCBpdFxuICogQHBhcmFtIHtvYmplY3R9IGVycm9yIFRoZSB0aHJvd24gdmFsdWVcbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9pbnRlcm5hbCcpLlZOb2RlfSB2bm9kZSBUaGUgdm5vZGUgdGhhdCB0aHJld1xuICogdGhlIGVycm9yIHRoYXQgd2FzIGNhdWdodCAoZXhjZXB0IGZvciB1bm1vdW50aW5nIHdoZW4gdGhpcyBwYXJhbWV0ZXJcbiAqIGlzIHRoZSBoaWdoZXN0IHBhcmVudCB0aGF0IHdhcyBiZWluZyB1bm1vdW50ZWQpXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi4vaW50ZXJuYWwnKS5WTm9kZX0gW29sZFZOb2RlXVxuICogQHBhcmFtIHtpbXBvcnQoJy4uL2ludGVybmFsJykuRXJyb3JJbmZvfSBbZXJyb3JJbmZvXVxuICovXG5leHBvcnQgZnVuY3Rpb24gX2NhdGNoRXJyb3IoZXJyb3IsIHZub2RlLCBvbGRWTm9kZSwgZXJyb3JJbmZvKSB7XG5cdC8qKiBAdHlwZSB7aW1wb3J0KCcuLi9pbnRlcm5hbCcpLkNvbXBvbmVudH0gKi9cblx0bGV0IGNvbXBvbmVudCwgY3RvciwgaGFuZGxlZDtcblxuXHRmb3IgKDsgKHZub2RlID0gdm5vZGUuX3BhcmVudCk7ICkge1xuXHRcdGlmICgoY29tcG9uZW50ID0gdm5vZGUuX2NvbXBvbmVudCkgJiYgIWNvbXBvbmVudC5fcHJvY2Vzc2luZ0V4Y2VwdGlvbikge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0Y3RvciA9IGNvbXBvbmVudC5jb25zdHJ1Y3RvcjtcblxuXHRcdFx0XHRpZiAoY3RvciAmJiBjdG9yLmdldERlcml2ZWRTdGF0ZUZyb21FcnJvciAhPSBudWxsKSB7XG5cdFx0XHRcdFx0Y29tcG9uZW50LnNldFN0YXRlKGN0b3IuZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yKGVycm9yKSk7XG5cdFx0XHRcdFx0aGFuZGxlZCA9IGNvbXBvbmVudC5fZGlydHk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoY29tcG9uZW50LmNvbXBvbmVudERpZENhdGNoICE9IG51bGwpIHtcblx0XHRcdFx0XHRjb21wb25lbnQuY29tcG9uZW50RGlkQ2F0Y2goZXJyb3IsIGVycm9ySW5mbyB8fCB7fSk7XG5cdFx0XHRcdFx0aGFuZGxlZCA9IGNvbXBvbmVudC5fZGlydHk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBUaGlzIGlzIGFuIGVycm9yIGJvdW5kYXJ5LiBNYXJrIGl0IGFzIGhhdmluZyBiYWlsZWQgb3V0LCBhbmQgd2hldGhlciBpdCB3YXMgbWlkLWh5ZHJhdGlvbi5cblx0XHRcdFx0aWYgKGhhbmRsZWQpIHtcblx0XHRcdFx0XHRyZXR1cm4gKGNvbXBvbmVudC5fcGVuZGluZ0Vycm9yID0gY29tcG9uZW50KTtcblx0XHRcdFx0fVxuXHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRlcnJvciA9IGU7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0dGhyb3cgZXJyb3I7XG59XG4iLCJpbXBvcnQgeyBvcHRpb25zLCBGcmFnbWVudCB9IGZyb20gJ3ByZWFjdCc7XG5cbi8qKiBAdHlwZWRlZiB7aW1wb3J0KCdwcmVhY3QnKS5WTm9kZX0gVk5vZGUgKi9cblxubGV0IHZub2RlSWQgPSAwO1xuXG4vKipcbiAqIEBmaWxlb3ZlcnZpZXdcbiAqIFRoaXMgZmlsZSBleHBvcnRzIHZhcmlvdXMgbWV0aG9kcyB0aGF0IGltcGxlbWVudCBCYWJlbCdzIFwiYXV0b21hdGljXCIgSlNYIHJ1bnRpbWUgQVBJOlxuICogLSBqc3godHlwZSwgcHJvcHMsIGtleSlcbiAqIC0ganN4cyh0eXBlLCBwcm9wcywga2V5KVxuICogLSBqc3hERVYodHlwZSwgcHJvcHMsIGtleSwgX19zb3VyY2UsIF9fc2VsZilcbiAqXG4gKiBUaGUgaW1wbGVtZW50YXRpb24gb2YgY3JlYXRlVk5vZGUgaGVyZSBpcyBvcHRpbWl6ZWQgZm9yIHBlcmZvcm1hbmNlLlxuICogQmVuY2htYXJrczogaHR0cHM6Ly9lc2JlbmNoLmNvbS9iZW5jaC81ZjZiNTRhMGI0NjMyMTAwYTdkY2QyYjNcbiAqL1xuXG4vKipcbiAqIEpTWC5FbGVtZW50IGZhY3RvcnkgdXNlZCBieSBCYWJlbCdzIHtydW50aW1lOlwiYXV0b21hdGljXCJ9IEpTWCB0cmFuc2Zvcm1cbiAqIEBwYXJhbSB7Vk5vZGVbJ3R5cGUnXX0gdHlwZVxuICogQHBhcmFtIHtWTm9kZVsncHJvcHMnXX0gcHJvcHNcbiAqIEBwYXJhbSB7Vk5vZGVbJ2tleSddfSBba2V5XVxuICogQHBhcmFtIHtzdHJpbmd9IFtfX3NlbGZdXG4gKiBAcGFyYW0ge3N0cmluZ30gW19fc291cmNlXVxuICovXG5mdW5jdGlvbiBjcmVhdGVWTm9kZSh0eXBlLCBwcm9wcywga2V5LCBfX3NlbGYsIF9fc291cmNlKSB7XG5cdC8vIFdlJ2xsIHdhbnQgdG8gcHJlc2VydmUgYHJlZmAgaW4gcHJvcHMgdG8gZ2V0IHJpZCBvZiB0aGUgbmVlZCBmb3Jcblx0Ly8gZm9yd2FyZFJlZiBjb21wb25lbnRzIGluIHRoZSBmdXR1cmUsIGJ1dCB0aGF0IHNob3VsZCBoYXBwZW4gdmlhXG5cdC8vIGEgc2VwYXJhdGUgUFIuXG5cdGxldCBub3JtYWxpemVkUHJvcHMgPSB7fSxcblx0XHRyZWYsXG5cdFx0aTtcblx0Zm9yIChpIGluIHByb3BzKSB7XG5cdFx0aWYgKGkgPT0gJ3JlZicpIHtcblx0XHRcdHJlZiA9IHByb3BzW2ldO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRub3JtYWxpemVkUHJvcHNbaV0gPSBwcm9wc1tpXTtcblx0XHR9XG5cdH1cblxuXHRjb25zdCB2bm9kZSA9IHtcblx0XHR0eXBlLFxuXHRcdHByb3BzOiBub3JtYWxpemVkUHJvcHMsXG5cdFx0a2V5LFxuXHRcdHJlZixcblx0XHRfY2hpbGRyZW46IG51bGwsXG5cdFx0X3BhcmVudDogbnVsbCxcblx0XHRfZGVwdGg6IDAsXG5cdFx0X2RvbTogbnVsbCxcblx0XHRfbmV4dERvbTogdW5kZWZpbmVkLFxuXHRcdF9jb21wb25lbnQ6IG51bGwsXG5cdFx0X2h5ZHJhdGluZzogbnVsbCxcblx0XHRjb25zdHJ1Y3RvcjogdW5kZWZpbmVkLFxuXHRcdF9vcmlnaW5hbDogLS12bm9kZUlkLFxuXHRcdF9fc291cmNlLFxuXHRcdF9fc2VsZlxuXHR9O1xuXG5cdC8vIElmIGEgQ29tcG9uZW50IFZOb2RlLCBjaGVjayBmb3IgYW5kIGFwcGx5IGRlZmF1bHRQcm9wcy5cblx0Ly8gTm90ZTogYHR5cGVgIGlzIG9mdGVuIGEgU3RyaW5nLCBhbmQgY2FuIGJlIGB1bmRlZmluZWRgIGluIGRldmVsb3BtZW50LlxuXHRpZiAodHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicgJiYgKHJlZiA9IHR5cGUuZGVmYXVsdFByb3BzKSkge1xuXHRcdGZvciAoaSBpbiByZWYpXG5cdFx0XHRpZiAodHlwZW9mIG5vcm1hbGl6ZWRQcm9wc1tpXSA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdFx0bm9ybWFsaXplZFByb3BzW2ldID0gcmVmW2ldO1xuXHRcdFx0fVxuXHR9XG5cblx0aWYgKG9wdGlvbnMudm5vZGUpIG9wdGlvbnMudm5vZGUodm5vZGUpO1xuXHRyZXR1cm4gdm5vZGU7XG59XG5cbmV4cG9ydCB7XG5cdGNyZWF0ZVZOb2RlIGFzIGpzeCxcblx0Y3JlYXRlVk5vZGUgYXMganN4cyxcblx0Y3JlYXRlVk5vZGUgYXMganN4REVWLFxuXHRGcmFnbWVudFxufTtcbiIsImltcG9ydCB7IG9wdGlvbnMgfSBmcm9tICdwcmVhY3QnO1xuXG4vKiogQHR5cGUge251bWJlcn0gKi9cbmxldCBjdXJyZW50SW5kZXg7XG5cbi8qKiBAdHlwZSB7aW1wb3J0KCcuL2ludGVybmFsJykuQ29tcG9uZW50fSAqL1xubGV0IGN1cnJlbnRDb21wb25lbnQ7XG5cbi8qKiBAdHlwZSB7aW1wb3J0KCcuL2ludGVybmFsJykuQ29tcG9uZW50fSAqL1xubGV0IHByZXZpb3VzQ29tcG9uZW50O1xuXG4vKiogQHR5cGUge251bWJlcn0gKi9cbmxldCBjdXJyZW50SG9vayA9IDA7XG5cbi8qKiBAdHlwZSB7QXJyYXk8aW1wb3J0KCcuL2ludGVybmFsJykuQ29tcG9uZW50Pn0gKi9cbmxldCBhZnRlclBhaW50RWZmZWN0cyA9IFtdO1xuXG5sZXQgb2xkQmVmb3JlRGlmZiA9IG9wdGlvbnMuX2RpZmY7XG5sZXQgb2xkQmVmb3JlUmVuZGVyID0gb3B0aW9ucy5fcmVuZGVyO1xubGV0IG9sZEFmdGVyRGlmZiA9IG9wdGlvbnMuZGlmZmVkO1xubGV0IG9sZENvbW1pdCA9IG9wdGlvbnMuX2NvbW1pdDtcbmxldCBvbGRCZWZvcmVVbm1vdW50ID0gb3B0aW9ucy51bm1vdW50O1xuXG5jb25zdCBSQUZfVElNRU9VVCA9IDEwMDtcbmxldCBwcmV2UmFmO1xuXG5vcHRpb25zLl9kaWZmID0gdm5vZGUgPT4ge1xuXHRjdXJyZW50Q29tcG9uZW50ID0gbnVsbDtcblx0aWYgKG9sZEJlZm9yZURpZmYpIG9sZEJlZm9yZURpZmYodm5vZGUpO1xufTtcblxub3B0aW9ucy5fcmVuZGVyID0gdm5vZGUgPT4ge1xuXHRpZiAob2xkQmVmb3JlUmVuZGVyKSBvbGRCZWZvcmVSZW5kZXIodm5vZGUpO1xuXG5cdGN1cnJlbnRDb21wb25lbnQgPSB2bm9kZS5fY29tcG9uZW50O1xuXHRjdXJyZW50SW5kZXggPSAwO1xuXG5cdGNvbnN0IGhvb2tzID0gY3VycmVudENvbXBvbmVudC5fX2hvb2tzO1xuXHRpZiAoaG9va3MpIHtcblx0XHRpZiAocHJldmlvdXNDb21wb25lbnQgPT09IGN1cnJlbnRDb21wb25lbnQpIHtcblx0XHRcdGhvb2tzLl9wZW5kaW5nRWZmZWN0cyA9IFtdO1xuXHRcdFx0Y3VycmVudENvbXBvbmVudC5fcmVuZGVyQ2FsbGJhY2tzID0gW107XG5cdFx0XHRob29rcy5fbGlzdC5mb3JFYWNoKGhvb2tJdGVtID0+IHtcblx0XHRcdFx0aG9va0l0ZW0uX3BlbmRpbmdWYWx1ZSA9IGhvb2tJdGVtLl9wZW5kaW5nQXJncyA9IHVuZGVmaW5lZDtcblx0XHRcdH0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRob29rcy5fbGlzdC5mb3JFYWNoKGhvb2tJdGVtID0+IHtcblx0XHRcdFx0aWYgKGhvb2tJdGVtLl9wZW5kaW5nQXJncykge1xuXHRcdFx0XHRcdGhvb2tJdGVtLl9hcmdzID0gaG9va0l0ZW0uX3BlbmRpbmdBcmdzO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChob29rSXRlbS5fcGVuZGluZ1ZhbHVlKSB7XG5cdFx0XHRcdFx0aG9va0l0ZW0uX3ZhbHVlID0gaG9va0l0ZW0uX3BlbmRpbmdWYWx1ZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRob29rSXRlbS5fcGVuZGluZ1ZhbHVlID0gaG9va0l0ZW0uX3BlbmRpbmdBcmdzID0gdW5kZWZpbmVkO1xuXHRcdFx0fSk7XG5cdFx0XHRob29rcy5fcGVuZGluZ0VmZmVjdHMuZm9yRWFjaChpbnZva2VDbGVhbnVwKTtcblx0XHRcdGhvb2tzLl9wZW5kaW5nRWZmZWN0cy5mb3JFYWNoKGludm9rZUVmZmVjdCk7XG5cdFx0XHRob29rcy5fcGVuZGluZ0VmZmVjdHMgPSBbXTtcblx0XHR9XG5cdH1cblx0cHJldmlvdXNDb21wb25lbnQgPSBjdXJyZW50Q29tcG9uZW50O1xufTtcblxub3B0aW9ucy5kaWZmZWQgPSB2bm9kZSA9PiB7XG5cdGlmIChvbGRBZnRlckRpZmYpIG9sZEFmdGVyRGlmZih2bm9kZSk7XG5cblx0Y29uc3QgYyA9IHZub2RlLl9jb21wb25lbnQ7XG5cdGlmIChjICYmIGMuX19ob29rcyAmJiBjLl9faG9va3MuX3BlbmRpbmdFZmZlY3RzLmxlbmd0aCkge1xuXHRcdGFmdGVyUGFpbnQoYWZ0ZXJQYWludEVmZmVjdHMucHVzaChjKSk7XG5cdH1cblx0Y3VycmVudENvbXBvbmVudCA9IG51bGw7XG5cdHByZXZpb3VzQ29tcG9uZW50ID0gbnVsbDtcbn07XG5cbm9wdGlvbnMuX2NvbW1pdCA9ICh2bm9kZSwgY29tbWl0UXVldWUpID0+IHtcblx0Y29tbWl0UXVldWUuc29tZShjb21wb25lbnQgPT4ge1xuXHRcdHRyeSB7XG5cdFx0XHRpZiAoY29tcG9uZW50Ll9faG9va3MpIHtcblx0XHRcdFx0Y29tcG9uZW50Ll9faG9va3MuX2xpc3QuZm9yRWFjaChob29rSXRlbSA9PiB7XG5cdFx0XHRcdFx0aWYgKGhvb2tJdGVtLl9wZW5kaW5nQXJncykge1xuXHRcdFx0XHRcdFx0aG9va0l0ZW0uX2FyZ3MgPSBob29rSXRlbS5fcGVuZGluZ0FyZ3M7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmIChob29rSXRlbS5fcGVuZGluZ1ZhbHVlKSB7XG5cdFx0XHRcdFx0XHRob29rSXRlbS5fdmFsdWUgPSBob29rSXRlbS5fcGVuZGluZ1ZhbHVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRob29rSXRlbS5fcGVuZGluZ1ZhbHVlID0gaG9va0l0ZW0uX3BlbmRpbmdBcmdzID0gdW5kZWZpbmVkO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblxuXHRcdFx0Y29tcG9uZW50Ll9yZW5kZXJDYWxsYmFja3MuZm9yRWFjaChpbnZva2VDbGVhbnVwKTtcblx0XHRcdGNvbXBvbmVudC5fcmVuZGVyQ2FsbGJhY2tzID0gY29tcG9uZW50Ll9yZW5kZXJDYWxsYmFja3MuZmlsdGVyKGNiID0+XG5cdFx0XHRcdGNiLl92YWx1ZSA/IGludm9rZUVmZmVjdChjYikgOiB0cnVlXG5cdFx0XHQpO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdGNvbW1pdFF1ZXVlLnNvbWUoYyA9PiB7XG5cdFx0XHRcdGlmIChjLl9yZW5kZXJDYWxsYmFja3MpIGMuX3JlbmRlckNhbGxiYWNrcyA9IFtdO1xuXHRcdFx0fSk7XG5cdFx0XHRjb21taXRRdWV1ZSA9IFtdO1xuXHRcdFx0b3B0aW9ucy5fY2F0Y2hFcnJvcihlLCBjb21wb25lbnQuX3Zub2RlKTtcblx0XHR9XG5cdH0pO1xuXG5cdGlmIChvbGRDb21taXQpIG9sZENvbW1pdCh2bm9kZSwgY29tbWl0UXVldWUpO1xufTtcblxub3B0aW9ucy51bm1vdW50ID0gdm5vZGUgPT4ge1xuXHRpZiAob2xkQmVmb3JlVW5tb3VudCkgb2xkQmVmb3JlVW5tb3VudCh2bm9kZSk7XG5cblx0Y29uc3QgYyA9IHZub2RlLl9jb21wb25lbnQ7XG5cdGlmIChjICYmIGMuX19ob29rcykge1xuXHRcdGxldCBoYXNFcnJvcmVkO1xuXHRcdGMuX19ob29rcy5fbGlzdC5mb3JFYWNoKHMgPT4ge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0aW52b2tlQ2xlYW51cChzKTtcblx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0aGFzRXJyb3JlZCA9IGU7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0aWYgKGhhc0Vycm9yZWQpIG9wdGlvbnMuX2NhdGNoRXJyb3IoaGFzRXJyb3JlZCwgYy5fdm5vZGUpO1xuXHR9XG59O1xuXG4vKipcbiAqIEdldCBhIGhvb2sncyBzdGF0ZSBmcm9tIHRoZSBjdXJyZW50Q29tcG9uZW50XG4gKiBAcGFyYW0ge251bWJlcn0gaW5kZXggVGhlIGluZGV4IG9mIHRoZSBob29rIHRvIGdldFxuICogQHBhcmFtIHtudW1iZXJ9IHR5cGUgVGhlIGluZGV4IG9mIHRoZSBob29rIHRvIGdldFxuICogQHJldHVybnMge2FueX1cbiAqL1xuZnVuY3Rpb24gZ2V0SG9va1N0YXRlKGluZGV4LCB0eXBlKSB7XG5cdGlmIChvcHRpb25zLl9ob29rKSB7XG5cdFx0b3B0aW9ucy5faG9vayhjdXJyZW50Q29tcG9uZW50LCBpbmRleCwgY3VycmVudEhvb2sgfHwgdHlwZSk7XG5cdH1cblx0Y3VycmVudEhvb2sgPSAwO1xuXG5cdC8vIExhcmdlbHkgaW5zcGlyZWQgYnk6XG5cdC8vICogaHR0cHM6Ly9naXRodWIuY29tL21pY2hhZWwta2xlaW4vZnVuY3kuanMvYmxvYi9mNmJlNzM0NjhlNmVjNDZiMGZmNWFhM2NjNGM5YmFmNzJhMjkwMjVhL3NyYy9ob29rcy9jb3JlX2hvb2tzLm1qc1xuXHQvLyAqIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNoYWVsLWtsZWluL2Z1bmN5LmpzL2Jsb2IvNjUwYmVhYTU4YzQzYzMzYTc0ODIwYTNjOThiM2M3MDc5Y2YyZTMzMy9zcmMvcmVuZGVyZXIubWpzXG5cdC8vIE90aGVyIGltcGxlbWVudGF0aW9ucyB0byBsb29rIGF0OlxuXHQvLyAqIGh0dHBzOi8vY29kZXNhbmRib3guaW8vcy9tbm94MDVxcDhcblx0Y29uc3QgaG9va3MgPVxuXHRcdGN1cnJlbnRDb21wb25lbnQuX19ob29rcyB8fFxuXHRcdChjdXJyZW50Q29tcG9uZW50Ll9faG9va3MgPSB7XG5cdFx0XHRfbGlzdDogW10sXG5cdFx0XHRfcGVuZGluZ0VmZmVjdHM6IFtdXG5cdFx0fSk7XG5cblx0aWYgKGluZGV4ID49IGhvb2tzLl9saXN0Lmxlbmd0aCkge1xuXHRcdGhvb2tzLl9saXN0LnB1c2goe30pO1xuXHR9XG5cdHJldHVybiBob29rcy5fbGlzdFtpbmRleF07XG59XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW5kZXgnKS5TdGF0ZVVwZGF0ZXI8YW55Pn0gW2luaXRpYWxTdGF0ZV1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZVN0YXRlKGluaXRpYWxTdGF0ZSkge1xuXHRjdXJyZW50SG9vayA9IDE7XG5cdHJldHVybiB1c2VSZWR1Y2VyKGludm9rZU9yUmV0dXJuLCBpbml0aWFsU3RhdGUpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2luZGV4JykuUmVkdWNlcjxhbnksIGFueT59IHJlZHVjZXJcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2luZGV4JykuU3RhdGVVcGRhdGVyPGFueT59IGluaXRpYWxTdGF0ZVxuICogQHBhcmFtIHsoaW5pdGlhbFN0YXRlOiBhbnkpID0+IHZvaWR9IFtpbml0XVxuICogQHJldHVybnMge1sgYW55LCAoc3RhdGU6IGFueSkgPT4gdm9pZCBdfVxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlUmVkdWNlcihyZWR1Y2VyLCBpbml0aWFsU3RhdGUsIGluaXQpIHtcblx0LyoqIEB0eXBlIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5SZWR1Y2VySG9va1N0YXRlfSAqL1xuXHRjb25zdCBob29rU3RhdGUgPSBnZXRIb29rU3RhdGUoY3VycmVudEluZGV4KyssIDIpO1xuXHRob29rU3RhdGUuX3JlZHVjZXIgPSByZWR1Y2VyO1xuXHRpZiAoIWhvb2tTdGF0ZS5fY29tcG9uZW50KSB7XG5cdFx0aG9va1N0YXRlLl92YWx1ZSA9IFtcblx0XHRcdCFpbml0ID8gaW52b2tlT3JSZXR1cm4odW5kZWZpbmVkLCBpbml0aWFsU3RhdGUpIDogaW5pdChpbml0aWFsU3RhdGUpLFxuXG5cdFx0XHRhY3Rpb24gPT4ge1xuXHRcdFx0XHRjb25zdCBuZXh0VmFsdWUgPSBob29rU3RhdGUuX3JlZHVjZXIoaG9va1N0YXRlLl92YWx1ZVswXSwgYWN0aW9uKTtcblx0XHRcdFx0aWYgKGhvb2tTdGF0ZS5fdmFsdWVbMF0gIT09IG5leHRWYWx1ZSkge1xuXHRcdFx0XHRcdGhvb2tTdGF0ZS5fdmFsdWUgPSBbbmV4dFZhbHVlLCBob29rU3RhdGUuX3ZhbHVlWzFdXTtcblx0XHRcdFx0XHRob29rU3RhdGUuX2NvbXBvbmVudC5zZXRTdGF0ZSh7fSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRdO1xuXG5cdFx0aG9va1N0YXRlLl9jb21wb25lbnQgPSBjdXJyZW50Q29tcG9uZW50O1xuXHR9XG5cblx0cmV0dXJuIGhvb2tTdGF0ZS5fdmFsdWU7XG59XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5FZmZlY3R9IGNhbGxiYWNrXG4gKiBAcGFyYW0ge2FueVtdfSBhcmdzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VFZmZlY3QoY2FsbGJhY2ssIGFyZ3MpIHtcblx0LyoqIEB0eXBlIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5FZmZlY3RIb29rU3RhdGV9ICovXG5cdGNvbnN0IHN0YXRlID0gZ2V0SG9va1N0YXRlKGN1cnJlbnRJbmRleCsrLCAzKTtcblx0aWYgKCFvcHRpb25zLl9za2lwRWZmZWN0cyAmJiBhcmdzQ2hhbmdlZChzdGF0ZS5fYXJncywgYXJncykpIHtcblx0XHRzdGF0ZS5fdmFsdWUgPSBjYWxsYmFjaztcblx0XHRzdGF0ZS5fcGVuZGluZ0FyZ3MgPSBhcmdzO1xuXG5cdFx0Y3VycmVudENvbXBvbmVudC5fX2hvb2tzLl9wZW5kaW5nRWZmZWN0cy5wdXNoKHN0YXRlKTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2ludGVybmFsJykuRWZmZWN0fSBjYWxsYmFja1xuICogQHBhcmFtIHthbnlbXX0gYXJnc1xuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlTGF5b3V0RWZmZWN0KGNhbGxiYWNrLCBhcmdzKSB7XG5cdC8qKiBAdHlwZSB7aW1wb3J0KCcuL2ludGVybmFsJykuRWZmZWN0SG9va1N0YXRlfSAqL1xuXHRjb25zdCBzdGF0ZSA9IGdldEhvb2tTdGF0ZShjdXJyZW50SW5kZXgrKywgNCk7XG5cdGlmICghb3B0aW9ucy5fc2tpcEVmZmVjdHMgJiYgYXJnc0NoYW5nZWQoc3RhdGUuX2FyZ3MsIGFyZ3MpKSB7XG5cdFx0c3RhdGUuX3ZhbHVlID0gY2FsbGJhY2s7XG5cdFx0c3RhdGUuX3BlbmRpbmdBcmdzID0gYXJncztcblxuXHRcdGN1cnJlbnRDb21wb25lbnQuX3JlbmRlckNhbGxiYWNrcy5wdXNoKHN0YXRlKTtcblx0fVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlUmVmKGluaXRpYWxWYWx1ZSkge1xuXHRjdXJyZW50SG9vayA9IDU7XG5cdHJldHVybiB1c2VNZW1vKCgpID0+ICh7IGN1cnJlbnQ6IGluaXRpYWxWYWx1ZSB9KSwgW10pO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7b2JqZWN0fSByZWZcbiAqIEBwYXJhbSB7KCkgPT4gb2JqZWN0fSBjcmVhdGVIYW5kbGVcbiAqIEBwYXJhbSB7YW55W119IGFyZ3NcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZUltcGVyYXRpdmVIYW5kbGUocmVmLCBjcmVhdGVIYW5kbGUsIGFyZ3MpIHtcblx0Y3VycmVudEhvb2sgPSA2O1xuXHR1c2VMYXlvdXRFZmZlY3QoXG5cdFx0KCkgPT4ge1xuXHRcdFx0aWYgKHR5cGVvZiByZWYgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRyZWYoY3JlYXRlSGFuZGxlKCkpO1xuXHRcdFx0XHRyZXR1cm4gKCkgPT4gcmVmKG51bGwpO1xuXHRcdFx0fSBlbHNlIGlmIChyZWYpIHtcblx0XHRcdFx0cmVmLmN1cnJlbnQgPSBjcmVhdGVIYW5kbGUoKTtcblx0XHRcdFx0cmV0dXJuICgpID0+IChyZWYuY3VycmVudCA9IG51bGwpO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0YXJncyA9PSBudWxsID8gYXJncyA6IGFyZ3MuY29uY2F0KHJlZilcblx0KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0geygpID0+IGFueX0gZmFjdG9yeVxuICogQHBhcmFtIHthbnlbXX0gYXJnc1xuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlTWVtbyhmYWN0b3J5LCBhcmdzKSB7XG5cdC8qKiBAdHlwZSB7aW1wb3J0KCcuL2ludGVybmFsJykuTWVtb0hvb2tTdGF0ZX0gKi9cblx0Y29uc3Qgc3RhdGUgPSBnZXRIb29rU3RhdGUoY3VycmVudEluZGV4KyssIDcpO1xuXHRpZiAoYXJnc0NoYW5nZWQoc3RhdGUuX2FyZ3MsIGFyZ3MpKSB7XG5cdFx0c3RhdGUuX3BlbmRpbmdWYWx1ZSA9IGZhY3RvcnkoKTtcblx0XHRzdGF0ZS5fcGVuZGluZ0FyZ3MgPSBhcmdzO1xuXHRcdHN0YXRlLl9mYWN0b3J5ID0gZmFjdG9yeTtcblx0XHRyZXR1cm4gc3RhdGUuX3BlbmRpbmdWYWx1ZTtcblx0fVxuXG5cdHJldHVybiBzdGF0ZS5fdmFsdWU7XG59XG5cbi8qKlxuICogQHBhcmFtIHsoKSA9PiB2b2lkfSBjYWxsYmFja1xuICogQHBhcmFtIHthbnlbXX0gYXJnc1xuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlQ2FsbGJhY2soY2FsbGJhY2ssIGFyZ3MpIHtcblx0Y3VycmVudEhvb2sgPSA4O1xuXHRyZXR1cm4gdXNlTWVtbygoKSA9PiBjYWxsYmFjaywgYXJncyk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5QcmVhY3RDb250ZXh0fSBjb250ZXh0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VDb250ZXh0KGNvbnRleHQpIHtcblx0Y29uc3QgcHJvdmlkZXIgPSBjdXJyZW50Q29tcG9uZW50LmNvbnRleHRbY29udGV4dC5faWRdO1xuXHQvLyBXZSBjb3VsZCBza2lwIHRoaXMgY2FsbCBoZXJlLCBidXQgdGhhbiB3ZSdkIG5vdCBjYWxsXG5cdC8vIGBvcHRpb25zLl9ob29rYC4gV2UgbmVlZCB0byBkbyB0aGF0IGluIG9yZGVyIHRvIG1ha2Vcblx0Ly8gdGhlIGRldnRvb2xzIGF3YXJlIG9mIHRoaXMgaG9vay5cblx0LyoqIEB0eXBlIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5Db250ZXh0SG9va1N0YXRlfSAqL1xuXHRjb25zdCBzdGF0ZSA9IGdldEhvb2tTdGF0ZShjdXJyZW50SW5kZXgrKywgOSk7XG5cdC8vIFRoZSBkZXZ0b29scyBuZWVkcyBhY2Nlc3MgdG8gdGhlIGNvbnRleHQgb2JqZWN0IHRvXG5cdC8vIGJlIGFibGUgdG8gcHVsbCBvZiB0aGUgZGVmYXVsdCB2YWx1ZSB3aGVuIG5vIHByb3ZpZGVyXG5cdC8vIGlzIHByZXNlbnQgaW4gdGhlIHRyZWUuXG5cdHN0YXRlLl9jb250ZXh0ID0gY29udGV4dDtcblx0aWYgKCFwcm92aWRlcikgcmV0dXJuIGNvbnRleHQuX2RlZmF1bHRWYWx1ZTtcblx0Ly8gVGhpcyBpcyBwcm9iYWJseSBub3Qgc2FmZSB0byBjb252ZXJ0IHRvIFwiIVwiXG5cdGlmIChzdGF0ZS5fdmFsdWUgPT0gbnVsbCkge1xuXHRcdHN0YXRlLl92YWx1ZSA9IHRydWU7XG5cdFx0cHJvdmlkZXIuc3ViKGN1cnJlbnRDb21wb25lbnQpO1xuXHR9XG5cdHJldHVybiBwcm92aWRlci5wcm9wcy52YWx1ZTtcbn1cblxuLyoqXG4gKiBEaXNwbGF5IGEgY3VzdG9tIGxhYmVsIGZvciBhIGN1c3RvbSBob29rIGZvciB0aGUgZGV2dG9vbHMgcGFuZWxcbiAqIEB0eXBlIHs8VD4odmFsdWU6IFQsIGNiPzogKHZhbHVlOiBUKSA9PiBzdHJpbmcgfCBudW1iZXIpID0+IHZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VEZWJ1Z1ZhbHVlKHZhbHVlLCBmb3JtYXR0ZXIpIHtcblx0aWYgKG9wdGlvbnMudXNlRGVidWdWYWx1ZSkge1xuXHRcdG9wdGlvbnMudXNlRGVidWdWYWx1ZShmb3JtYXR0ZXIgPyBmb3JtYXR0ZXIodmFsdWUpIDogdmFsdWUpO1xuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHsoZXJyb3I6IGFueSkgPT4gdm9pZH0gY2JcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZUVycm9yQm91bmRhcnkoY2IpIHtcblx0LyoqIEB0eXBlIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5FcnJvckJvdW5kYXJ5SG9va1N0YXRlfSAqL1xuXHRjb25zdCBzdGF0ZSA9IGdldEhvb2tTdGF0ZShjdXJyZW50SW5kZXgrKywgMTApO1xuXHRjb25zdCBlcnJTdGF0ZSA9IHVzZVN0YXRlKCk7XG5cdHN0YXRlLl92YWx1ZSA9IGNiO1xuXHRpZiAoIWN1cnJlbnRDb21wb25lbnQuY29tcG9uZW50RGlkQ2F0Y2gpIHtcblx0XHRjdXJyZW50Q29tcG9uZW50LmNvbXBvbmVudERpZENhdGNoID0gZXJyID0+IHtcblx0XHRcdGlmIChzdGF0ZS5fdmFsdWUpIHN0YXRlLl92YWx1ZShlcnIpO1xuXHRcdFx0ZXJyU3RhdGVbMV0oZXJyKTtcblx0XHR9O1xuXHR9XG5cdHJldHVybiBbXG5cdFx0ZXJyU3RhdGVbMF0sXG5cdFx0KCkgPT4ge1xuXHRcdFx0ZXJyU3RhdGVbMV0odW5kZWZpbmVkKTtcblx0XHR9XG5cdF07XG59XG5cbi8qKlxuICogQWZ0ZXIgcGFpbnQgZWZmZWN0cyBjb25zdW1lci5cbiAqL1xuZnVuY3Rpb24gZmx1c2hBZnRlclBhaW50RWZmZWN0cygpIHtcblx0bGV0IGNvbXBvbmVudDtcblx0d2hpbGUgKChjb21wb25lbnQgPSBhZnRlclBhaW50RWZmZWN0cy5zaGlmdCgpKSkge1xuXHRcdGlmICghY29tcG9uZW50Ll9wYXJlbnREb20pIGNvbnRpbnVlO1xuXHRcdHRyeSB7XG5cdFx0XHRjb21wb25lbnQuX19ob29rcy5fcGVuZGluZ0VmZmVjdHMuZm9yRWFjaChpbnZva2VDbGVhbnVwKTtcblx0XHRcdGNvbXBvbmVudC5fX2hvb2tzLl9wZW5kaW5nRWZmZWN0cy5mb3JFYWNoKGludm9rZUVmZmVjdCk7XG5cdFx0XHRjb21wb25lbnQuX19ob29rcy5fcGVuZGluZ0VmZmVjdHMgPSBbXTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRjb21wb25lbnQuX19ob29rcy5fcGVuZGluZ0VmZmVjdHMgPSBbXTtcblx0XHRcdG9wdGlvbnMuX2NhdGNoRXJyb3IoZSwgY29tcG9uZW50Ll92bm9kZSk7XG5cdFx0fVxuXHR9XG59XG5cbmxldCBIQVNfUkFGID0gdHlwZW9mIHJlcXVlc3RBbmltYXRpb25GcmFtZSA9PSAnZnVuY3Rpb24nO1xuXG4vKipcbiAqIFNjaGVkdWxlIGEgY2FsbGJhY2sgdG8gYmUgaW52b2tlZCBhZnRlciB0aGUgYnJvd3NlciBoYXMgYSBjaGFuY2UgdG8gcGFpbnQgYSBuZXcgZnJhbWUuXG4gKiBEbyB0aGlzIGJ5IGNvbWJpbmluZyByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgKHJBRikgKyBzZXRUaW1lb3V0IHRvIGludm9rZSBhIGNhbGxiYWNrIGFmdGVyXG4gKiB0aGUgbmV4dCBicm93c2VyIGZyYW1lLlxuICpcbiAqIEFsc28sIHNjaGVkdWxlIGEgdGltZW91dCBpbiBwYXJhbGxlbCB0byB0aGUgdGhlIHJBRiB0byBlbnN1cmUgdGhlIGNhbGxiYWNrIGlzIGludm9rZWRcbiAqIGV2ZW4gaWYgUkFGIGRvZXNuJ3QgZmlyZSAoZm9yIGV4YW1wbGUgaWYgdGhlIGJyb3dzZXIgdGFiIGlzIG5vdCB2aXNpYmxlKVxuICpcbiAqIEBwYXJhbSB7KCkgPT4gdm9pZH0gY2FsbGJhY2tcbiAqL1xuZnVuY3Rpb24gYWZ0ZXJOZXh0RnJhbWUoY2FsbGJhY2spIHtcblx0Y29uc3QgZG9uZSA9ICgpID0+IHtcblx0XHRjbGVhclRpbWVvdXQodGltZW91dCk7XG5cdFx0aWYgKEhBU19SQUYpIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHJhZik7XG5cdFx0c2V0VGltZW91dChjYWxsYmFjayk7XG5cdH07XG5cdGNvbnN0IHRpbWVvdXQgPSBzZXRUaW1lb3V0KGRvbmUsIFJBRl9USU1FT1VUKTtcblxuXHRsZXQgcmFmO1xuXHRpZiAoSEFTX1JBRikge1xuXHRcdHJhZiA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShkb25lKTtcblx0fVxufVxuXG4vLyBOb3RlOiBpZiBzb21lb25lIHVzZWQgb3B0aW9ucy5kZWJvdW5jZVJlbmRlcmluZyA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSxcbi8vIHRoZW4gZWZmZWN0cyB3aWxsIEFMV0FZUyBydW4gb24gdGhlIE5FWFQgZnJhbWUgaW5zdGVhZCBvZiB0aGUgY3VycmVudCBvbmUsIGluY3VycmluZyBhIH4xNm1zIGRlbGF5LlxuLy8gUGVyaGFwcyB0aGlzIGlzIG5vdCBzdWNoIGEgYmlnIGRlYWwuXG4vKipcbiAqIFNjaGVkdWxlIGFmdGVyUGFpbnRFZmZlY3RzIGZsdXNoIGFmdGVyIHRoZSBicm93c2VyIHBhaW50c1xuICogQHBhcmFtIHtudW1iZXJ9IG5ld1F1ZXVlTGVuZ3RoXG4gKi9cbmZ1bmN0aW9uIGFmdGVyUGFpbnQobmV3UXVldWVMZW5ndGgpIHtcblx0aWYgKG5ld1F1ZXVlTGVuZ3RoID09PSAxIHx8IHByZXZSYWYgIT09IG9wdGlvbnMucmVxdWVzdEFuaW1hdGlvbkZyYW1lKSB7XG5cdFx0cHJldlJhZiA9IG9wdGlvbnMucmVxdWVzdEFuaW1hdGlvbkZyYW1lO1xuXHRcdChwcmV2UmFmIHx8IGFmdGVyTmV4dEZyYW1lKShmbHVzaEFmdGVyUGFpbnRFZmZlY3RzKTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2ludGVybmFsJykuRWZmZWN0SG9va1N0YXRlfSBob29rXG4gKi9cbmZ1bmN0aW9uIGludm9rZUNsZWFudXAoaG9vaykge1xuXHQvLyBBIGhvb2sgY2xlYW51cCBjYW4gaW50cm9kdWNlIGEgY2FsbCB0byByZW5kZXIgd2hpY2ggY3JlYXRlcyBhIG5ldyByb290LCB0aGlzIHdpbGwgY2FsbCBvcHRpb25zLnZub2RlXG5cdC8vIGFuZCBtb3ZlIHRoZSBjdXJyZW50Q29tcG9uZW50IGF3YXkuXG5cdGNvbnN0IGNvbXAgPSBjdXJyZW50Q29tcG9uZW50O1xuXHRsZXQgY2xlYW51cCA9IGhvb2suX2NsZWFudXA7XG5cdGlmICh0eXBlb2YgY2xlYW51cCA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0aG9vay5fY2xlYW51cCA9IHVuZGVmaW5lZDtcblx0XHRjbGVhbnVwKCk7XG5cdH1cblx0Y3VycmVudENvbXBvbmVudCA9IGNvbXA7XG59XG5cbi8qKlxuICogSW52b2tlIGEgSG9vaydzIGVmZmVjdFxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5FZmZlY3RIb29rU3RhdGV9IGhvb2tcbiAqL1xuZnVuY3Rpb24gaW52b2tlRWZmZWN0KGhvb2spIHtcblx0Ly8gQSBob29rIGNhbGwgY2FuIGludHJvZHVjZSBhIGNhbGwgdG8gcmVuZGVyIHdoaWNoIGNyZWF0ZXMgYSBuZXcgcm9vdCwgdGhpcyB3aWxsIGNhbGwgb3B0aW9ucy52bm9kZVxuXHQvLyBhbmQgbW92ZSB0aGUgY3VycmVudENvbXBvbmVudCBhd2F5LlxuXHRjb25zdCBjb21wID0gY3VycmVudENvbXBvbmVudDtcblx0aG9vay5fY2xlYW51cCA9IGhvb2suX3ZhbHVlKCk7XG5cdGN1cnJlbnRDb21wb25lbnQgPSBjb21wO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7YW55W119IG9sZEFyZ3NcbiAqIEBwYXJhbSB7YW55W119IG5ld0FyZ3NcbiAqL1xuZnVuY3Rpb24gYXJnc0NoYW5nZWQob2xkQXJncywgbmV3QXJncykge1xuXHRyZXR1cm4gKFxuXHRcdCFvbGRBcmdzIHx8XG5cdFx0b2xkQXJncy5sZW5ndGggIT09IG5ld0FyZ3MubGVuZ3RoIHx8XG5cdFx0bmV3QXJncy5zb21lKChhcmcsIGluZGV4KSA9PiBhcmcgIT09IG9sZEFyZ3NbaW5kZXhdKVxuXHQpO1xufVxuXG5mdW5jdGlvbiBpbnZva2VPclJldHVybihhcmcsIGYpIHtcblx0cmV0dXJuIHR5cGVvZiBmID09ICdmdW5jdGlvbicgPyBmKGFyZykgOiBmO1xufVxuIiwiLyoqXG4gKiBBc3NpZ24gcHJvcGVydGllcyBmcm9tIGBwcm9wc2AgdG8gYG9iamBcbiAqIEB0ZW1wbGF0ZSBPLCBQIFRoZSBvYmogYW5kIHByb3BzIHR5cGVzXG4gKiBAcGFyYW0ge099IG9iaiBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyB0b1xuICogQHBhcmFtIHtQfSBwcm9wcyBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyBmcm9tXG4gKiBAcmV0dXJucyB7TyAmIFB9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NpZ24ob2JqLCBwcm9wcykge1xuXHRmb3IgKGxldCBpIGluIHByb3BzKSBvYmpbaV0gPSBwcm9wc1tpXTtcblx0cmV0dXJuIC8qKiBAdHlwZSB7TyAmIFB9ICovIChvYmopO1xufVxuXG4vKipcbiAqIENoZWNrIGlmIHR3byBvYmplY3RzIGhhdmUgYSBkaWZmZXJlbnQgc2hhcGVcbiAqIEBwYXJhbSB7b2JqZWN0fSBhXG4gKiBAcGFyYW0ge29iamVjdH0gYlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzaGFsbG93RGlmZmVycyhhLCBiKSB7XG5cdGZvciAobGV0IGkgaW4gYSkgaWYgKGkgIT09ICdfX3NvdXJjZScgJiYgIShpIGluIGIpKSByZXR1cm4gdHJ1ZTtcblx0Zm9yIChsZXQgaSBpbiBiKSBpZiAoaSAhPT0gJ19fc291cmNlJyAmJiBhW2ldICE9PSBiW2ldKSByZXR1cm4gdHJ1ZTtcblx0cmV0dXJuIGZhbHNlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlTm9kZShub2RlKSB7XG5cdGxldCBwYXJlbnROb2RlID0gbm9kZS5wYXJlbnROb2RlO1xuXHRpZiAocGFyZW50Tm9kZSkgcGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlKTtcbn1cbiIsImltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gJ3ByZWFjdCc7XG5pbXBvcnQgeyBzaGFsbG93RGlmZmVycyB9IGZyb20gJy4vdXRpbCc7XG5cbi8qKlxuICogQ29tcG9uZW50IGNsYXNzIHdpdGggYSBwcmVkZWZpbmVkIGBzaG91bGRDb21wb25lbnRVcGRhdGVgIGltcGxlbWVudGF0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBQdXJlQ29tcG9uZW50KHApIHtcblx0dGhpcy5wcm9wcyA9IHA7XG59XG5QdXJlQ29tcG9uZW50LnByb3RvdHlwZSA9IG5ldyBDb21wb25lbnQoKTtcbi8vIFNvbWUgdGhpcmQtcGFydHkgbGlicmFyaWVzIGNoZWNrIGlmIHRoaXMgcHJvcGVydHkgaXMgcHJlc2VudFxuUHVyZUNvbXBvbmVudC5wcm90b3R5cGUuaXNQdXJlUmVhY3RDb21wb25lbnQgPSB0cnVlO1xuUHVyZUNvbXBvbmVudC5wcm90b3R5cGUuc2hvdWxkQ29tcG9uZW50VXBkYXRlID0gZnVuY3Rpb24ocHJvcHMsIHN0YXRlKSB7XG5cdHJldHVybiBzaGFsbG93RGlmZmVycyh0aGlzLnByb3BzLCBwcm9wcykgfHwgc2hhbGxvd0RpZmZlcnModGhpcy5zdGF0ZSwgc3RhdGUpO1xufTtcbiIsImltcG9ydCB7IGNyZWF0ZUVsZW1lbnQgfSBmcm9tICdwcmVhY3QnO1xuaW1wb3J0IHsgc2hhbGxvd0RpZmZlcnMgfSBmcm9tICcuL3V0aWwnO1xuXG4vKipcbiAqIE1lbW9pemUgYSBjb21wb25lbnQsIHNvIHRoYXQgaXQgb25seSB1cGRhdGVzIHdoZW4gdGhlIHByb3BzIGFjdHVhbGx5IGhhdmVcbiAqIGNoYW5nZWQuIFRoaXMgd2FzIHByZXZpb3VzbHkga25vd24gYXMgYFJlYWN0LnB1cmVgLlxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5GdW5jdGlvbkNvbXBvbmVudH0gYyBmdW5jdGlvbmFsIGNvbXBvbmVudFxuICogQHBhcmFtIHsocHJldjogb2JqZWN0LCBuZXh0OiBvYmplY3QpID0+IGJvb2xlYW59IFtjb21wYXJlcl0gQ3VzdG9tIGVxdWFsaXR5IGZ1bmN0aW9uXG4gKiBAcmV0dXJucyB7aW1wb3J0KCcuL2ludGVybmFsJykuRnVuY3Rpb25Db21wb25lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtZW1vKGMsIGNvbXBhcmVyKSB7XG5cdGZ1bmN0aW9uIHNob3VsZFVwZGF0ZShuZXh0UHJvcHMpIHtcblx0XHRsZXQgcmVmID0gdGhpcy5wcm9wcy5yZWY7XG5cdFx0bGV0IHVwZGF0ZVJlZiA9IHJlZiA9PSBuZXh0UHJvcHMucmVmO1xuXHRcdGlmICghdXBkYXRlUmVmICYmIHJlZikge1xuXHRcdFx0cmVmLmNhbGwgPyByZWYobnVsbCkgOiAocmVmLmN1cnJlbnQgPSBudWxsKTtcblx0XHR9XG5cblx0XHRpZiAoIWNvbXBhcmVyKSB7XG5cdFx0XHRyZXR1cm4gc2hhbGxvd0RpZmZlcnModGhpcy5wcm9wcywgbmV4dFByb3BzKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gIWNvbXBhcmVyKHRoaXMucHJvcHMsIG5leHRQcm9wcykgfHwgIXVwZGF0ZVJlZjtcblx0fVxuXG5cdGZ1bmN0aW9uIE1lbW9lZChwcm9wcykge1xuXHRcdHRoaXMuc2hvdWxkQ29tcG9uZW50VXBkYXRlID0gc2hvdWxkVXBkYXRlO1xuXHRcdHJldHVybiBjcmVhdGVFbGVtZW50KGMsIHByb3BzKTtcblx0fVxuXHRNZW1vZWQuZGlzcGxheU5hbWUgPSAnTWVtbygnICsgKGMuZGlzcGxheU5hbWUgfHwgYy5uYW1lKSArICcpJztcblx0TWVtb2VkLnByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50ID0gdHJ1ZTtcblx0TWVtb2VkLl9mb3J3YXJkZWQgPSB0cnVlO1xuXHRyZXR1cm4gTWVtb2VkO1xufVxuIiwiaW1wb3J0IHsgb3B0aW9ucyB9IGZyb20gJ3ByZWFjdCc7XG5pbXBvcnQgeyBhc3NpZ24gfSBmcm9tICcuL3V0aWwnO1xuXG5sZXQgb2xkRGlmZkhvb2sgPSBvcHRpb25zLl9kaWZmO1xub3B0aW9ucy5fZGlmZiA9IHZub2RlID0+IHtcblx0aWYgKHZub2RlLnR5cGUgJiYgdm5vZGUudHlwZS5fZm9yd2FyZGVkICYmIHZub2RlLnJlZikge1xuXHRcdHZub2RlLnByb3BzLnJlZiA9IHZub2RlLnJlZjtcblx0XHR2bm9kZS5yZWYgPSBudWxsO1xuXHR9XG5cdGlmIChvbGREaWZmSG9vaykgb2xkRGlmZkhvb2sodm5vZGUpO1xufTtcblxuZXhwb3J0IGNvbnN0IFJFQUNUX0ZPUldBUkRfU1lNQk9MID1cblx0KHR5cGVvZiBTeW1ib2wgIT0gJ3VuZGVmaW5lZCcgJiZcblx0XHRTeW1ib2wuZm9yICYmXG5cdFx0U3ltYm9sLmZvcigncmVhY3QuZm9yd2FyZF9yZWYnKSkgfHxcblx0MHhmNDc7XG5cbi8qKlxuICogUGFzcyByZWYgZG93biB0byBhIGNoaWxkLiBUaGlzIGlzIG1haW5seSB1c2VkIGluIGxpYnJhcmllcyB3aXRoIEhPQ3MgdGhhdFxuICogd3JhcCBjb21wb25lbnRzLiBVc2luZyBgZm9yd2FyZFJlZmAgdGhlcmUgaXMgYW4gZWFzeSB3YXkgdG8gZ2V0IGEgcmVmZXJlbmNlXG4gKiBvZiB0aGUgd3JhcHBlZCBjb21wb25lbnQgaW5zdGVhZCBvZiBvbmUgb2YgdGhlIHdyYXBwZXIgaXRzZWxmLlxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW5kZXgnKS5Gb3J3YXJkRm59IGZuXG4gKiBAcmV0dXJucyB7aW1wb3J0KCcuL2ludGVybmFsJykuRnVuY3Rpb25Db21wb25lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmb3J3YXJkUmVmKGZuKSB7XG5cdGZ1bmN0aW9uIEZvcndhcmRlZChwcm9wcykge1xuXHRcdGxldCBjbG9uZSA9IGFzc2lnbih7fSwgcHJvcHMpO1xuXHRcdGRlbGV0ZSBjbG9uZS5yZWY7XG5cdFx0cmV0dXJuIGZuKGNsb25lLCBwcm9wcy5yZWYgfHwgbnVsbCk7XG5cdH1cblxuXHQvLyBtb2J4LXJlYWN0IGNoZWNrcyBmb3IgdGhpcyBiZWluZyBwcmVzZW50XG5cdEZvcndhcmRlZC4kJHR5cGVvZiA9IFJFQUNUX0ZPUldBUkRfU1lNQk9MO1xuXHQvLyBtb2J4LXJlYWN0IGhlYXZpbHkgcmVsaWVzIG9uIGltcGxlbWVudGF0aW9uIGRldGFpbHMuXG5cdC8vIEl0IGV4cGVjdHMgYW4gb2JqZWN0IGhlcmUgd2l0aCBhIGByZW5kZXJgIHByb3BlcnR5LFxuXHQvLyBhbmQgcHJvdG90eXBlLnJlbmRlciB3aWxsIGZhaWwuIFdpdGhvdXQgdGhpc1xuXHQvLyBtb2J4LXJlYWN0IHRocm93cy5cblx0Rm9yd2FyZGVkLnJlbmRlciA9IEZvcndhcmRlZDtcblxuXHRGb3J3YXJkZWQucHJvdG90eXBlLmlzUmVhY3RDb21wb25lbnQgPSBGb3J3YXJkZWQuX2ZvcndhcmRlZCA9IHRydWU7XG5cdEZvcndhcmRlZC5kaXNwbGF5TmFtZSA9ICdGb3J3YXJkUmVmKCcgKyAoZm4uZGlzcGxheU5hbWUgfHwgZm4ubmFtZSkgKyAnKSc7XG5cdHJldHVybiBGb3J3YXJkZWQ7XG59XG4iLCJpbXBvcnQgeyBDb21wb25lbnQsIGNyZWF0ZUVsZW1lbnQsIG9wdGlvbnMsIEZyYWdtZW50IH0gZnJvbSAncHJlYWN0JztcbmltcG9ydCB7IGFzc2lnbiB9IGZyb20gJy4vdXRpbCc7XG5cbmNvbnN0IG9sZENhdGNoRXJyb3IgPSBvcHRpb25zLl9jYXRjaEVycm9yO1xub3B0aW9ucy5fY2F0Y2hFcnJvciA9IGZ1bmN0aW9uKGVycm9yLCBuZXdWTm9kZSwgb2xkVk5vZGUsIGVycm9ySW5mbykge1xuXHRpZiAoZXJyb3IudGhlbikge1xuXHRcdC8qKiBAdHlwZSB7aW1wb3J0KCcuL2ludGVybmFsJykuQ29tcG9uZW50fSAqL1xuXHRcdGxldCBjb21wb25lbnQ7XG5cdFx0bGV0IHZub2RlID0gbmV3Vk5vZGU7XG5cblx0XHRmb3IgKDsgKHZub2RlID0gdm5vZGUuX3BhcmVudCk7ICkge1xuXHRcdFx0aWYgKChjb21wb25lbnQgPSB2bm9kZS5fY29tcG9uZW50KSAmJiBjb21wb25lbnQuX2NoaWxkRGlkU3VzcGVuZCkge1xuXHRcdFx0XHRpZiAobmV3Vk5vZGUuX2RvbSA9PSBudWxsKSB7XG5cdFx0XHRcdFx0bmV3Vk5vZGUuX2RvbSA9IG9sZFZOb2RlLl9kb207XG5cdFx0XHRcdFx0bmV3Vk5vZGUuX2NoaWxkcmVuID0gb2xkVk5vZGUuX2NoaWxkcmVuO1xuXHRcdFx0XHR9XG5cdFx0XHRcdC8vIERvbid0IGNhbGwgb2xkQ2F0Y2hFcnJvciBpZiB3ZSBmb3VuZCBhIFN1c3BlbnNlXG5cdFx0XHRcdHJldHVybiBjb21wb25lbnQuX2NoaWxkRGlkU3VzcGVuZChlcnJvciwgbmV3Vk5vZGUpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRvbGRDYXRjaEVycm9yKGVycm9yLCBuZXdWTm9kZSwgb2xkVk5vZGUsIGVycm9ySW5mbyk7XG59O1xuXG5jb25zdCBvbGRVbm1vdW50ID0gb3B0aW9ucy51bm1vdW50O1xub3B0aW9ucy51bm1vdW50ID0gZnVuY3Rpb24odm5vZGUpIHtcblx0LyoqIEB0eXBlIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5Db21wb25lbnR9ICovXG5cdGNvbnN0IGNvbXBvbmVudCA9IHZub2RlLl9jb21wb25lbnQ7XG5cdGlmIChjb21wb25lbnQgJiYgY29tcG9uZW50Ll9vblJlc29sdmUpIHtcblx0XHRjb21wb25lbnQuX29uUmVzb2x2ZSgpO1xuXHR9XG5cblx0Ly8gaWYgdGhlIGNvbXBvbmVudCBpcyBzdGlsbCBoeWRyYXRpbmdcblx0Ly8gbW9zdCBsaWtlbHkgaXQgaXMgYmVjYXVzZSB0aGUgY29tcG9uZW50IGlzIHN1c3BlbmRlZFxuXHQvLyB3ZSBzZXQgdGhlIHZub2RlLnR5cGUgYXMgYG51bGxgIHNvIHRoYXQgaXQgaXMgbm90IGEgdHlwZW9mIGZ1bmN0aW9uXG5cdC8vIHNvIHRoZSB1bm1vdW50IHdpbGwgcmVtb3ZlIHRoZSB2bm9kZS5fZG9tXG5cdGlmIChjb21wb25lbnQgJiYgdm5vZGUuX2h5ZHJhdGluZyA9PT0gdHJ1ZSkge1xuXHRcdHZub2RlLnR5cGUgPSBudWxsO1xuXHR9XG5cblx0aWYgKG9sZFVubW91bnQpIG9sZFVubW91bnQodm5vZGUpO1xufTtcblxuZnVuY3Rpb24gZGV0YWNoZWRDbG9uZSh2bm9kZSwgZGV0YWNoZWRQYXJlbnQsIHBhcmVudERvbSkge1xuXHRpZiAodm5vZGUpIHtcblx0XHRpZiAodm5vZGUuX2NvbXBvbmVudCAmJiB2bm9kZS5fY29tcG9uZW50Ll9faG9va3MpIHtcblx0XHRcdHZub2RlLl9jb21wb25lbnQuX19ob29rcy5fbGlzdC5mb3JFYWNoKGVmZmVjdCA9PiB7XG5cdFx0XHRcdGlmICh0eXBlb2YgZWZmZWN0Ll9jbGVhbnVwID09ICdmdW5jdGlvbicpIGVmZmVjdC5fY2xlYW51cCgpO1xuXHRcdFx0fSk7XG5cblx0XHRcdHZub2RlLl9jb21wb25lbnQuX19ob29rcyA9IG51bGw7XG5cdFx0fVxuXG5cdFx0dm5vZGUgPSBhc3NpZ24oe30sIHZub2RlKTtcblx0XHRpZiAodm5vZGUuX2NvbXBvbmVudCAhPSBudWxsKSB7XG5cdFx0XHRpZiAodm5vZGUuX2NvbXBvbmVudC5fcGFyZW50RG9tID09PSBwYXJlbnREb20pIHtcblx0XHRcdFx0dm5vZGUuX2NvbXBvbmVudC5fcGFyZW50RG9tID0gZGV0YWNoZWRQYXJlbnQ7XG5cdFx0XHR9XG5cdFx0XHR2bm9kZS5fY29tcG9uZW50ID0gbnVsbDtcblx0XHR9XG5cblx0XHR2bm9kZS5fY2hpbGRyZW4gPVxuXHRcdFx0dm5vZGUuX2NoaWxkcmVuICYmXG5cdFx0XHR2bm9kZS5fY2hpbGRyZW4ubWFwKGNoaWxkID0+XG5cdFx0XHRcdGRldGFjaGVkQ2xvbmUoY2hpbGQsIGRldGFjaGVkUGFyZW50LCBwYXJlbnREb20pXG5cdFx0XHQpO1xuXHR9XG5cblx0cmV0dXJuIHZub2RlO1xufVxuXG5mdW5jdGlvbiByZW1vdmVPcmlnaW5hbCh2bm9kZSwgZGV0YWNoZWRQYXJlbnQsIG9yaWdpbmFsUGFyZW50KSB7XG5cdGlmICh2bm9kZSkge1xuXHRcdHZub2RlLl9vcmlnaW5hbCA9IG51bGw7XG5cdFx0dm5vZGUuX2NoaWxkcmVuID1cblx0XHRcdHZub2RlLl9jaGlsZHJlbiAmJlxuXHRcdFx0dm5vZGUuX2NoaWxkcmVuLm1hcChjaGlsZCA9PlxuXHRcdFx0XHRyZW1vdmVPcmlnaW5hbChjaGlsZCwgZGV0YWNoZWRQYXJlbnQsIG9yaWdpbmFsUGFyZW50KVxuXHRcdFx0KTtcblxuXHRcdGlmICh2bm9kZS5fY29tcG9uZW50KSB7XG5cdFx0XHRpZiAodm5vZGUuX2NvbXBvbmVudC5fcGFyZW50RG9tID09PSBkZXRhY2hlZFBhcmVudCkge1xuXHRcdFx0XHRpZiAodm5vZGUuX2RvbSkge1xuXHRcdFx0XHRcdG9yaWdpbmFsUGFyZW50Lmluc2VydEJlZm9yZSh2bm9kZS5fZG9tLCB2bm9kZS5fbmV4dERvbSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0dm5vZGUuX2NvbXBvbmVudC5fZm9yY2UgPSB0cnVlO1xuXHRcdFx0XHR2bm9kZS5fY29tcG9uZW50Ll9wYXJlbnREb20gPSBvcmlnaW5hbFBhcmVudDtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gdm5vZGU7XG59XG5cbi8vIGhhdmluZyBjdXN0b20gaW5oZXJpdGFuY2UgaW5zdGVhZCBvZiBhIGNsYXNzIGhlcmUgc2F2ZXMgYSBsb3Qgb2YgYnl0ZXNcbmV4cG9ydCBmdW5jdGlvbiBTdXNwZW5zZSgpIHtcblx0Ly8gd2UgZG8gbm90IGNhbGwgc3VwZXIgaGVyZSB0byBnb2xmIHNvbWUgYnl0ZXMuLi5cblx0dGhpcy5fcGVuZGluZ1N1c3BlbnNpb25Db3VudCA9IDA7XG5cdHRoaXMuX3N1c3BlbmRlcnMgPSBudWxsO1xuXHR0aGlzLl9kZXRhY2hPbk5leHRSZW5kZXIgPSBudWxsO1xufVxuXG4vLyBUaGluZ3Mgd2UgZG8gaGVyZSB0byBzYXZlIHNvbWUgYnl0ZXMgYnV0IGFyZSBub3QgcHJvcGVyIEpTIGluaGVyaXRhbmNlOlxuLy8gLSBjYWxsIGBuZXcgQ29tcG9uZW50KClgIGFzIHRoZSBwcm90b3R5cGVcbi8vIC0gZG8gbm90IHNldCBgU3VzcGVuc2UucHJvdG90eXBlLmNvbnN0cnVjdG9yYCB0byBgU3VzcGVuc2VgXG5TdXNwZW5zZS5wcm90b3R5cGUgPSBuZXcgQ29tcG9uZW50KCk7XG5cbi8qKlxuICogQHRoaXMge2ltcG9ydCgnLi9pbnRlcm5hbCcpLlN1c3BlbnNlQ29tcG9uZW50fVxuICogQHBhcmFtIHtQcm9taXNlfSBwcm9taXNlIFRoZSB0aHJvd24gcHJvbWlzZVxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5WTm9kZTxhbnksIGFueT59IHN1c3BlbmRpbmdWTm9kZSBUaGUgc3VzcGVuZGluZyBjb21wb25lbnRcbiAqL1xuU3VzcGVuc2UucHJvdG90eXBlLl9jaGlsZERpZFN1c3BlbmQgPSBmdW5jdGlvbihwcm9taXNlLCBzdXNwZW5kaW5nVk5vZGUpIHtcblx0Y29uc3Qgc3VzcGVuZGluZ0NvbXBvbmVudCA9IHN1c3BlbmRpbmdWTm9kZS5fY29tcG9uZW50O1xuXG5cdC8qKiBAdHlwZSB7aW1wb3J0KCcuL2ludGVybmFsJykuU3VzcGVuc2VDb21wb25lbnR9ICovXG5cdGNvbnN0IGMgPSB0aGlzO1xuXG5cdGlmIChjLl9zdXNwZW5kZXJzID09IG51bGwpIHtcblx0XHRjLl9zdXNwZW5kZXJzID0gW107XG5cdH1cblx0Yy5fc3VzcGVuZGVycy5wdXNoKHN1c3BlbmRpbmdDb21wb25lbnQpO1xuXG5cdGNvbnN0IHJlc29sdmUgPSBzdXNwZW5kZWQoYy5fdm5vZGUpO1xuXG5cdGxldCByZXNvbHZlZCA9IGZhbHNlO1xuXHRjb25zdCBvblJlc29sdmVkID0gKCkgPT4ge1xuXHRcdGlmIChyZXNvbHZlZCkgcmV0dXJuO1xuXG5cdFx0cmVzb2x2ZWQgPSB0cnVlO1xuXHRcdHN1c3BlbmRpbmdDb21wb25lbnQuX29uUmVzb2x2ZSA9IG51bGw7XG5cblx0XHRpZiAocmVzb2x2ZSkge1xuXHRcdFx0cmVzb2x2ZShvblN1c3BlbnNpb25Db21wbGV0ZSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdG9uU3VzcGVuc2lvbkNvbXBsZXRlKCk7XG5cdFx0fVxuXHR9O1xuXG5cdHN1c3BlbmRpbmdDb21wb25lbnQuX29uUmVzb2x2ZSA9IG9uUmVzb2x2ZWQ7XG5cblx0Y29uc3Qgb25TdXNwZW5zaW9uQ29tcGxldGUgPSAoKSA9PiB7XG5cdFx0aWYgKCEtLWMuX3BlbmRpbmdTdXNwZW5zaW9uQ291bnQpIHtcblx0XHRcdC8vIElmIHRoZSBzdXNwZW5zaW9uIHdhcyBkdXJpbmcgaHlkcmF0aW9uIHdlIGRvbid0IG5lZWQgdG8gcmVzdG9yZSB0aGVcblx0XHRcdC8vIHN1c3BlbmRlZCBjaGlsZHJlbiBpbnRvIHRoZSBfY2hpbGRyZW4gYXJyYXlcblx0XHRcdGlmIChjLnN0YXRlLl9zdXNwZW5kZWQpIHtcblx0XHRcdFx0Y29uc3Qgc3VzcGVuZGVkVk5vZGUgPSBjLnN0YXRlLl9zdXNwZW5kZWQ7XG5cdFx0XHRcdGMuX3Zub2RlLl9jaGlsZHJlblswXSA9IHJlbW92ZU9yaWdpbmFsKFxuXHRcdFx0XHRcdHN1c3BlbmRlZFZOb2RlLFxuXHRcdFx0XHRcdHN1c3BlbmRlZFZOb2RlLl9jb21wb25lbnQuX3BhcmVudERvbSxcblx0XHRcdFx0XHRzdXNwZW5kZWRWTm9kZS5fY29tcG9uZW50Ll9vcmlnaW5hbFBhcmVudERvbVxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXG5cdFx0XHRjLnNldFN0YXRlKHsgX3N1c3BlbmRlZDogKGMuX2RldGFjaE9uTmV4dFJlbmRlciA9IG51bGwpIH0pO1xuXG5cdFx0XHRsZXQgc3VzcGVuZGVkO1xuXHRcdFx0d2hpbGUgKChzdXNwZW5kZWQgPSBjLl9zdXNwZW5kZXJzLnBvcCgpKSkge1xuXHRcdFx0XHRzdXNwZW5kZWQuZm9yY2VVcGRhdGUoKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG5cblx0LyoqXG5cdCAqIFdlIGRvIG5vdCBzZXQgYHN1c3BlbmRlZDogdHJ1ZWAgZHVyaW5nIGh5ZHJhdGlvbiBiZWNhdXNlIHdlIHdhbnQgdGhlIGFjdHVhbCBtYXJrdXBcblx0ICogdG8gcmVtYWluIG9uIHNjcmVlbiBhbmQgaHlkcmF0ZSBpdCB3aGVuIHRoZSBzdXNwZW5zZSBhY3R1YWxseSBnZXRzIHJlc29sdmVkLlxuXHQgKiBXaGlsZSBpbiBub24taHlkcmF0aW9uIGNhc2VzIHRoZSB1c3VhbCBmYWxsYmFjayAtPiBjb21wb25lbnQgZmxvdyB3b3VsZCBvY2NvdXIuXG5cdCAqL1xuXHRjb25zdCB3YXNIeWRyYXRpbmcgPSBzdXNwZW5kaW5nVk5vZGUuX2h5ZHJhdGluZyA9PT0gdHJ1ZTtcblx0aWYgKCFjLl9wZW5kaW5nU3VzcGVuc2lvbkNvdW50KysgJiYgIXdhc0h5ZHJhdGluZykge1xuXHRcdGMuc2V0U3RhdGUoeyBfc3VzcGVuZGVkOiAoYy5fZGV0YWNoT25OZXh0UmVuZGVyID0gYy5fdm5vZGUuX2NoaWxkcmVuWzBdKSB9KTtcblx0fVxuXHRwcm9taXNlLnRoZW4ob25SZXNvbHZlZCwgb25SZXNvbHZlZCk7XG59O1xuXG5TdXNwZW5zZS5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbigpIHtcblx0dGhpcy5fc3VzcGVuZGVycyA9IFtdO1xufTtcblxuLyoqXG4gKiBAdGhpcyB7aW1wb3J0KCcuL2ludGVybmFsJykuU3VzcGVuc2VDb21wb25lbnR9XG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9pbnRlcm5hbCcpLlN1c3BlbnNlQ29tcG9uZW50W1wicHJvcHNcIl19IHByb3BzXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9pbnRlcm5hbCcpLlN1c3BlbnNlU3RhdGV9IHN0YXRlXG4gKi9cblN1c3BlbnNlLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbihwcm9wcywgc3RhdGUpIHtcblx0aWYgKHRoaXMuX2RldGFjaE9uTmV4dFJlbmRlcikge1xuXHRcdC8vIFdoZW4gdGhlIFN1c3BlbnNlJ3MgX3Zub2RlIHdhcyBjcmVhdGVkIGJ5IGEgY2FsbCB0byBjcmVhdGVWTm9kZVxuXHRcdC8vIChpLmUuIGR1ZSB0byBhIHNldFN0YXRlIGZ1cnRoZXIgdXAgaW4gdGhlIHRyZWUpXG5cdFx0Ly8gaXQncyBfY2hpbGRyZW4gcHJvcCBpcyBudWxsLCBpbiB0aGlzIGNhc2Ugd2UgXCJmb3JnZXRcIiBhYm91dCB0aGUgcGFya2VkIHZub2RlcyB0byBkZXRhY2hcblx0XHRpZiAodGhpcy5fdm5vZGUuX2NoaWxkcmVuKSB7XG5cdFx0XHRjb25zdCBkZXRhY2hlZFBhcmVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdFx0Y29uc3QgZGV0YWNoZWRDb21wb25lbnQgPSB0aGlzLl92bm9kZS5fY2hpbGRyZW5bMF0uX2NvbXBvbmVudDtcblx0XHRcdHRoaXMuX3Zub2RlLl9jaGlsZHJlblswXSA9IGRldGFjaGVkQ2xvbmUoXG5cdFx0XHRcdHRoaXMuX2RldGFjaE9uTmV4dFJlbmRlcixcblx0XHRcdFx0ZGV0YWNoZWRQYXJlbnQsXG5cdFx0XHRcdChkZXRhY2hlZENvbXBvbmVudC5fb3JpZ2luYWxQYXJlbnREb20gPSBkZXRhY2hlZENvbXBvbmVudC5fcGFyZW50RG9tKVxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHR0aGlzLl9kZXRhY2hPbk5leHRSZW5kZXIgPSBudWxsO1xuXHR9XG5cblx0Ly8gV3JhcCBmYWxsYmFjayB0cmVlIGluIGEgVk5vZGUgdGhhdCBwcmV2ZW50cyBpdHNlbGYgZnJvbSBiZWluZyBtYXJrZWQgYXMgYWJvcnRpbmcgbWlkLWh5ZHJhdGlvbjpcblx0LyoqIEB0eXBlIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5WTm9kZX0gKi9cblx0Y29uc3QgZmFsbGJhY2sgPVxuXHRcdHN0YXRlLl9zdXNwZW5kZWQgJiYgY3JlYXRlRWxlbWVudChGcmFnbWVudCwgbnVsbCwgcHJvcHMuZmFsbGJhY2spO1xuXHRpZiAoZmFsbGJhY2spIGZhbGxiYWNrLl9oeWRyYXRpbmcgPSBudWxsO1xuXG5cdHJldHVybiBbXG5cdFx0Y3JlYXRlRWxlbWVudChGcmFnbWVudCwgbnVsbCwgc3RhdGUuX3N1c3BlbmRlZCA/IG51bGwgOiBwcm9wcy5jaGlsZHJlbiksXG5cdFx0ZmFsbGJhY2tcblx0XTtcbn07XG5cbi8qKlxuICogQ2hlY2tzIGFuZCBjYWxscyB0aGUgcGFyZW50IGNvbXBvbmVudCdzIF9zdXNwZW5kZWQgbWV0aG9kLCBwYXNzaW5nIGluIHRoZVxuICogc3VzcGVuZGVkIHZub2RlLiBUaGlzIGlzIGEgd2F5IGZvciBhIHBhcmVudCAoZS5nLiBTdXNwZW5zZUxpc3QpIHRvIGdldCBub3RpZmllZFxuICogdGhhdCBvbmUgb2YgaXRzIGNoaWxkcmVuL2Rlc2NlbmRhbnRzIHN1c3BlbmRlZC5cbiAqXG4gKiBUaGUgcGFyZW50IE1BWSByZXR1cm4gYSBjYWxsYmFjay4gVGhlIGNhbGxiYWNrIHdpbGwgZ2V0IGNhbGxlZCB3aGVuIHRoZVxuICogc3VzcGVuc2lvbiByZXNvbHZlcywgbm90aWZ5aW5nIHRoZSBwYXJlbnQgb2YgdGhlIGZhY3QuXG4gKiBNb3Jlb3ZlciwgdGhlIGNhbGxiYWNrIGdldHMgZnVuY3Rpb24gYHVuc3VzcGVuZGAgYXMgYSBwYXJhbWV0ZXIuIFRoZSByZXNvbHZlZFxuICogY2hpbGQgZGVzY2VuZGFudCB3aWxsIG5vdCBhY3R1YWxseSBnZXQgdW5zdXNwZW5kZWQgdW50aWwgYHVuc3VzcGVuZGAgZ2V0cyBjYWxsZWQuXG4gKiBUaGlzIGlzIGEgd2F5IGZvciB0aGUgcGFyZW50IHRvIGRlbGF5IHVuc3VzcGVuZGluZy5cbiAqXG4gKiBJZiB0aGUgcGFyZW50IGRvZXMgbm90IHJldHVybiBhIGNhbGxiYWNrIHRoZW4gdGhlIHJlc29sdmVkIHZub2RlXG4gKiBnZXRzIHVuc3VzcGVuZGVkIGltbWVkaWF0ZWx5IHdoZW4gaXQgcmVzb2x2ZXMuXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5WTm9kZX0gdm5vZGVcbiAqIEByZXR1cm5zIHsoKHVuc3VzcGVuZDogKCkgPT4gdm9pZCkgPT4gdm9pZCk/fVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3VzcGVuZGVkKHZub2RlKSB7XG5cdC8qKiBAdHlwZSB7aW1wb3J0KCcuL2ludGVybmFsJykuQ29tcG9uZW50fSAqL1xuXHRsZXQgY29tcG9uZW50ID0gdm5vZGUuX3BhcmVudC5fY29tcG9uZW50O1xuXHRyZXR1cm4gY29tcG9uZW50ICYmIGNvbXBvbmVudC5fc3VzcGVuZGVkICYmIGNvbXBvbmVudC5fc3VzcGVuZGVkKHZub2RlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxhenkobG9hZGVyKSB7XG5cdGxldCBwcm9tO1xuXHRsZXQgY29tcG9uZW50O1xuXHRsZXQgZXJyb3I7XG5cblx0ZnVuY3Rpb24gTGF6eShwcm9wcykge1xuXHRcdGlmICghcHJvbSkge1xuXHRcdFx0cHJvbSA9IGxvYWRlcigpO1xuXHRcdFx0cHJvbS50aGVuKFxuXHRcdFx0XHRleHBvcnRzID0+IHtcblx0XHRcdFx0XHRjb21wb25lbnQgPSBleHBvcnRzLmRlZmF1bHQgfHwgZXhwb3J0cztcblx0XHRcdFx0fSxcblx0XHRcdFx0ZSA9PiB7XG5cdFx0XHRcdFx0ZXJyb3IgPSBlO1xuXHRcdFx0XHR9XG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0aWYgKCFjb21wb25lbnQpIHtcblx0XHRcdHRocm93IHByb207XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNyZWF0ZUVsZW1lbnQoY29tcG9uZW50LCBwcm9wcyk7XG5cdH1cblxuXHRMYXp5LmRpc3BsYXlOYW1lID0gJ0xhenknO1xuXHRMYXp5Ll9mb3J3YXJkZWQgPSB0cnVlO1xuXHRyZXR1cm4gTGF6eTtcbn1cbiIsImltcG9ydCB7IENvbXBvbmVudCwgdG9DaGlsZEFycmF5IH0gZnJvbSAncHJlYWN0JztcbmltcG9ydCB7IHN1c3BlbmRlZCB9IGZyb20gJy4vc3VzcGVuc2UuanMnO1xuXG4vLyBJbmRleGVzIHRvIGxpbmtlZCBsaXN0IG5vZGVzIChub2RlcyBhcmUgc3RvcmVkIGFzIGFycmF5cyB0byBzYXZlIGJ5dGVzKS5cbmNvbnN0IFNVU1BFTkRFRF9DT1VOVCA9IDA7XG5jb25zdCBSRVNPTFZFRF9DT1VOVCA9IDE7XG5jb25zdCBORVhUX05PREUgPSAyO1xuXG4vLyBIYXZpbmcgY3VzdG9tIGluaGVyaXRhbmNlIGluc3RlYWQgb2YgYSBjbGFzcyBoZXJlIHNhdmVzIGEgbG90IG9mIGJ5dGVzLlxuZXhwb3J0IGZ1bmN0aW9uIFN1c3BlbnNlTGlzdCgpIHtcblx0dGhpcy5fbmV4dCA9IG51bGw7XG5cdHRoaXMuX21hcCA9IG51bGw7XG59XG5cbi8vIE1hcmsgb25lIG9mIGNoaWxkJ3MgZWFybGllciBzdXNwZW5zaW9ucyBhcyByZXNvbHZlZC5cbi8vIFNvbWUgcGVuZGluZyBjYWxsYmFja3MgbWF5IGJlY29tZSBjYWxsYWJsZSBkdWUgdG8gdGhpc1xuLy8gKGUuZy4gdGhlIGxhc3Qgc3VzcGVuZGVkIGRlc2NlbmRhbnQgZ2V0cyByZXNvbHZlZCB3aGVuXG4vLyByZXZlYWxPcmRlciA9PT0gJ3RvZ2V0aGVyJykuIFByb2Nlc3MgdGhvc2UgY2FsbGJhY2tzIGFzIHdlbGwuXG5jb25zdCByZXNvbHZlID0gKGxpc3QsIGNoaWxkLCBub2RlKSA9PiB7XG5cdGlmICgrK25vZGVbUkVTT0xWRURfQ09VTlRdID09PSBub2RlW1NVU1BFTkRFRF9DT1VOVF0pIHtcblx0XHQvLyBUaGUgbnVtYmVyIGEgY2hpbGQgKG9yIGFueSBvZiBpdHMgZGVzY2VuZGFudHMpIGhhcyBiZWVuIHN1c3BlbmRlZFxuXHRcdC8vIG1hdGNoZXMgdGhlIG51bWJlciBvZiB0aW1lcyBpdCdzIGJlZW4gcmVzb2x2ZWQuIFRoZXJlZm9yZSB3ZVxuXHRcdC8vIG1hcmsgdGhlIGNoaWxkIGFzIGNvbXBsZXRlbHkgcmVzb2x2ZWQgYnkgZGVsZXRpbmcgaXQgZnJvbSAuX21hcC5cblx0XHQvLyBUaGlzIGlzIHVzZWQgdG8gZmlndXJlIG91dCB3aGVuICphbGwqIGNoaWxkcmVuIGhhdmUgYmVlbiBjb21wbGV0ZWx5XG5cdFx0Ly8gcmVzb2x2ZWQgd2hlbiByZXZlYWxPcmRlciBpcyAndG9nZXRoZXInLlxuXHRcdGxpc3QuX21hcC5kZWxldGUoY2hpbGQpO1xuXHR9XG5cblx0Ly8gSWYgcmV2ZWFsT3JkZXIgaXMgZmFsc3kgdGhlbiB3ZSBjYW4gZG8gYW4gZWFybHkgZXhpdCwgYXMgdGhlXG5cdC8vIGNhbGxiYWNrcyB3b24ndCBnZXQgcXVldWVkIGluIHRoZSBub2RlIGFueXdheS5cblx0Ly8gSWYgcmV2ZWFsT3JkZXIgaXMgJ3RvZ2V0aGVyJyB0aGVuIGFsc28gZG8gYW4gZWFybHkgZXhpdFxuXHQvLyBpZiBhbGwgc3VzcGVuZGVkIGRlc2NlbmRhbnRzIGhhdmUgbm90IHlldCBiZWVuIHJlc29sdmVkLlxuXHRpZiAoXG5cdFx0IWxpc3QucHJvcHMucmV2ZWFsT3JkZXIgfHxcblx0XHQobGlzdC5wcm9wcy5yZXZlYWxPcmRlclswXSA9PT0gJ3QnICYmIGxpc3QuX21hcC5zaXplKVxuXHQpIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHQvLyBXYWxrIHRoZSBjdXJyZW50bHkgc3VzcGVuZGVkIGNoaWxkcmVuIGluIG9yZGVyLCBjYWxsaW5nIHRoZWlyXG5cdC8vIHN0b3JlZCBjYWxsYmFja3Mgb24gdGhlIHdheS4gU3RvcCBpZiB3ZSBlbmNvdW50ZXIgYSBjaGlsZCB0aGF0XG5cdC8vIGhhcyBub3QgYmVlbiBjb21wbGV0ZWx5IHJlc29sdmVkIHlldC5cblx0bm9kZSA9IGxpc3QuX25leHQ7XG5cdHdoaWxlIChub2RlKSB7XG5cdFx0d2hpbGUgKG5vZGUubGVuZ3RoID4gMykge1xuXHRcdFx0bm9kZS5wb3AoKSgpO1xuXHRcdH1cblx0XHRpZiAobm9kZVtSRVNPTFZFRF9DT1VOVF0gPCBub2RlW1NVU1BFTkRFRF9DT1VOVF0pIHtcblx0XHRcdGJyZWFrO1xuXHRcdH1cblx0XHRsaXN0Ll9uZXh0ID0gbm9kZSA9IG5vZGVbTkVYVF9OT0RFXTtcblx0fVxufTtcblxuLy8gVGhpbmdzIHdlIGRvIGhlcmUgdG8gc2F2ZSBzb21lIGJ5dGVzIGJ1dCBhcmUgbm90IHByb3BlciBKUyBpbmhlcml0YW5jZTpcbi8vIC0gY2FsbCBgbmV3IENvbXBvbmVudCgpYCBhcyB0aGUgcHJvdG90eXBlXG4vLyAtIGRvIG5vdCBzZXQgYFN1c3BlbnNlLnByb3RvdHlwZS5jb25zdHJ1Y3RvcmAgdG8gYFN1c3BlbnNlYFxuU3VzcGVuc2VMaXN0LnByb3RvdHlwZSA9IG5ldyBDb21wb25lbnQoKTtcblxuU3VzcGVuc2VMaXN0LnByb3RvdHlwZS5fc3VzcGVuZGVkID0gZnVuY3Rpb24oY2hpbGQpIHtcblx0Y29uc3QgbGlzdCA9IHRoaXM7XG5cdGNvbnN0IGRlbGVnYXRlZCA9IHN1c3BlbmRlZChsaXN0Ll92bm9kZSk7XG5cblx0bGV0IG5vZGUgPSBsaXN0Ll9tYXAuZ2V0KGNoaWxkKTtcblx0bm9kZVtTVVNQRU5ERURfQ09VTlRdKys7XG5cblx0cmV0dXJuIHVuc3VzcGVuZCA9PiB7XG5cdFx0Y29uc3Qgd3JhcHBlZFVuc3VzcGVuZCA9ICgpID0+IHtcblx0XHRcdGlmICghbGlzdC5wcm9wcy5yZXZlYWxPcmRlcikge1xuXHRcdFx0XHQvLyBTcGVjaWFsIGNhc2UgdGhlIHVuZGVmaW5lZCAoZmFsc3kpIHJldmVhbE9yZGVyLCBhcyB0aGVyZVxuXHRcdFx0XHQvLyBpcyBubyBuZWVkIHRvIGNvb3JkaW5hdGUgYSBzcGVjaWZpYyBvcmRlciBvciB1bnN1c3BlbmRzLlxuXHRcdFx0XHR1bnN1c3BlbmQoKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG5vZGUucHVzaCh1bnN1c3BlbmQpO1xuXHRcdFx0XHRyZXNvbHZlKGxpc3QsIGNoaWxkLCBub2RlKTtcblx0XHRcdH1cblx0XHR9O1xuXHRcdGlmIChkZWxlZ2F0ZWQpIHtcblx0XHRcdGRlbGVnYXRlZCh3cmFwcGVkVW5zdXNwZW5kKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0d3JhcHBlZFVuc3VzcGVuZCgpO1xuXHRcdH1cblx0fTtcbn07XG5cblN1c3BlbnNlTGlzdC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24ocHJvcHMpIHtcblx0dGhpcy5fbmV4dCA9IG51bGw7XG5cdHRoaXMuX21hcCA9IG5ldyBNYXAoKTtcblxuXHRjb25zdCBjaGlsZHJlbiA9IHRvQ2hpbGRBcnJheShwcm9wcy5jaGlsZHJlbik7XG5cdGlmIChwcm9wcy5yZXZlYWxPcmRlciAmJiBwcm9wcy5yZXZlYWxPcmRlclswXSA9PT0gJ2InKSB7XG5cdFx0Ly8gSWYgb3JkZXIgPT09ICdiYWNrd2FyZHMnIChvciwgd2VsbCwgYW55dGhpbmcgc3RhcnRpbmcgd2l0aCBhICdiJylcblx0XHQvLyB0aGVuIGZsaXAgdGhlIGNoaWxkIGxpc3QgYXJvdW5kIHNvIHRoYXQgdGhlIGxhc3QgY2hpbGQgd2lsbCBiZVxuXHRcdC8vIHRoZSBmaXJzdCBpbiB0aGUgbGlua2VkIGxpc3QuXG5cdFx0Y2hpbGRyZW4ucmV2ZXJzZSgpO1xuXHR9XG5cdC8vIEJ1aWxkIHRoZSBsaW5rZWQgbGlzdC4gSXRlcmF0ZSB0aHJvdWdoIHRoZSBjaGlsZHJlbiBpbiByZXZlcnNlIG9yZGVyXG5cdC8vIHNvIHRoYXQgYF9uZXh0YCBwb2ludHMgdG8gdGhlIGZpcnN0IGxpbmtlZCBsaXN0IG5vZGUgdG8gYmUgcmVzb2x2ZWQuXG5cdGZvciAobGV0IGkgPSBjaGlsZHJlbi5sZW5ndGg7IGktLTsgKSB7XG5cdFx0Ly8gQ3JlYXRlIGEgbmV3IGxpbmtlZCBsaXN0IG5vZGUgYXMgYW4gYXJyYXkgb2YgZm9ybTpcblx0XHQvLyBcdFtzdXNwZW5kZWRfY291bnQsIHJlc29sdmVkX2NvdW50LCBuZXh0X25vZGVdXG5cdFx0Ly8gd2hlcmUgc3VzcGVuZGVkX2NvdW50IGFuZCByZXNvbHZlZF9jb3VudCBhcmUgbnVtZXJpYyBjb3VudGVycyBmb3Jcblx0XHQvLyBrZWVwaW5nIHRyYWNrIGhvdyBtYW55IHRpbWVzIGEgbm9kZSBoYXMgYmVlbiBzdXNwZW5kZWQgYW5kIHJlc29sdmVkLlxuXHRcdC8vXG5cdFx0Ly8gTm90ZSB0aGF0IHN1c3BlbmRlZF9jb3VudCBzdGFydHMgZnJvbSAxIGluc3RlYWQgb2YgMCwgc28gd2UgY2FuIGJsb2NrXG5cdFx0Ly8gcHJvY2Vzc2luZyBjYWxsYmFja3MgdW50aWwgY29tcG9uZW50RGlkTW91bnQgaGFzIGJlZW4gY2FsbGVkLiBJbiBhIHNlbnNlXG5cdFx0Ly8gbm9kZSBpcyBzdXNwZW5kZWQgYXQgbGVhc3QgdW50aWwgY29tcG9uZW50RGlkTW91bnQgZ2V0cyBjYWxsZWQhXG5cdFx0Ly9cblx0XHQvLyBQZW5kaW5nIGNhbGxiYWNrcyBhcmUgYWRkZWQgdG8gdGhlIGVuZCBvZiB0aGUgbm9kZTpcblx0XHQvLyBcdFtzdXNwZW5kZWRfY291bnQsIHJlc29sdmVkX2NvdW50LCBuZXh0X25vZGUsIGNhbGxiYWNrXzAsIGNhbGxiYWNrXzEsIC4uLl1cblx0XHR0aGlzLl9tYXAuc2V0KGNoaWxkcmVuW2ldLCAodGhpcy5fbmV4dCA9IFsxLCAwLCB0aGlzLl9uZXh0XSkpO1xuXHR9XG5cdHJldHVybiBwcm9wcy5jaGlsZHJlbjtcbn07XG5cblN1c3BlbnNlTGlzdC5wcm90b3R5cGUuY29tcG9uZW50RGlkVXBkYXRlID0gU3VzcGVuc2VMaXN0LnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uKCkge1xuXHQvLyBJdGVyYXRlIHRocm91Z2ggYWxsIGNoaWxkcmVuIGFmdGVyIG1vdW50aW5nIGZvciB0d28gcmVhc29uczpcblx0Ly8gMS4gQXMgZWFjaCBub2RlW1NVU1BFTkRFRF9DT1VOVF0gc3RhcnRzIGZyb20gMSwgdGhpcyBpdGVyYXRpb24gaW5jcmVhc2VzXG5cdC8vICAgIGVhY2ggbm9kZVtSRUxFQVNFRF9DT1VOVF0gYnkgMSwgdGhlcmVmb3JlIGJhbGFuY2luZyB0aGUgY291bnRlcnMuXG5cdC8vICAgIFRoZSBub2RlcyBjYW4gbm93IGJlIGNvbXBsZXRlbHkgY29uc3VtZWQgZnJvbSB0aGUgbGlua2VkIGxpc3QuXG5cdC8vIDIuIEhhbmRsZSBub2RlcyB0aGF0IG1pZ2h0IGhhdmUgZ290dGVuIHJlc29sdmVkIGJldHdlZW4gcmVuZGVyIGFuZFxuXHQvLyAgICBjb21wb25lbnREaWRNb3VudC5cblx0dGhpcy5fbWFwLmZvckVhY2goKG5vZGUsIGNoaWxkKSA9PiB7XG5cdFx0cmVzb2x2ZSh0aGlzLCBjaGlsZCwgbm9kZSk7XG5cdH0pO1xufTtcbiIsImltcG9ydCB7XG5cdHJlbmRlciBhcyBwcmVhY3RSZW5kZXIsXG5cdGh5ZHJhdGUgYXMgcHJlYWN0SHlkcmF0ZSxcblx0b3B0aW9ucyxcblx0dG9DaGlsZEFycmF5LFxuXHRDb21wb25lbnRcbn0gZnJvbSAncHJlYWN0JztcblxuZXhwb3J0IGNvbnN0IFJFQUNUX0VMRU1FTlRfVFlQRSA9XG5cdCh0eXBlb2YgU3ltYm9sICE9ICd1bmRlZmluZWQnICYmIFN5bWJvbC5mb3IgJiYgU3ltYm9sLmZvcigncmVhY3QuZWxlbWVudCcpKSB8fFxuXHQweGVhYzc7XG5cbmNvbnN0IENBTUVMX1BST1BTID0gL14oPzphY2NlbnR8YWxpZ25tZW50fGFyYWJpY3xiYXNlbGluZXxjYXB8Y2xpcCg/IVBhdGhVKXxjb2xvcnxkb21pbmFudHxmaWxsfGZsb29kfGZvbnR8Z2x5cGgoPyFSKXxob3JpenxtYXJrZXIoPyFIfFd8VSl8b3ZlcmxpbmV8cGFpbnR8c3RvcHxzdHJpa2V0aHJvdWdofHN0cm9rZXx0ZXh0KD8hTCl8dW5kZXJsaW5lfHVuaWNvZGV8dW5pdHN8dnx2ZWN0b3J8dmVydHx3b3JkfHdyaXRpbmd8eCg/IUMpKVtBLVpdLztcblxuY29uc3QgSVNfRE9NID0gdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJztcblxuLy8gSW5wdXQgdHlwZXMgZm9yIHdoaWNoIG9uY2hhbmdlIHNob3VsZCBub3QgYmUgY29udmVydGVkIHRvIG9uaW5wdXQuXG4vLyB0eXBlPVwiZmlsZXxjaGVja2JveHxyYWRpb1wiLCBwbHVzIFwicmFuZ2VcIiBpbiBJRTExLlxuLy8gKElFMTEgZG9lc24ndCBzdXBwb3J0IFN5bWJvbCwgd2hpY2ggd2UgdXNlIGhlcmUgdG8gdHVybiBgcmFkYCBpbnRvIGByYWAgd2hpY2ggbWF0Y2hlcyBcInJhbmdlXCIpXG5jb25zdCBvbkNoYW5nZUlucHV0VHlwZSA9IHR5cGUgPT5cblx0KHR5cGVvZiBTeW1ib2wgIT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIFN5bWJvbCgpID09ICdzeW1ib2wnXG5cdFx0PyAvZmlsfGNoZXxyYWQvaVxuXHRcdDogL2ZpbHxjaGV8cmEvaVxuXHQpLnRlc3QodHlwZSk7XG5cbi8vIFNvbWUgbGlicmFyaWVzIGxpa2UgYHJlYWN0LXZpcnR1YWxpemVkYCBleHBsaWNpdGx5IGNoZWNrIGZvciB0aGlzLlxuQ29tcG9uZW50LnByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50ID0ge307XG5cbi8vIGBVTlNBRkVfKmAgbGlmZWN5Y2xlIGhvb2tzXG4vLyBQcmVhY3Qgb25seSBldmVyIGludm9rZXMgdGhlIHVucHJlZml4ZWQgbWV0aG9kcy5cbi8vIEhlcmUgd2UgcHJvdmlkZSBhIGJhc2UgXCJmYWxsYmFja1wiIGltcGxlbWVudGF0aW9uIHRoYXQgY2FsbHMgYW55IGRlZmluZWQgVU5TQUZFXyBwcmVmaXhlZCBtZXRob2QuXG4vLyAtIElmIGEgY29tcG9uZW50IGRlZmluZXMgaXRzIG93biBgY29tcG9uZW50RGlkTW91bnQoKWAgKGluY2x1ZGluZyB2aWEgZGVmaW5lUHJvcGVydHkpLCB1c2UgdGhhdC5cbi8vIC0gSWYgYSBjb21wb25lbnQgZGVmaW5lcyBgVU5TQUZFX2NvbXBvbmVudERpZE1vdW50KClgLCBgY29tcG9uZW50RGlkTW91bnRgIGlzIHRoZSBhbGlhcyBnZXR0ZXIvc2V0dGVyLlxuLy8gLSBJZiBhbnl0aGluZyBhc3NpZ25zIHRvIGFuIGBVTlNBRkVfKmAgcHJvcGVydHksIHRoZSBhc3NpZ25tZW50IGlzIGZvcndhcmRlZCB0byB0aGUgdW5wcmVmaXhlZCBwcm9wZXJ0eS5cbi8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vcHJlYWN0anMvcHJlYWN0L2lzc3Vlcy8xOTQxXG5bXG5cdCdjb21wb25lbnRXaWxsTW91bnQnLFxuXHQnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcycsXG5cdCdjb21wb25lbnRXaWxsVXBkYXRlJ1xuXS5mb3JFYWNoKGtleSA9PiB7XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb21wb25lbnQucHJvdG90eXBlLCBrZXksIHtcblx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cdFx0Z2V0KCkge1xuXHRcdFx0cmV0dXJuIHRoaXNbJ1VOU0FGRV8nICsga2V5XTtcblx0XHR9LFxuXHRcdHNldCh2KSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywga2V5LCB7XG5cdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0XHRcdFx0d3JpdGFibGU6IHRydWUsXG5cdFx0XHRcdHZhbHVlOiB2XG5cdFx0XHR9KTtcblx0XHR9XG5cdH0pO1xufSk7XG5cbi8qKlxuICogUHJveHkgcmVuZGVyKCkgc2luY2UgUmVhY3QgcmV0dXJucyBhIENvbXBvbmVudCByZWZlcmVuY2UuXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9pbnRlcm5hbCcpLlZOb2RlfSB2bm9kZSBWTm9kZSB0cmVlIHRvIHJlbmRlclxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5QcmVhY3RFbGVtZW50fSBwYXJlbnQgRE9NIG5vZGUgdG8gcmVuZGVyIHZub2RlIHRyZWUgaW50b1xuICogQHBhcmFtIHsoKSA9PiB2b2lkfSBbY2FsbGJhY2tdIE9wdGlvbmFsIGNhbGxiYWNrIHRoYXQgd2lsbCBiZSBjYWxsZWQgYWZ0ZXIgcmVuZGVyaW5nXG4gKiBAcmV0dXJucyB7aW1wb3J0KCcuL2ludGVybmFsJykuQ29tcG9uZW50IHwgbnVsbH0gVGhlIHJvb3QgY29tcG9uZW50IHJlZmVyZW5jZSBvciBudWxsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXIodm5vZGUsIHBhcmVudCwgY2FsbGJhY2spIHtcblx0Ly8gUmVhY3QgZGVzdHJveXMgYW55IGV4aXN0aW5nIERPTSBub2Rlcywgc2VlICMxNzI3XG5cdC8vIC4uLmJ1dCBvbmx5IG9uIHRoZSBmaXJzdCByZW5kZXIsIHNlZSAjMTgyOFxuXHRpZiAocGFyZW50Ll9jaGlsZHJlbiA9PSBudWxsKSB7XG5cdFx0cGFyZW50LnRleHRDb250ZW50ID0gJyc7XG5cdH1cblxuXHRwcmVhY3RSZW5kZXIodm5vZGUsIHBhcmVudCk7XG5cdGlmICh0eXBlb2YgY2FsbGJhY2sgPT0gJ2Z1bmN0aW9uJykgY2FsbGJhY2soKTtcblxuXHRyZXR1cm4gdm5vZGUgPyB2bm9kZS5fY29tcG9uZW50IDogbnVsbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGUodm5vZGUsIHBhcmVudCwgY2FsbGJhY2spIHtcblx0cHJlYWN0SHlkcmF0ZSh2bm9kZSwgcGFyZW50KTtcblx0aWYgKHR5cGVvZiBjYWxsYmFjayA9PSAnZnVuY3Rpb24nKSBjYWxsYmFjaygpO1xuXG5cdHJldHVybiB2bm9kZSA/IHZub2RlLl9jb21wb25lbnQgOiBudWxsO1xufVxuXG5sZXQgb2xkRXZlbnRIb29rID0gb3B0aW9ucy5ldmVudDtcbm9wdGlvbnMuZXZlbnQgPSBlID0+IHtcblx0aWYgKG9sZEV2ZW50SG9vaykgZSA9IG9sZEV2ZW50SG9vayhlKTtcblx0ZS5wZXJzaXN0ID0gZW1wdHk7XG5cdGUuaXNQcm9wYWdhdGlvblN0b3BwZWQgPSBpc1Byb3BhZ2F0aW9uU3RvcHBlZDtcblx0ZS5pc0RlZmF1bHRQcmV2ZW50ZWQgPSBpc0RlZmF1bHRQcmV2ZW50ZWQ7XG5cdHJldHVybiAoZS5uYXRpdmVFdmVudCA9IGUpO1xufTtcblxuZnVuY3Rpb24gZW1wdHkoKSB7fVxuXG5mdW5jdGlvbiBpc1Byb3BhZ2F0aW9uU3RvcHBlZCgpIHtcblx0cmV0dXJuIHRoaXMuY2FuY2VsQnViYmxlO1xufVxuXG5mdW5jdGlvbiBpc0RlZmF1bHRQcmV2ZW50ZWQoKSB7XG5cdHJldHVybiB0aGlzLmRlZmF1bHRQcmV2ZW50ZWQ7XG59XG5cbmxldCBjbGFzc05hbWVEZXNjcmlwdG9yID0ge1xuXHRjb25maWd1cmFibGU6IHRydWUsXG5cdGdldCgpIHtcblx0XHRyZXR1cm4gdGhpcy5jbGFzcztcblx0fVxufTtcblxubGV0IG9sZFZOb2RlSG9vayA9IG9wdGlvbnMudm5vZGU7XG5vcHRpb25zLnZub2RlID0gdm5vZGUgPT4ge1xuXHRsZXQgdHlwZSA9IHZub2RlLnR5cGU7XG5cdGxldCBwcm9wcyA9IHZub2RlLnByb3BzO1xuXHRsZXQgbm9ybWFsaXplZFByb3BzID0gcHJvcHM7XG5cblx0Ly8gb25seSBub3JtYWxpemUgcHJvcHMgb24gRWxlbWVudCBub2Rlc1xuXHRpZiAodHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnKSB7XG5cdFx0Y29uc3Qgbm9uQ3VzdG9tRWxlbWVudCA9IHR5cGUuaW5kZXhPZignLScpID09PSAtMTtcblx0XHRub3JtYWxpemVkUHJvcHMgPSB7fTtcblxuXHRcdGZvciAobGV0IGkgaW4gcHJvcHMpIHtcblx0XHRcdGxldCB2YWx1ZSA9IHByb3BzW2ldO1xuXG5cdFx0XHRpZiAoSVNfRE9NICYmIGkgPT09ICdjaGlsZHJlbicgJiYgdHlwZSA9PT0gJ25vc2NyaXB0Jykge1xuXHRcdFx0XHQvLyBFbXVsYXRlIFJlYWN0J3MgYmVoYXZpb3Igb2Ygbm90IHJlbmRlcmluZyB0aGUgY29udGVudHMgb2Ygbm9zY3JpcHQgdGFncyBvbiB0aGUgY2xpZW50LlxuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH0gZWxzZSBpZiAoaSA9PT0gJ3ZhbHVlJyAmJiAnZGVmYXVsdFZhbHVlJyBpbiBwcm9wcyAmJiB2YWx1ZSA9PSBudWxsKSB7XG5cdFx0XHRcdC8vIFNraXAgYXBwbHlpbmcgdmFsdWUgaWYgaXQgaXMgbnVsbC91bmRlZmluZWQgYW5kIHdlIGFscmVhZHkgc2V0XG5cdFx0XHRcdC8vIGEgZGVmYXVsdCB2YWx1ZVxuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH0gZWxzZSBpZiAoXG5cdFx0XHRcdGkgPT09ICdkZWZhdWx0VmFsdWUnICYmXG5cdFx0XHRcdCd2YWx1ZScgaW4gcHJvcHMgJiZcblx0XHRcdFx0cHJvcHMudmFsdWUgPT0gbnVsbFxuXHRcdFx0KSB7XG5cdFx0XHRcdC8vIGBkZWZhdWx0VmFsdWVgIGlzIHRyZWF0ZWQgYXMgYSBmYWxsYmFjayBgdmFsdWVgIHdoZW4gYSB2YWx1ZSBwcm9wIGlzIHByZXNlbnQgYnV0IG51bGwvdW5kZWZpbmVkLlxuXHRcdFx0XHQvLyBgZGVmYXVsdFZhbHVlYCBmb3IgRWxlbWVudHMgd2l0aCBubyB2YWx1ZSBwcm9wIGlzIHRoZSBzYW1lIGFzIHRoZSBET00gZGVmYXVsdFZhbHVlIHByb3BlcnR5LlxuXHRcdFx0XHRpID0gJ3ZhbHVlJztcblx0XHRcdH0gZWxzZSBpZiAoaSA9PT0gJ2Rvd25sb2FkJyAmJiB2YWx1ZSA9PT0gdHJ1ZSkge1xuXHRcdFx0XHQvLyBDYWxsaW5nIGBzZXRBdHRyaWJ1dGVgIHdpdGggYSB0cnV0aHkgdmFsdWUgd2lsbCBsZWFkIHRvIGl0IGJlaW5nXG5cdFx0XHRcdC8vIHBhc3NlZCBhcyBhIHN0cmluZ2lmaWVkIHZhbHVlLCBlLmcuIGBkb3dubG9hZD1cInRydWVcImAuIFJlYWN0XG5cdFx0XHRcdC8vIGNvbnZlcnRzIGl0IHRvIGFuIGVtcHR5IHN0cmluZyBpbnN0ZWFkLCBvdGhlcndpc2UgdGhlIGF0dHJpYnV0ZVxuXHRcdFx0XHQvLyB2YWx1ZSB3aWxsIGJlIHVzZWQgYXMgdGhlIGZpbGUgbmFtZSBhbmQgdGhlIGZpbGUgd2lsbCBiZSBjYWxsZWRcblx0XHRcdFx0Ly8gXCJ0cnVlXCIgdXBvbiBkb3dubG9hZGluZyBpdC5cblx0XHRcdFx0dmFsdWUgPSAnJztcblx0XHRcdH0gZWxzZSBpZiAoL29uZG91YmxlY2xpY2svaS50ZXN0KGkpKSB7XG5cdFx0XHRcdGkgPSAnb25kYmxjbGljayc7XG5cdFx0XHR9IGVsc2UgaWYgKFxuXHRcdFx0XHQvXm9uY2hhbmdlKHRleHRhcmVhfGlucHV0KS9pLnRlc3QoaSArIHR5cGUpICYmXG5cdFx0XHRcdCFvbkNoYW5nZUlucHV0VHlwZShwcm9wcy50eXBlKVxuXHRcdFx0KSB7XG5cdFx0XHRcdGkgPSAnb25pbnB1dCc7XG5cdFx0XHR9IGVsc2UgaWYgKC9eb25mb2N1cyQvaS50ZXN0KGkpKSB7XG5cdFx0XHRcdGkgPSAnb25mb2N1c2luJztcblx0XHRcdH0gZWxzZSBpZiAoL15vbmJsdXIkL2kudGVzdChpKSkge1xuXHRcdFx0XHRpID0gJ29uZm9jdXNvdXQnO1xuXHRcdFx0fSBlbHNlIGlmICgvXm9uKEFuaXxUcmF8VG91fEJlZm9yZUlucHxDb21wbykvLnRlc3QoaSkpIHtcblx0XHRcdFx0aSA9IGkudG9Mb3dlckNhc2UoKTtcblx0XHRcdH0gZWxzZSBpZiAobm9uQ3VzdG9tRWxlbWVudCAmJiBDQU1FTF9QUk9QUy50ZXN0KGkpKSB7XG5cdFx0XHRcdGkgPSBpLnJlcGxhY2UoL1tBLVowLTldLywgJy0kJicpLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHR9IGVsc2UgaWYgKHZhbHVlID09PSBudWxsKSB7XG5cdFx0XHRcdHZhbHVlID0gdW5kZWZpbmVkO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBBZGQgc3VwcG9ydCBmb3Igb25JbnB1dCBhbmQgb25DaGFuZ2UsIHNlZSAjMzU2MVxuXHRcdFx0Ly8gaWYgd2UgaGF2ZSBhbiBvbmlucHV0IHByb3AgYWxyZWFkeSBjaGFuZ2UgaXQgdG8gb25pbnB1dENhcHR1cmVcblx0XHRcdGlmICgvXm9uaW5wdXQvaS50ZXN0KGkpKSB7XG5cdFx0XHRcdGkgPSBpLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRcdGlmIChub3JtYWxpemVkUHJvcHNbaV0pIHtcblx0XHRcdFx0XHRpID0gJ29uaW5wdXRDYXB0dXJlJztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRub3JtYWxpemVkUHJvcHNbaV0gPSB2YWx1ZTtcblx0XHR9XG5cblx0XHQvLyBBZGQgc3VwcG9ydCBmb3IgYXJyYXkgc2VsZWN0IHZhbHVlczogPHNlbGVjdCBtdWx0aXBsZSB2YWx1ZT17W119IC8+XG5cdFx0aWYgKFxuXHRcdFx0dHlwZSA9PSAnc2VsZWN0JyAmJlxuXHRcdFx0bm9ybWFsaXplZFByb3BzLm11bHRpcGxlICYmXG5cdFx0XHRBcnJheS5pc0FycmF5KG5vcm1hbGl6ZWRQcm9wcy52YWx1ZSlcblx0XHQpIHtcblx0XHRcdC8vIGZvckVhY2goKSBhbHdheXMgcmV0dXJucyB1bmRlZmluZWQsIHdoaWNoIHdlIGFidXNlIGhlcmUgdG8gdW5zZXQgdGhlIHZhbHVlIHByb3AuXG5cdFx0XHRub3JtYWxpemVkUHJvcHMudmFsdWUgPSB0b0NoaWxkQXJyYXkocHJvcHMuY2hpbGRyZW4pLmZvckVhY2goY2hpbGQgPT4ge1xuXHRcdFx0XHRjaGlsZC5wcm9wcy5zZWxlY3RlZCA9XG5cdFx0XHRcdFx0bm9ybWFsaXplZFByb3BzLnZhbHVlLmluZGV4T2YoY2hpbGQucHJvcHMudmFsdWUpICE9IC0xO1xuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0Ly8gQWRkaW5nIHN1cHBvcnQgZm9yIGRlZmF1bHRWYWx1ZSBpbiBzZWxlY3QgdGFnXG5cdFx0aWYgKHR5cGUgPT0gJ3NlbGVjdCcgJiYgbm9ybWFsaXplZFByb3BzLmRlZmF1bHRWYWx1ZSAhPSBudWxsKSB7XG5cdFx0XHRub3JtYWxpemVkUHJvcHMudmFsdWUgPSB0b0NoaWxkQXJyYXkocHJvcHMuY2hpbGRyZW4pLmZvckVhY2goY2hpbGQgPT4ge1xuXHRcdFx0XHRpZiAobm9ybWFsaXplZFByb3BzLm11bHRpcGxlKSB7XG5cdFx0XHRcdFx0Y2hpbGQucHJvcHMuc2VsZWN0ZWQgPVxuXHRcdFx0XHRcdFx0bm9ybWFsaXplZFByb3BzLmRlZmF1bHRWYWx1ZS5pbmRleE9mKGNoaWxkLnByb3BzLnZhbHVlKSAhPSAtMTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRjaGlsZC5wcm9wcy5zZWxlY3RlZCA9XG5cdFx0XHRcdFx0XHRub3JtYWxpemVkUHJvcHMuZGVmYXVsdFZhbHVlID09IGNoaWxkLnByb3BzLnZhbHVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHR2bm9kZS5wcm9wcyA9IG5vcm1hbGl6ZWRQcm9wcztcblxuXHRcdGlmIChwcm9wcy5jbGFzcyAhPSBwcm9wcy5jbGFzc05hbWUpIHtcblx0XHRcdGNsYXNzTmFtZURlc2NyaXB0b3IuZW51bWVyYWJsZSA9ICdjbGFzc05hbWUnIGluIHByb3BzO1xuXHRcdFx0aWYgKHByb3BzLmNsYXNzTmFtZSAhPSBudWxsKSBub3JtYWxpemVkUHJvcHMuY2xhc3MgPSBwcm9wcy5jbGFzc05hbWU7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobm9ybWFsaXplZFByb3BzLCAnY2xhc3NOYW1lJywgY2xhc3NOYW1lRGVzY3JpcHRvcik7XG5cdFx0fVxuXHR9XG5cblx0dm5vZGUuJCR0eXBlb2YgPSBSRUFDVF9FTEVNRU5UX1RZUEU7XG5cblx0aWYgKG9sZFZOb2RlSG9vaykgb2xkVk5vZGVIb29rKHZub2RlKTtcbn07XG5cbi8vIE9ubHkgbmVlZGVkIGZvciByZWFjdC1yZWxheVxubGV0IGN1cnJlbnRDb21wb25lbnQ7XG5jb25zdCBvbGRCZWZvcmVSZW5kZXIgPSBvcHRpb25zLl9yZW5kZXI7XG5vcHRpb25zLl9yZW5kZXIgPSBmdW5jdGlvbih2bm9kZSkge1xuXHRpZiAob2xkQmVmb3JlUmVuZGVyKSB7XG5cdFx0b2xkQmVmb3JlUmVuZGVyKHZub2RlKTtcblx0fVxuXHRjdXJyZW50Q29tcG9uZW50ID0gdm5vZGUuX2NvbXBvbmVudDtcbn07XG5cbi8vIFRoaXMgaXMgYSB2ZXJ5IHZlcnkgcHJpdmF0ZSBpbnRlcm5hbCBmdW5jdGlvbiBmb3IgUmVhY3QgaXRcbi8vIGlzIHVzZWQgdG8gc29ydC1vZiBkbyBydW50aW1lIGRlcGVuZGVuY3kgaW5qZWN0aW9uLiBTbyBmYXJcbi8vIG9ubHkgYHJlYWN0LXJlbGF5YCBtYWtlcyB1c2Ugb2YgaXQuIEl0IHVzZXMgaXQgdG8gcmVhZCB0aGVcbi8vIGNvbnRleHQgdmFsdWUuXG5leHBvcnQgY29uc3QgX19TRUNSRVRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfWU9VX1dJTExfQkVfRklSRUQgPSB7XG5cdFJlYWN0Q3VycmVudERpc3BhdGNoZXI6IHtcblx0XHRjdXJyZW50OiB7XG5cdFx0XHRyZWFkQ29udGV4dChjb250ZXh0KSB7XG5cdFx0XHRcdHJldHVybiBjdXJyZW50Q29tcG9uZW50Ll9nbG9iYWxDb250ZXh0W2NvbnRleHQuX2lkXS5wcm9wcy52YWx1ZTtcblx0XHRcdH1cblx0XHR9XG5cdH1cbn07XG4iLCJmdW5jdGlvbiB0b1ZhbChtaXgpIHtcblx0dmFyIGssIHksIHN0cj0nJztcblxuXHRpZiAodHlwZW9mIG1peCA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIG1peCA9PT0gJ251bWJlcicpIHtcblx0XHRzdHIgKz0gbWl4O1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBtaXggPT09ICdvYmplY3QnKSB7XG5cdFx0aWYgKEFycmF5LmlzQXJyYXkobWl4KSkge1xuXHRcdFx0Zm9yIChrPTA7IGsgPCBtaXgubGVuZ3RoOyBrKyspIHtcblx0XHRcdFx0aWYgKG1peFtrXSkge1xuXHRcdFx0XHRcdGlmICh5ID0gdG9WYWwobWl4W2tdKSkge1xuXHRcdFx0XHRcdFx0c3RyICYmIChzdHIgKz0gJyAnKTtcblx0XHRcdFx0XHRcdHN0ciArPSB5O1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRmb3IgKGsgaW4gbWl4KSB7XG5cdFx0XHRcdGlmIChtaXhba10pIHtcblx0XHRcdFx0XHRzdHIgJiYgKHN0ciArPSAnICcpO1xuXHRcdFx0XHRcdHN0ciArPSBrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHN0cjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuXHR2YXIgaT0wLCB0bXAsIHgsIHN0cj0nJztcblx0d2hpbGUgKGkgPCBhcmd1bWVudHMubGVuZ3RoKSB7XG5cdFx0aWYgKHRtcCA9IGFyZ3VtZW50c1tpKytdKSB7XG5cdFx0XHRpZiAoeCA9IHRvVmFsKHRtcCkpIHtcblx0XHRcdFx0c3RyICYmIChzdHIgKz0gJyAnKTtcblx0XHRcdFx0c3RyICs9IHhcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0cmV0dXJuIHN0cjtcbn1cbiIsImltcG9ydCBjbHN4IGZyb20gXCJjbHN4XCI7XHJcbmltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gXCJwcmVhY3QvaG9va3NcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXREb2N1bWVudChlbGVtZW50PzogTm9kZSkgeyByZXR1cm4gKGVsZW1lbnQ/Lm93bmVyRG9jdW1lbnQgPz8gZG9jdW1lbnQgPz8gd2luZG93LmRvY3VtZW50ID8/IGdsb2JhbFRoaXMuZG9jdW1lbnQpOyB9XHJcblxyXG50eXBlIFAgPSBQYXJhbWV0ZXJzPHR5cGVvZiBjbHN4PjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB1c2VEb2N1bWVudENsYXNzKGNsYXNzTmFtZTogUFswXSwgYWN0aXZlPzogYm9vbGVhbiwgZWxlbWVudD86IEhUTUxFbGVtZW50KSB7XHJcbiAgICBlbGVtZW50ID8/PSBnZXREb2N1bWVudCgpLmRvY3VtZW50RWxlbWVudDtcclxuICAgIGNsYXNzTmFtZSA9IGNsc3goY2xhc3NOYW1lKTtcclxuXHJcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIGlmIChlbGVtZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChhY3RpdmUgIT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lIGFzIHN0cmluZyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKCkgPT4gZWxlbWVudCEuY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUgYXMgc3RyaW5nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9LCBbY2xhc3NOYW1lLCBhY3RpdmUsIGVsZW1lbnRdKTtcclxuXHJcbn1cclxuIiwiaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZUxheW91dEVmZmVjdCwgdXNlUmVkdWNlciwgdXNlUmVmIH0gZnJvbSBcInByZWFjdC9ob29rc1wiO1xyXG5cclxuXHJcbmV4cG9ydCB0eXBlIFBhc3NpdmVTdGF0ZVVwZGF0ZXI8Uz4gPSAodmFsdWU6IFMgfCAoKHByZXZTdGF0ZTogUyB8IHVuZGVmaW5lZCkgPT4gUykpID0+IHZvaWQ7XHJcbmV4cG9ydCB0eXBlIE9uUGFzc2l2ZVN0YXRlQ2hhbmdlPFQ+ID0gKCh2YWx1ZTogVCwgcHJldlZhbHVlOiBUIHwgdW5kZWZpbmVkKSA9PiAodm9pZCB8ICgoKSA9PiB2b2lkKSkpO1xyXG5cclxuLyoqXHJcbiAqIERlYnVnIGhvb2suXHJcbiAqIFxyXG4gKiBHaXZlbiBhIHZhbHVlIG9yIHNldCBvZiB2YWx1ZXMsIGVtaXRzIGEgY29uc29sZSBlcnJvciBpZiBhbnkgb2YgdGhlbSBjaGFuZ2UgZnJvbSBvbmUgcmVuZGVyIHRvIHRoZSBuZXh0LlxyXG4gKiBcclxuICogRXZlbnR1YWxseSwgd2hlbiB1c2VFdmVudCBsYW5kcywgd2UgaG9wZWZ1bGx5IHdvbid0IG5lZWQgdGhpcy5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiB1c2VFbnN1cmVTdGFiaWxpdHk8VCBleHRlbmRzIGFueVtdPihwYXJlbnRIb29rTmFtZTogc3RyaW5nLCAuLi52YWx1ZXM6IFQpIHtcclxuICAgIHVzZUhlbHBlcih2YWx1ZXMubGVuZ3RoLCAwKTtcclxuICAgIHZhbHVlcy5mb3JFYWNoKHVzZUhlbHBlcik7XHJcbiAgICByZXR1cm47XHJcblxyXG5cclxuICAgIGZ1bmN0aW9uIHVzZUhlbHBlcjxVPih2YWx1ZTogVSwgaW5kZXg6IG51bWJlcikge1xyXG5cclxuICAgICAgICAvLyBNYWtlIHN1cmUgdGhhdCB0aGUgcHJvdmlkZWQgZnVuY3Rpb25zIGFyZSBwZXJmZWN0bHkgc3RhYmxlIGFjcm9zcyByZW5kZXJzXHJcbiAgICAgICAgY29uc3QgaGVscGVyVG9FbnN1cmVTdGFiaWxpdHkgPSB1c2VSZWYodmFsdWUpO1xyXG4gICAgICAgIGNvbnN0IHNob3duRXJyb3IgPSB1c2VSZWYoZmFsc2UpO1xyXG4gICAgICAgIGlmIChoZWxwZXJUb0Vuc3VyZVN0YWJpbGl0eS5jdXJyZW50ICE9IHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGlmICghc2hvd25FcnJvci5jdXJyZW50KSB7XHJcbiAgICAgICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1kZWJ1Z2dlciAqL1xyXG4gICAgICAgICAgICAgICAgZGVidWdnZXI7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBUaGUgaG9vayAke3BhcmVudEhvb2tOYW1lfSByZXF1aXJlcyBzb21lIG9yIGFsbCBvZiBpdHMgYXJndW1lbnRzIHJlbWFpbiBzdGFibGUgYWNyb3NzIGVhY2ggcmVuZGVyOyBwbGVhc2UgY2hlY2sgdGhlICR7aW5kZXh9LWluZGV4ZWQgYXJndW1lbnQuYCk7XHJcbiAgICAgICAgICAgICAgICBzaG93bkVycm9yLmN1cnJlbnQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHVzZVBhc3NpdmVTdGF0ZTI8VD4ob25DaGFuZ2U6IHVuZGVmaW5lZCB8IG51bGwgfCBPblBhc3NpdmVTdGF0ZUNoYW5nZTxUPiwgZ2V0SW5pdGlhbDogKCkgPT4gVCk6IFsoKSA9PiBULCBQYXNzaXZlU3RhdGVVcGRhdGVyPFQ+XSB7XHJcbiAgICB0eXBlIFN0YXRlVHlwZSA9IHsgdmFsdWU6IFQgfCB0eXBlb2YgVW5zZXQgfVxyXG4gICAgXHJcbiAgICBjb25zdCB3YXJuaW5nUmVmID0gdXNlUmVmKGZhbHNlKTtcclxuICAgIGNvbnN0IGNsZWFudXBDYWxsYmFja1JlZiA9IHVzZVJlZjx2b2lkIHwgdW5kZWZpbmVkIHwgKCgpID0+IHZvaWQpPih1bmRlZmluZWQpO1xyXG5cclxuICAgIGNvbnN0IFtzdG9yZWQsIHNldFN0b3JlZF0gPSB1c2VSZWR1Y2VyPFN0YXRlVHlwZSwgVD4oKHByZXYsIGFjdGlvbikgPT4ge1xyXG4gICAgICAgIGlmIChwcmV2LnZhbHVlICE9PSBhY3Rpb24pIHtcclxuICAgICAgICAgICAgd2FybmluZ1JlZi5jdXJyZW50ID0gdHJ1ZTtcclxuICAgICAgICAgICAgaWYgKGNsZWFudXBDYWxsYmFja1JlZi5jdXJyZW50KSBcclxuICAgICAgICAgICAgICAgIGNsZWFudXBDYWxsYmFja1JlZi5jdXJyZW50KCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBjbGVhbnVwQ2FsbGJhY2tSZWYuY3VycmVudCA9IG9uQ2hhbmdlPy4oYWN0aW9uLCBwcmV2LnZhbHVlID09PSBVbnNldD8gZ2V0SW5pdGlhbCgpIDogcHJldi52YWx1ZSk7XHJcbiAgICAgICAgICAgIHdhcm5pbmdSZWYuY3VycmVudCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBwcmV2LnZhbHVlID0gYWN0aW9uO1xyXG4gICAgICAgIHJldHVybiBwcmV2O1xyXG4gICAgfSwgeyB2YWx1ZTogVW5zZXQgfSk7XHJcblxyXG4gICAgY29uc3QgZ2V0U3RhdGUgPSB1c2VDYWxsYmFjaygoKTogVCA9PiB7IFxyXG4gICAgICAgIGlmICh3YXJuaW5nUmVmLmN1cnJlbnQpXHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkR1cmluZyBvbkNoYW5nZSwgcHJlZmVyIHVzaW5nIHRoZSAodmFsdWUsIHByZXZWYWx1ZSkgYXJndW1lbnRzIGluc3RlYWQgb2YgZ2V0VmFsdWUgLS0gaXQncyBhbWJpZ3VvdXMgYXMgdG8gaWYgeW91J3JlIGFza2luZyBmb3IgdGhlIG9sZCBvciBuZXcgdmFsdWUgYXQgdGhpcyBwb2ludCBpbiB0aW1lIGZvciB0aGlzIGNvbXBvbmVudC5cIik7XHJcblxyXG4gICAgICAgIHJldHVybiBzdG9yZWQudmFsdWUgPT09IFVuc2V0PyBnZXRJbml0aWFsKCkgOiBzdG9yZWQudmFsdWU7XHJcbiAgICAgfSwgW10pO1xyXG5cclxuICAgIGNvbnN0IHNldFN0YXRlID0gdXNlQ2FsbGJhY2s8UGFzc2l2ZVN0YXRlVXBkYXRlcjxUPj4oKG5leHRWYWx1ZUdldHRlcikgPT4ge1xyXG4gICAgICAgIGxldCBuZXh0VmFsdWU6IFQ7XHJcbiAgICAgICAgaWYgKG5leHRWYWx1ZUdldHRlciBpbnN0YW5jZW9mIEZ1bmN0aW9uKVxyXG4gICAgICAgICAgICBuZXh0VmFsdWVHZXR0ZXIoZ2V0U3RhdGUoKSk7XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICBuZXh0VmFsdWUgPSBuZXh0VmFsdWVHZXR0ZXI7XHJcblxyXG4gICAgICAgIHNldFN0b3JlZChuZXh0VmFsdWUhKTtcclxuXHJcbiAgICB9LCBbXSk7XHJcblxyXG4gICAgcmV0dXJuIFtnZXRTdGF0ZSwgc2V0U3RhdGVdO1xyXG59XHJcblxyXG4vKipcclxuICogU2ltaWxhciB0byBgdXNlU3RhdGVgLCBidXQgZm9yIHZhbHVlcyB0aGF0IGFyZW4ndCBcInJlbmRlci1pbXBvcnRhbnRcIiAmbmRhc2g7IHVwZGF0ZXMgZG9uJ3QgY2F1c2UgYSByZS1yZW5kZXIgYW5kIHNvIHRoZSB2YWx1ZSBzaG91bGRuJ3QgYmUgdXNlZCBkdXJpbmcgcmVuZGVyICh0aG91Z2ggaXQgY2VydGFpbmx5IGNhbiwgYXQgbGVhc3QgYnkgcmUtcmVuZGVyaW5nIGFnYWluKS5cclxuICogXHJcbiAqIFRvIGNvbXBlbnNhdGUgZm9yIHRoaXMsIHlvdSBzaG91bGQgcGFzcyBhIGB1c2VFZmZlY3RgLWVzcXVlIGNhbGxiYWNrIHRoYXQgaXMgcnVuIHdoZW5ldmVyIHRoZSB2YWx1ZSBjaGFuZ2VzLiAgSnVzdCBsaWtlIGB1c2VFZmZlY3RgLCB0aGlzIGNhbGxiYWNrIGNhbiByZXR1cm4gYSBjbGVhbnVwIGZ1bmN0aW9uIHRoYXQncyBydW4gYmVmb3JlIHRoZSB2YWx1ZSBjaGFuZ2VzLiAgSWYgeW91IHdvdWxkIGxpa2UgdG8gcmUtcmVuZGVyIHdoZW4gdGhlIHZhbHVlIGNoYW5nZXMgKG9yLCBzYXksIHdoZW4gdGhlIHZhbHVlIG1lZXRzIHNvbWUgY3JpdGVyaWEpLCB0aGlzIGlzIHdoZXJlIHlvdSdsbCB3YW50IHRvIHB1dCBpbiBhIGNhbGwgdG8gYSBgc2V0U3RhdGVgIGZ1bmN0aW9uLlxyXG4gKiBcclxuICogVG8gc3VtbWFyaXplLCBpdCdzIGxpa2UgYSBgdXNlU3RhdGVgLWB1c2VFZmZlY3RgIG1hc2h1cDpcclxuICogXHJcbiAqIDEuIEl0J3MgbGlrZSBgdXNlU3RhdGVgLCBleGNlcHQgdGhpcyB2ZXJzaW9uIG9mIGBzZXRTdGF0ZWAgZG9lc24ndCByZS1yZW5kZXIgdGhlIHdob2xlIGNvbXBvbmVudFxyXG4gKiAyLiBJdCdzIGxpa2UgYHVzZVN0YXRlYCwgZXhjZXB0IHlvdSBjYW4gcnVuIGEgZnVuY3Rpb24gd2hlbiB0aGUgdmFsdWUgY2hhbmdlcyB0aGF0IG9wdGlvbmFsbHkgcmV0dXJucyBhIGNsZWFudXAgZnVuY3Rpb25cclxuICogMy4gSXQncyBsaWtlIGB1c2VFZmZlY3RgLCBleGNlcHQgeW91IHRyaWdnZXIgdGhlIGVmZmVjdCBmdW5jdGlvbiBcInJlbW90ZWx5XCIgaW5zdGVhZCBvZiBpdCBydW5uaW5nIGFmdGVyIHJlbmRlcmluZ1xyXG4gKiA0LiBJdCdzIGxpa2UgYHVzZUVmZmVjdGAsIGV4Y2VwdCB0aGUgc2luZ2xlIFwiZGVwZW5kZW5jeVwiIGlzIGJhc2VkIG9uIHlvdXIgY2FsbHMgdG8gYHNldFN0YXRlYFxyXG4gKiBcclxuICogTm90ZSB0aGF0IHdoaWxlIGNhbGxpbmcgYHNldFN0YXRlYCBkb2Vzbid0IGNhdXNlIGFueSByZS1yZW5kZXJzLCB5b3UgY2FuIGRvIHRoYXQgd2l0aGluIHlvdXIgYG9uQ2hhbmdlYCBmdW5jdGlvbiwgY2FsbGVkIHdoZW5ldmVyIHRoZSB2YWx1ZSBjaGFuZ2VzIHZpYSB0aGF0IGBzZXRTdGF0ZWAuXHJcbiAqIFxyXG4gKiBAcGFyYW0gb25DaGFuZ2UgVGhlIFwiZWZmZWN0XCIgZnVuY3Rpb24gdG8gcnVuIHdoZW4gdGhlIHZhbHVlIGNoYW5nZXMuIEVmZmVjdGl2ZWx5IHRoZSBzYW1lIGFzIGB1c2VFZmZlY3RgJ3MgXCJlZmZlY3RcIiBmdW5jdGlvbi4gIE1VU1QgQkUgU1RBQkxFLCBlaXRoZXIgYmVjYXVzZSBpdCBoYXMgbm8gZGVwZW5kZW5jaWVzLCBvciBiZWNhdXNlIGl0J3MgZnJvbSB1c2VTdGFibGVDYWxsYmFjaywgYnV0IHRoaXMgd2lsbCBtZWFuIHlvdSBjYW5ub3QgdXNlIGdldFN0YXRlIG9yIHNldFN0YXRlIGR1cmluZyByZW5kZXIuXHJcbiAqIEBwYXJhbSBnZXRJbml0aWFsVmFsdWUgSWYgcHJvdmlkZWQsIHRoZSBlZmZlY3Qgd2lsbCBiZSBpbnZva2VkIG9uY2Ugd2l0aCB0aGlzIHZhbHVlIG9uIG1vdW50LiBNVVNUIEJFIFNUQUJMRSwgZWl0aGVyIGJlY2F1c2UgaXQgaGFzIG5vIGRlcGVuZGVuY2llcywgb3IgYmVjYXVzZSBpdCdzIGZyb20gdXNlU3RhYmxlQ2FsbGJhY2ssIGJ1dCB0aGlzIHdpbGwgbWVhbiB5b3UgY2Fubm90IHVzZSBnZXRTdGF0ZSBvciBzZXRTdGF0ZSBkdXJpbmcgcmVuZGVyLlxyXG4gKiBAcmV0dXJucyBcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiB1c2VQYXNzaXZlU3RhdGU8VD4ob25DaGFuZ2U6IHVuZGVmaW5lZCB8IG51bGwgfCBPblBhc3NpdmVTdGF0ZUNoYW5nZTxUPiwgZ2V0SW5pdGlhbFZhbHVlPzogKCkgPT4gVCk6IHJlYWRvbmx5IFsoKSA9PiBULCBQYXNzaXZlU3RhdGVVcGRhdGVyPFQ+XSB7XHJcblxyXG4gICAgY29uc3QgdmFsdWVSZWYgPSB1c2VSZWY8VCB8IHR5cGVvZiBVbnNldD4oVW5zZXQpO1xyXG4gICAgY29uc3Qgd2FybmluZ1JlZiA9IHVzZVJlZihmYWxzZSk7XHJcbiAgICBjb25zdCBjbGVhbnVwQ2FsbGJhY2tSZWYgPSB1c2VSZWY8dW5kZWZpbmVkIHwgKCgpID0+IHZvaWQpPih1bmRlZmluZWQpO1xyXG5cclxuICAgIC8vIE1ha2Ugc3VyZSB0aGF0IHRoZSBwcm92aWRlZCBmdW5jdGlvbnMgYXJlIHBlcmZlY3RseSBzdGFibGUgYWNyb3NzIHJlbmRlcnNcclxuICAgIHVzZUVuc3VyZVN0YWJpbGl0eShcInVzZVBhc3NpdmVTdGF0ZVwiLCBvbkNoYW5nZSwgZ2V0SW5pdGlhbFZhbHVlKTtcclxuXHJcbiAgICAvLyBTaGFyZWQgYmV0d2VlbiBcImRlcGVuZGVuY3kgY2hhbmdlZFwiIGFuZCBcImNvbXBvbmVudCB1bm1vdW50ZWRcIi5cclxuICAgIGNvbnN0IG9uU2hvdWxkQ2xlYW5VcCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgICAgICBjb25zdCBjbGVhbnVwQ2FsbGJhY2sgPSBjbGVhbnVwQ2FsbGJhY2tSZWYuY3VycmVudDtcclxuICAgICAgICBpZiAoY2xlYW51cENhbGxiYWNrKVxyXG4gICAgICAgICAgICBjbGVhbnVwQ2FsbGJhY2soKTtcclxuICAgIH0sIFtdKTtcclxuXHJcbiAgICAvLyBUaGVyZSBhcmUgYSBjb3VwbGUgcGxhY2VzIHdoZXJlIHdlJ2QgbGlrZSB0byB1c2Ugb3VyIGluaXRpYWxcclxuICAgIC8vIHZhbHVlIGluIHBsYWNlIG9mIGhhdmluZyBubyB2YWx1ZSBhdCBhbGwgeWV0LlxyXG4gICAgLy8gVGhpcyBpcyB0aGUgc2hhcmVkIGNvZGUgZm9yIHRoYXQsIHVzZWQgb24gbW91bnQgYW5kIHdoZW5ldmVyXHJcbiAgICAvLyBnZXRWYWx1ZSBpcyBjYWxsZWQuXHJcbiAgICBjb25zdCB0cnlFbnN1cmVWYWx1ZSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgICAgICBpZiAodmFsdWVSZWYuY3VycmVudCA9PT0gVW5zZXQgJiYgZ2V0SW5pdGlhbFZhbHVlICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaW5pdGlhbFZhbHVlID0gZ2V0SW5pdGlhbFZhbHVlKCk7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZVJlZi5jdXJyZW50ID0gaW5pdGlhbFZhbHVlO1xyXG4gICAgICAgICAgICAgICAgY2xlYW51cENhbGxiYWNrUmVmLmN1cnJlbnQgPSAob25DaGFuZ2U/Lihpbml0aWFsVmFsdWUsIHVuZGVmaW5lZCkgPz8gdW5kZWZpbmVkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZXgpIHtcclxuICAgICAgICAgICAgICAgIC8vIEV4Y2VwdGlvbnMgYXJlIGludGVudGlvbmFsIHRvIGFsbG93IGJhaWxvdXQgKHdpdGhvdXQgZXhwb3NpbmcgdGhlIFVuc2V0IHN5bWJvbClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sIFsvKiBnZXRJbml0aWFsVmFsdWUgYW5kIG9uQ2hhbmdlIGludGVudGlvbmFsbHkgb21pdHRlZCAqL10pO1xyXG5cclxuXHJcbiAgICBjb25zdCBnZXRWYWx1ZSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgICAgICBpZiAod2FybmluZ1JlZi5jdXJyZW50KVxyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJEdXJpbmcgb25DaGFuZ2UsIHByZWZlciB1c2luZyB0aGUgKHZhbHVlLCBwcmV2VmFsdWUpIGFyZ3VtZW50cyBpbnN0ZWFkIG9mIGdldFZhbHVlIC0tIGl0J3MgYW1iaWd1b3VzIGFzIHRvIGlmIHlvdSdyZSBhc2tpbmcgZm9yIHRoZSBvbGQgb3IgbmV3IHZhbHVlIGF0IHRoaXMgcG9pbnQgaW4gdGltZSBmb3IgdGhpcyBjb21wb25lbnQuXCIpO1xyXG5cclxuICAgICAgICAvLyBUaGUgZmlyc3QgdGltZSB3ZSBjYWxsIGdldFZhbHVlLCBpZiB3ZSBoYXZlbid0IGJlZW4gZ2l2ZW4gYSB2YWx1ZSB5ZXQsXHJcbiAgICAgICAgLy8gKGFuZCB3ZSB3ZXJlIGdpdmVuIGFuIGluaXRpYWwgdmFsdWUgdG8gdXNlKVxyXG4gICAgICAgIC8vIHJldHVybiB0aGUgaW5pdGlhbCB2YWx1ZSBpbnN0ZWFkIG9mIG5vdGhpbmcuXHJcbiAgICAgICAgaWYgKHZhbHVlUmVmLmN1cnJlbnQgPT09IFVuc2V0KVxyXG4gICAgICAgICAgICB0cnlFbnN1cmVWYWx1ZSgpO1xyXG5cclxuICAgICAgICByZXR1cm4gKHZhbHVlUmVmLmN1cnJlbnQgPT09IFVuc2V0ID8gdW5kZWZpbmVkISA6IHZhbHVlUmVmLmN1cnJlbnQhKSBhcyBUO1xyXG4gICAgfSwgW10pO1xyXG5cclxuICAgIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgLy8gTWFrZSBzdXJlIHdlJ3ZlIHJ1biBvdXIgZWZmZWN0IGF0IGxlYXN0IG9uY2Ugb24gbW91bnQuXHJcbiAgICAgICAgLy8gKElmIHdlIGhhdmUgYW4gaW5pdGlhbCB2YWx1ZSwgb2YgY291cnNlKVxyXG4gICAgICAgIHRyeUVuc3VyZVZhbHVlKCk7XHJcblxyXG5cclxuICAgIH0sIFtdKTtcclxuXHJcbiAgICAvLyBUaGUgYWN0dWFsIGNvZGUgdGhlIHVzZXIgY2FsbHMgdG8gKHBvc3NpYmx5KSBydW4gYSBuZXcgZWZmZWN0LlxyXG4gICAgY29uc3Qgc2V0VmFsdWUgPSB1c2VDYWxsYmFjazxQYXNzaXZlU3RhdGVVcGRhdGVyPFQ+PigoYXJnKSA9PiB7XHJcbiAgICAgICAgY29uc3QgcHJldkRlcCA9IHZhbHVlUmVmLmN1cnJlbnQgPT09IFVuc2V0ID8gdW5kZWZpbmVkIDogZ2V0VmFsdWUoKTtcclxuICAgICAgICBjb25zdCBkZXAgPSBhcmcgaW5zdGFuY2VvZiBGdW5jdGlvbiA/IGFyZyhwcmV2RGVwISkgOiBhcmc7XHJcblxyXG4gICAgICAgIGlmIChkZXAgIT09IHZhbHVlUmVmLmN1cnJlbnQpIHtcclxuXHJcbiAgICAgICAgICAgIC8vIEluZGljYXRlIHRvIHRoZSB1c2VyIHRoYXQgdGhleSBzaG91bGRuJ3QgY2FsbCBnZXRWYWx1ZSBkdXJpbmcgb25DaGFuZ2VcclxuICAgICAgICAgICAgd2FybmluZ1JlZi5jdXJyZW50ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIC8vIENhbGwgYW55IHJlZ2lzdGVyZCBjbGVhbnVwIGZ1bmN0aW9uXHJcbiAgICAgICAgICAgIG9uU2hvdWxkQ2xlYW5VcCgpO1xyXG4gICAgICAgICAgICBjbGVhbnVwQ2FsbGJhY2tSZWYuY3VycmVudCA9IChvbkNoYW5nZT8uKGRlcCwgcHJldkRlcCkgPz8gdW5kZWZpbmVkKTtcclxuICAgICAgICAgICAgdmFsdWVSZWYuY3VycmVudCA9IGRlcDtcclxuXHJcbiAgICAgICAgICAgIC8vIEFsbG93IHRoZSB1c2VyIHRvIG5vcm1hbGx5IGNhbGwgZ2V0VmFsdWUgYWdhaW5cclxuICAgICAgICAgICAgd2FybmluZ1JlZi5jdXJyZW50ID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfSwgW10pO1xyXG5cclxuICAgIHJldHVybiBbZ2V0VmFsdWUsIHNldFZhbHVlXSBhcyBjb25zdDtcclxufVxyXG5cclxuY29uc3QgVW5zZXQgPSBTeW1ib2woKTtcclxuXHJcbi8vIEVhc3kgY29uc3RhbnRzIGZvciBnZXRJbml0aWFsVmFsdWVcclxuZXhwb3J0IGZ1bmN0aW9uIHJldHVyblRydWUoKSB7IHJldHVybiB0cnVlOyB9XHJcbmV4cG9ydCBmdW5jdGlvbiByZXR1cm5GYWxzZSgpIHsgcmV0dXJuIGZhbHNlOyB9XHJcbmV4cG9ydCBmdW5jdGlvbiByZXR1cm5OdWxsKCkgeyByZXR1cm4gbnVsbDsgfVxyXG5leHBvcnQgZnVuY3Rpb24gcmV0dXJuVW5kZWZpbmVkKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9XHJcbmV4cG9ydCBmdW5jdGlvbiByZXR1cm5aZXJvKCkgeyByZXR1cm4gMDsgfSIsImltcG9ydCB7IENvbXBvbmVudENoaWxkcmVuLCBjcmVhdGVFbGVtZW50LCBGcmFnbWVudCwgaCB9IGZyb20gXCJwcmVhY3RcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB1c2VNZXJnZWRDaGlsZHJlbjxMaHMgZXh0ZW5kcyBQaWNrPGguSlNYLkhUTUxBdHRyaWJ1dGVzPEV2ZW50VGFyZ2V0PiwgXCJjaGlsZHJlblwiPiB8IG51bGwgfCB1bmRlZmluZWQsIFJocyBleHRlbmRzIFBpY2s8aC5KU1guSFRNTEF0dHJpYnV0ZXM8RXZlbnRUYXJnZXQ+LCBcImNoaWxkcmVuXCI+IHwgbnVsbCB8IHVuZGVmaW5lZD4obGhzUHJvcHM6IExocywgcmhzUHJvcHM6IFJocyk6IENvbXBvbmVudENoaWxkcmVuIHtcclxuXHJcbiAgICBjb25zdCBsaHMgPSBsaHNQcm9wcz8uY2hpbGRyZW47XHJcbiAgICBjb25zdCByaHMgPSByaHNQcm9wcz8uY2hpbGRyZW47XHJcbiAgICBpZiAobGhzID09IG51bGwgJiYgcmhzID09IG51bGwpIHtcclxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAobGhzID09IG51bGwpIHtcclxuICAgICAgICByZXR1cm4gcmhzO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAocmhzID09IG51bGwpIHtcclxuICAgICAgICByZXR1cm4gbGhzO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgY29uc3QgcmV0ID0gY3JlYXRlRWxlbWVudChGcmFnbWVudCwge30sIGxocywgcmhzKTtcclxuICAgICAgICByZXR1cm4gcmV0O1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IGRlZmF1bHQgYXMgY2xzeCB9IGZyb20gXCJjbHN4XCI7XHJcbmltcG9ydCB7IGggfSBmcm9tIFwicHJlYWN0XCI7XHJcblxyXG4vKipcclxuICogR2l2ZW4gdHdvIHNldHMgb2YgcHJvcHMsIG1lcmdlcyB0aGVpciBgY2xhc3NgIGFuZCBgY2xhc3NOYW1lYCBwcm9wZXJ0aWVzLlxyXG4gKiBEdXBsaWNhdGUgY2xhc3NlcyBhcmUgcmVtb3ZlZCAob3JkZXIgZG9lc24ndCBtYXR0ZXIgYW55d2F5KS5cclxuICogXHJcbiAqIEBwYXJhbSBsaHMgQ2xhc3NlcyBvZiB0aGUgZmlyc3QgY29tcG9uZW50XHJcbiAqIEBwYXJhbSByaHMgQ2xhc3NlcyBvZiB0aGUgc2Vjb25kIGNvbXBvbmVudFxyXG4gKiBAcmV0dXJucyBBIHN0cmluZyByZXByZXNlbnRpbmcgYWxsIGNvbWJpbmVkIGNsYXNzZXMgZnJvbSBib3RoIGFyZ3VtZW50cy5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiB1c2VNZXJnZWRDbGFzc2VzPExocyBleHRlbmRzIE1lcmdlQ2xhc3Nlc1Byb3BzIHwgbnVsbCB8IHVuZGVmaW5lZCwgUmhzIGV4dGVuZHMgTWVyZ2VDbGFzc2VzUHJvcHMgfCBudWxsIHwgdW5kZWZpbmVkPihsaHM6IExocywgcmhzOiBSaHMpOiBNZXJnZWRDbGFzc2VzPExocywgUmhzPiB7XHJcblxyXG4gICAgLy8gTm90ZTogRm9yIHRoZSBzYWtlIG9mIGZvcndhcmQgY29tcGF0aWJpbGl0eSwgdGhpcyBmdW5jdGlvbiBpcyBsYWJlbGxlZCBhc1xyXG4gICAgLy8gYSBob29rLCBidXQgYXMgaXQgdXNlcyBubyBvdGhlciBob29rcyBpdCB0ZWNobmljYWxseSBpc24ndCBvbmUuXHJcbiAgICByZXR1cm4gbWVyZ2VDbGFzc2VzKGxocywgcmhzKTtcclxufVxyXG5cclxuZXhwb3J0IHR5cGUgTWVyZ2VkQ2xhc3NlczxMaHMgZXh0ZW5kcyBQaWNrPGguSlNYLkhUTUxBdHRyaWJ1dGVzPGFueT4sIFwiY2xhc3NcIiB8IFwiY2xhc3NOYW1lXCI+IHwgbnVsbCB8IHVuZGVmaW5lZCwgUmhzIGV4dGVuZHMgUGljazxoLkpTWC5IVE1MQXR0cmlidXRlczxhbnk+LCBcImNsYXNzXCIgfCBcImNsYXNzTmFtZVwiPiB8IG51bGwgfCB1bmRlZmluZWQ+ID1cclxuICAgIE5vbk51bGxhYmxlPEdldEJvdGhDbGFzc2VzPExocz4+IGV4dGVuZHMgbmV2ZXIgP1xyXG4gICAgTm9uTnVsbGFibGU8R2V0Qm90aENsYXNzZXM8UmhzPj4gZXh0ZW5kcyBuZXZlciA/XHJcbiAgICB1bmRlZmluZWQgfCBzdHJpbmcgOiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJvdGggYXJlIG9ubHkgbnVsbFxyXG4gICAgTm9uTnVsbGFibGU8R2V0Qm90aENsYXNzZXM8UmhzPj4gOiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJocyBjb250YWlucyBhIHZhbHVlLCBsaHMgaXMgb25seSBudWxsXHJcbiAgICBOb25OdWxsYWJsZTxHZXRCb3RoQ2xhc3NlczxSaHM+PiBleHRlbmRzIG5ldmVyID8gTm9uTnVsbGFibGU8R2V0Qm90aENsYXNzZXM8TGhzPj4gOiAgICAvLyBMaHMgY29udGFpbnMgYSB2YWx1ZSwgcmhzIGlzIG9ubHkgbnVsbFxyXG4gICAgc3RyaW5nOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBCb3RoIHR5cGVzIGFyZSBub24tbnVsbFxyXG5cclxuXHJcblxyXG50eXBlIEdldENsYXNzT3JVbmRlZmluZWQ8VCBleHRlbmRzIHsgY2xhc3M/OiBhbnkgfSB8IG51bGwgfCB1bmRlZmluZWQ+ID0gVCBleHRlbmRzIHsgY2xhc3M6IGluZmVyIFUgfSA/IFUgOiB1bmRlZmluZWQ7XHJcbnR5cGUgR2V0Q2xhc3NOYW1lT3JVbmRlZmluZWQ8VCBleHRlbmRzIHsgY2xhc3NOYW1lPzogYW55IH0gfCBudWxsIHwgdW5kZWZpbmVkPiA9IFQgZXh0ZW5kcyB7IGNsYXNzTmFtZTogaW5mZXIgVSB9ID8gVSA6IHVuZGVmaW5lZDtcclxudHlwZSBHZXRCb3RoQ2xhc3NlczxUIGV4dGVuZHMgeyBjbGFzcz86IGFueSwgY2xhc3NOYW1lPzogYW55IH0gfCBudWxsIHwgdW5kZWZpbmVkPiA9XHJcbk5vbk51bGxhYmxlPEdldENsYXNzT3JVbmRlZmluZWQ8VD4gfCBHZXRDbGFzc05hbWVPclVuZGVmaW5lZDxUPj4gZXh0ZW5kcyBuZXZlcj8gdW5kZWZpbmVkIDogc3RyaW5nO1xyXG5cclxuZXhwb3J0IHR5cGUgTWVyZ2VDbGFzc2VzUHJvcHMgPSBQaWNrPGguSlNYLkhUTUxBdHRyaWJ1dGVzPGFueT4sIFwiY2xhc3NcIiB8IFwiY2xhc3NOYW1lXCI+O1xyXG5cclxuZnVuY3Rpb24gbWVyZ2VDbGFzc2VzPExocyBleHRlbmRzIE1lcmdlQ2xhc3Nlc1Byb3BzIHwgbnVsbCB8IHVuZGVmaW5lZCwgUmhzIGV4dGVuZHMgTWVyZ2VDbGFzc2VzUHJvcHMgfCBudWxsIHwgdW5kZWZpbmVkPihsaHM6IExocywgcmhzOiBSaHMpOiBNZXJnZWRDbGFzc2VzPExocywgUmhzPiB7XHJcbiAgICBjb25zdCBsaHNDbGFzcyA9IGxocz8uY2xhc3M7XHJcbiAgICBjb25zdCBsaHNDbGFzc05hbWUgPSBsaHM/LmNsYXNzTmFtZTtcclxuICAgIGNvbnN0IHJoc0NsYXNzID0gcmhzPy5jbGFzcztcclxuICAgIGNvbnN0IHJoc0NsYXNzTmFtZSA9IHJocz8uY2xhc3NOYW1lO1xyXG5cclxuICAgIGlmIChsaHNDbGFzcyB8fCByaHNDbGFzcyB8fCBsaHNDbGFzc05hbWUgfHwgcmhzQ2xhc3NOYW1lKSB7XHJcbiAgICAgICAgY29uc3QgbGhzQ2xhc3NlcyA9IGNsc3gobGhzQ2xhc3MsIGxoc0NsYXNzTmFtZSkuc3BsaXQoXCIgXCIpO1xyXG4gICAgICAgIGNvbnN0IHJoc0NsYXNzZXMgPSBjbHN4KHJoc0NsYXNzLCByaHNDbGFzc05hbWUpLnNwbGl0KFwiIFwiKTtcclxuICAgICAgICBjb25zdCBhbGxDbGFzc2VzID0gbmV3IFNldChbLi4uQXJyYXkuZnJvbShsaHNDbGFzc2VzKSwgLi4uQXJyYXkuZnJvbShyaHNDbGFzc2VzKV0pXHJcblxyXG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKGFsbENsYXNzZXMpLmpvaW4oXCIgXCIpIGFzIE1lcmdlZENsYXNzZXM8TGhzLCBSaHM+O1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZCBhcyBNZXJnZWRDbGFzc2VzPExocywgUmhzPjtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBSZWYsIFJlZkNhbGxiYWNrLCBSZWZPYmplY3QgfSBmcm9tIFwicHJlYWN0XCI7XHJcbmltcG9ydCB7IHVzZUNhbGxiYWNrIH0gZnJvbSBcInByZWFjdC9ob29rc1wiO1xyXG5cclxuXHJcbmZ1bmN0aW9uIHByb2Nlc3NSZWY8VD4oaW5zdGFuY2U6IFQgfCBudWxsLCByZWY6IFJlZjxUPiB8IG51bGwgfCB1bmRlZmluZWQpIHtcclxuICAgIGlmICh0eXBlb2YgcmVmID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICByZWYoaW5zdGFuY2UpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAocmVmICE9IG51bGwpIHtcclxuICAgICAgICAocmVmIGFzIFJlZk9iamVjdDxUIHwgbnVsbD4pLmN1cnJlbnQgPSBpbnN0YW5jZTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWRlYnVnZ2VyICovXHJcbiAgICAgICAgZGVidWdnZXI7XHJcbiAgICAgICAgY29uc29sZS5hc3NlcnQoZmFsc2UsIFwiVW5rbm93biByZWYgdHlwZSBmb3VuZCB0aGF0IHdhcyBuZWl0aGVyIGEgUmVmQ2FsbGJhY2sgbm9yIGEgUmVmT2JqZWN0XCIpO1xyXG4gICAgfVxyXG59XHJcblxyXG5pbnRlcmZhY2UgUjxFPiB7XHJcbiAgICByZWY/OiBSZWY8RT47XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogQ29tYmluZXMgdHdvIHJlZnMgaW50byBvbmUuIFRoaXMgYWxsb3dzIGEgY29tcG9uZW50IHRvIGJvdGggdXNlIGl0cyBvd24gcmVmICphbmQqIGZvcndhcmQgYSByZWYgdGhhdCB3YXMgZ2l2ZW4gdG8gaXQuXHJcbiAqIEBwYXJhbSBsaHMgXHJcbiAqIEBwYXJhbSByaHMgXHJcbiAqIEByZXR1cm5zIFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHVzZU1lcmdlZFJlZnM8RSBleHRlbmRzIEV2ZW50VGFyZ2V0PigpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiA8TGhzIGV4dGVuZHMgUjxFPiwgUmhzIGV4dGVuZHMgUjxFPj4obGhzUHJvcHM6IExocyB8IG51bGwgfCB1bmRlZmluZWQsIHJoc1Byb3BzOiBSaHMgfCBudWxsIHwgdW5kZWZpbmVkKTogUmVmPEU+IHtcclxuXHJcbiAgICAgICAgY29uc3QgbGhzID0gbGhzUHJvcHM/LnJlZjtcclxuICAgICAgICBjb25zdCByaHMgPSByaHNQcm9wcz8ucmVmO1xyXG4gICAgICAgIGNvbnN0IGNvbWJpbmVkOiBSZWZDYWxsYmFjazxFPiA9IHVzZUNhbGxiYWNrKChjdXJyZW50OiBFIHwgbnVsbCkgPT4ge1xyXG4gICAgICAgICAgICBwcm9jZXNzUmVmKGN1cnJlbnQsIGxocyk7XHJcbiAgICAgICAgICAgIHByb2Nlc3NSZWYoY3VycmVudCwgcmhzKTtcclxuICAgICAgICB9LCBbbGhzLCByaHNdKTtcclxuXHJcblxyXG4gICAgICAgIGlmIChsaHMgPT0gbnVsbCAmJiByaHMgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkITtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobGhzID09IG51bGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJocyE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHJocyA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBsaHMhO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbWJpbmVkO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBoIH0gZnJvbSBcInByZWFjdFwiO1xyXG5cclxuZnVuY3Rpb24gc3R5bGVTdHJpbmdUb09iamVjdChzdHlsZTogc3RyaW5nKTogaC5KU1guQ1NTUHJvcGVydGllcyB7XHJcbiAgICAvLyBUT0RPOiBUaGlzIHN1Y2tzIEQ6XHJcbiAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKHN0eWxlLnNwbGl0KFwiO1wiKS5tYXAoc3RhdGVtZW50ID0+IHN0YXRlbWVudC5zcGxpdChcIjpcIikpKSBhcyB1bmtub3duIGFzIGguSlNYLkNTU1Byb3BlcnRpZXM7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBNZXJnZXMgdHdvIHN0eWxlIG9iamVjdHMsIHJldHVybmluZyB0aGUgcmVzdWx0LlxyXG4gKiBcclxuICogQHBhcmFtIHN0eWxlIFRoZSB1c2VyLWdpdmVuIHN0eWxlIHByb3AgZm9yIHRoaXMgY29tcG9uZW50XHJcbiAqIEBwYXJhbSBvYmogVGhlIENTUyBwcm9wZXJ0aWVzIHlvdSB3YW50IGFkZGVkIHRvIHRoZSB1c2VyLWdpdmVuIHN0eWxlXHJcbiAqIEByZXR1cm5zIEEgQ1NTIG9iamVjdCBjb250YWluaW5nIHRoZSBwcm9wZXJ0aWVzIG9mIGJvdGggb2JqZWN0cy5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiB1c2VNZXJnZWRTdHlsZXM8TGhzIGV4dGVuZHMgUGljazxoLkpTWC5IVE1MQXR0cmlidXRlczxhbnk+LCBcInN0eWxlXCI+IHwgbnVsbCB8IHVuZGVmaW5lZCwgUmhzIGV4dGVuZHMgUGljazxoLkpTWC5IVE1MQXR0cmlidXRlczxhbnk+LCBcInN0eWxlXCI+IHwgbnVsbCB8IHVuZGVmaW5lZD4obGhzOiBMaHMsIHJoczogUmhzKTogdW5kZWZpbmVkIHwgc3RyaW5nIHwgaC5KU1guQ1NTUHJvcGVydGllcyB7XHJcblxyXG4gICAgLy8gRWFzeSBjYXNlLCB3aGVuIHRoZXJlIGFyZSBubyBzdHlsZXMgdG8gbWVyZ2UgcmV0dXJuIG5vdGhpbmcuXHJcbiAgICBpZiAoIWxocz8uc3R5bGUgJiYgIXJocz8uc3R5bGUpXHJcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuXHJcbiAgICBpZiAodHlwZW9mIGxocyAhPSB0eXBlb2YgcmhzKSB7XHJcbiAgICAgICAgLy8gRWFzeSBjYXNlcywgd2hlbiBvbmUgaXMgbnVsbCBhbmQgdGhlIG90aGVyIGlzbid0LlxyXG4gICAgICAgIGlmIChsaHM/LnN0eWxlICYmICFyaHM/LnN0eWxlKVxyXG4gICAgICAgICAgICByZXR1cm4gbGhzLnN0eWxlO1xyXG4gICAgICAgIGlmICghbGhzPy5zdHlsZSAmJiByaHM/LnN0eWxlKVxyXG4gICAgICAgICAgICByZXR1cm4gcmhzLnN0eWxlO1xyXG5cclxuICAgICAgICAvLyBUaGV5J3JlIGJvdGggbm9uLW51bGwgYnV0IGRpZmZlcmVudCB0eXBlcy5cclxuICAgICAgICAvLyBDb252ZXJ0IHRoZSBzdHJpbmcgdHlwZSB0byBhbiBvYmplY3QgYmFnIHR5cGUgYW5kIHJ1biBpdCBhZ2Fpbi5cclxuICAgICAgICBpZiAobGhzPy5zdHlsZSAmJiByaHM/LnN0eWxlKSB7XHJcbiAgICAgICAgICAgIC8vICh1c2VNZXJnZWRTdHlsZXMgaXNuJ3QgYSB0cnVlIGhvb2sgLS0gdGhpcyBpc24ndCBhIHZpb2xhdGlvbilcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBsaHM/LnN0eWxlID09IFwic3RyaW5nXCIpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdXNlTWVyZ2VkU3R5bGVzKHsgc3R5bGU6IHN0eWxlU3RyaW5nVG9PYmplY3QobGhzPy5zdHlsZSBhcyBzdHJpbmcpIH0sIHJocykgYXMgaC5KU1guQ1NTUHJvcGVydGllcztcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiByaHM/LnN0eWxlID09IFwic3RyaW5nXCIpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdXNlTWVyZ2VkU3R5bGVzKGxocywgeyBzdHlsZTogc3R5bGVTdHJpbmdUb09iamVjdChyaHM/LnN0eWxlIGFzIHN0cmluZykgfSkgYXMgaC5KU1guQ1NTUHJvcGVydGllcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIExvZ2ljPz8/XHJcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBUaGV5J3JlIGJvdGggc3RyaW5ncywganVzdCBjb25jYXRlbmF0ZSB0aGVtLlxyXG4gICAgaWYgKHR5cGVvZiBsaHM/LnN0eWxlID09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICByZXR1cm4gYCR7bGhzLnN0eWxlfTske3Jocz8uc3R5bGUgPz8gXCJcIn1gIGFzIHVua25vd24gYXMgc3RyaW5nO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFRoZXkncmUgYm90aCBvYmplY3RzLCBqdXN0IG1lcmdlIHRoZW0uXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIC4uLihsaHM/LnN0eWxlID8/IHt9KSBhcyBoLkpTWC5DU1NQcm9wZXJ0aWVzLFxyXG4gICAgICAgIC4uLihyaHM/LnN0eWxlID8/IHt9KSBhcyBoLkpTWC5DU1NQcm9wZXJ0aWVzXHJcbiAgICB9IGFzIHVua25vd24gYXMgaC5KU1guQ1NTUHJvcGVydGllc1xyXG59XHJcblxyXG4iLCJpbXBvcnQgeyBoIH0gZnJvbSBcInByZWFjdFwiO1xyXG5pbXBvcnQgeyB1c2VNZXJnZWRDaGlsZHJlbiB9IGZyb20gXCIuL3VzZS1tZXJnZWQtY2hpbGRyZW5cIjtcclxuaW1wb3J0IHsgdXNlTWVyZ2VkQ2xhc3NlcyB9IGZyb20gXCIuL3VzZS1tZXJnZWQtY2xhc3Nlc1wiO1xyXG5pbXBvcnQgeyB1c2VNZXJnZWRSZWZzIH0gZnJvbSBcIi4vdXNlLW1lcmdlZC1yZWZzXCI7XHJcbmltcG9ydCB7IHVzZU1lcmdlZFN0eWxlcyB9IGZyb20gXCIuL3VzZS1tZXJnZWQtc3R5bGVzXCI7XHJcblxyXG5sZXQgbG9nID0gY29uc29sZS53YXJuO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGVuYWJsZUxvZ2dpbmdQcm9wQ29uZmxpY3RzKGxvZzI6IHR5cGVvZiBjb25zb2xlW1wibG9nXCJdKSB7XHJcbiAgICBsb2cgPSBsb2cyXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBIHR5cGUgdGhhdCByZXByZXNlbnRzIHRoZSBtZXJnaW5nIG9mIHR3byBwcm9wIG9iamVjdHNcclxuICovXHJcbmV4cG9ydCB0eXBlIE1lcmdlZFByb3BzPEUgZXh0ZW5kcyBFdmVudFRhcmdldCwgVCBleHRlbmRzIGguSlNYLkhUTUxBdHRyaWJ1dGVzPEU+LCBVIGV4dGVuZHMgaC5KU1guSFRNTEF0dHJpYnV0ZXM8RT4+ID0gaC5KU1guSFRNTEF0dHJpYnV0ZXM8RT4gJiBPbWl0PFQsIGtleW9mIGguSlNYLkhUTUxBdHRyaWJ1dGVzPEU+PiAmIE9taXQ8VSwga2V5b2YgaC5KU1guSFRNTEF0dHJpYnV0ZXM8RT4+O1xyXG5cclxuLyoqXHJcbiAqIEdpdmVuIHR3byBzZXRzIG9mIHByb3BzLCBtZXJnZXMgdGhlbSBhbmQgcmV0dXJucyB0aGUgcmVzdWx0LlxyXG4gKiBcclxuICogVGhlIGhvb2sgaXMgYXdhcmUgb2YgYW5kIGNhbiBpbnRlbGxpZ2VudGx5IG1lcmdlIGBjbGFzc05hbWVgLCBgY2xhc3NgLCBgc3R5bGVgLCBgcmVmYCwgYW5kIGFsbCBldmVudCBoYW5kbGVycy5cclxuICogQHBhcmFtIGxoczIgXHJcbiAqIEBwYXJhbSByaHMyIFxyXG4gKiBAcmV0dXJucyBcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiB1c2VNZXJnZWRQcm9wczxFIGV4dGVuZHMgRXZlbnRUYXJnZXQ+KCkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIDxUIGV4dGVuZHMgaC5KU1guSFRNTEF0dHJpYnV0ZXM8RT4sIFUgZXh0ZW5kcyBoLkpTWC5IVE1MQXR0cmlidXRlczxFPj4obGhzQWxsOiBULCByaHNBbGw6IFUpOiBNZXJnZWRQcm9wczxFLCBULCBVPiB7XHJcblxyXG5cclxuICAgICAgICAvLyBGaXJzdCwgc2VwYXJhdGUgdGhlIHByb3BzIHdlIHdlcmUgZ2l2ZW4gaW50byB0d28gZ3JvdXBzOlxyXG4gICAgICAgIC8vIGxoc0FsbCBhbmQgcmhzQWxsIGNvbnRhaW4gYWxsIHRoZSBwcm9wcyB3ZSB3ZXJlIGdpdmVuLCBhbmRcclxuICAgICAgICAvLyBsaHNNaXNjIGFuZCByaHNNaXNjIGNvbnRhaW4gYWxsIHByb3BzICpleGNlcHQqIGZvciB0aGUgZWFzeSBvbmVzXHJcbiAgICAgICAgLy8gbGlrZSBjbGFzc05hbWUgYW5kIHN0eWxlIHRoYXQgd2UgYWxyZWFkeSBrbm93IGhvdyB0byBtZXJnZS5cclxuICAgICAgICBjb25zdCB7IGNoaWxkcmVuOiBfbGhzQ2hpbGRyZW4sIGNsYXNzOiBfbGhzQ2xhc3MsIGNsYXNzTmFtZTogX2xoc0NsYXNzTmFtZSwgc3R5bGU6IF9saHNTdHlsZSwgcmVmOiBfbGhzUmVmLCAuLi5saHNNaXNjIH0gPSBsaHNBbGw7XHJcbiAgICAgICAgY29uc3QgeyBjaGlsZHJlbjogX3Joc0NoaWxkcmVuLCBjbGFzczogX3Joc0NsYXNzLCBjbGFzc05hbWU6IF9yaHNDbGFzc05hbWUsIHN0eWxlOiBfcmhzU3R5bGUsIHJlZjogX3Joc1JlZiwgLi4ucmhzTWlzYyB9ID0gcmhzQWxsO1xyXG5cclxuICAgICAgICBjb25zdCByZXQ6IE1lcmdlZFByb3BzPEUsIFQsIFU+ID0ge1xyXG4gICAgICAgICAgICAuLi5saHNNaXNjLFxyXG4gICAgICAgICAgICByZWY6IHVzZU1lcmdlZFJlZnM8RT4oKShsaHNBbGwsIHJoc0FsbCksXHJcbiAgICAgICAgICAgIHN0eWxlOiB1c2VNZXJnZWRTdHlsZXMobGhzQWxsLCByaHNBbGwpLFxyXG4gICAgICAgICAgICBjbGFzc05hbWU6IHVzZU1lcmdlZENsYXNzZXMobGhzQWxsLCByaHNBbGwpLFxyXG4gICAgICAgICAgICBjaGlsZHJlbjogdXNlTWVyZ2VkQ2hpbGRyZW4obGhzQWxsLCByaHNBbGwpLFxyXG4gICAgICAgIH0gYXMgYW55O1xyXG5cclxuICAgICAgICBpZiAocmV0LnJlZiA9PT0gdW5kZWZpbmVkKSBkZWxldGUgcmV0LnJlZjtcclxuICAgICAgICBpZiAocmV0LnN0eWxlID09PSB1bmRlZmluZWQpIGRlbGV0ZSByZXQuc3R5bGU7XHJcbiAgICAgICAgaWYgKHJldC5jbGFzc05hbWUgPT09IHVuZGVmaW5lZCkgZGVsZXRlIHJldC5jbGFzc05hbWU7XHJcbiAgICAgICAgaWYgKHJldC5jaGlsZHJlbiA9PT0gdW5kZWZpbmVkKSBkZWxldGUgcmV0LmNoaWxkcmVuO1xyXG5cclxuICAgICAgICAvLyBOb3csIGRvICpldmVyeXRoaW5nKiBlbHNlXHJcbiAgICAgICAgLy8gTWVyZ2UgZXZlcnkgcmVtYWluaW5nIGV4aXN0aW5nIGVudHJ5IGluIGxocyB3aXRoIHdoYXQgd2UndmUgYWxyZWFkeSBwdXQgaW4gcmV0LlxyXG4gICAgICAgIC8vY29uc3QgbGhzRW50cmllcyA9IE9iamVjdC5lbnRyaWVzKGxocykgYXMgW2tleW9mIFQsIFRba2V5b2YgVF1dW107XHJcbiAgICAgICAgY29uc3QgcmhzRW50cmllcyA9IE9iamVjdC5lbnRyaWVzKHJoc01pc2MpIGFzIFtrZXlvZiBVLCBVW2tleW9mIFVdXVtdO1xyXG5cclxuICAgICAgICBmb3IgKGNvbnN0IFtyaHNLZXksIHJoc1ZhbHVlXSBvZiByaHNFbnRyaWVzKSB7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBsaHNWYWx1ZSA9IGxoc01pc2NbcmhzS2V5IGFzIGtleW9mIHR5cGVvZiBsaHNNaXNjXTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgbGhzVmFsdWUgPT09IFwiZnVuY3Rpb25cIiB8fCB0eXBlb2YgcmhzVmFsdWUgPT09IFwiZnVuY3Rpb25cIikge1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFRoZXkncmUgYm90aCBmdW5jdGlvbnMgdGhhdCBjYW4gYmUgbWVyZ2VkIChvciBvbmUncyBhIGZ1bmN0aW9uIGFuZCB0aGUgb3RoZXIncyBudWxsKS5cclxuICAgICAgICAgICAgICAgIC8vIE5vdCBhbiAqZWFzeSogY2FzZSwgYnV0IGEgd2VsbC1kZWZpbmVkIG9uZS5cclxuICAgICAgICAgICAgICAgIGNvbnN0IG1lcmdlZCA9IG1lcmdlRnVuY3Rpb25zKGxoc1ZhbHVlIGFzIG5ldmVyLCByaHNWYWx1ZSBhcyBuZXZlcik7XHJcbiAgICAgICAgICAgICAgICByZXRbcmhzS2V5IGFzIGtleW9mIE1lcmdlZFByb3BzPEUsIFQsIFU+XSA9IG1lcmdlZCBhcyBuZXZlcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIFVoLi4ud2UncmUgaGVyZSBiZWNhdXNlIG9uZSBvZiB0aGVtJ3MgbnVsbCwgcmlnaHQ/XHJcbiAgICAgICAgICAgICAgICBpZiAobGhzVmFsdWUgPT0gbnVsbCAmJiByaHNWYWx1ZSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJoc1ZhbHVlID09PSBudWxsICYmIGxoc1ZhbHVlID09PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldFtyaHNLZXkgYXMga2V5b2YgTWVyZ2VkUHJvcHM8RSwgVCwgVT5dID0gcmhzVmFsdWUgYXMgbmV2ZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXRbcmhzS2V5IGFzIGtleW9mIE1lcmdlZFByb3BzPEUsIFQsIFU+XSA9IGxoc1ZhbHVlIGFzIG5ldmVyO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGxoc1ZhbHVlID09IG51bGwpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0W3Joc0tleSBhcyBrZXlvZiBNZXJnZWRQcm9wczxFLCBULCBVPl0gPSByaHNWYWx1ZSBhcyBuZXZlcjtcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJoc1ZhbHVlID09IG51bGwpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0W3Joc0tleSBhcyBrZXlvZiBNZXJnZWRQcm9wczxFLCBULCBVPl0gPSBsaHNWYWx1ZSBhcyBuZXZlcjtcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKChyaHNWYWx1ZSBhcyBhbnkpID09IGxoc1ZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSSBtZWFuLCB0aGV5J3JlIHRoZSBzYW1lIHZhbHVlIGF0IGxlYXN0XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gc28gd2UgZG9uJ3QgbmVlZCB0byBkbyBhbnl0aGluZy5cclxuICAgICAgICAgICAgICAgICAgICAvLyBOb3QgcmVhbGx5IGlkZWFsIHRob3VnaC5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFVnaC5cclxuICAgICAgICAgICAgICAgICAgICAvLyBObyBnb29kIHN0cmF0ZWdpZXMgaGVyZSwganVzdCBsb2cgaXQgaWYgcmVxdWVzdGVkXHJcbiAgICAgICAgICAgICAgICAgICAgbG9nPy4oYFRoZSBwcm9wIFwiJHt0eXBlb2YgcmhzS2V5ID09IFwic3ltYm9sXCIgPyBcIjxzeW1ib2w+XCIgOiByaHNLZXkgYXMgc3RyaW5nfVwiIGNhbm5vdCBzaW11bHRhbmVvdXNseSBiZSB0aGUgdmFsdWVzICR7bGhzVmFsdWV9IGFuZCAke3Joc1ZhbHVlfS4gT25lIG11c3QgYmUgY2hvc2VuIG91dHNpZGUgb2YgdXNlTWVyZ2VkUHJvcHMuYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0W3Joc0tleSBhcyBrZXlvZiBNZXJnZWRQcm9wczxFLCBULCBVPl0gPSByaHNWYWx1ZSBhcyBuZXZlclxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcmV0O1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBtZXJnZUZ1bmN0aW9uczxUIGV4dGVuZHMgKC4uLmFyZ3M6IGFueVtdKSA9PiBhbnksIFUgZXh0ZW5kcyAoLi4uYXJnczogYW55W10pID0+IGFueT4obGhzOiBUIHwgbnVsbCB8IHVuZGVmaW5lZCwgcmhzOiBVIHwgbnVsbCB8IHVuZGVmaW5lZCkge1xyXG5cclxuICAgIGlmICghbGhzKVxyXG4gICAgICAgIHJldHVybiByaHM7XHJcbiAgICBpZiAoIXJocylcclxuICAgICAgICByZXR1cm4gbGhzO1xyXG5cclxuICAgIHJldHVybiAoLi4uYXJnczogUGFyYW1ldGVyczxUPikgPT4ge1xyXG4gICAgICAgIGNvbnN0IGx2ID0gbGhzKC4uLmFyZ3MpO1xyXG4gICAgICAgIGNvbnN0IHJ2ID0gcmhzKC4uLmFyZ3MpO1xyXG5cclxuICAgICAgICBpZiAobHYgaW5zdGFuY2VvZiBQcm9taXNlIHx8IHJ2IGluc3RhbmNlb2YgUHJvbWlzZSlcclxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFtsdiwgcnZdKTtcclxuICAgIH07XHJcbn1cclxuXHJcbi8qXHJcbmZ1bmN0aW9uIHRlc3Q8UCBleHRlbmRzIGguSlNYLkhUTUxBdHRyaWJ1dGVzPEhUTUxJbnB1dEVsZW1lbnQ+Pihwcm9wczogUCkge1xyXG5cclxuICAgIGNvbnN0IGlkMDogR2VuZXJpY0dldDx7fSwgXCJpZFwiLCBzdHJpbmc+ID0gXCJcIjtcclxuICAgIGNvbnN0IGlkMzogR2VuZXJpY0dldDx7IGlkOiB1bmRlZmluZWQgfSwgXCJpZFwiLCBzdHJpbmc+ID0gdW5kZWZpbmVkO1xyXG4gICAgY29uc3QgaWQ0OiBHZW5lcmljR2V0PHsgaWQ6IHVuZGVmaW5lZCB9LCBcImlkXCIsIHN0cmluZz4gPSB1bmRlZmluZWQ7XHJcbiAgICBjb25zdCBpZDU6IEdlbmVyaWNHZXQ8eyBpZDogdW5kZWZpbmVkIH0sIFwiaWRcIiwgc3RyaW5nPiA9IHVuZGVmaW5lZDtcclxuICAgIGNvbnN0IGlkNjogR2VuZXJpY0dldDx7IGlkOiB1bmRlZmluZWQgfSwgXCJpZFwiLCBzdHJpbmc+ID0gdW5kZWZpbmVkO1xyXG4gICAgLy9jb25zdCBpZDI6IFppcFNpbmdsZTxzdHJpbmcgfCB1bmRlZmluZWQsIHN0cmluZyB8IHVuZGVmaW5lZD4gPSB1bmRlZmluZWQ7XHJcbiAgICBjb25zdCBpZDE6IFppcE9iamVjdDx7IGlkOiB1bmRlZmluZWQgfSwgeyBpZDogc3RyaW5nIH0+ID0geyBpZDogdW5kZWZpbmVkIH07XHJcblxyXG4gICAgdHlwZSBNMSA9IEdlbmVyaWNHZXQ8UCwgXCJzdHlsZVwiLCBzdHJpbmc+O1xyXG4gICAgdHlwZSBNMiA9IEdlbmVyaWNHZXQ8e30sIFwic3R5bGVcIiwgc3RyaW5nPjtcclxuICAgIGNvbnN0IG0xOiBNMSA9IFwiXCI7XHJcbiAgICBjb25zdCBtMjogTTEgPSB1bmRlZmluZWQ7XHJcbiAgICAvLy8gQHRzLWV4cGVjdC1lcnJvciAgICBCZWNhdXNlIG51bWJlciBpc24ndCBhc3NpZ25hYmxlIHRvIHN0cmluZ1xyXG4gICAgY29uc3QgbTM6IE0xID0gMDtcclxuXHJcbiAgICBjb25zdCBtNDogTTIgPSBcIlwiO1xyXG4gICAgY29uc3QgbTU6IE0yID0gdW5kZWZpbmVkO1xyXG4gICAgLy8vIEB0cy1leHBlY3QtZXJyb3IgICAgQmVjYXVzZSBudW1iZXIgaXNuJ3QgYXNzaWduYWJsZSB0byBzdHJpbmdcclxuICAgIGNvbnN0IG02OiBNMiA9IDA7XHJcblxyXG4gICAgY29uc3QgcDE6IE1lcmdlZFByb3BzPEhUTUxJbnB1dEVsZW1lbnQsIHt9LCB7IGlkOiBzdHJpbmcgfT4gPSB1c2VNZXJnZWRQcm9wczxIVE1MSW5wdXRFbGVtZW50PigpKHt9LCB7IGlkOiBcInN0cmluZ1wiIH0pO1xyXG4gICAgY29uc3QgcDI6IE1lcmdlZFByb3BzPEhUTUxJbnB1dEVsZW1lbnQsIHsgaWQ6IHVuZGVmaW5lZCB9LCB7IGlkOiBzdHJpbmcgfT4gPSB1c2VNZXJnZWRQcm9wczxIVE1MSW5wdXRFbGVtZW50PigpKHsgaWQ6IHVuZGVmaW5lZCB9LCB7IGlkOiBcInN0cmluZ1wiIH0pO1xyXG4gICAgY29uc3QgcDM6IE1lcmdlZFByb3BzPEhUTUxJbnB1dEVsZW1lbnQsIHsgaWQ6IHVuZGVmaW5lZCB9LCB7IGlkOiB1bmRlZmluZWQgfT4gPSB1c2VNZXJnZWRQcm9wczxIVE1MSW5wdXRFbGVtZW50PigpKHsgaWQ6IHVuZGVmaW5lZCB9LCB7IGlkOiB1bmRlZmluZWQgfSk7XHJcbiAgICBjb25zdCBwNDogTWVyZ2VkUHJvcHM8SFRNTElucHV0RWxlbWVudCwge30sIHt9PiA9IHVzZU1lcmdlZFByb3BzPEhUTUxJbnB1dEVsZW1lbnQ+KCkoe30sIHt9KTtcclxuICAgIGNvbnN0IHA1ID0gdXNlTWVyZ2VkUHJvcHM8SFRNTElucHV0RWxlbWVudD4oKShwcm9wcywge30pO1xyXG4gICAgY29uc3QgcDYgPSB1c2VNZXJnZWRQcm9wczxIVE1MSW5wdXRFbGVtZW50PigpKHByb3BzLCB7IGlkOiB1bmRlZmluZWQgfSk7XHJcbiAgICBjb25zdCBwNyA9IHVzZU1lcmdlZFByb3BzPEhUTUxJbnB1dEVsZW1lbnQ+KCkocHJvcHMsIHsgaWQ6IFwic3RyaW5nXCIgfSk7XHJcblxyXG5cclxuICAgIHAxLmlkPy5jb25jYXQoXCJcIik7XHJcbiAgICBwMi5pZD8uY29uY2F0KFwiXCIpO1xyXG4gICAgLy8vIEB0cy1leHBlY3QtZXJyb3IgICAgaWQgY2FuJ3QgYmUgYW55dGhpbmcgYnV0IHVuZGVmaW5lZFxyXG4gICAgcDMuaWQ/LmNvbmNhdChcIlwiKTtcclxuICAgIC8vLyBAdHMtZXhwZWN0LWVycm9yICAgIGlkIGNhbid0IGJlIGFueXRoaW5nIGJ1dCB1bmRlZmluZWRcclxuICAgIHA0LmlkPy5jb25jYXQoXCJcIik7XHJcblxyXG5cclxuICAgIHA1LmlkPy5jb25jYXQoXCJcIik7XHJcbiAgICBwNi5pZD8uY29uY2F0KFwiXCIpO1xyXG4gICAgcDcuaWQ/LmNvbmNhdChcIlwiKTtcclxuXHJcbiAgICAvLy8gQHRzLWV4cGVjdC1lcnJvciAgICBpZCBtdXN0IGNvbnRhaW4gdW5kZWZpbmVkXHJcbiAgICBwNS5pZC5jb25jYXQoXCJcIik7XHJcbiAgICAvLy8gQHRzLWV4cGVjdC1lcnJvciAgICBpZCBtdXN0IGNvbnRhaW4gdW5kZWZpbmVkXHJcbiAgICBwNi5pZC5jb25jYXQoXCJcIik7XHJcbiAgICAvLy8gQHRzLWV4cGVjdC1lcnJvciAgICBpZCBtdXN0IGNvbnRhaW4gdW5kZWZpbmVkXHJcbiAgICBwNy5pZC5jb25jYXQoXCJcIik7XHJcblxyXG5cclxuICAgIGlmIChwNS5hbGxvd0Z1bGxTY3JlZW4gPT09IHVuZGVmaW5lZCkge31cclxuICAgIGVsc2UgaWYgKHA1LmFsbG93RnVsbFNjcmVlbiA9PT0gZmFsc2UpIHt9XHJcbiAgICBlbHNlIGlmIChwNS5hbGxvd0Z1bGxTY3JlZW4gPT09IHRydWUpIHt9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBhY2NlcHRzTmV2ZXIocDUuYWxsb3dGdWxsU2NyZWVuKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgaWYgKHA2LmFsbG93RnVsbFNjcmVlbiA9PT0gdW5kZWZpbmVkKSB7fVxyXG4gICAgZWxzZSBpZiAocDYuYWxsb3dGdWxsU2NyZWVuID09PSBmYWxzZSkge31cclxuICAgIGVsc2UgaWYgKHA2LmFsbG93RnVsbFNjcmVlbiA9PT0gdHJ1ZSkge31cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGFjY2VwdHNOZXZlcihwNi5hbGxvd0Z1bGxTY3JlZW4pO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBpZiAocDcuYWxsb3dGdWxsU2NyZWVuID09PSB1bmRlZmluZWQpIHt9XHJcbiAgICBlbHNlIGlmIChwNy5hbGxvd0Z1bGxTY3JlZW4gPT09IGZhbHNlKSB7fVxyXG4gICAgZWxzZSBpZiAocDcuYWxsb3dGdWxsU2NyZWVuID09PSB0cnVlKSB7fVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgYWNjZXB0c05ldmVyKHA3LmFsbG93RnVsbFNjcmVlbik7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vIE1ha2Ugc3VyZSBpdCB3b3JrcyByZWN1cnNpdmVseVxyXG4gICAgY29uc3QgcjFhID0gdXNlTWVyZ2VkUHJvcHM8SFRNTElucHV0RWxlbWVudD4oKSh7fSwgcDEpO1xyXG4gICAgY29uc3QgcjFiID0gdXNlTWVyZ2VkUHJvcHM8SFRNTElucHV0RWxlbWVudD4oKShwcm9wcywgcDEpO1xyXG4gICAgY29uc3QgcjJhID0gdXNlTWVyZ2VkUHJvcHM8SFRNTElucHV0RWxlbWVudD4oKSh7fSwgcDIpO1xyXG4gICAgY29uc3QgcjJiID0gdXNlTWVyZ2VkUHJvcHM8SFRNTElucHV0RWxlbWVudD4oKShwcm9wcywgcDIpO1xyXG4gICAgY29uc3QgcjNhID0gdXNlTWVyZ2VkUHJvcHM8SFRNTElucHV0RWxlbWVudD4oKSh7fSwgcDMpO1xyXG4gICAgY29uc3QgcjNiID0gdXNlTWVyZ2VkUHJvcHM8SFRNTElucHV0RWxlbWVudD4oKShwcm9wcywgcDMpO1xyXG4gICAgY29uc3QgcjRhID0gdXNlTWVyZ2VkUHJvcHM8SFRNTElucHV0RWxlbWVudD4oKSh7fSwgcDQpO1xyXG4gICAgY29uc3QgcjRiID0gdXNlTWVyZ2VkUHJvcHM8SFRNTElucHV0RWxlbWVudD4oKShwcm9wcywgcDQpO1xyXG4gICAgY29uc3QgcjVhID0gdXNlTWVyZ2VkUHJvcHM8SFRNTElucHV0RWxlbWVudD4oKSh7fSwgcDUpO1xyXG4gICAgY29uc3QgcjViID0gdXNlTWVyZ2VkUHJvcHM8SFRNTElucHV0RWxlbWVudD4oKShwcm9wcywgcDUpO1xyXG4gICAgY29uc3QgcjZhID0gdXNlTWVyZ2VkUHJvcHM8SFRNTElucHV0RWxlbWVudD4oKSh7fSwgcDYpO1xyXG4gICAgY29uc3QgcjZiID0gdXNlTWVyZ2VkUHJvcHM8SFRNTElucHV0RWxlbWVudD4oKShwcm9wcywgcDYpO1xyXG4gICAgY29uc3QgcjdhID0gdXNlTWVyZ2VkUHJvcHM8SFRNTElucHV0RWxlbWVudD4oKSh7fSwgcDcpO1xyXG4gICAgY29uc3QgcjdiID0gdXNlTWVyZ2VkUHJvcHM8SFRNTElucHV0RWxlbWVudD4oKShwcm9wcywgcDcpO1xyXG5cclxuXHJcbiAgICByMWEuaWQ/LmNvbmNhdChcIlwiKTtcclxuICAgIHIxYi5pZD8uY29uY2F0KFwiXCIpO1xyXG4gICAgcjJhLmlkPy5jb25jYXQoXCJcIik7XHJcbiAgICByMmIuaWQ/LmNvbmNhdChcIlwiKTtcclxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgICAgaWQgY2FuJ3QgYmUgYW55dGhpbmcgYnV0IHVuZGVmaW5lZFxyXG4gICAgcjNhLmlkPy5jb25jYXQoXCJcIik7XHJcbiAgICByM2IuaWQ/LmNvbmNhdChcIlwiKTtcclxuICAgIC8vLyBAdHMtZXhwZWN0LWVycm9yICAgIGlkIGNhbid0IGJlIGFueXRoaW5nIGJ1dCB1bmRlZmluZWRcclxuICAgIHI0YS5pZD8uY29uY2F0KFwiXCIpO1xyXG4gICAgcjRiLmlkPy5jb25jYXQoXCJcIik7XHJcblxyXG5cclxuICAgIHI1YS5pZD8uY29uY2F0KFwiXCIpO1xyXG4gICAgcjViLmlkPy5jb25jYXQoXCJcIik7XHJcbiAgICByNmEuaWQ/LmNvbmNhdChcIlwiKTtcclxuICAgIHI2Yi5pZD8uY29uY2F0KFwiXCIpO1xyXG4gICAgcjdhLmlkPy5jb25jYXQoXCJcIik7XHJcbiAgICByN2IuaWQ/LmNvbmNhdChcIlwiKTtcclxuXHJcbiAgICAvLy8gQHRzLWV4cGVjdC1lcnJvciAgICBpZCBtdXN0IGNvbnRhaW4gdW5kZWZpbmVkXHJcbiAgICByNWEuaWQuY29uY2F0KFwiXCIpO1xyXG4gICAgLy8vIEB0cy1leHBlY3QtZXJyb3IgICAgaWQgbXVzdCBjb250YWluIHVuZGVmaW5lZFxyXG4gICAgcjViLmlkLmNvbmNhdChcIlwiKTtcclxuICAgIC8vLyBAdHMtZXhwZWN0LWVycm9yICAgIGlkIG11c3QgY29udGFpbiB1bmRlZmluZWRcclxuICAgIHI2YS5pZC5jb25jYXQoXCJcIik7XHJcbiAgICAvLy8gQHRzLWV4cGVjdC1lcnJvciAgICBpZCBtdXN0IGNvbnRhaW4gdW5kZWZpbmVkXHJcbiAgICByNmIuaWQuY29uY2F0KFwiXCIpO1xyXG4gICAgLy8vIEB0cy1leHBlY3QtZXJyb3IgICAgaWQgbXVzdCBjb250YWluIHVuZGVmaW5lZFxyXG4gICAgcjdhLmlkLmNvbmNhdChcIlwiKTtcclxuICAgIC8vLyBAdHMtZXhwZWN0LWVycm9yICAgIGlkIG11c3QgY29udGFpbiB1bmRlZmluZWRcclxuICAgIHI3Yi5pZC5jb25jYXQoXCJcIik7XHJcblxyXG5cclxuICAgIGlmIChyNWEuYWxsb3dGdWxsU2NyZWVuID09PSB1bmRlZmluZWQpIHt9XHJcbiAgICBlbHNlIGlmIChyNWEuYWxsb3dGdWxsU2NyZWVuID09PSBmYWxzZSkge31cclxuICAgIGVsc2UgaWYgKHI1YS5hbGxvd0Z1bGxTY3JlZW4gPT09IHRydWUpIHt9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBhY2NlcHRzTmV2ZXIocjVhLmFsbG93RnVsbFNjcmVlbik7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGlmIChyNWIuYWxsb3dGdWxsU2NyZWVuID09PSB1bmRlZmluZWQpIHt9XHJcbiAgICBlbHNlIGlmIChyNWIuYWxsb3dGdWxsU2NyZWVuID09PSBmYWxzZSkge31cclxuICAgIGVsc2UgaWYgKHI1Yi5hbGxvd0Z1bGxTY3JlZW4gPT09IHRydWUpIHt9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBhY2NlcHRzTmV2ZXIocjViLmFsbG93RnVsbFNjcmVlbik7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGlmIChyNmEuYWxsb3dGdWxsU2NyZWVuID09PSB1bmRlZmluZWQpIHt9XHJcbiAgICBlbHNlIGlmIChyNmEuYWxsb3dGdWxsU2NyZWVuID09PSBmYWxzZSkge31cclxuICAgIGVsc2UgaWYgKHI2YS5hbGxvd0Z1bGxTY3JlZW4gPT09IHRydWUpIHt9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBhY2NlcHRzTmV2ZXIocjZhLmFsbG93RnVsbFNjcmVlbik7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGlmIChyNmIuYWxsb3dGdWxsU2NyZWVuID09PSB1bmRlZmluZWQpIHt9XHJcbiAgICBlbHNlIGlmIChyNmIuYWxsb3dGdWxsU2NyZWVuID09PSBmYWxzZSkge31cclxuICAgIGVsc2UgaWYgKHI2Yi5hbGxvd0Z1bGxTY3JlZW4gPT09IHRydWUpIHt9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBhY2NlcHRzTmV2ZXIocjZiLmFsbG93RnVsbFNjcmVlbik7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGlmIChyN2EuYWxsb3dGdWxsU2NyZWVuID09PSB1bmRlZmluZWQpIHt9XHJcbiAgICBlbHNlIGlmIChyN2EuYWxsb3dGdWxsU2NyZWVuID09PSBmYWxzZSkge31cclxuICAgIGVsc2UgaWYgKHI3YS5hbGxvd0Z1bGxTY3JlZW4gPT09IHRydWUpIHt9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBhY2NlcHRzTmV2ZXIocjdhLmFsbG93RnVsbFNjcmVlbik7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGlmIChyN2IuYWxsb3dGdWxsU2NyZWVuID09PSB1bmRlZmluZWQpIHt9XHJcbiAgICBlbHNlIGlmIChyN2IuYWxsb3dGdWxsU2NyZWVuID09PSBmYWxzZSkge31cclxuICAgIGVsc2UgaWYgKHI3Yi5hbGxvd0Z1bGxTY3JlZW4gPT09IHRydWUpIHt9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBhY2NlcHRzTmV2ZXIocjdiLmFsbG93RnVsbFNjcmVlbik7XHJcbiAgICB9XHJcblxyXG59XHJcbmZ1bmN0aW9uIGFjY2VwdHNOZXZlcihuOiBuZXZlcikge31cclxuKi8iLCJpbXBvcnQgeyBoLCBSZWZDYWxsYmFjayB9IGZyb20gXCJwcmVhY3RcIjtcclxuaW1wb3J0IHsgdXNlQ2FsbGJhY2sgfSBmcm9tIFwicHJlYWN0L2hvb2tzXCI7XHJcbmltcG9ydCB7IE1lcmdlZFByb3BzLCB1c2VNZXJnZWRQcm9wcyB9IGZyb20gXCIuL3VzZS1tZXJnZWQtcHJvcHNcIjtcclxuaW1wb3J0IHsgT25QYXNzaXZlU3RhdGVDaGFuZ2UsIHVzZUVuc3VyZVN0YWJpbGl0eSwgdXNlUGFzc2l2ZVN0YXRlIH0gZnJvbSBcIi4vdXNlLXBhc3NpdmUtc3RhdGVcIjtcclxuXHJcbmV4cG9ydCB0eXBlIFVzZVJlZkVsZW1lbnRQcm9wc1JldHVyblR5cGU8VCBleHRlbmRzIEV2ZW50VGFyZ2V0LCBQIGV4dGVuZHMge30+ID0gTWVyZ2VkUHJvcHM8VCwgUCwge30+O1xyXG5cclxuZXhwb3J0IHR5cGUgVXNlUmVmRWxlbWVudFByb3BzPFQgZXh0ZW5kcyBFdmVudFRhcmdldD4gPSA8UCBleHRlbmRzIHt9Pihwcm9wczogUCkgPT4gVXNlUmVmRWxlbWVudFByb3BzUmV0dXJuVHlwZTxULCBQPjtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVXNlUmVmRWxlbWVudFJldHVyblR5cGU8VCBleHRlbmRzIEV2ZW50VGFyZ2V0PiB7XHJcbiAgICBnZXRFbGVtZW50OiAoKSA9PiBUIHwgbnVsbDtcclxuICAgIHVzZVJlZkVsZW1lbnRQcm9wczogVXNlUmVmRWxlbWVudFByb3BzPFQ+O1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFVzZVJlZkVsZW1lbnRQYXJhbWV0ZXJzPFQ+IHtcclxuICAgIG9uRWxlbWVudENoYW5nZT86IE9uUGFzc2l2ZVN0YXRlQ2hhbmdlPFQgfCBudWxsPjtcclxuICAgIG9uTW91bnQ/OiAoZWxlbWVudDogVCkgPT4gdm9pZDtcclxuICAgIG9uVW5tb3VudD86IChlbGVtZW50OiBUKSA9PiB2b2lkO1xyXG59XHJcbmZ1bmN0aW9uIHJldHVybk51bGwoKSB7IHJldHVybiBudWxsOyB9XHJcbi8qKlxyXG4gKiBBbGxvd3MgYWNjZXNzaW5nIHRoZSBlbGVtZW50IGEgcmVmIHJlZmVyZW5jZXMgYXMgc29vbiBhcyBpdCBkb2VzIHNvLlxyXG4gKiAqVGhpcyBob29rIGl0c2VsZiByZXR1cm5zIGEgaG9vayotLXVzZVJlZkVsZW1lbnRQcm9wcyBtb2RpZmllcyB0aGUgcHJvcHMgdGhhdCB5b3Ugd2VyZSBnb2luZyB0byBwYXNzIHRvIGFuIEhUTUxFbGVtZW50LCBcclxuICogYWRkaW5nIGEgUmVmQ2FsbGJhY2sgYW5kIG1lcmdpbmcgaXQgd2l0aCBhbnkgZXhpc3RpbmcgcmVmIHRoYXQgZXhpc3RlZCBvbiB0aGUgcHJvcHMuXHJcbiAqIFxyXG4gKiBEb24ndCBmb3JnZXQgdG8gcHJvdmlkZSB0aGUgRWxlbWVudCBhcyB0aGUgdHlwZSBhcmd1bWVudCFcclxuICogXHJcbiAqIEByZXR1cm5zIFRoZSBlbGVtZW50LCBhbmQgdGhlIHN1Yi1ob29rIHRoYXQgbWFrZXMgaXQgcmV0cmlldmFibGUuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gdXNlUmVmRWxlbWVudDxUIGV4dGVuZHMgRXZlbnRUYXJnZXQ+KGFyZ3M/OiBVc2VSZWZFbGVtZW50UGFyYW1ldGVyczxUPik6IFVzZVJlZkVsZW1lbnRSZXR1cm5UeXBlPFQ+IHtcclxuICAgIGNvbnN0IHsgb25FbGVtZW50Q2hhbmdlLCBvbk1vdW50LCBvblVubW91bnQgfSA9IChhcmdzID8/IHt9KTtcclxuXHJcbiAgICB1c2VFbnN1cmVTdGFiaWxpdHkoXCJ1c2VSZWZFbGVtZW50XCIsIG9uRWxlbWVudENoYW5nZSwgb25Nb3VudCwgb25Vbm1vdW50KTtcclxuXHJcbiAgICAvLyBDYWxsZWQgKGluZGlyZWN0bHkpIGJ5IHRoZSByZWYgdGhhdCB0aGUgZWxlbWVudCByZWNlaXZlcy5cclxuICAgIGNvbnN0IGhhbmRsZXIgPSB1c2VDYWxsYmFjazxPblBhc3NpdmVTdGF0ZUNoYW5nZTxUIHwgbnVsbD4+KChlLCBwcmV2VmFsdWUpID0+IHtcclxuICAgICAgICBvbkVsZW1lbnRDaGFuZ2U/LihlLCBwcmV2VmFsdWUpO1xyXG4gICAgICAgIGlmIChwcmV2VmFsdWUpXHJcbiAgICAgICAgICAgIG9uVW5tb3VudD8uKHByZXZWYWx1ZSEpO1xyXG5cclxuICAgICAgICBpZiAoZSlcclxuICAgICAgICAgICAgb25Nb3VudD8uKGUpO1xyXG4gICAgfSwgW10pO1xyXG5cclxuICAgIC8vIExldCB1cyBzdG9yZSB0aGUgYWN0dWFsIChyZWZlcmVuY2UgdG8pIHRoZSBlbGVtZW50IHdlIGNhcHR1cmVcclxuICAgIGNvbnN0IFtnZXRFbGVtZW50LCBzZXRFbGVtZW50XSA9IHVzZVBhc3NpdmVTdGF0ZTxUIHwgbnVsbD4oaGFuZGxlciwgcmV0dXJuTnVsbCk7XHJcblxyXG4gICAgLy8gQ3JlYXRlIGEgUmVmQ2FsbGJhY2sgdGhhdCdzIGZpcmVkIHdoZW4gbW91bnRlZCBcclxuICAgIC8vIGFuZCB0aGF0IG5vdGlmaWVzIHVzIG9mIG91ciBlbGVtZW50IHdoZW4gd2UgaGF2ZSBpdFxyXG4gICAgY29uc3QgbXlSZWY6IFJlZkNhbGxiYWNrPFQ+ID0gdXNlQ2FsbGJhY2soKGUpID0+IHtcclxuICAgICAgICBpZiAoZSlcclxuICAgICAgICAgICAgc2V0RWxlbWVudCgoKSA9PiBlKTtcclxuICAgIH0sIFtdKTtcclxuXHJcbiAgICBjb25zdCB1c2VSZWZFbGVtZW50UHJvcHMgPSB1c2VDYWxsYmFjazxVc2VSZWZFbGVtZW50UHJvcHM8VD4+KDxQIGV4dGVuZHMge30+KHByb3BzOiBQKTogVXNlUmVmRWxlbWVudFByb3BzUmV0dXJuVHlwZTxULCBQPiA9PiB1c2VNZXJnZWRQcm9wczxUPigpKHsgcmVmOiBteVJlZiB9LCBwcm9wcyksIFtdKTtcclxuXHJcbiAgICAvLyBSZXR1cm4gYm90aCB0aGUgZWxlbWVudCBhbmQgdGhlIGhvb2sgdGhhdCBtb2RpZmllcyBcclxuICAgIC8vIHRoZSBwcm9wcyBhbmQgYWxsb3dzIHVzIHRvIGFjdHVhbGx5IGZpbmQgdGhlIGVsZW1lbnRcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgdXNlUmVmRWxlbWVudFByb3BzLFxyXG4gICAgICAgIGdldEVsZW1lbnRcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBoIH0gZnJvbSBcInByZWFjdFwiO1xyXG5pbXBvcnQgeyB1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tIFwicHJlYWN0L2hvb2tzXCI7XHJcbmltcG9ydCB7IGdldERvY3VtZW50IH0gZnJvbSBcIi4vdXNlLWRvY3VtZW50LWNsYXNzXCI7XHJcbmltcG9ydCB7IE9uUGFzc2l2ZVN0YXRlQ2hhbmdlLCByZXR1cm5OdWxsLCB1c2VFbnN1cmVTdGFiaWxpdHksIHVzZVBhc3NpdmVTdGF0ZSB9IGZyb20gXCIuL3VzZS1wYXNzaXZlLXN0YXRlXCI7XHJcbmltcG9ydCB7IHVzZVJlZkVsZW1lbnQsIFVzZVJlZkVsZW1lbnRQcm9wcyB9IGZyb20gXCIuL3VzZS1yZWYtZWxlbWVudFwiO1xyXG5cclxuaW50ZXJmYWNlIFVzZUVsZW1lbnRTaXplUGFyYW1ldGVycyB7XHJcbiAgICAvKipcclxuICAgICAqIENhbGxlZCBhbnkgdGltZSB0aGUgYnJvd3NlciBkZXRlY3RzIGEgc2l6ZSBjaGFuZ2VcclxuICAgICAqIG9uIHRoZSBlbGVtZW50LiBEb2VzIG5vdCBuZWVkIHRvIGJlIHN0YWJsZSwgc28geW91XHJcbiAgICAgKiBjYW4gcGFzcyBhbiBhbm9ueW1vdXMgZnVuY3Rpb24gdGhhdCBvbmx5IHNldHMgdGhlXHJcbiAgICAgKiB2YWx1ZXMgeW91IHVzZSBpZiB5b3UnZCBsaWtlLlxyXG4gICAgICogQHBhcmFtIHNpemVJbmZvIFxyXG4gICAgICovXHJcbiAgICBvblNpemVDaGFuZ2Uoc2l6ZUluZm86IEVsZW1lbnRTaXplKTogdm9pZDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFBhc3NlZCBhcyBhbiBhcmd1bWVudCB0byB0aGUgY3JlYXRlZCBSZXNpemVPYnNlcnZlci5cclxuICAgICAqIFxyXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUmVzaXplT2JzZXJ2ZXIvb2JzZXJ2ZSNwYXJhbWV0ZXJzXHJcbiAgICAgKi9cclxuICAgIGdldE9ic2VydmVCb3g/KCk6IFJlc2l6ZU9ic2VydmVyT3B0aW9uc1tcImJveFwiXTtcclxufVxyXG5cclxuZXhwb3J0IHR5cGUgVXNlRWxlbWVudFNpemVQcm9wczxFIGV4dGVuZHMgSFRNTEVsZW1lbnQ+ID0gVXNlUmVmRWxlbWVudFByb3BzPEU+O1xyXG5leHBvcnQgaW50ZXJmYWNlIFVzZUVsZW1lbnRTaXplUHJvcHNQYXJhbWV0ZXJzPEUgZXh0ZW5kcyBIVE1MRWxlbWVudD4gZXh0ZW5kcyBoLkpTWC5IVE1MQXR0cmlidXRlczxFPiB7IH1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgRWxlbWVudFNpemUge1xyXG4gICAgY2xpZW50V2lkdGg6IG51bWJlcjtcclxuICAgIHNjcm9sbFdpZHRoOiBudW1iZXI7XHJcbiAgICBvZmZzZXRXaWR0aDogbnVtYmVyIHwgdW5kZWZpbmVkO1xyXG4gICAgY2xpZW50SGVpZ2h0OiBudW1iZXI7XHJcbiAgICBzY3JvbGxIZWlnaHQ6IG51bWJlcjtcclxuICAgIG9mZnNldEhlaWdodDogbnVtYmVyIHwgdW5kZWZpbmVkO1xyXG4gICAgY2xpZW50TGVmdDogbnVtYmVyO1xyXG4gICAgc2Nyb2xsTGVmdDogbnVtYmVyO1xyXG4gICAgb2Zmc2V0TGVmdDogbnVtYmVyIHwgdW5kZWZpbmVkO1xyXG4gICAgY2xpZW50VG9wOiBudW1iZXI7XHJcbiAgICBzY3JvbGxUb3A6IG51bWJlcjtcclxuICAgIG9mZnNldFRvcDogbnVtYmVyIHwgdW5kZWZpbmVkO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFVzZUVsZW1lbnRTaXplUmV0dXJuVHlwZTxFIGV4dGVuZHMgSFRNTEVsZW1lbnQ+IHtcclxuICAgIGdldEVsZW1lbnQoKTogRSB8IG51bGw7XHJcbiAgICBnZXRTaXplKCk6IEVsZW1lbnRTaXplIHwgbnVsbDtcclxuICAgIHVzZUVsZW1lbnRTaXplUHJvcHM6IFVzZUVsZW1lbnRTaXplUHJvcHM8RT47XHJcbn1cclxuXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdXNlRWxlbWVudFNpemU8RSBleHRlbmRzIEhUTUxFbGVtZW50Pih7IGdldE9ic2VydmVCb3gsIG9uU2l6ZUNoYW5nZSB9OiBVc2VFbGVtZW50U2l6ZVBhcmFtZXRlcnMpOiBVc2VFbGVtZW50U2l6ZVJldHVyblR5cGU8RT4ge1xyXG5cclxuICAgIHVzZUVuc3VyZVN0YWJpbGl0eShcInVzZUVsZW1lbnRTaXplXCIsIGdldE9ic2VydmVCb3gsIG9uU2l6ZUNoYW5nZSk7XHJcblxyXG4gICAgY29uc3QgW2dldFNpemUsIHNldFNpemVdID0gdXNlUGFzc2l2ZVN0YXRlPEVsZW1lbnRTaXplIHwgbnVsbD4ob25TaXplQ2hhbmdlIGFzIE9uUGFzc2l2ZVN0YXRlQ2hhbmdlPEVsZW1lbnRTaXplIHwgbnVsbD4sIHJldHVybk51bGwpO1xyXG5cclxuICAgIGNvbnN0IGN1cnJlbnRPYnNlcnZlQm94ID0gdXNlUmVmPFJlc2l6ZU9ic2VydmVyQm94T3B0aW9ucyB8IHVuZGVmaW5lZD4odW5kZWZpbmVkKTtcclxuXHJcbiAgICBjb25zdCBuZWVkQU5ld09ic2VydmVyID0gdXNlQ2FsbGJhY2soKGVsZW1lbnQ6IEUgfCBudWxsLCBvYnNlcnZlQm94OiBSZXNpemVPYnNlcnZlckJveE9wdGlvbnMgfCB1bmRlZmluZWQpID0+IHtcclxuICAgICAgICBpZiAoZWxlbWVudCkge1xyXG4gICAgICAgICAgICBjb25zdCBkb2N1bWVudCA9IGdldERvY3VtZW50KGVsZW1lbnQpO1xyXG4gICAgICAgICAgICBjb25zdCB3aW5kb3cgPSBkb2N1bWVudC5kZWZhdWx0VmlldztcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZVVwZGF0ZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LmlzQ29ubmVjdGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBjbGllbnRXaWR0aCwgc2Nyb2xsV2lkdGgsIG9mZnNldFdpZHRoLCBjbGllbnRIZWlnaHQsIHNjcm9sbEhlaWdodCwgb2Zmc2V0SGVpZ2h0LCBjbGllbnRMZWZ0LCBzY3JvbGxMZWZ0LCBvZmZzZXRMZWZ0LCBjbGllbnRUb3AsIHNjcm9sbFRvcCwgb2Zmc2V0VG9wIH0gPSBlbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFNpemUoeyBjbGllbnRXaWR0aCwgc2Nyb2xsV2lkdGgsIG9mZnNldFdpZHRoLCBjbGllbnRIZWlnaHQsIHNjcm9sbEhlaWdodCwgb2Zmc2V0SGVpZ2h0LCBjbGllbnRMZWZ0LCBzY3JvbGxMZWZ0LCBvZmZzZXRMZWZ0LCBjbGllbnRUb3AsIHNjcm9sbFRvcCwgb2Zmc2V0VG9wIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgaWYgKHdpbmRvdyAmJiAoXCJSZXNpemVPYnNlcnZlclwiIGluIHdpbmRvdykpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKChfZW50cmllcykgPT4geyBoYW5kbGVVcGRhdGUoKTsgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShlbGVtZW50LCB7IGJveDogb2JzZXJ2ZUJveCB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKCkgPT4gb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBoYW5kbGVVcGRhdGUsIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiAoKSA9PiBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIGhhbmRsZVVwZGF0ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LCBbXSlcclxuXHJcbiAgICBjb25zdCB7IGdldEVsZW1lbnQsIHVzZVJlZkVsZW1lbnRQcm9wcyB9ID0gdXNlUmVmRWxlbWVudDxFPih7IG9uRWxlbWVudENoYW5nZTogdXNlQ2FsbGJhY2soKGU6IEUgfCBudWxsKSA9PiBuZWVkQU5ld09ic2VydmVyKGUsIGdldE9ic2VydmVCb3g/LigpKSwgW10pIH0pO1xyXG5cclxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgaWYgKGdldE9ic2VydmVCb3gpIHtcclxuICAgICAgICAgICAgaWYgKGN1cnJlbnRPYnNlcnZlQm94LmN1cnJlbnQgIT09IGdldE9ic2VydmVCb3goKSlcclxuICAgICAgICAgICAgICAgIG5lZWRBTmV3T2JzZXJ2ZXIoZ2V0RWxlbWVudCgpLCBnZXRPYnNlcnZlQm94KCkpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgZ2V0RWxlbWVudCxcclxuICAgICAgICBnZXRTaXplLFxyXG4gICAgICAgIHVzZUVsZW1lbnRTaXplUHJvcHM6IHVzZVJlZkVsZW1lbnRQcm9wc1xyXG4gICAgfVxyXG5cclxuXHJcbn1cclxuIiwiaW1wb3J0IHsgaCB9IGZyb20gXCJwcmVhY3RcIjtcclxuaW1wb3J0IHsgdXNlQ2FsbGJhY2sgfSBmcm9tIFwicHJlYWN0L2hvb2tzXCI7XHJcbmltcG9ydCB7IEVsZW1lbnRTaXplLCB1c2VFbGVtZW50U2l6ZSB9IGZyb20gXCIuL3VzZS1lbGVtZW50LXNpemVcIjtcclxuaW1wb3J0IHsgcmV0dXJuTnVsbCwgdXNlRW5zdXJlU3RhYmlsaXR5LCB1c2VQYXNzaXZlU3RhdGUgfSBmcm9tIFwiLi91c2UtcGFzc2l2ZS1zdGF0ZVwiO1xyXG5pbXBvcnQgeyB1c2VSZWZFbGVtZW50IH0gZnJvbSBcIi4vdXNlLXJlZi1lbGVtZW50XCI7XHJcblxyXG4vL2V4cG9ydCB0eXBlIEJsb2NrRmxvd0RpcmVjdGlvbiA9IFwiZG93bndhcmRzXCIgfCBcImxlZnR3YXJkc1wiIHwgXCJyaWdodHdhcmRzXCI7XHJcbmV4cG9ydCB0eXBlIFBoeXNpY2FsRGlyZWN0aW9uID0gXCJsdHJcIiB8IFwicnRsXCIgfCBcInR0YlwiIHwgXCJidHRcIjtcclxuZXhwb3J0IHR5cGUgUGh5c2ljYWxPcmllbnRhdGlvbiA9IFwiaG9yaXpvbnRhbFwiIHwgXCJ2ZXJ0aWNhbFwiO1xyXG5leHBvcnQgdHlwZSBQaHlzaWNhbFNpemUgPSBcIndpZHRoXCIgfCBcImhlaWdodFwiO1xyXG5cclxuZXhwb3J0IHR5cGUgTG9naWNhbE9yaWVudGF0aW9uID0gXCJpbmxpbmVcIiB8IFwiYmxvY2tcIjtcclxuXHJcbi8vZXhwb3J0IHR5cGUgTGluZU9yaWVudGF0aW9uID0gXCJ1cHJpZ2h0XCIgfCBcImxlZnRyaWdodFwiIHwgXCJkb3ducmlnaHRcIiB8IFwicmlnaHRyaWdodFwiO1xyXG5cclxudHlwZSBXcml0aW5nTW9kZSA9IFwiaG9yaXpvbnRhbC10YlwiIHwgXCJ2ZXJ0aWNhbC1sclwiIHwgXCJzaWRld2F5cy1ybFwiIHwgXCJ2ZXJ0aWNhbC1ybFwiIHwgXCJzaWRld2F5cy1sclwiO1xyXG50eXBlIERpcmVjdGlvbiA9IFwibHRyXCIgfCBcInJ0bFwiO1xyXG50eXBlIFRleHRPcmllbnRhdGlvbiA9IFwibWl4ZWRcIiB8IFwidXByaWdodFwiIHwgXCJzaWRld2F5c1wiO1xyXG5cclxuZnVuY3Rpb24gY2FwaXRhbGl6ZTxUIGV4dGVuZHMgc3RyaW5nPihzdHI6IFQpOiBDYXBpdGFsaXplPFQ+IHtcclxuICAgIHJldHVybiAoc3RyWzBdLnRvVXBwZXJDYXNlKCkgKyBzdHIuc3Vic3RyKDEpKSBhcyBDYXBpdGFsaXplPFQ+O1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFVzZUxvZ2ljYWxEaXJlY3Rpb25QYXJhbWV0ZXJzIHtcclxuICAgIG9uTG9naWNhbERpcmVjdGlvbkNoYW5nZT8oaW5mbzogTG9naWNhbERpcmVjdGlvbkluZm8gfCBudWxsKTogdm9pZDtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBMb2dpY2FsRWxlbWVudFNpemUge1xyXG4gICAgY2xpZW50SW5saW5lU2l6ZTogbnVtYmVyO1xyXG4gICAgc2Nyb2xsSW5saW5lU2l6ZTogbnVtYmVyO1xyXG4gICAgb2Zmc2V0SW5saW5lU2l6ZTogbnVtYmVyIHwgdW5kZWZpbmVkO1xyXG4gICAgY2xpZW50QmxvY2tTaXplOiBudW1iZXI7XHJcbiAgICBzY3JvbGxCbG9ja1NpemU6IG51bWJlcjtcclxuICAgIG9mZnNldEJsb2NrU2l6ZTogbnVtYmVyIHwgdW5kZWZpbmVkO1xyXG4gICAgY2xpZW50SW5saW5lSW5zZXQ6IG51bWJlcjtcclxuICAgIHNjcm9sbElubGluZUluc2V0OiBudW1iZXI7XHJcbiAgICBvZmZzZXRJbmxpbmVJbnNldDogbnVtYmVyIHwgdW5kZWZpbmVkO1xyXG4gICAgY2xpZW50QmxvY2tJbnNldDogbnVtYmVyO1xyXG4gICAgc2Nyb2xsQmxvY2tJbnNldDogbnVtYmVyO1xyXG4gICAgb2Zmc2V0QmxvY2tJbnNldDogbnVtYmVyIHwgdW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogSW5zcGVjdHMgdGhlIGVsZW1lbnQncyBzdHlsZSBhbmQgZGV0ZXJtaW5lcyB0aGUgbG9naWNhbCBkaXJlY3Rpb24gdGhhdCB0ZXh0IGZsb3dzLlxyXG4gKiBcclxuICogQ2VydGFpbiBDU1MgcHJvcGVydGllcywgbGlrZSBgYmxvY2stc2l6ZWAsIHJlc3BlY3QgdGhlIGN1cnJlbnQgd3JpdGluZyBtb2RlIGFuZCB0ZXh0IGRpcmVjdGlvbi5cclxuICogQnV0IGB0cmFuc2Zvcm1gLCBgY2xpcGAsIGV0Yy4gZG9uJ3QuXHJcbiAqIFxyXG4gKiBUaGlzIGlzIHByb3ZpZGVkIHNvIHRoYXQgQ1NTIHByb3BlcnRpZXMgY2FuIGNvbnNpc3RlbnRseSB1c2UgdGhvc2UgbG9naWNhbCBwcm9wZXJ0aWVzLlxyXG4gKiBcclxuICogU2VlIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3Mtd3JpdGluZy1tb2Rlcy8jbG9naWNhbC10by1waHlzaWNhbFxyXG4gKiBcclxuICogQHJldHVybnMgQW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGZvbGxvd2luZyBmdW5jdGlvbnM6XHJcbiAqICogYGdldExvZ2ljYWxEaXJlY3Rpb25gOiByZXRyaWV2ZXMgYSBgTG9naWNhbERpcmVjdGlvbkluZm9gIHJlcHJlc2VudGluZyB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgZWxlbWVudC4gKEZ1bmN0aW9uIGlzIGNvbnN0YW50IGJldHdlZW4gcmVuZGVycylcclxuICogKiBgY29udmVydEVsZW1lbnRTaXplYDogV2hlbiB1c2VkIGluIGNvbmp1bmN0aW9uIHdpdGggYHVzZUVsZW1lbnRTaXplYCwgYWxsb3dzIHlvdSB0byByZXRyaWV2ZSB0aGUgbG9naWNhbCBzaXplIG9mIGFuIGVsZW1lbnQgaW5zdGVhZCBvZiB0aGUgcGh5c2ljYWwgc2l6ZS4gXHJcbiAqICogYGNvbnZlcnRUb0xvZ2ljYWxPcmllbnRhdGlvbmA6IEJhc2VkIG9uIHRoZSBjdXJyZW50IGRpcmVjdGlvbiwgY29udmVydHMgXCJob3Jpem9udGFsXCIgb3IgXCJ2ZXJ0aWNhbFwiIHRvIFwiaW5saW5lXCIgb3IgXCJibG9ja1wiLlxyXG4gKiAqIGBjb252ZXJ0VG9QaHlzaWNhbE9yaWVudGF0aW9uYDogIEJhc2VkIG9uIHRoZSBjdXJyZW50IGRpcmVjdGlvbiwgY29udmVydHMgXCJpbmxpbmVcIiBvciBcImJsb2NrXCIgdG8gXCJob3Jpem9udGFsXCIgb3IgXCJ2ZXJ0aWNhbFwiLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHVzZUxvZ2ljYWxEaXJlY3Rpb248VCBleHRlbmRzIEVsZW1lbnQ+KHsgb25Mb2dpY2FsRGlyZWN0aW9uQ2hhbmdlIH06IFVzZUxvZ2ljYWxEaXJlY3Rpb25QYXJhbWV0ZXJzKTogVXNlTG9naWNhbERpcmVjdGlvblJldHVyblR5cGU8VD4ge1xyXG5cclxuICAgIHVzZUVuc3VyZVN0YWJpbGl0eShcInVzZUxvZ2ljYWxEaXJlY3Rpb25cIiwgb25Mb2dpY2FsRGlyZWN0aW9uQ2hhbmdlKTtcclxuXHJcbiAgICBjb25zdCBbZ2V0Q29tcHV0ZWRTdHlsZXMsIHNldENvbXB1dGVkU3R5bGVzXSA9IHVzZVBhc3NpdmVTdGF0ZTxDU1NTdHlsZURlY2xhcmF0aW9uIHwgbnVsbD4obnVsbCwgcmV0dXJuTnVsbCk7XHJcblxyXG5cclxuICAgIGNvbnN0IHsgZ2V0RWxlbWVudCwgdXNlUmVmRWxlbWVudFByb3BzIH0gPSB1c2VSZWZFbGVtZW50PFQ+KHtcclxuICAgICAgICBvbkVsZW1lbnRDaGFuZ2U6IHVzZUNhbGxiYWNrKChlbGVtZW50OiBUIHwgbnVsbCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgc2V0Q29tcHV0ZWRTdHlsZXMod2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgW10pXHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBUT0RPOiBUaGVyZSdzIG5vIHdheSB0byByZWZyZXNoIHdoaWNoIHdyaXRpbmcgbW9kZSB3ZSBoYXZlIG9uY2UgbW91bnRlZC5cclxuICAgIC8vICAgQS4gVGhlcmUncyBubyB3YXkgdG8gd2F0Y2ggZm9yIENTUyBzdHlsZSBjaGFuZ2VzXHJcbiAgICAvLyAgIEIuIENhbGxpbmcgZ2V0Q29tcHV0ZWRTdHlsZSBhZnRlciBldmVyeSByZW5kZXIgZm9yIGV2ZXJ5IGVsZW1lbnQgZ2V0cyBleHBlbnNpdmUgZmFzdCBhbmRcclxuICAgIC8vICAgQy4gSXMgbm90IG5lY2Vzc2FyeSBmb3IgbW9zdCB1c2UgY2FzZXMgdGhhdCB3aWxsIG5ldmVyIHN3aXRjaCB3cml0aW5nLW1vZGUgd2l0aGluIGEgc2luZ2xlIGNvbXBvbmVudFxyXG4gICAgLy8gICAgICAoVGhvc2UgdGhhdCBkbyB3aWxsIG5lZWQgdG8gbW91bnQgYW5kIHVubW91bnQgdGhlIGNvbXBvbmVudCB0aGF0IHVzZXMgaXQpXHJcbiAgICAvL1xyXG4gICAgLy8gQXMgYSBzb2x1dGlvbiwgaGVyZSdzIGEgY2hlYXAgd29ya2Fyb3VuZCB0aGF0IGNoZWNrcyB3aGVuIHRoZSBlbGVtZW50J3Mgc2l6ZSBoYXMgY2hhbmdlZCxcclxuICAgIC8vIGFuZCBpZiBzbywgdGVzdHMgaWYgdGhlIHdyaXRpbmcgbW9kZSBoYXMgY2hhbmdlZCB0b28uXHJcbiAgICAvL1xyXG4gICAgLy8gVGhpcyB3aWxsIHdvcmsgZm9yIGF0IGxlYXN0IHNvbWUgbnVtYmVyIG9mIGNhc2VzLCBidXQgYSBiZXR0ZXIgc29sdXRpb24gaXMgc3RpbGwgbmVlZGVkLlxyXG4gICAgY29uc3QgeyB1c2VFbGVtZW50U2l6ZVByb3BzIH0gPSB1c2VFbGVtZW50U2l6ZSh7IG9uU2l6ZUNoYW5nZTogdXNlQ2FsbGJhY2soXyA9PiBvbkxvZ2ljYWxEaXJlY3Rpb25DaGFuZ2U/LihnZXRMb2dpY2FsRGlyZWN0aW9uSW5mbygpKSwgW10pIH0pXHJcblxyXG4gICAgY29uc3QgZ2V0TG9naWNhbERpcmVjdGlvbkluZm8gPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgY29tcHV0ZWRTdHlsZXMgPSBnZXRDb21wdXRlZFN0eWxlcygpO1xyXG4gICAgICAgIGlmIChjb21wdXRlZFN0eWxlcykge1xyXG4gICAgICAgICAgICBjb25zdCB3ID0gY29tcHV0ZWRTdHlsZXMud3JpdGluZ01vZGUgYXMgV3JpdGluZ01vZGU7XHJcbiAgICAgICAgICAgIGxldCBkID0gY29tcHV0ZWRTdHlsZXMuZGlyZWN0aW9uIGFzIERpcmVjdGlvbjtcclxuICAgICAgICAgICAgY29uc3QgdCA9IGNvbXB1dGVkU3R5bGVzLnRleHRPcmllbnRhdGlvbiBhcyBUZXh0T3JpZW50YXRpb247XHJcblxyXG4gICAgICAgICAgICBpZiAodCA9PSBcInVwcmlnaHRcIilcclxuICAgICAgICAgICAgICAgIGQgPSBcImx0clwiO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuICh7IC4uLldyaXRpbmdNb2Rlc1t3IHx8IFwiaG9yaXpvbnRhbC10YlwiXVtkIHx8IFwibHRyXCJdIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9LCBbXSlcclxuXHJcbiAgICAvL2NvbnN0IFtnZXRMb2dpY2FsRGlyZWN0aW9uSW5mbywgc2V0TG9naWNhbERpcmVjdGlvbkluZm9dID0gdXNlUGFzc2l2ZVN0YXRlPExvZ2ljYWxEaXJlY3Rpb25JbmZvPihvbkxvZ2ljYWxEaXJlY3Rpb25DaGFuZ2UpO1xyXG5cclxuICAgIGNvbnN0IGNvbnZlcnRUb0xvZ2ljYWxPcmllbnRhdGlvbiA9IHVzZUNhbGxiYWNrKChlbGVtZW50T3JpZW50YXRpb246IFBoeXNpY2FsT3JpZW50YXRpb24sIGRpcmVjdGlvbj86IExvZ2ljYWxEaXJlY3Rpb25JbmZvIHwgbnVsbCB8IHVuZGVmaW5lZCkgPT4ge1xyXG4gICAgICAgIGRpcmVjdGlvbiA/Pz0gZ2V0TG9naWNhbERpcmVjdGlvbkluZm8oKTtcclxuICAgICAgICBpZiAoZGlyZWN0aW9uPy5pbmxpbmVPcmllbnRhdGlvbiA9PT0gZWxlbWVudE9yaWVudGF0aW9uKVxyXG4gICAgICAgICAgICByZXR1cm4gXCJpbmxpbmVcIjtcclxuICAgICAgICByZXR1cm4gXCJibG9ja1wiO1xyXG4gICAgfSwgW10pO1xyXG5cclxuICAgIGNvbnN0IGNvbnZlcnRUb1BoeXNpY2FsU2lkZSA9IHVzZUNhbGxiYWNrKChzaWRlOiBcImlubGluZS1zdGFydFwiIHwgXCJpbmxpbmUtZW5kXCIgfCBcImJsb2NrLXN0YXJ0XCIgfCBcImJsb2NrLWVuZFwiLCBkaXJlY3Rpb24/OiBMb2dpY2FsRGlyZWN0aW9uSW5mbyB8IG51bGwgfCB1bmRlZmluZWQpOiBcInRvcFwiIHwgXCJib3R0b21cIiB8IFwibGVmdFwiIHwgXCJyaWdodFwiID0+IHtcclxuICAgICAgICBkaXJlY3Rpb24gPz89IGdldExvZ2ljYWxEaXJlY3Rpb25JbmZvKCk7XHJcblxyXG4gICAgICAgIHN3aXRjaCAoc2lkZSkge1xyXG4gICAgICAgICAgICBjYXNlIFwiYmxvY2stc3RhcnRcIjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBNWyhkaXJlY3Rpb24/LmJsb2NrRGlyZWN0aW9uID8/IFwidHRiXCIpWzBdIGFzIFwidFwiIHwgXCJiXCIgfCBcImxcIiB8IFwiclwiXTtcclxuICAgICAgICAgICAgY2FzZSBcImJsb2NrLWVuZFwiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE1bKGRpcmVjdGlvbj8uYmxvY2tEaXJlY3Rpb24gPz8gXCJ0dGJcIilbMl0gYXMgXCJ0XCIgfCBcImJcIiB8IFwibFwiIHwgXCJyXCJdO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBcImlubGluZS1zdGFydFwiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE1bKGRpcmVjdGlvbj8uaW5saW5lRGlyZWN0aW9uID8/IFwibHRyXCIpWzBdIGFzIFwidFwiIHwgXCJiXCIgfCBcImxcIiB8IFwiclwiXTtcclxuICAgICAgICAgICAgY2FzZSBcImlubGluZS1lbmRcIjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBNWyhkaXJlY3Rpb24/LmlubGluZURpcmVjdGlvbiA/PyBcImx0clwiKVsyXSBhcyBcInRcIiB8IFwiYlwiIHwgXCJsXCIgfCBcInJcIl07XHJcbiAgICAgICAgfVxyXG4gICAgfSwgW10pXHJcblxyXG4gICAgY29uc3QgY29udmVydFRvTG9naWNhbFNpZGUgPSB1c2VDYWxsYmFjaygoc2lkZTogXCJ0b3BcIiB8IFwiYm90dG9tXCIgfCBcImxlZnRcIiB8IFwicmlnaHRcIiwgZGlyZWN0aW9uPzogTG9naWNhbERpcmVjdGlvbkluZm8gfCBudWxsIHwgdW5kZWZpbmVkKTogXCJpbmxpbmUtc3RhcnRcIiB8IFwiaW5saW5lLWVuZFwiIHwgXCJibG9jay1zdGFydFwiIHwgXCJibG9jay1lbmRcIiA9PiB7XHJcbiAgICAgICAgZGlyZWN0aW9uID8/PSBnZXRMb2dpY2FsRGlyZWN0aW9uSW5mbygpO1xyXG4gICAgICAgIGlmIChkaXJlY3Rpb24/LmlubGluZU9yaWVudGF0aW9uID09PSBcInZlcnRpY2FsXCIpIHtcclxuICAgICAgICAgICAgc3dpdGNoIChzaWRlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwidG9wXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRpcmVjdGlvbi5pbmxpbmVEaXJlY3Rpb24gPT09IFwidHRiXCIgPyBcImlubGluZS1zdGFydFwiIDogXCJpbmxpbmUtZW5kXCI7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiYm90dG9tXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRpcmVjdGlvbi5pbmxpbmVEaXJlY3Rpb24gPT09IFwiYnR0XCIgPyBcImlubGluZS1zdGFydFwiIDogXCJpbmxpbmUtZW5kXCI7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBcImxlZnRcIjpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGlyZWN0aW9uLmJsb2NrRGlyZWN0aW9uID09PSBcImx0clwiID8gXCJibG9jay1zdGFydFwiIDogXCJibG9jay1lbmRcIjtcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJyaWdodFwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkaXJlY3Rpb24uYmxvY2tEaXJlY3Rpb24gPT09IFwicnRsXCIgPyBcImJsb2NrLXN0YXJ0XCIgOiBcImJsb2NrLWVuZFwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGRpcmVjdGlvbj8uaW5saW5lT3JpZW50YXRpb24gPT09IFwiaG9yaXpvbnRhbFwiKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoc2lkZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcInRvcFwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkaXJlY3Rpb24uYmxvY2tEaXJlY3Rpb24gPT09IFwidHRiXCIgPyBcImJsb2NrLXN0YXJ0XCIgOiBcImJsb2NrLWVuZFwiO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcImJvdHRvbVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkaXJlY3Rpb24uYmxvY2tEaXJlY3Rpb24gPT09IFwiYnR0XCIgPyBcImJsb2NrLXN0YXJ0XCIgOiBcImJsb2NrLWVuZFwiO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgXCJsZWZ0XCI6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRpcmVjdGlvbi5pbmxpbmVEaXJlY3Rpb24gPT09IFwibHRyXCIgPyBcImlubGluZS1zdGFydFwiIDogXCJpbmxpbmUtZW5kXCI7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwicmlnaHRcIjpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGlyZWN0aW9uLmlubGluZURpcmVjdGlvbiA9PT0gXCJydGxcIiA/IFwiaW5saW5lLXN0YXJ0XCIgOiBcImlubGluZS1lbmRcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tZGVidWdnZXIgKi9cclxuICAgICAgICBkZWJ1Z2dlcjtcclxuICAgICAgICBjb25zb2xlLmFzc2VydChmYWxzZSk7XHJcbiAgICAgICAgcmV0dXJuIFwiaW5saW5lLXN0YXJ0XCI7XHJcblxyXG4gICAgfSwgW10pXHJcblxyXG4gICAgY29uc3QgY29udmVydFRvUGh5c2ljYWxPcmllbnRhdGlvbiA9IHVzZUNhbGxiYWNrKChlbGVtZW50T3JpZW50YXRpb246IExvZ2ljYWxPcmllbnRhdGlvbiwgZGlyZWN0aW9uPzogTG9naWNhbERpcmVjdGlvbkluZm8gfCBudWxsIHwgdW5kZWZpbmVkKSA9PiB7XHJcbiAgICAgICAgZGlyZWN0aW9uID8/PSBnZXRMb2dpY2FsRGlyZWN0aW9uSW5mbygpO1xyXG4gICAgICAgIGlmIChlbGVtZW50T3JpZW50YXRpb24gPT0gXCJpbmxpbmVcIikge1xyXG4gICAgICAgICAgICBpZiAoZGlyZWN0aW9uPy5pbmxpbmVPcmllbnRhdGlvbiA9PSBcImhvcml6b250YWxcIilcclxuICAgICAgICAgICAgICAgIHJldHVybiBcImhvcml6b250YWxcIjtcclxuICAgICAgICAgICAgcmV0dXJuIFwidmVydGljYWxcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChkaXJlY3Rpb24/LmJsb2NrT3JpZW50YXRpb24gPT0gXCJ2ZXJ0aWNhbFwiKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwidmVydGljYWxcIjtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBcImhvcml6b250YWxcIjtcclxuICAgICAgICB9XHJcbiAgICB9LCBbXSk7XHJcblxyXG4gICAgY29uc3QgY29udmVydEVsZW1lbnRTaXplID0gdXNlQ2FsbGJhY2soKGVsZW1lbnRTaXplOiBFbGVtZW50U2l6ZSwgZGlyZWN0aW9uPzogTG9naWNhbERpcmVjdGlvbkluZm8gfCBudWxsIHwgdW5kZWZpbmVkKTogTG9naWNhbEVsZW1lbnRTaXplIHwgbnVsbCA9PiB7XHJcbiAgICAgICAgZGlyZWN0aW9uID8/PSBnZXRMb2dpY2FsRGlyZWN0aW9uSW5mbygpO1xyXG4gICAgICAgIGlmIChkaXJlY3Rpb24pIHtcclxuICAgICAgICAgICAgY29uc3QgeyBpbmxpbmVTaXplLCBibG9ja1NpemUsIGlubGluZURpcmVjdGlvbiwgYmxvY2tEaXJlY3Rpb24gfSA9IGRpcmVjdGlvbjtcclxuXHJcbiAgICAgICAgICAgIC8vIFNpemUgaXMgcmVsYXRpdmVseSBzaW1wbGVcclxuICAgICAgICAgICAgY29uc3QgY2xpZW50SW5saW5lU2l6ZSA9IGVsZW1lbnRTaXplW2BjbGllbnQke2NhcGl0YWxpemUoaW5saW5lU2l6ZSl9YF07XHJcbiAgICAgICAgICAgIGNvbnN0IGNsaWVudEJsb2NrU2l6ZSA9IGVsZW1lbnRTaXplW2BjbGllbnQke2NhcGl0YWxpemUoYmxvY2tTaXplKX1gXTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IG9mZnNldElubGluZVNpemUgPSBlbGVtZW50U2l6ZVtgb2Zmc2V0JHtjYXBpdGFsaXplKGlubGluZVNpemUpfWBdO1xyXG4gICAgICAgICAgICBjb25zdCBvZmZzZXRCbG9ja1NpemUgPSBlbGVtZW50U2l6ZVtgb2Zmc2V0JHtjYXBpdGFsaXplKGJsb2NrU2l6ZSl9YF07XHJcblxyXG4gICAgICAgICAgICBjb25zdCBzY3JvbGxJbmxpbmVTaXplID0gZWxlbWVudFNpemVbYHNjcm9sbCR7Y2FwaXRhbGl6ZShpbmxpbmVTaXplKX1gXTtcclxuICAgICAgICAgICAgY29uc3Qgc2Nyb2xsQmxvY2tTaXplID0gZWxlbWVudFNpemVbYHNjcm9sbCR7Y2FwaXRhbGl6ZShibG9ja1NpemUpfWBdO1xyXG5cclxuXHJcblxyXG5cclxuICAgICAgICAgICAgY29uc3QgZjEgPSBnZXRQaHlzaWNhbExlZnRUb3AoaW5saW5lRGlyZWN0aW9uKTtcclxuICAgICAgICAgICAgY29uc3QgZjIgPSBnZXRQaHlzaWNhbFJpZ2h0Qm90dG9tKGlubGluZURpcmVjdGlvbik7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBmMyA9IGdldFBoeXNpY2FsTGVmdFRvcChibG9ja0RpcmVjdGlvbik7XHJcbiAgICAgICAgICAgIGNvbnN0IGY0ID0gZ2V0UGh5c2ljYWxSaWdodEJvdHRvbShibG9ja0RpcmVjdGlvbik7XHJcblxyXG5cclxuICAgICAgICAgICBjb25zdCBjbGllbnRJbmxpbmVJbnNldCA9IGVsZW1lbnRTaXplW2BjbGllbnQke2NhcGl0YWxpemUoZjEpfWBdICsgKCFmMiA/IDAgOiBlbGVtZW50U2l6ZVtgY2xpZW50JHtjYXBpdGFsaXplKGYyKX1gXSk7XHJcbiAgICAgICAgICAgY29uc3Qgc2Nyb2xsSW5saW5lSW5zZXQgPSBlbGVtZW50U2l6ZVtgc2Nyb2xsJHtjYXBpdGFsaXplKGYxKX1gXSArICghZjIgPyAwIDogZWxlbWVudFNpemVbYHNjcm9sbCR7Y2FwaXRhbGl6ZShmMil9YF0pO1xyXG4gICAgICAgICAgIGNvbnN0IG9mZnNldElubGluZUluc2V0ID0gZWxlbWVudFNpemVbYG9mZnNldCR7Y2FwaXRhbGl6ZShmMSl9YF0gPT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkIDogKGVsZW1lbnRTaXplW2BvZmZzZXQke2NhcGl0YWxpemUoZjEpfWBdISArICghZjIgPyAwIDogZWxlbWVudFNpemVbYG9mZnNldCR7Y2FwaXRhbGl6ZShmMil9YF0hKSk7XHJcblxyXG5cclxuICAgICAgICAgICAgY29uc3QgY2xpZW50QmxvY2tJbnNldCA9IGVsZW1lbnRTaXplW2BjbGllbnQke2NhcGl0YWxpemUoZjMpfWBdICsgKCFmNCA/IDAgOiBlbGVtZW50U2l6ZVtgY2xpZW50JHtjYXBpdGFsaXplKGY0KX1gXSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHNjcm9sbEJsb2NrSW5zZXQgPSBlbGVtZW50U2l6ZVtgc2Nyb2xsJHtjYXBpdGFsaXplKGYzKX1gXSArICghZjQgPyAwIDogZWxlbWVudFNpemVbYHNjcm9sbCR7Y2FwaXRhbGl6ZShmNCl9YF0pO1xyXG4gICAgICAgICAgICBjb25zdCBvZmZzZXRCbG9ja0luc2V0ID0gZWxlbWVudFNpemVbYG9mZnNldCR7Y2FwaXRhbGl6ZShmMyl9YF0gPT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkIDogKGVsZW1lbnRTaXplW2BvZmZzZXQke2NhcGl0YWxpemUoZjMpfWBdISArICghZjQgPyAwIDogZWxlbWVudFNpemVbYG9mZnNldCR7Y2FwaXRhbGl6ZShmNCl9YF0hKSk7XHJcblxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIGNsaWVudElubGluZVNpemUsXHJcbiAgICAgICAgICAgICAgICBzY3JvbGxJbmxpbmVTaXplLFxyXG4gICAgICAgICAgICAgICAgb2Zmc2V0SW5saW5lU2l6ZSxcclxuICAgICAgICAgICAgICAgIGNsaWVudEJsb2NrU2l6ZSxcclxuICAgICAgICAgICAgICAgIHNjcm9sbEJsb2NrU2l6ZSxcclxuICAgICAgICAgICAgICAgIG9mZnNldEJsb2NrU2l6ZSxcclxuICAgICAgICAgICAgICAgIGNsaWVudElubGluZUluc2V0LFxyXG4gICAgICAgICAgICAgICAgc2Nyb2xsSW5saW5lSW5zZXQsXHJcbiAgICAgICAgICAgICAgICBvZmZzZXRJbmxpbmVJbnNldCxcclxuICAgICAgICAgICAgICAgIGNsaWVudEJsb2NrSW5zZXQsXHJcbiAgICAgICAgICAgICAgICBzY3JvbGxCbG9ja0luc2V0LFxyXG4gICAgICAgICAgICAgICAgb2Zmc2V0QmxvY2tJbnNldCxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgfSwgW10pO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgdXNlTG9naWNhbERpcmVjdGlvblByb3BzOiB1c2VDYWxsYmFjaygocHJvcHM6IGguSlNYLkhUTUxBdHRyaWJ1dGVzPFQ+KSA9PiB1c2VSZWZFbGVtZW50UHJvcHModXNlRWxlbWVudFNpemVQcm9wcyhwcm9wcykpLCBbXSksXHJcbiAgICAgICAgZ2V0RWxlbWVudCxcclxuICAgICAgICBnZXRMb2dpY2FsRGlyZWN0aW9uSW5mbyxcclxuICAgICAgICBjb252ZXJ0VG9Mb2dpY2FsU2l6ZTogY29udmVydEVsZW1lbnRTaXplLFxyXG4gICAgICAgIGNvbnZlcnRUb0xvZ2ljYWxPcmllbnRhdGlvbixcclxuICAgICAgICBjb252ZXJ0VG9QaHlzaWNhbE9yaWVudGF0aW9uLFxyXG4gICAgICAgIGNvbnZlcnRUb0xvZ2ljYWxTaWRlLFxyXG4gICAgICAgIGNvbnZlcnRUb1BoeXNpY2FsU2lkZVxyXG4gICAgfTtcclxufVxyXG5cclxuLy8gUG9zaXRpb24gcmVxdWlyZXMgdXMgdG8gc29tZXRpbWVzIHVzZSBvbmUgcHJvcGVydHkgKGxpa2UgYGxlZnRgKVxyXG4vLyBvciBzb21ldGltZXMgdHdvIChsaWtlIGBsZWZ0YCArIGB3aWR0aGApXHJcbmZ1bmN0aW9uIGdldFBoeXNpY2FsTGVmdFRvcChkaXI6IFBoeXNpY2FsRGlyZWN0aW9uKSB7IGlmIChkaXIgPT09IFwibHRyXCIgfHwgZGlyID09IFwicnRsXCIpIHJldHVybiBcImxlZnRcIjsgcmV0dXJuIFwidG9wXCI7IH1cclxuZnVuY3Rpb24gZ2V0UGh5c2ljYWxSaWdodEJvdHRvbShkaXI6IFBoeXNpY2FsRGlyZWN0aW9uKSB7IGlmIChkaXIgPT09IFwicnRsXCIpIHJldHVybiBcIndpZHRoXCI7IGlmIChkaXIgPT09IFwiYnR0XCIpIHJldHVybiBcImhlaWdodFwiOyByZXR1cm4gbnVsbDsgfVxyXG5cclxuLy8gSGVscGVyIGZvciBleHRyYWN0aW5nIGluZm8gZnJvbSBcImx0clwiLCBcInR0YlwiLCBldGMuXHJcbmNvbnN0IE0gPSB7XHJcbiAgICB0OiBcInRvcFwiLFxyXG4gICAgYjogXCJib3R0b21cIixcclxuICAgIGw6IFwibGVmdFwiLFxyXG4gICAgcjogXCJyaWdodFwiXHJcbn0gYXMgY29uc3Q7XHJcblxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBVc2VMb2dpY2FsRGlyZWN0aW9uUmV0dXJuVHlwZTxUIGV4dGVuZHMgRXZlbnRUYXJnZXQ+IHtcclxuICAgIHVzZUxvZ2ljYWxEaXJlY3Rpb25Qcm9wczogKHByb3BzOiBoLkpTWC5IVE1MQXR0cmlidXRlczxUPikgPT4gaC5KU1guSFRNTEF0dHJpYnV0ZXM8VD47XHJcbiAgICBnZXRFbGVtZW50OiAoKSA9PiBUIHwgbnVsbDtcclxuICAgIGdldExvZ2ljYWxEaXJlY3Rpb25JbmZvOiAoKSA9PiBMb2dpY2FsRGlyZWN0aW9uSW5mbyB8IG51bGw7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHaXZlbiB0aGUgRWxlbWVudFNpemUgaW5mbyBmcm9tIHVzZUVsZW1lbnRTaXplLCBjb252ZXJ0cyBhbGwgdGhvc2UgcGh5c2ljYWwgcHJvcGVydGllcyB0byB0aGVpciBsb2dpY2FsIGNvdW50ZXJwYXJ0cy5cclxuICAgICAqL1xyXG4gICAgY29udmVydFRvTG9naWNhbFNpemU6IChlbGVtZW50U2l6ZTogRWxlbWVudFNpemUsIGRpcmVjdGlvbj86IExvZ2ljYWxEaXJlY3Rpb25JbmZvIHwgbnVsbCB8IHVuZGVmaW5lZCkgPT4gTG9naWNhbEVsZW1lbnRTaXplIHwgbnVsbDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFR1cm5zIGBcImhvcml6b250YWxcIiB8IFwidmVydGljYWxcImAgaW50byBgXCJpbmxpbmVcIiB8IFwiYmxvY2tcImBcclxuICAgICAqL1xyXG4gICAgY29udmVydFRvTG9naWNhbE9yaWVudGF0aW9uOiAoZWxlbWVudE9yaWVudGF0aW9uOiBQaHlzaWNhbE9yaWVudGF0aW9uLCBkaXJlY3Rpb24/OiBMb2dpY2FsRGlyZWN0aW9uSW5mbyB8IG51bGwgfCB1bmRlZmluZWQpID0+IFwiaW5saW5lXCIgfCBcImJsb2NrXCI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUdXJucyBgXCJpbmxpbmVcIiB8IFwiYmxvY2tcImAgaW50byBgXCJob3Jpem9udGFsXCIgfCBcInZlcnRpY2FsXCJgXHJcbiAgICAgKi9cclxuICAgIGNvbnZlcnRUb1BoeXNpY2FsT3JpZW50YXRpb246IChlbGVtZW50T3JpZW50YXRpb246IExvZ2ljYWxPcmllbnRhdGlvbiwgZGlyZWN0aW9uPzogTG9naWNhbERpcmVjdGlvbkluZm8gfCBudWxsIHwgdW5kZWZpbmVkKSA9PiBcImhvcml6b250YWxcIiB8IFwidmVydGljYWxcIjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFR1cm5zIGBcInRvcFwiIHwgXCJib3R0b21cIiB8IFwibGVmdFwiIHwgXCJyaWdodFwiYCBpbnRvIGBcImJsb2NrLXN0YXJ0XCIgfCBcImJsb2NrLWVuZFwiIHwgXCJpbmxpbmUtc3RhcnRcIiB8IFwiaW5saW5lLWVuZFwiYFxyXG4gICAgICovXHJcbiAgICBjb252ZXJ0VG9Mb2dpY2FsU2lkZTogKHNpZGU6IFwidG9wXCIgfCBcImJvdHRvbVwiIHwgXCJsZWZ0XCIgfCBcInJpZ2h0XCIsIGRpcmVjdGlvbj86IExvZ2ljYWxEaXJlY3Rpb25JbmZvIHwgbnVsbCB8IHVuZGVmaW5lZCkgPT4gXCJpbmxpbmUtc3RhcnRcIiB8IFwiaW5saW5lLWVuZFwiIHwgXCJibG9jay1zdGFydFwiIHwgXCJibG9jay1lbmRcIjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFR1cm5zIGBcImJsb2NrLXN0YXJ0XCIgfCBcImJsb2NrLWVuZFwiIHwgXCJpbmxpbmUtc3RhcnRcIiB8IFwiaW5saW5lLWVuZFwiYCBpbnRvIGBcInRvcFwiIHwgXCJib3R0b21cIiB8IFwibGVmdFwiIHwgXCJyaWdodFwiYFxyXG4gICAgICovXHJcbiAgICBjb252ZXJ0VG9QaHlzaWNhbFNpZGU6IChzaWRlOiBcImlubGluZS1zdGFydFwiIHwgXCJpbmxpbmUtZW5kXCIgfCBcImJsb2NrLXN0YXJ0XCIgfCBcImJsb2NrLWVuZFwiLCBkaXJlY3Rpb24/OiBMb2dpY2FsRGlyZWN0aW9uSW5mbyB8IG51bGwgfCB1bmRlZmluZWQpID0+IFwidG9wXCIgfCBcImJvdHRvbVwiIHwgXCJsZWZ0XCIgfCBcInJpZ2h0XCI7XHJcbn1cclxuXHJcblxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBMb2dpY2FsRGlyZWN0aW9uSW5mbyB7XHJcbiAgICAvKipcclxuICAgICAqIFJlcHJlc2VudHMgdGhlIGRpcmVjdGlvbiB0ZXh0IGZsb3dzLCBnbHlwaCBieSBnbHlwaC4gIEJ5IGZhciB0aGUgbW9zdCBjb21wbGV4IHByb3BlcnR5LlxyXG4gICAgICogXHJcbiAgICAgKiB8YHdyaXRpbmctbW9kZWB8YGRpcmVjdGlvbmB8UmVzdWx0fFxyXG4gICAgICogfC0tLS0tfC0tLS0tfC0tLS0tfFxyXG4gICAgICogfGBob3Jpem9udGFsLXRiYHxgbHRyYHxgbHRyYHxcclxuICAgICAqIHxgaG9yaXpvbnRhbC10YmB8YHJ0bGB8YHJ0bGB8XHJcbiAgICAgKiB8YHZlcnRpY2FsLXJsYCAmIGBzaWRld2F5cy1ybGB8YGx0cmB8YHR0YmB8XHJcbiAgICAgKiB8YHZlcnRpY2FsLXJsYCAmIGBzaWRld2F5cy1ybGB8YHJ0bGB8YGJ0dGB8XHJcbiAgICAgKiB8YHZlcnRpY2FsLWxyYHxgbHRyYHxgdHRiYHxcclxuICAgICAqIHxgdmVydGljYWwtbHJgfGBydGxgfGBidHRgfFxyXG4gICAgICogfGBzaWRld2F5cy1scmB8YGx0cmB8YGJ0dGB8XHJcbiAgICAgKiB8YHNpZGV3YXlzLWxyYHxgcnRsYHxgdHRiYHxcclxuICAgICAqL1xyXG4gICAgaW5saW5lRGlyZWN0aW9uOiBQaHlzaWNhbERpcmVjdGlvbjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFNpbXBsaWZpZWQgdmVyc2lvbiBvZiBgaW5saW5lRGlyZWN0aW9uYDpcclxuICAgICAqIFxyXG4gICAgICogKiBgaG9yaXpvbnRhbGAgZm9yIGBob3Jpem9udGFsLXRiYFxyXG4gICAgICogKiBgdmVydGljYWxgIGZvciBhbGwgb3RoZXJzXHJcbiAgICAgKi9cclxuICAgIGlubGluZU9yaWVudGF0aW9uOiBQaHlzaWNhbE9yaWVudGF0aW9uO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVwcmVzZW50cyB0aGUgZGlyZWN0aW9uIHRleHQgZmxvd3MsIGxpbmUgYnkgbGluZS5cclxuICAgICAqIFxyXG4gICAgICogKiBgdHRiYCBmb3IgYGhvcml6b250YWwtdGJgLCByZWdhcmRsZXNzIG9mIGRpcmVjdGlvblxyXG4gICAgICogKiBgcnRsYCBmb3IgYHZlcnRpY2FsLXJsYCAmIGBzaWRld2F5cy1ybGAsIHJlZ2FyZGxlc3Mgb2YgZGlyZWN0aW9uXHJcbiAgICAgKiAqIGBsdHJgIGZvciBgdmVydGljYWwtbHJgICYgYHNpZGV3YXlzLWxyYCwgcmVnYXJkbGVzcyBvZiBkaXJlY3Rpb25cclxuICAgICAqL1xyXG4gICAgYmxvY2tEaXJlY3Rpb246IFBoeXNpY2FsRGlyZWN0aW9uO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2ltcGxpZmllZCB2ZXJzaW9uIG9mIGBibG9ja0RpcmVjdGlvbmA6XHJcbiAgICAgKiBcclxuICAgICAqICogYHZlcnRpY2FsYCBmb3IgYGhvcml6b250YWwtdGJgXHJcbiAgICAgKiAqIGBob3Jpem9udGFsYCBmb3IgYWxsIG90aGVyc1xyXG4gICAgICovXHJcbiAgICBibG9ja09yaWVudGF0aW9uOiBQaHlzaWNhbE9yaWVudGF0aW9uO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVwcmVzZW50cyBob3cgeW91IGNhbiAqcGh5c2ljYWxseSogcmVmZXIgdG8gdGhlIHNpemUgb2YgdGhlIGVsZW1lbnQgaW4gdGhlICppbmxpbmUqIHNpemUuXHJcbiAgICAgKiBcclxuICAgICAqICogYHdpZHRoYCBmb3IgYGhvcml6b250YWwtdGJgLCByZWdhcmRsZXNzIG9mIGRpcmVjdGlvblxyXG4gICAgICogKiBgaGVpZ2h0YCBmb3IgYWxsIG90aGVyc1xyXG4gICAgICovXHJcbiAgICBpbmxpbmVTaXplOiBQaHlzaWNhbFNpemU7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXByZXNlbnRzIGhvdyB5b3UgY2FuICpwaHlzaWNhbGx5KiByZWZlciB0byB0aGUgc2l6ZSBvZiB0aGUgZWxlbWVudCBpbiB0aGUgKmJsb2NrKiBzaXplLlxyXG4gICAgICogXHJcbiAgICAgKiAqIGBoZWlnaHRgIGZvciBgaG9yaXpvbnRhbC10YmAsIHJlZ2FyZGxlc3Mgb2YgZGlyZWN0aW9uXHJcbiAgICAgKiAqIGB3aWR0aGAgZm9yIGFsbCBvdGhlcnNcclxuICAgICAqL1xyXG4gICAgYmxvY2tTaXplOiBQaHlzaWNhbFNpemU7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBGb3IgZWFjaCBnbHlwaCwgYXNjZW5kZXJzIHRvIGRlc2NlbmRlcnMgKnBoeXNpY2FsbHkqIGdvOlxyXG4gICAgICogXHJcbiAgICAgKiAqIGB0dGJgIGZvciBgaG9yaXpvbnRhbC10YmBcclxuICAgICAqICogYHJ0bGAgZm9yIGB2ZXJ0aWNhbC1ybGAsIGB2ZXJ0aWNhbC1scmAsICYgYHNpZGV3YXlzLXJsYFxyXG4gICAgICogKiBgbHRyYCBmb3IgYHNpZGV3YXlzLWxyYFxyXG4gICAgICovXHJcbiAgICBvdmVyVW5kZXJEaXJlY3Rpb246IFBoeXNpY2FsRGlyZWN0aW9uO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRm9yIGVhY2ggZ2x5cGgsIGl0cyBcImxlZnRcIiBzaWRlICh0aGluayBvZiB0aGlzIHJlbGF0aXZlIHRvIGB3cml0aW5nLW1vZGVgIGJ1dCAqbm90KiByZWxhdGl2ZSB0byBgZGlyZWN0aW9uYCwgb3IgYWx0ZXJuYXRpdmVseSB3aGF0IGB0ZXh0LWFsaWduOiBsZWZ0YCBtZWFucykgdG8gaXRzIFwicmlnaHRcIiBzaWRlICpwaHlzaWNhbGx5KiBnb2VzIGZyb206XHJcbiAgICAgKiBcclxuICAgICAqICogYGx0cmAgZm9yIGBob3Jpem9udGFsLXRiYFxyXG4gICAgICogKiBgdHRiYCBmb3IgYHZlcnRpY2FsLXJsYCwgYHZlcnRpY2FsLWxyYCwgJiBgc2lkZXdheXMtcmxgXHJcbiAgICAgKiAqIGBidHRgIGZvciBgc2lkZXdheXMtbHJgXHJcbiAgICAgKi9cclxuICAgIGxlZnRSaWdodERpcmVjdGlvbjogUGh5c2ljYWxEaXJlY3Rpb247XHJcbn1cclxuXHJcbmNvbnN0IEhvcml6b250YWxUYkx0cjogTG9naWNhbERpcmVjdGlvbkluZm8gPSB7XHJcbiAgICBpbmxpbmVEaXJlY3Rpb246IFwibHRyXCIsXHJcbiAgICBibG9ja0RpcmVjdGlvbjogXCJ0dGJcIixcclxuXHJcbiAgICBpbmxpbmVPcmllbnRhdGlvbjogXCJob3Jpem9udGFsXCIsXHJcbiAgICBibG9ja09yaWVudGF0aW9uOiBcInZlcnRpY2FsXCIsXHJcblxyXG4gICAgaW5saW5lU2l6ZTogXCJ3aWR0aFwiLFxyXG4gICAgYmxvY2tTaXplOiBcImhlaWdodFwiLFxyXG5cclxuICAgIGxlZnRSaWdodERpcmVjdGlvbjogXCJsdHJcIixcclxuICAgIG92ZXJVbmRlckRpcmVjdGlvbjogXCJ0dGJcIlxyXG59O1xyXG5cclxuY29uc3QgSG9yaXpvbnRhbFRiUnRsOiBMb2dpY2FsRGlyZWN0aW9uSW5mbyA9IHtcclxuICAgIC4uLkhvcml6b250YWxUYkx0cixcclxuICAgIGlubGluZURpcmVjdGlvbjogXCJydGxcIixcclxufTtcclxuXHJcbmNvbnN0IFZlcnRpY2FsUmxMdHI6IExvZ2ljYWxEaXJlY3Rpb25JbmZvID0ge1xyXG4gICAgaW5saW5lRGlyZWN0aW9uOiBcInR0YlwiLFxyXG4gICAgYmxvY2tEaXJlY3Rpb246IFwicnRsXCIsXHJcblxyXG4gICAgaW5saW5lT3JpZW50YXRpb246IFwidmVydGljYWxcIixcclxuICAgIGJsb2NrT3JpZW50YXRpb246IFwiaG9yaXpvbnRhbFwiLFxyXG5cclxuICAgIGlubGluZVNpemU6IFwiaGVpZ2h0XCIsXHJcbiAgICBibG9ja1NpemU6IFwid2lkdGhcIixcclxuXHJcbiAgICBsZWZ0UmlnaHREaXJlY3Rpb246IFwidHRiXCIsXHJcbiAgICBvdmVyVW5kZXJEaXJlY3Rpb246IFwicnRsXCJcclxufTtcclxuXHJcbmNvbnN0IFZlcnRpY2FsUmxSdGw6IExvZ2ljYWxEaXJlY3Rpb25JbmZvID0ge1xyXG4gICAgLi4uVmVydGljYWxSbEx0cixcclxuICAgIGlubGluZURpcmVjdGlvbjogXCJidHRcIlxyXG59O1xyXG5cclxuXHJcbmNvbnN0IFNpZGV3YXlzUmxMdHI6IExvZ2ljYWxEaXJlY3Rpb25JbmZvID0geyAuLi5WZXJ0aWNhbFJsTHRyIH07XHJcbmNvbnN0IFNpZGV3YXlzUmxSdGw6IExvZ2ljYWxEaXJlY3Rpb25JbmZvID0geyAuLi5WZXJ0aWNhbFJsUnRsIH07XHJcblxyXG5jb25zdCBWZXJ0aWNhbExyTHRyOiBMb2dpY2FsRGlyZWN0aW9uSW5mbyA9IHtcclxuICAgIC4uLlZlcnRpY2FsUmxMdHIsXHJcbiAgICBibG9ja0RpcmVjdGlvbjogXCJsdHJcIixcclxufTtcclxuXHJcbmNvbnN0IFZlcnRpY2FsTHJSdGw6IExvZ2ljYWxEaXJlY3Rpb25JbmZvID0ge1xyXG4gICAgLi4uVmVydGljYWxSbFJ0bCxcclxuICAgIGJsb2NrRGlyZWN0aW9uOiBcImx0clwiLFxyXG59O1xyXG5cclxuY29uc3QgU2lkZXdheXNMdEx0cjogTG9naWNhbERpcmVjdGlvbkluZm8gPSB7XHJcbiAgICAuLi5WZXJ0aWNhbExyTHRyLFxyXG4gICAgaW5saW5lRGlyZWN0aW9uOiBcImJ0dFwiLFxyXG5cclxuICAgIGxlZnRSaWdodERpcmVjdGlvbjogXCJidHRcIixcclxuICAgIG92ZXJVbmRlckRpcmVjdGlvbjogXCJsdHJcIlxyXG59O1xyXG5cclxuY29uc3QgU2lkZXdheXNMdFJ0bDogTG9naWNhbERpcmVjdGlvbkluZm8gPSB7XHJcbiAgICAuLi5TaWRld2F5c0x0THRyLFxyXG4gICAgaW5saW5lRGlyZWN0aW9uOiBcInR0YlwiXHJcbn07XHJcblxyXG5cclxuXHJcbmNvbnN0IEhvcml6b250YWxUYiA9IHtcclxuICAgIGx0cjogSG9yaXpvbnRhbFRiTHRyLFxyXG4gICAgcnRsOiBIb3Jpem9udGFsVGJSdGxcclxufSBhcyBjb25zdDtcclxuXHJcbmNvbnN0IFZlcnRpY2FsUmwgPSB7XHJcbiAgICBsdHI6IFZlcnRpY2FsUmxMdHIsXHJcbiAgICBydGw6IFZlcnRpY2FsUmxSdGxcclxufSBhcyBjb25zdDtcclxuXHJcbmNvbnN0IFZlcnRpY2FsTHIgPSB7XHJcbiAgICBsdHI6IFZlcnRpY2FsTHJMdHIsXHJcbiAgICBydGw6IFZlcnRpY2FsTHJSdGxcclxufSBhcyBjb25zdDtcclxuXHJcbmNvbnN0IFNpZGV3YXlzUmwgPSB7XHJcbiAgICBsdHI6IFNpZGV3YXlzUmxMdHIsXHJcbiAgICBydGw6IFNpZGV3YXlzUmxSdGxcclxufSBhcyBjb25zdDtcclxuXHJcbmNvbnN0IFNpZGV3YXlzTHIgPSB7XHJcbiAgICBsdHI6IFNpZGV3YXlzTHRMdHIsXHJcbiAgICBydGw6IFNpZGV3YXlzTHRSdGxcclxufSBhcyBjb25zdDtcclxuXHJcbmNvbnN0IFdyaXRpbmdNb2RlcyA9IHtcclxuICAgIFwiaG9yaXpvbnRhbC10YlwiOiBIb3Jpem9udGFsVGIsXHJcbiAgICBcInZlcnRpY2FsLWxyXCI6IFZlcnRpY2FsTHIsXHJcbiAgICBcInZlcnRpY2FsLXJsXCI6IFZlcnRpY2FsUmwsXHJcbiAgICBcInNpZGV3YXlzLWxyXCI6IFNpZGV3YXlzTHIsXHJcbiAgICBcInNpZGV3YXlzLXJsXCI6IFNpZGV3YXlzUmxcclxufSBhcyBjb25zdDtcclxuIiwiXHJcbmltcG9ydCB7IFN0YXRlVXBkYXRlciwgdXNlQ2FsbGJhY2ssIHVzZVJlZiwgdXNlU3RhdGUgYXMgdXNlU3RhdGVQIH0gZnJvbSBcInByZWFjdC9ob29rc1wiO1xyXG5cclxuLyoqXHJcbiAqIFNsaWdodGx5IGVuaGFuY2VkIHZlcnNpb24gb2YgYHVzZVN0YXRlYCB0aGF0IGluY2x1ZGVzIGEgZ2V0dGVyIHRoYXQgcmVtYWlucyBjb25zdGFudFxyXG4gKiAoaS5lLiB5b3UgY2FuIHVzZSBpdCBpbiBgdXNlRWZmZWN0YCBhbmQgZnJpZW5kcyB3aXRob3V0IGl0IGJlaW5nIGEgZGVwZW5kZW5jeSkuXHJcbiAqIFxyXG4gKiBAcGFyYW0gaW5pdGlhbFN0YXRlIFxyXG4gKiBAcmV0dXJucyBcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiB1c2VTdGF0ZTxUPihpbml0aWFsU3RhdGU6IFQgfCAoKCkgPT4gVCkpOiByZWFkb25seSBbdmFsdWU6IFQsIHNldFZhbHVlOiBTdGF0ZVVwZGF0ZXI8VD4sIGdldFZhbHVlOiAoKSA9PiBUXSB7XHJcblxyXG4gICAgLy8gV2Uga2VlcCBib3RoLCBidXQgb3ZlcnJyaWRlIHRoZSBgc2V0U3RhdGVgIGZ1bmN0aW9uYWxpdHlcclxuICAgIGNvbnN0IFtzdGF0ZSwgc2V0U3RhdGVQXSA9IHVzZVN0YXRlUChpbml0aWFsU3RhdGUpO1xyXG4gICAgY29uc3QgcmVmID0gdXNlUmVmKHN0YXRlKTtcclxuXHJcbiAgICAvLyBIaWphY2sgdGhlIG5vcm1hbCBzZXR0ZXIgZnVuY3Rpb24gXHJcbiAgICAvLyB0byBhbHNvIHNldCBvdXIgcmVmIHRvIHRoZSBuZXcgdmFsdWVcclxuICAgIGNvbnN0IHNldFN0YXRlID0gdXNlQ2FsbGJhY2s8U3RhdGVVcGRhdGVyPFQ+Pih2YWx1ZSA9PiB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNhbGxiYWNrID0gdmFsdWUgYXMgKChfcHJldlZhbHVlOiBUKSA9PiBUKTtcclxuICAgICAgICAgICAgc2V0U3RhdGVQKHByZXZWYWx1ZSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0VmFsdWUgPSBjYWxsYmFjayhwcmV2VmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgcmVmLmN1cnJlbnQgPSBuZXh0VmFsdWU7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dFZhbHVlO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJlZi5jdXJyZW50ID0gdmFsdWU7XHJcbiAgICAgICAgICAgIHNldFN0YXRlUCh2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSwgW10pO1xyXG5cclxuICAgIGNvbnN0IGdldFN0YXRlID0gKCkgPT4geyByZXR1cm4gcmVmLmN1cnJlbnQ7IH07XHJcblxyXG5cclxuICAgIGNvbnNvbGUuYXNzZXJ0KHJlZi5jdXJyZW50ID09PSBzdGF0ZSB8fCAodHlwZW9mIHN0YXRlID09PSBcIm51bWJlclwiICYmIGlzTmFOKHN0YXRlKSkpO1xyXG4gICAgcmV0dXJuIFtzdGF0ZSwgc2V0U3RhdGUsIGdldFN0YXRlXSBhcyBjb25zdDtcclxufSIsImltcG9ydCB7IGggfSBmcm9tIFwicHJlYWN0XCI7XHJcbmltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VMYXlvdXRFZmZlY3QgfSBmcm9tIFwicHJlYWN0L2hvb2tzXCI7XHJcbmltcG9ydCB7IHVzZU1lcmdlZFByb3BzIH0gZnJvbSBcIi4vdXNlLW1lcmdlZC1wcm9wc1wiO1xyXG5pbXBvcnQgeyB1c2VTdGF0ZSB9IGZyb20gXCIuL3VzZS1zdGF0ZVwiO1xyXG5cclxuY29uc3QgVGFibGUgPSBcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Xy1cIjtcclxuXHJcbmZ1bmN0aW9uIGJhc2U2NCh2YWx1ZTogbnVtYmVyKSB7XHJcbiAgICByZXR1cm4gVGFibGVbdmFsdWVdO1xyXG59XHJcblxyXG5mdW5jdGlvbiByYW5kb202Qml0cygpIHtcclxuICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAwYjEwMDAwMDApO1xyXG59XHJcblxyXG5mdW5jdGlvbiByYW5kb202NEJpdHMoKSB7XHJcbiAgICByZXR1cm4gW3JhbmRvbTZCaXRzKCksIHJhbmRvbTZCaXRzKCksIHJhbmRvbTZCaXRzKCksIHJhbmRvbTZCaXRzKCksIHJhbmRvbTZCaXRzKCksIHJhbmRvbTZCaXRzKCksIHJhbmRvbTZCaXRzKCksIHJhbmRvbTZCaXRzKCksIHJhbmRvbTZCaXRzKCksIHJhbmRvbTZCaXRzKCksIHJhbmRvbTZCaXRzKCldIGFzIGNvbnN0O1xyXG59XHJcblxyXG4vKipcclxuICogUmV0dXJucyBhIHJhbmRvbWx5LWdlbmVyYXRlZCBJRCB3aXRoIGFuIG9wdGlvbmFsIHByZWZpeC5cclxuICogTm90ZSB0aGF0IGlmIHRoZSBwcmVmaXggaXMgKmV4cGxpY2l0bHkqIHNldCB0byBcIlwiLCB0aGVuXHJcbiAqIElEcyB0aGF0IGFyZSBub3QgdmFsaWQgdW5kZXIgSFRNTDQgbWF5IGJlIGdlbmVyYXRlZC4gT2ggbm8uXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVSYW5kb21JZChwcmVmaXg/OiBzdHJpbmcpIHtcclxuICAgIHJldHVybiBgJHtwcmVmaXggPz8gXCJpZC1cIn0ke3JhbmRvbTY0Qml0cygpLm1hcChuID0+IGJhc2U2NChuKSkuam9pbihcIlwiKX1gO1xyXG59XHJcblxyXG5leHBvcnQgdHlwZSBVc2VSYW5kb21JZFByb3BzID0gPFAgZXh0ZW5kcyBVc2VSYW5kb21JZFByb3BzUGFyYW1ldGVycz4ocDogUCkgPT4gVXNlUmFuZG9tSWRQcm9wc1JldHVyblR5cGU8UD47XHJcbmV4cG9ydCB0eXBlIFVzZVJhbmRvbUlkUHJvcHNQYXJhbWV0ZXJzID0gVXNlUmVmZXJlbmNlZElkUHJvcHNQYXJhbWV0ZXJzPFwiaWRcIj47XHJcbmV4cG9ydCB0eXBlIFVzZVJhbmRvbUlkUHJvcHNSZXR1cm5UeXBlPFAgZXh0ZW5kcyBVc2VSYW5kb21JZFByb3BzUGFyYW1ldGVycz4gPSBVc2VSZWZlcmVuY2VkSWRQcm9wc1JldHVyblR5cGU8UCwgXCJpZFwiPjtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVXNlUmFuZG9tSWRQYXJhbWV0ZXJzIHsgcHJlZml4Pzogc3RyaW5nOyB9XHJcblxyXG5leHBvcnQgdHlwZSBVc2VSZWZlcmVuY2VkSWRQcm9wczxLIGV4dGVuZHMga2V5b2YgaC5KU1guSFRNTEF0dHJpYnV0ZXM8YW55Pj4gPSA8UCBleHRlbmRzIFVzZVJlZmVyZW5jZWRJZFByb3BzUGFyYW1ldGVyczxhbnk+Pihwcm9wczogUCkgPT4gVXNlUmVmZXJlbmNlZElkUHJvcHNSZXR1cm5UeXBlPFAsIEs+O1xyXG5leHBvcnQgdHlwZSBVc2VSZWZlcmVuY2VkSWRQcm9wc1BhcmFtZXRlcnM8SyBleHRlbmRzIGtleW9mIGguSlNYLkhUTUxBdHRyaWJ1dGVzPGFueT4+ID0gUGFydGlhbDxSZWNvcmQ8SywgYW55Pj47Ly88RSBleHRlbmRzIEVsZW1lbnQ+IGV4dGVuZHMgaC5KU1guSFRNTEF0dHJpYnV0ZXM8RT4geyB9O1xyXG5cclxuXHJcbmV4cG9ydCB0eXBlIFVzZVJlZmVyZW5jZWRJZFByb3BzUmV0dXJuVHlwZTxQIGV4dGVuZHMgVXNlUmVmZXJlbmNlZElkUHJvcHNQYXJhbWV0ZXJzPGFueT4sIEsgZXh0ZW5kcyBrZXlvZiBoLkpTWC5IVE1MQXR0cmlidXRlczxhbnk+PiA9IE9taXQ8UCwgSz4gJiBSZWNvcmQ8Sywgc3RyaW5nPjtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVXNlUmFuZG9tSWRSZXR1cm5UeXBlIHtcclxuICAgIHJhbmRvbUlkOiBzdHJpbmc7XHJcblxyXG4gICAgLy8gTm90ZTogRWZmZWN0aXZlbHkgbGFncyBiZWhpbmQgYnkgb25lIHJlbmRlciwgdGhlbiByZS1yZW5kZXJzIGFuZCBzeW5jcyBiYWNrIHVwLCB3aGVuIGFuIElEIGlzIHByb3ZpZGVkXHJcbiAgICBpZDogc3RyaW5nIHwgdW5kZWZpbmVkO1xyXG4gICAgZ2V0SWQoKTogc3RyaW5nIHwgdW5kZWZpbmVkO1xyXG4gICAgdXNlUmFuZG9tSWRQcm9wczogVXNlUmFuZG9tSWRQcm9wcztcclxuICAgIHVzZVJlZmVyZW5jZWRJZFByb3BzOiA8SyBleHRlbmRzIGtleW9mIGguSlNYLkhUTUxBdHRyaWJ1dGVzPGFueT4+KGlkUHJvcE5hbWU6IEspID0+IFVzZVJlZmVyZW5jZWRJZFByb3BzPEs+O1xyXG59XHJcblxyXG4vKipcclxuICogUmV0dXJucyBhIGhvb2sgdGhhdCBtb2RpZmllcyBhIHNldCBvZiBwcm9wcyB0byBwcm92aWRlIGEgcmFuZG9tbHktZ2VuZXJhdGVkIElEIGlmIG9uZSB3YXMgbm90IHByb3ZpZGVkLlxyXG4gKiBcclxuICogSWYgeW91J2QgbGlrZSB0byB1c2UgdGhlIElEIGluIGEgcHJvcGVydHkgdGhhdCdzICpub3QqIG5hbWVkIGBpZGAgKGxpa2UgYGZvcmAgb3IgYGFyaWEtbGFiZWxsZWRieWAgb3Igd2hhdG5vdCksIGB1c2VSZWZlcmVuY2VkSWRQcm9wc2AgaXMgYWxzbyBwcm92aWRlZC5cclxuICogXHJcbiAqIEFuZCB0aGUgcmFuZG9tbHktZ2VuZXJhdGVkIGlkIGl0c2VsZiBpcyBhbHNvIHByb3ZpZGVkIGluIGNhc2UgeW91IHdhbnQgdG8gaGFuZGxlIHRoZSBsb2dpYyB5b3Vyc2VsZiB3aXRob3V0IGB1c2VNZXJnZWRQcm9wc2AuXHJcbiAqIFxyXG4gKiBVbmxpa2UgbW9zdCBvdGhlciBgdXNlKlByb3BzYCBob29rcywgdGhlc2UgYXJlIG1vc3RseSBzdGFibGUuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gdXNlUmFuZG9tSWQoeyBwcmVmaXggfTogVXNlUmFuZG9tSWRQYXJhbWV0ZXJzID0ge30pOiBVc2VSYW5kb21JZFJldHVyblR5cGUge1xyXG4gICAgY29uc3QgW3JhbmRvbUlkLCBzZXRSYW5kb21JZF0gPSB1c2VTdGF0ZTxzdHJpbmc+KCgpID0+IGdlbmVyYXRlUmFuZG9tSWQocHJlZml4KSk7XHJcbiAgICBjb25zdCBbX3dhdGNoUHJlZml4VXBkYXRlcywgc2V0V2F0Y2hQcmVmaXhVcGRhdGVzLCBnZXRXYXRjaFByZWZpeFVwZGF0ZXNdID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gICAgdXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcclxuICAgICAgICBjb25zdCB3YXRjaFByZWZpeFVwZGF0ZXMgPSBnZXRXYXRjaFByZWZpeFVwZGF0ZXMoKTtcclxuICAgICAgICBpZiAod2F0Y2hQcmVmaXhVcGRhdGVzKVxyXG4gICAgICAgICAgICBzZXRSYW5kb21JZCgoKSA9PiBnZW5lcmF0ZVJhbmRvbUlkKHByZWZpeCkpO1xyXG4gICAgICAgIHNldFdhdGNoUHJlZml4VXBkYXRlcyh0cnVlKTtcclxuICAgIH0sIFtwcmVmaXhdKVxyXG5cclxuICAgIC8vIFdoYXRldmVyIElEIHdhcyBtb3N0IHJlY2VudGx5IHVzZWQgYnkgdGhlIGFjdHVhbCBcImlkXCIgcHJvcC5cclxuICAgIC8vIFVzZWQgc28gdGhhdCBhbnkgSUQtcmVmZXJlbmNpbmcgcHJvcHMgZG9uJ3QgbmVlZCB0byBwcm92aWRlIHRoZSBzYW1lIHZhbHVlLlxyXG4gICAgLy9cclxuICAgIC8vIFRPRE86IFRoaXMgZG9lcyBtZWFuIHRoYXQgb24gdGhlIGZpcnN0IHJlbmRlciwgaWYganVzdCB0aGUgSUQgaXMgcHJvdmlkZWQsXHJcbiAgICAvLyB0aGVyZSB3aWxsIGJlIGEgdGVtcG9yYXJ5IG1pc21hdGNoLCBidXQgaXQncyBjb3JyZWN0ZWQgYmVmb3JlIHJlbmRlcmluZyBmaW5pc2hlcy5cclxuICAgIC8vIElzIHRoaXMgb2theT9cclxuICAgIGNvbnN0IFt1c2VkSWQsIHNldFVzZWRJZCwgZ2V0VXNlZElkXSA9IHVzZVN0YXRlPHN0cmluZyB8IHVuZGVmaW5lZD4odW5kZWZpbmVkKTtcclxuXHJcbiAgICBjb25zdCB1c2VSZWZlcmVuY2VkSWRQcm9wcyA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIHVzZVJlZmVyZW5jZWRJZFByb3BzPEsgZXh0ZW5kcyBrZXlvZiBoLkpTWC5IVE1MQXR0cmlidXRlczxhbnk+PihpZFByb3BOYW1lOiBLKSB7XHJcblxyXG4gICAgICAgIGNvbnN0IHJldDogVXNlUmVmZXJlbmNlZElkUHJvcHM8Sz4gPSBmdW5jdGlvbiA8UCBleHRlbmRzIFVzZVJlZmVyZW5jZWRJZFByb3BzUGFyYW1ldGVyczxhbnk+Pih7IFtpZFByb3BOYW1lXTogZ2l2ZW5JZCwgLi4ucHJvcHMgfTogUCk6IFVzZVJlZmVyZW5jZWRJZFByb3BzUmV0dXJuVHlwZTxQLCBLPiB7XHJcblxyXG4gICAgICAgICAgICBjb25zdCB1c2VkSWQyID0gKGdpdmVuSWQgPz8gdXNlZElkID8/IHJhbmRvbUlkID8/IHVuZGVmaW5lZCk7XHJcbiAgICAgICAgICAgIGlmIChpZFByb3BOYW1lID09PSBcImlkXCIpXHJcbiAgICAgICAgICAgICAgICBzZXRVc2VkSWQodXNlZElkMik7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdXNlTWVyZ2VkUHJvcHM8SFRNTEVsZW1lbnQ+KCkoeyBbaWRQcm9wTmFtZV06IHVzZWRJZDIgfSwgcHJvcHMpIGFzIHVua25vd24gYXMgVXNlUmVmZXJlbmNlZElkUHJvcHNSZXR1cm5UeXBlPFAsIEs+O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHJldDtcclxuICAgIH0sIFt1c2VkSWQsIHJhbmRvbUlkXSk7XHJcblxyXG4gICAgY29uc3QgdXNlUmFuZG9tSWRQcm9wczogVXNlUmFuZG9tSWRQcm9wcyA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIHVzZVJhbmRvbUlkUHJvcHM8UCBleHRlbmRzIFVzZVJhbmRvbUlkUHJvcHNQYXJhbWV0ZXJzPihwOiBQKTogVXNlUmFuZG9tSWRQcm9wc1JldHVyblR5cGU8UD4ge1xyXG4gICAgICAgIHJldHVybiB1c2VSZWZlcmVuY2VkSWRQcm9wcyhcImlkXCIpKHApO1xyXG4gICAgfSwgW3VzZVJlZmVyZW5jZWRJZFByb3BzXSk7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICByYW5kb21JZCxcclxuICAgICAgICBpZDogdXNlZElkLFxyXG4gICAgICAgIGdldElkOiBnZXRVc2VkSWQsXHJcbiAgICAgICAgdXNlUmFuZG9tSWRQcm9wcyxcclxuICAgICAgICB1c2VSZWZlcmVuY2VkSWRQcm9wc1xyXG4gICAgfTtcclxufVxyXG4iLCJcclxuaW1wb3J0IHsgQ29tcG9uZW50LCBvcHRpb25zLCBWTm9kZSB9IGZyb20gXCJwcmVhY3RcIjtcclxuaW1wb3J0IHsgRWZmZWN0Q2FsbGJhY2ssIElucHV0cywgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gXCJwcmVhY3QvaG9va3NcIjtcclxuaW1wb3J0IHsgZ2VuZXJhdGVSYW5kb21JZCB9IGZyb20gXCIuL3VzZS1yYW5kb20taWRcIjtcclxuXHJcbmNvbnN0IHByZXZpb3VzSW5wdXRzID0gbmV3IE1hcDxzdHJpbmcsIElucHV0cyB8IHVuZGVmaW5lZD4oKTtcclxuY29uc3QgdG9SdW4gPSBuZXcgTWFwPHN0cmluZywgeyBlZmZlY3Q6IEVmZmVjdENhbGxiYWNrLCBpbnB1dHM/OiBJbnB1dHMsIGNsZWFudXA6IG51bGwgfCB1bmRlZmluZWQgfCB2b2lkIHwgKCgpID0+IHZvaWQpIH0+KCk7XHJcblxyXG5cclxuLy8gVE9ETzogV2hldGhlciB0aGlzIGdvZXMgaW4gb3B0aW9ucy5kaWZmZWQgb3Igb3B0aW9ucy5fY29tbWl0XHJcbi8vIGlzIGEgcG9zdC1zdXNwZW5zZSBxdWVzdGlvbi5cclxuLy8gUmlnaHQgbm93LCB1c2luZyBvcHRpb25zLl9jb21taXQgaGFzIHRoZSBwcm9ibGVtIG9mIHJ1bm5pbmdcclxuLy8gKmFmdGVyKiByZWZzIGFyZSBhcHBsaWVkLCBidXQgd2UgbmVlZCB0byBjb21lIGJlZm9yZSBldmVuIHRoYXRcclxuLy8gc28gYHJlZj17c29tZVN0YWJsZUZ1bmN0aW9ufWAgd29ya3MuXHJcbi8vIFxyXG4vLyBBbHNvIGl0J3MgcHJpdmF0ZS5cclxuLy9cclxuLy8gLi4uXHJcbi8vIFdlbGwsIHVzZUV2ZW50IG9yIHdoYXRldmVyIGlzIGZpbmFsbHksIGZpbmFsbHkgNCB5ZWFycyBsYXRlciBmaW5hbGx5IGhlcmVcclxuLy8gd2hpY2ggaXMgY29vbCBhbmQgbWVhbnMgd2Ugd29uJ3QgbmVlZCB0aGlzIGF0IGFsbCBzb29uLlxyXG4vLyBTbyBmb3Igbm93IHdlJ2xsIHN0aWNrIHdpdGggZGlmZiB0byBwcmV2ZW50IGFueSB3ZWlyZG5lc3Mgd2l0aFxyXG4vLyBjb21taXQgYmVpbmcgcHJpdmF0ZSBhbmQgYWxsLlxyXG5jb25zdCBjb21taXROYW1lID0gXCJkaWZmZWRcIjtcclxuXHJcbmNvbnN0IG9yaWdpbmFsQ29tbWl0ID0gb3B0aW9uc1tjb21taXROYW1lXSBhcyAodm5vZGU6IFZOb2RlLCBjb21taXRRdWV1ZTogQ29tcG9uZW50W10pID0+IHZvaWQ7XHJcbmNvbnN0IG5ld0NvbW1pdDogdHlwZW9mIG9yaWdpbmFsQ29tbWl0ID0gKC4uLmFyZ3MpID0+IHtcclxuICAgIGZvciAoY29uc3QgW2lkLCBlZmZlY3RJbmZvXSBvZiB0b1J1bikge1xyXG4gICAgICAgIGNvbnN0IG9sZElucHV0cyA9IHByZXZpb3VzSW5wdXRzLmdldChpZCk7XHJcbiAgICAgICAgaWYgKGFyZ3NDaGFuZ2VkKG9sZElucHV0cywgZWZmZWN0SW5mby5pbnB1dHMpKSB7XHJcbiAgICAgICAgICAgIGVmZmVjdEluZm8uY2xlYW51cD8uKCk7XHJcbiAgICAgICAgICAgIGVmZmVjdEluZm8uY2xlYW51cCA9IGVmZmVjdEluZm8uZWZmZWN0KCk7XHJcbiAgICAgICAgICAgIHByZXZpb3VzSW5wdXRzLnNldChpZCwgZWZmZWN0SW5mby5pbnB1dHMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHRvUnVuLmNsZWFyKCk7XHJcbiAgICBvcmlnaW5hbENvbW1pdD8uKC4uLmFyZ3MpO1xyXG59XHJcbm9wdGlvbnNbY29tbWl0TmFtZV0gPSBuZXdDb21taXQgYXMgbmV2ZXJcclxuXHJcbi8qKlxyXG4gKiBTZW1pLXByaXZhdGUgZnVuY3Rpb24gdG8gYWxsb3cgc3RhYmxlIGNhbGxiYWNrcyBldmVuIHdpdGhpbiBgdXNlTGF5b3V0RWZmZWN0YCBhbmQgcmVmIGFzc2lnbm1lbnQuXHJcbiAqIFxyXG4gKiBFdmVyeSByZW5kZXIsIHdlIHNlbmQgdGhlIGFyZ3VtZW50cyB0byBiZSBldmFsdWF0ZWQgYWZ0ZXIgZGlmZmluZyBoYXMgY29tcGxldGVkLFxyXG4gKiB3aGljaCBoYXBwZW5zIGJlZm9yZS5cclxuICogXHJcbiAqIEBwYXJhbSBlZmZlY3QgXHJcbiAqIEBwYXJhbSBpbnB1dHMgXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gdXNlQmVmb3JlTGF5b3V0RWZmZWN0KGVmZmVjdDogRWZmZWN0Q2FsbGJhY2ssIGlucHV0cz86IElucHV0cykge1xyXG5cclxuICAgIC8qKCgpID0+IHtcclxuICAgICAgICBjb25zdCBjbGVhbnVwID0gdXNlUmVmPHZvaWQgfCAoKCkgPT4gdm9pZCkgfCBudWxsPihudWxsKTtcclxuICAgICAgICBjb25zdCBwcmV2QXJnc1JlZiA9IHVzZVJlZjxJbnB1dHM+KG51bGwhKTtcclxuICAgICAgICBpZiAoYXJnc0NoYW5nZWQoaW5wdXRzLCBwcmV2QXJnc1JlZi5jdXJyZW50KSkge1xyXG4gICAgICAgICAgICBwcmV2QXJnc1JlZi5jdXJyZW50ID0gaW5wdXRzITtcclxuICAgICAgICAgICAgaWYgKGNsZWFudXAuY3VycmVudClcclxuICAgICAgICAgICAgICAgIGNsZWFudXAuY3VycmVudCgpO1xyXG4gICAgICAgICAgICBjbGVhbnVwLmN1cnJlbnQgPSBlZmZlY3QoKTtcclxuICAgICAgICB9XHJcbiAgICB9KSgpOyovXHJcblxyXG4gICAgY29uc3QgW2lkXSA9IHVzZVN0YXRlKCgpID0+IGdlbmVyYXRlUmFuZG9tSWQoKSk7XHJcbiAgICB0b1J1bi5zZXQoaWQsIHsgZWZmZWN0LCBpbnB1dHMsIGNsZWFudXA6IG51bGwgfSk7XHJcblxyXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgICAgICB0b1J1bi5kZWxldGUoaWQpO1xyXG4gICAgICAgICAgICBwcmV2aW91c0lucHV0cy5kZWxldGUoaWQpO1xyXG4gICAgICAgIH1cclxuICAgIH0sIFtpZF0pXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFyZ3NDaGFuZ2VkKG9sZEFyZ3M/OiBJbnB1dHMsIG5ld0FyZ3M/OiBJbnB1dHMpOiBib29sZWFuIHtcclxuICAgIHJldHVybiAhIShcclxuICAgICAgICAhb2xkQXJncyB8fFxyXG4gICAgICAgIG9sZEFyZ3MubGVuZ3RoICE9PSBuZXdBcmdzPy5sZW5ndGggfHxcclxuICAgICAgICBuZXdBcmdzPy5zb21lKChhcmcsIGluZGV4KSA9PiBhcmcgIT09IG9sZEFyZ3NbaW5kZXhdKVxyXG4gICAgKTtcclxufSIsImltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VSZWYgfSBmcm9tIFwicHJlYWN0L2hvb2tzXCI7XHJcbmltcG9ydCB7IHVzZUJlZm9yZUxheW91dEVmZmVjdCB9IGZyb20gXCIuL3VzZS1iZWZvcmUtbGF5b3V0LWVmZmVjdFwiO1xyXG5cclxuY29uc3QgVW5zZXQgPSBTeW1ib2woXCJ1bnNldFwiKTtcclxuXHJcbi8qKlxyXG4gKiBHaXZlbiBhbiBpbnB1dCB2YWx1ZSwgcmV0dXJucyBhIGNvbnN0YW50IGdldHRlciBmdW5jdGlvbiB0aGF0IGNhbiBiZSB1c2VkIFxyXG4gKiBpbnNpZGUgb2YgYHVzZUVmZmVjdGAgYW5kIGZyaWVuZHMgd2l0aG91dCBpbmNsdWRpbmcgaXQgaW4gdGhlIGRlcGVuZGVuY3kgYXJyYXkuXHJcbiAqIFxyXG4gKiBUaGlzIHVzZXMgYG9wdGlvbnMuZGlmZmVkYCBpbiBvcmRlciB0byBydW4gYmVmb3JlIGV2ZXJ5dGhpbmcsIGV2ZW5cclxuICogcmVmIGFzc2lnbm1lbnQuIFRoaXMgbWVhbnMgdGhpcyBnZXR0ZXIgaXMgc2FmZSB0byB1c2UgYW55d2hlcmUgKioqZXhjZXB0IHRoZSByZW5kZXIgcGhhc2UqKiouXHJcbiAqIFxyXG4gKiBAcGFyYW0gdmFsdWUgXHJcbiAqIEByZXR1cm5zIFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHVzZVN0YWJsZUdldHRlcjxUPih2YWx1ZTogVCk6ICgpID0+IFQge1xyXG4gICAgY29uc3QgcmVmID0gdXNlUmVmPFQ+KFVuc2V0IGFzIHVua25vd24gYXMgVCk7XHJcbiAgICB1c2VCZWZvcmVMYXlvdXRFZmZlY3QoKCkgPT4geyByZWYuY3VycmVudCA9IHZhbHVlOyB9LCBbdmFsdWVdKTtcclxuICAgIHJldHVybiB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICAgICAgaWYgKHJlZi5jdXJyZW50IGFzIHVua25vd24gPT09IFVuc2V0KSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVmFsdWUgcmV0cmlldmVkIGZyb20gdXNlU3RhYmxlR2V0dGVyKCkgY2Fubm90IGJlIGNhbGxlZCBkdXJpbmcgcmVuZGVyLicpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZWYuY3VycmVudDtcclxuICAgIH0sIFtdKVxyXG59IiwiaW1wb3J0IHsgdXNlQ2FsbGJhY2sgfSBmcm9tIFwicHJlYWN0L2hvb2tzXCI7XHJcbmltcG9ydCB7IHVzZVN0YWJsZUdldHRlciB9IGZyb20gXCIuL3VzZS1zdGFibGUtZ2V0dGVyXCI7XHJcblxyXG5cclxuLyoqXHJcbiAqIEFsdGVybmF0ZSB1c2VDYWxsYmFjaygpIHdoaWNoIGFsd2F5cyByZXR1cm5zIHRoZSBzYW1lICh3cmFwcGVkKSBmdW5jdGlvbiByZWZlcmVuY2VcclxuICogc28gdGhhdCBpdCBjYW4gYmUgZXhjbHVkZWQgZnJvbSB0aGUgZGVwZW5kZW5jeSBhcnJheXMgb2YgYHVzZUVmZmVjdGAgYW5kIGZyaWVuZHMuXHJcbiAqIFxyXG4gKiBEbyBub3QgdXNlIGR1cmluZyB0aGUgcmVuZGVyIHBoYXNlISAgYHVzZUxheW91dEVmZmVjdGAgaXMgZmluZSB0aG91Z2guXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gdXNlU3RhYmxlQ2FsbGJhY2s8VCBleHRlbmRzICguLi5fYXJnczogYW55W10pID0+IGFueT4oZm46IFQpOiBUIHtcclxuICAgIGNvbnN0IGN1cnJlbnRDYWxsYmFja0dldHRlciA9IHVzZVN0YWJsZUdldHRlcjxUPihmbik7XHJcblxyXG4gICAgcmV0dXJuIHVzZUNhbGxiYWNrKCguLi5hcmdzOiBQYXJhbWV0ZXJzPFQ+KTogUmV0dXJuVHlwZTxUPiA9PiB7XHJcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRDYWxsYmFja0dldHRlcigpKC4uLmFyZ3MpO1xyXG4gICAgfSwgW10pIGFzIFQ7XHJcbn0iLCIvKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZVxuICogW2xhbmd1YWdlIHR5cGVdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1lY21hc2NyaXB0LWxhbmd1YWdlLXR5cGVzKVxuICogb2YgYE9iamVjdGAuIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0KHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChfLm5vb3ApO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgaXNPYmplY3Q7XG4iLCIvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGdsb2JhbGAgZnJvbSBOb2RlLmpzLiAqL1xudmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbCAmJiBnbG9iYWwuT2JqZWN0ID09PSBPYmplY3QgJiYgZ2xvYmFsO1xuXG5leHBvcnQgZGVmYXVsdCBmcmVlR2xvYmFsO1xuIiwiaW1wb3J0IGZyZWVHbG9iYWwgZnJvbSAnLi9fZnJlZUdsb2JhbC5qcyc7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgc2VsZmAuICovXG52YXIgZnJlZVNlbGYgPSB0eXBlb2Ygc2VsZiA9PSAnb2JqZWN0JyAmJiBzZWxmICYmIHNlbGYuT2JqZWN0ID09PSBPYmplY3QgJiYgc2VsZjtcblxuLyoqIFVzZWQgYXMgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBvYmplY3QuICovXG52YXIgcm9vdCA9IGZyZWVHbG9iYWwgfHwgZnJlZVNlbGYgfHwgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblxuZXhwb3J0IGRlZmF1bHQgcm9vdDtcbiIsImltcG9ydCByb290IGZyb20gJy4vX3Jvb3QuanMnO1xuXG4vKipcbiAqIEdldHMgdGhlIHRpbWVzdGFtcCBvZiB0aGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0aGF0IGhhdmUgZWxhcHNlZCBzaW5jZVxuICogdGhlIFVuaXggZXBvY2ggKDEgSmFudWFyeSAxOTcwIDAwOjAwOjAwIFVUQykuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAyLjQuMFxuICogQGNhdGVnb3J5IERhdGVcbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHRpbWVzdGFtcC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5kZWZlcihmdW5jdGlvbihzdGFtcCkge1xuICogICBjb25zb2xlLmxvZyhfLm5vdygpIC0gc3RhbXApO1xuICogfSwgXy5ub3coKSk7XG4gKiAvLyA9PiBMb2dzIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIGl0IHRvb2sgZm9yIHRoZSBkZWZlcnJlZCBpbnZvY2F0aW9uLlxuICovXG52YXIgbm93ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiByb290LkRhdGUubm93KCk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBub3c7XG4iLCIvKiogVXNlZCB0byBtYXRjaCBhIHNpbmdsZSB3aGl0ZXNwYWNlIGNoYXJhY3Rlci4gKi9cbnZhciByZVdoaXRlc3BhY2UgPSAvXFxzLztcblxuLyoqXG4gKiBVc2VkIGJ5IGBfLnRyaW1gIGFuZCBgXy50cmltRW5kYCB0byBnZXQgdGhlIGluZGV4IG9mIHRoZSBsYXN0IG5vbi13aGl0ZXNwYWNlXG4gKiBjaGFyYWN0ZXIgb2YgYHN0cmluZ2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGxhc3Qgbm9uLXdoaXRlc3BhY2UgY2hhcmFjdGVyLlxuICovXG5mdW5jdGlvbiB0cmltbWVkRW5kSW5kZXgoc3RyaW5nKSB7XG4gIHZhciBpbmRleCA9IHN0cmluZy5sZW5ndGg7XG5cbiAgd2hpbGUgKGluZGV4LS0gJiYgcmVXaGl0ZXNwYWNlLnRlc3Qoc3RyaW5nLmNoYXJBdChpbmRleCkpKSB7fVxuICByZXR1cm4gaW5kZXg7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHRyaW1tZWRFbmRJbmRleDtcbiIsImltcG9ydCB0cmltbWVkRW5kSW5kZXggZnJvbSAnLi9fdHJpbW1lZEVuZEluZGV4LmpzJztcblxuLyoqIFVzZWQgdG8gbWF0Y2ggbGVhZGluZyB3aGl0ZXNwYWNlLiAqL1xudmFyIHJlVHJpbVN0YXJ0ID0gL15cXHMrLztcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50cmltYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIHRyaW0uXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cmltbWVkIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gYmFzZVRyaW0oc3RyaW5nKSB7XG4gIHJldHVybiBzdHJpbmdcbiAgICA/IHN0cmluZy5zbGljZSgwLCB0cmltbWVkRW5kSW5kZXgoc3RyaW5nKSArIDEpLnJlcGxhY2UocmVUcmltU3RhcnQsICcnKVxuICAgIDogc3RyaW5nO1xufVxuXG5leHBvcnQgZGVmYXVsdCBiYXNlVHJpbTtcbiIsImltcG9ydCByb290IGZyb20gJy4vX3Jvb3QuanMnO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBTeW1ib2wgPSByb290LlN5bWJvbDtcblxuZXhwb3J0IGRlZmF1bHQgU3ltYm9sO1xuIiwiaW1wb3J0IFN5bWJvbCBmcm9tICcuL19TeW1ib2wuanMnO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKipcbiAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICogb2YgdmFsdWVzLlxuICovXG52YXIgbmF0aXZlT2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgc3ltVG9TdHJpbmdUYWcgPSBTeW1ib2wgPyBTeW1ib2wudG9TdHJpbmdUYWcgOiB1bmRlZmluZWQ7XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlR2V0VGFnYCB3aGljaCBpZ25vcmVzIGBTeW1ib2wudG9TdHJpbmdUYWdgIHZhbHVlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSByYXcgYHRvU3RyaW5nVGFnYC5cbiAqL1xuZnVuY3Rpb24gZ2V0UmF3VGFnKHZhbHVlKSB7XG4gIHZhciBpc093biA9IGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIHN5bVRvU3RyaW5nVGFnKSxcbiAgICAgIHRhZyA9IHZhbHVlW3N5bVRvU3RyaW5nVGFnXTtcblxuICB0cnkge1xuICAgIHZhbHVlW3N5bVRvU3RyaW5nVGFnXSA9IHVuZGVmaW5lZDtcbiAgICB2YXIgdW5tYXNrZWQgPSB0cnVlO1xuICB9IGNhdGNoIChlKSB7fVxuXG4gIHZhciByZXN1bHQgPSBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgaWYgKHVubWFza2VkKSB7XG4gICAgaWYgKGlzT3duKSB7XG4gICAgICB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ10gPSB0YWc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlbGV0ZSB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ107XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGdldFJhd1RhZztcbiIsIi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZVxuICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBuYXRpdmVPYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcgdXNpbmcgYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY29udmVydGVkIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gb2JqZWN0VG9TdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuIG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBvYmplY3RUb1N0cmluZztcbiIsImltcG9ydCBTeW1ib2wgZnJvbSAnLi9fU3ltYm9sLmpzJztcbmltcG9ydCBnZXRSYXdUYWcgZnJvbSAnLi9fZ2V0UmF3VGFnLmpzJztcbmltcG9ydCBvYmplY3RUb1N0cmluZyBmcm9tICcuL19vYmplY3RUb1N0cmluZy5qcyc7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBudWxsVGFnID0gJ1tvYmplY3QgTnVsbF0nLFxuICAgIHVuZGVmaW5lZFRhZyA9ICdbb2JqZWN0IFVuZGVmaW5lZF0nO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBzeW1Ub1N0cmluZ1RhZyA9IFN5bWJvbCA/IFN5bWJvbC50b1N0cmluZ1RhZyA6IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgZ2V0VGFnYCB3aXRob3V0IGZhbGxiYWNrcyBmb3IgYnVnZ3kgZW52aXJvbm1lbnRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGB0b1N0cmluZ1RhZ2AuXG4gKi9cbmZ1bmN0aW9uIGJhc2VHZXRUYWcodmFsdWUpIHtcbiAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZFRhZyA6IG51bGxUYWc7XG4gIH1cbiAgcmV0dXJuIChzeW1Ub1N0cmluZ1RhZyAmJiBzeW1Ub1N0cmluZ1RhZyBpbiBPYmplY3QodmFsdWUpKVxuICAgID8gZ2V0UmF3VGFnKHZhbHVlKVxuICAgIDogb2JqZWN0VG9TdHJpbmcodmFsdWUpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBiYXNlR2V0VGFnO1xuIiwiLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGlzT2JqZWN0TGlrZTtcbiIsImltcG9ydCBiYXNlR2V0VGFnIGZyb20gJy4vX2Jhc2VHZXRUYWcuanMnO1xuaW1wb3J0IGlzT2JqZWN0TGlrZSBmcm9tICcuL2lzT2JqZWN0TGlrZS5qcyc7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBzeW1ib2xUYWcgPSAnW29iamVjdCBTeW1ib2xdJztcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFN5bWJvbGAgcHJpbWl0aXZlIG9yIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHN5bWJvbCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzU3ltYm9sKFN5bWJvbC5pdGVyYXRvcik7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc1N5bWJvbCgnYWJjJyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1N5bWJvbCh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdzeW1ib2wnIHx8XG4gICAgKGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gc3ltYm9sVGFnKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgaXNTeW1ib2w7XG4iLCJpbXBvcnQgYmFzZVRyaW0gZnJvbSAnLi9fYmFzZVRyaW0uanMnO1xuaW1wb3J0IGlzT2JqZWN0IGZyb20gJy4vaXNPYmplY3QuanMnO1xuaW1wb3J0IGlzU3ltYm9sIGZyb20gJy4vaXNTeW1ib2wuanMnO1xuXG4vKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbnZhciBOQU4gPSAwIC8gMDtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGJhZCBzaWduZWQgaGV4YWRlY2ltYWwgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzQmFkSGV4ID0gL15bLStdMHhbMC05YS1mXSskL2k7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBiaW5hcnkgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzQmluYXJ5ID0gL14wYlswMV0rJC9pO1xuXG4vKiogVXNlZCB0byBkZXRlY3Qgb2N0YWwgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzT2N0YWwgPSAvXjBvWzAtN10rJC9pO1xuXG4vKiogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgd2l0aG91dCBhIGRlcGVuZGVuY3kgb24gYHJvb3RgLiAqL1xudmFyIGZyZWVQYXJzZUludCA9IHBhcnNlSW50O1xuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBudW1iZXIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBudW1iZXIuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udG9OdW1iZXIoMy4yKTtcbiAqIC8vID0+IDMuMlxuICpcbiAqIF8udG9OdW1iZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gKiAvLyA9PiA1ZS0zMjRcbiAqXG4gKiBfLnRvTnVtYmVyKEluZmluaXR5KTtcbiAqIC8vID0+IEluZmluaXR5XG4gKlxuICogXy50b051bWJlcignMy4yJyk7XG4gKiAvLyA9PiAzLjJcbiAqL1xuZnVuY3Rpb24gdG9OdW1iZXIodmFsdWUpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJykge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBpZiAoaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgcmV0dXJuIE5BTjtcbiAgfVxuICBpZiAoaXNPYmplY3QodmFsdWUpKSB7XG4gICAgdmFyIG90aGVyID0gdHlwZW9mIHZhbHVlLnZhbHVlT2YgPT0gJ2Z1bmN0aW9uJyA/IHZhbHVlLnZhbHVlT2YoKSA6IHZhbHVlO1xuICAgIHZhbHVlID0gaXNPYmplY3Qob3RoZXIpID8gKG90aGVyICsgJycpIDogb3RoZXI7XG4gIH1cbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gMCA/IHZhbHVlIDogK3ZhbHVlO1xuICB9XG4gIHZhbHVlID0gYmFzZVRyaW0odmFsdWUpO1xuICB2YXIgaXNCaW5hcnkgPSByZUlzQmluYXJ5LnRlc3QodmFsdWUpO1xuICByZXR1cm4gKGlzQmluYXJ5IHx8IHJlSXNPY3RhbC50ZXN0KHZhbHVlKSlcbiAgICA/IGZyZWVQYXJzZUludCh2YWx1ZS5zbGljZSgyKSwgaXNCaW5hcnkgPyAyIDogOClcbiAgICA6IChyZUlzQmFkSGV4LnRlc3QodmFsdWUpID8gTkFOIDogK3ZhbHVlKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdG9OdW1iZXI7XG4iLCJpbXBvcnQgaXNPYmplY3QgZnJvbSAnLi9pc09iamVjdC5qcyc7XG5pbXBvcnQgbm93IGZyb20gJy4vbm93LmpzJztcbmltcG9ydCB0b051bWJlciBmcm9tICcuL3RvTnVtYmVyLmpzJztcblxuLyoqIEVycm9yIG1lc3NhZ2UgY29uc3RhbnRzLiAqL1xudmFyIEZVTkNfRVJST1JfVEVYVCA9ICdFeHBlY3RlZCBhIGZ1bmN0aW9uJztcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgZm9yIHRob3NlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzLiAqL1xudmFyIG5hdGl2ZU1heCA9IE1hdGgubWF4LFxuICAgIG5hdGl2ZU1pbiA9IE1hdGgubWluO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBkZWJvdW5jZWQgZnVuY3Rpb24gdGhhdCBkZWxheXMgaW52b2tpbmcgYGZ1bmNgIHVudGlsIGFmdGVyIGB3YWl0YFxuICogbWlsbGlzZWNvbmRzIGhhdmUgZWxhcHNlZCBzaW5jZSB0aGUgbGFzdCB0aW1lIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gd2FzXG4gKiBpbnZva2VkLiBUaGUgZGVib3VuY2VkIGZ1bmN0aW9uIGNvbWVzIHdpdGggYSBgY2FuY2VsYCBtZXRob2QgdG8gY2FuY2VsXG4gKiBkZWxheWVkIGBmdW5jYCBpbnZvY2F0aW9ucyBhbmQgYSBgZmx1c2hgIG1ldGhvZCB0byBpbW1lZGlhdGVseSBpbnZva2UgdGhlbS5cbiAqIFByb3ZpZGUgYG9wdGlvbnNgIHRvIGluZGljYXRlIHdoZXRoZXIgYGZ1bmNgIHNob3VsZCBiZSBpbnZva2VkIG9uIHRoZVxuICogbGVhZGluZyBhbmQvb3IgdHJhaWxpbmcgZWRnZSBvZiB0aGUgYHdhaXRgIHRpbWVvdXQuIFRoZSBgZnVuY2AgaXMgaW52b2tlZFxuICogd2l0aCB0aGUgbGFzdCBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlIGRlYm91bmNlZCBmdW5jdGlvbi4gU3Vic2VxdWVudFxuICogY2FsbHMgdG8gdGhlIGRlYm91bmNlZCBmdW5jdGlvbiByZXR1cm4gdGhlIHJlc3VsdCBvZiB0aGUgbGFzdCBgZnVuY2BcbiAqIGludm9jYXRpb24uXG4gKlxuICogKipOb3RlOioqIElmIGBsZWFkaW5nYCBhbmQgYHRyYWlsaW5nYCBvcHRpb25zIGFyZSBgdHJ1ZWAsIGBmdW5jYCBpc1xuICogaW52b2tlZCBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dCBvbmx5IGlmIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb25cbiAqIGlzIGludm9rZWQgbW9yZSB0aGFuIG9uY2UgZHVyaW5nIHRoZSBgd2FpdGAgdGltZW91dC5cbiAqXG4gKiBJZiBgd2FpdGAgaXMgYDBgIGFuZCBgbGVhZGluZ2AgaXMgYGZhbHNlYCwgYGZ1bmNgIGludm9jYXRpb24gaXMgZGVmZXJyZWRcbiAqIHVudGlsIHRvIHRoZSBuZXh0IHRpY2ssIHNpbWlsYXIgdG8gYHNldFRpbWVvdXRgIHdpdGggYSB0aW1lb3V0IG9mIGAwYC5cbiAqXG4gKiBTZWUgW0RhdmlkIENvcmJhY2hvJ3MgYXJ0aWNsZV0oaHR0cHM6Ly9jc3MtdHJpY2tzLmNvbS9kZWJvdW5jaW5nLXRocm90dGxpbmctZXhwbGFpbmVkLWV4YW1wbGVzLylcbiAqIGZvciBkZXRhaWxzIG92ZXIgdGhlIGRpZmZlcmVuY2VzIGJldHdlZW4gYF8uZGVib3VuY2VgIGFuZCBgXy50aHJvdHRsZWAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWJvdW5jZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbd2FpdD0wXSBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBkZWxheS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5sZWFkaW5nPWZhbHNlXVxuICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIGxlYWRpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5tYXhXYWl0XVxuICogIFRoZSBtYXhpbXVtIHRpbWUgYGZ1bmNgIGlzIGFsbG93ZWQgdG8gYmUgZGVsYXllZCBiZWZvcmUgaXQncyBpbnZva2VkLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFpbGluZz10cnVlXVxuICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBkZWJvdW5jZWQgZnVuY3Rpb24uXG4gKiBAZXhhbXBsZVxuICpcbiAqIC8vIEF2b2lkIGNvc3RseSBjYWxjdWxhdGlvbnMgd2hpbGUgdGhlIHdpbmRvdyBzaXplIGlzIGluIGZsdXguXG4gKiBqUXVlcnkod2luZG93KS5vbigncmVzaXplJywgXy5kZWJvdW5jZShjYWxjdWxhdGVMYXlvdXQsIDE1MCkpO1xuICpcbiAqIC8vIEludm9rZSBgc2VuZE1haWxgIHdoZW4gY2xpY2tlZCwgZGVib3VuY2luZyBzdWJzZXF1ZW50IGNhbGxzLlxuICogalF1ZXJ5KGVsZW1lbnQpLm9uKCdjbGljaycsIF8uZGVib3VuY2Uoc2VuZE1haWwsIDMwMCwge1xuICogICAnbGVhZGluZyc6IHRydWUsXG4gKiAgICd0cmFpbGluZyc6IGZhbHNlXG4gKiB9KSk7XG4gKlxuICogLy8gRW5zdXJlIGBiYXRjaExvZ2AgaXMgaW52b2tlZCBvbmNlIGFmdGVyIDEgc2Vjb25kIG9mIGRlYm91bmNlZCBjYWxscy5cbiAqIHZhciBkZWJvdW5jZWQgPSBfLmRlYm91bmNlKGJhdGNoTG9nLCAyNTAsIHsgJ21heFdhaXQnOiAxMDAwIH0pO1xuICogdmFyIHNvdXJjZSA9IG5ldyBFdmVudFNvdXJjZSgnL3N0cmVhbScpO1xuICogalF1ZXJ5KHNvdXJjZSkub24oJ21lc3NhZ2UnLCBkZWJvdW5jZWQpO1xuICpcbiAqIC8vIENhbmNlbCB0aGUgdHJhaWxpbmcgZGVib3VuY2VkIGludm9jYXRpb24uXG4gKiBqUXVlcnkod2luZG93KS5vbigncG9wc3RhdGUnLCBkZWJvdW5jZWQuY2FuY2VsKTtcbiAqL1xuZnVuY3Rpb24gZGVib3VuY2UoZnVuYywgd2FpdCwgb3B0aW9ucykge1xuICB2YXIgbGFzdEFyZ3MsXG4gICAgICBsYXN0VGhpcyxcbiAgICAgIG1heFdhaXQsXG4gICAgICByZXN1bHQsXG4gICAgICB0aW1lcklkLFxuICAgICAgbGFzdENhbGxUaW1lLFxuICAgICAgbGFzdEludm9rZVRpbWUgPSAwLFxuICAgICAgbGVhZGluZyA9IGZhbHNlLFxuICAgICAgbWF4aW5nID0gZmFsc2UsXG4gICAgICB0cmFpbGluZyA9IHRydWU7XG5cbiAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gIH1cbiAgd2FpdCA9IHRvTnVtYmVyKHdhaXQpIHx8IDA7XG4gIGlmIChpc09iamVjdChvcHRpb25zKSkge1xuICAgIGxlYWRpbmcgPSAhIW9wdGlvbnMubGVhZGluZztcbiAgICBtYXhpbmcgPSAnbWF4V2FpdCcgaW4gb3B0aW9ucztcbiAgICBtYXhXYWl0ID0gbWF4aW5nID8gbmF0aXZlTWF4KHRvTnVtYmVyKG9wdGlvbnMubWF4V2FpdCkgfHwgMCwgd2FpdCkgOiBtYXhXYWl0O1xuICAgIHRyYWlsaW5nID0gJ3RyYWlsaW5nJyBpbiBvcHRpb25zID8gISFvcHRpb25zLnRyYWlsaW5nIDogdHJhaWxpbmc7XG4gIH1cblxuICBmdW5jdGlvbiBpbnZva2VGdW5jKHRpbWUpIHtcbiAgICB2YXIgYXJncyA9IGxhc3RBcmdzLFxuICAgICAgICB0aGlzQXJnID0gbGFzdFRoaXM7XG5cbiAgICBsYXN0QXJncyA9IGxhc3RUaGlzID0gdW5kZWZpbmVkO1xuICAgIGxhc3RJbnZva2VUaW1lID0gdGltZTtcbiAgICByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBmdW5jdGlvbiBsZWFkaW5nRWRnZSh0aW1lKSB7XG4gICAgLy8gUmVzZXQgYW55IGBtYXhXYWl0YCB0aW1lci5cbiAgICBsYXN0SW52b2tlVGltZSA9IHRpbWU7XG4gICAgLy8gU3RhcnQgdGhlIHRpbWVyIGZvciB0aGUgdHJhaWxpbmcgZWRnZS5cbiAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgIC8vIEludm9rZSB0aGUgbGVhZGluZyBlZGdlLlxuICAgIHJldHVybiBsZWFkaW5nID8gaW52b2tlRnVuYyh0aW1lKSA6IHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbWFpbmluZ1dhaXQodGltZSkge1xuICAgIHZhciB0aW1lU2luY2VMYXN0Q2FsbCA9IHRpbWUgLSBsYXN0Q2FsbFRpbWUsXG4gICAgICAgIHRpbWVTaW5jZUxhc3RJbnZva2UgPSB0aW1lIC0gbGFzdEludm9rZVRpbWUsXG4gICAgICAgIHRpbWVXYWl0aW5nID0gd2FpdCAtIHRpbWVTaW5jZUxhc3RDYWxsO1xuXG4gICAgcmV0dXJuIG1heGluZ1xuICAgICAgPyBuYXRpdmVNaW4odGltZVdhaXRpbmcsIG1heFdhaXQgLSB0aW1lU2luY2VMYXN0SW52b2tlKVxuICAgICAgOiB0aW1lV2FpdGluZztcbiAgfVxuXG4gIGZ1bmN0aW9uIHNob3VsZEludm9rZSh0aW1lKSB7XG4gICAgdmFyIHRpbWVTaW5jZUxhc3RDYWxsID0gdGltZSAtIGxhc3RDYWxsVGltZSxcbiAgICAgICAgdGltZVNpbmNlTGFzdEludm9rZSA9IHRpbWUgLSBsYXN0SW52b2tlVGltZTtcblxuICAgIC8vIEVpdGhlciB0aGlzIGlzIHRoZSBmaXJzdCBjYWxsLCBhY3Rpdml0eSBoYXMgc3RvcHBlZCBhbmQgd2UncmUgYXQgdGhlXG4gICAgLy8gdHJhaWxpbmcgZWRnZSwgdGhlIHN5c3RlbSB0aW1lIGhhcyBnb25lIGJhY2t3YXJkcyBhbmQgd2UncmUgdHJlYXRpbmdcbiAgICAvLyBpdCBhcyB0aGUgdHJhaWxpbmcgZWRnZSwgb3Igd2UndmUgaGl0IHRoZSBgbWF4V2FpdGAgbGltaXQuXG4gICAgcmV0dXJuIChsYXN0Q2FsbFRpbWUgPT09IHVuZGVmaW5lZCB8fCAodGltZVNpbmNlTGFzdENhbGwgPj0gd2FpdCkgfHxcbiAgICAgICh0aW1lU2luY2VMYXN0Q2FsbCA8IDApIHx8IChtYXhpbmcgJiYgdGltZVNpbmNlTGFzdEludm9rZSA+PSBtYXhXYWl0KSk7XG4gIH1cblxuICBmdW5jdGlvbiB0aW1lckV4cGlyZWQoKSB7XG4gICAgdmFyIHRpbWUgPSBub3coKTtcbiAgICBpZiAoc2hvdWxkSW52b2tlKHRpbWUpKSB7XG4gICAgICByZXR1cm4gdHJhaWxpbmdFZGdlKHRpbWUpO1xuICAgIH1cbiAgICAvLyBSZXN0YXJ0IHRoZSB0aW1lci5cbiAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHJlbWFpbmluZ1dhaXQodGltZSkpO1xuICB9XG5cbiAgZnVuY3Rpb24gdHJhaWxpbmdFZGdlKHRpbWUpIHtcbiAgICB0aW1lcklkID0gdW5kZWZpbmVkO1xuXG4gICAgLy8gT25seSBpbnZva2UgaWYgd2UgaGF2ZSBgbGFzdEFyZ3NgIHdoaWNoIG1lYW5zIGBmdW5jYCBoYXMgYmVlblxuICAgIC8vIGRlYm91bmNlZCBhdCBsZWFzdCBvbmNlLlxuICAgIGlmICh0cmFpbGluZyAmJiBsYXN0QXJncykge1xuICAgICAgcmV0dXJuIGludm9rZUZ1bmModGltZSk7XG4gICAgfVxuICAgIGxhc3RBcmdzID0gbGFzdFRoaXMgPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNhbmNlbCgpIHtcbiAgICBpZiAodGltZXJJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZXJJZCk7XG4gICAgfVxuICAgIGxhc3RJbnZva2VUaW1lID0gMDtcbiAgICBsYXN0QXJncyA9IGxhc3RDYWxsVGltZSA9IGxhc3RUaGlzID0gdGltZXJJZCA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZsdXNoKCkge1xuICAgIHJldHVybiB0aW1lcklkID09PSB1bmRlZmluZWQgPyByZXN1bHQgOiB0cmFpbGluZ0VkZ2Uobm93KCkpO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVib3VuY2VkKCkge1xuICAgIHZhciB0aW1lID0gbm93KCksXG4gICAgICAgIGlzSW52b2tpbmcgPSBzaG91bGRJbnZva2UodGltZSk7XG5cbiAgICBsYXN0QXJncyA9IGFyZ3VtZW50cztcbiAgICBsYXN0VGhpcyA9IHRoaXM7XG4gICAgbGFzdENhbGxUaW1lID0gdGltZTtcblxuICAgIGlmIChpc0ludm9raW5nKSB7XG4gICAgICBpZiAodGltZXJJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBsZWFkaW5nRWRnZShsYXN0Q2FsbFRpbWUpO1xuICAgICAgfVxuICAgICAgaWYgKG1heGluZykge1xuICAgICAgICAvLyBIYW5kbGUgaW52b2NhdGlvbnMgaW4gYSB0aWdodCBsb29wLlxuICAgICAgICBjbGVhclRpbWVvdXQodGltZXJJZCk7XG4gICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgICAgIHJldHVybiBpbnZva2VGdW5jKGxhc3RDYWxsVGltZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aW1lcklkID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgZGVib3VuY2VkLmNhbmNlbCA9IGNhbmNlbDtcbiAgZGVib3VuY2VkLmZsdXNoID0gZmx1c2g7XG4gIHJldHVybiBkZWJvdW5jZWQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGRlYm91bmNlO1xuIiwiaW1wb3J0IGRlYm91bmNlIGZyb20gJy4vZGVib3VuY2UuanMnO1xuaW1wb3J0IGlzT2JqZWN0IGZyb20gJy4vaXNPYmplY3QuanMnO1xuXG4vKiogRXJyb3IgbWVzc2FnZSBjb25zdGFudHMuICovXG52YXIgRlVOQ19FUlJPUl9URVhUID0gJ0V4cGVjdGVkIGEgZnVuY3Rpb24nO1xuXG4vKipcbiAqIENyZWF0ZXMgYSB0aHJvdHRsZWQgZnVuY3Rpb24gdGhhdCBvbmx5IGludm9rZXMgYGZ1bmNgIGF0IG1vc3Qgb25jZSBwZXJcbiAqIGV2ZXJ5IGB3YWl0YCBtaWxsaXNlY29uZHMuIFRoZSB0aHJvdHRsZWQgZnVuY3Rpb24gY29tZXMgd2l0aCBhIGBjYW5jZWxgXG4gKiBtZXRob2QgdG8gY2FuY2VsIGRlbGF5ZWQgYGZ1bmNgIGludm9jYXRpb25zIGFuZCBhIGBmbHVzaGAgbWV0aG9kIHRvXG4gKiBpbW1lZGlhdGVseSBpbnZva2UgdGhlbS4gUHJvdmlkZSBgb3B0aW9uc2AgdG8gaW5kaWNhdGUgd2hldGhlciBgZnVuY2BcbiAqIHNob3VsZCBiZSBpbnZva2VkIG9uIHRoZSBsZWFkaW5nIGFuZC9vciB0cmFpbGluZyBlZGdlIG9mIHRoZSBgd2FpdGBcbiAqIHRpbWVvdXQuIFRoZSBgZnVuY2AgaXMgaW52b2tlZCB3aXRoIHRoZSBsYXN0IGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGVcbiAqIHRocm90dGxlZCBmdW5jdGlvbi4gU3Vic2VxdWVudCBjYWxscyB0byB0aGUgdGhyb3R0bGVkIGZ1bmN0aW9uIHJldHVybiB0aGVcbiAqIHJlc3VsdCBvZiB0aGUgbGFzdCBgZnVuY2AgaW52b2NhdGlvbi5cbiAqXG4gKiAqKk5vdGU6KiogSWYgYGxlYWRpbmdgIGFuZCBgdHJhaWxpbmdgIG9wdGlvbnMgYXJlIGB0cnVlYCwgYGZ1bmNgIGlzXG4gKiBpbnZva2VkIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0IG9ubHkgaWYgdGhlIHRocm90dGxlZCBmdW5jdGlvblxuICogaXMgaW52b2tlZCBtb3JlIHRoYW4gb25jZSBkdXJpbmcgdGhlIGB3YWl0YCB0aW1lb3V0LlxuICpcbiAqIElmIGB3YWl0YCBpcyBgMGAgYW5kIGBsZWFkaW5nYCBpcyBgZmFsc2VgLCBgZnVuY2AgaW52b2NhdGlvbiBpcyBkZWZlcnJlZFxuICogdW50aWwgdG8gdGhlIG5leHQgdGljaywgc2ltaWxhciB0byBgc2V0VGltZW91dGAgd2l0aCBhIHRpbWVvdXQgb2YgYDBgLlxuICpcbiAqIFNlZSBbRGF2aWQgQ29yYmFjaG8ncyBhcnRpY2xlXShodHRwczovL2Nzcy10cmlja3MuY29tL2RlYm91bmNpbmctdGhyb3R0bGluZy1leHBsYWluZWQtZXhhbXBsZXMvKVxuICogZm9yIGRldGFpbHMgb3ZlciB0aGUgZGlmZmVyZW5jZXMgYmV0d2VlbiBgXy50aHJvdHRsZWAgYW5kIGBfLmRlYm91bmNlYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHRocm90dGxlLlxuICogQHBhcmFtIHtudW1iZXJ9IFt3YWl0PTBdIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIHRocm90dGxlIGludm9jYXRpb25zIHRvLlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmxlYWRpbmc9dHJ1ZV1cbiAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSBsZWFkaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYWlsaW5nPXRydWVdXG4gKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHRocm90dGxlZCBmdW5jdGlvbi5cbiAqIEBleGFtcGxlXG4gKlxuICogLy8gQXZvaWQgZXhjZXNzaXZlbHkgdXBkYXRpbmcgdGhlIHBvc2l0aW9uIHdoaWxlIHNjcm9sbGluZy5cbiAqIGpRdWVyeSh3aW5kb3cpLm9uKCdzY3JvbGwnLCBfLnRocm90dGxlKHVwZGF0ZVBvc2l0aW9uLCAxMDApKTtcbiAqXG4gKiAvLyBJbnZva2UgYHJlbmV3VG9rZW5gIHdoZW4gdGhlIGNsaWNrIGV2ZW50IGlzIGZpcmVkLCBidXQgbm90IG1vcmUgdGhhbiBvbmNlIGV2ZXJ5IDUgbWludXRlcy5cbiAqIHZhciB0aHJvdHRsZWQgPSBfLnRocm90dGxlKHJlbmV3VG9rZW4sIDMwMDAwMCwgeyAndHJhaWxpbmcnOiBmYWxzZSB9KTtcbiAqIGpRdWVyeShlbGVtZW50KS5vbignY2xpY2snLCB0aHJvdHRsZWQpO1xuICpcbiAqIC8vIENhbmNlbCB0aGUgdHJhaWxpbmcgdGhyb3R0bGVkIGludm9jYXRpb24uXG4gKiBqUXVlcnkod2luZG93KS5vbigncG9wc3RhdGUnLCB0aHJvdHRsZWQuY2FuY2VsKTtcbiAqL1xuZnVuY3Rpb24gdGhyb3R0bGUoZnVuYywgd2FpdCwgb3B0aW9ucykge1xuICB2YXIgbGVhZGluZyA9IHRydWUsXG4gICAgICB0cmFpbGluZyA9IHRydWU7XG5cbiAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gIH1cbiAgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgbGVhZGluZyA9ICdsZWFkaW5nJyBpbiBvcHRpb25zID8gISFvcHRpb25zLmxlYWRpbmcgOiBsZWFkaW5nO1xuICAgIHRyYWlsaW5nID0gJ3RyYWlsaW5nJyBpbiBvcHRpb25zID8gISFvcHRpb25zLnRyYWlsaW5nIDogdHJhaWxpbmc7XG4gIH1cbiAgcmV0dXJuIGRlYm91bmNlKGZ1bmMsIHdhaXQsIHtcbiAgICAnbGVhZGluZyc6IGxlYWRpbmcsXG4gICAgJ21heFdhaXQnOiB3YWl0LFxuICAgICd0cmFpbGluZyc6IHRyYWlsaW5nXG4gIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCB0aHJvdHRsZTtcbiIsIlxyXG5pbXBvcnQgZGVib3VuY2UsIHsgRGVib3VuY2VkRnVuYywgdHlwZSBEZWJvdW5jZVNldHRpbmdzIH0gZnJvbSBcImxvZGFzaC1lcy9kZWJvdW5jZVwiO1xyXG5pbXBvcnQgdGhyb3R0bGUsIHsgdHlwZSBUaHJvdHRsZVNldHRpbmdzIH0gZnJvbSBcImxvZGFzaC1lcy90aHJvdHRsZVwiO1xyXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZU1lbW8gfSBmcm9tIFwicHJlYWN0L2hvb2tzXCI7XHJcbmltcG9ydCB7IHJldHVybk51bGwsIHVzZVBhc3NpdmVTdGF0ZSB9IGZyb20gXCIuL3VzZS1wYXNzaXZlLXN0YXRlXCI7XHJcbmltcG9ydCB7IHVzZVN0YWJsZUNhbGxiYWNrIH0gZnJvbSBcIi4vdXNlLXN0YWJsZS1jYWxsYmFja1wiO1xyXG5pbXBvcnQgeyB1c2VTdGF0ZSB9IGZyb20gXCIuL3VzZS1zdGF0ZVwiO1xyXG5cclxudHlwZSBGdW5jID0gKC4uLmFyZ3M6IGFueSkgPT4gUHJvbWlzZTx1bmtub3duPiB8IHVua25vd247XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFVzZUFzeW5jUGFyYW1ldGVyczxBUCBleHRlbmRzIHVua25vd25bXSwgU1AgZXh0ZW5kcyB1bmtub3duW10gPSBBUD4ge1xyXG4gICAgLyoqXHJcbiAgICAgKiBJZiBwcm92aWRlZCwgYWRkcyBhIGRlYm91bmNlIGJlaGF2aW9yICppbiBhZGRpdGlvbiogdG9cclxuICAgICAqIHRoZSBkZWZhdWx0IFwid2FpdCB1bnRpbCByZXNvbHZlZFwiIHRocm90dGxpbmcgYmVoYXZpb3IuXHJcbiAgICAgKi9cclxuICAgIGRlYm91bmNlPzogbnVtYmVyO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQnkgZGVmYXVsdCwgYHVzZUFzeW5jYCB3aXRoIGF1dG8tdGhyb3R0bGUgYmFzZWQgb24gaG93IGxvbmcgaXQgdGFrZXNcclxuICAgICAqIGZvciB0aGUgb3BlcmF0aW9uIHRvIGNvbXBsZXRlLiAgSWYgeW91IHdvdWxkIGxpa2UgdGhlcmUgdG8gYmUgYVxyXG4gICAgICogbWluaW11bSBhbW91bnQgb2YgdGltZSB0byB3YWl0IGJlZm9yZSBhbGxvd2luZyBhIHNlY29uZCBvcGVyYXRpb24sXHJcbiAgICAgKiB0aGUgYHRocm90dGxlYCBwYXJhbWV0ZXIgY2FuIGJlIHVzZWQgaW4gYWRkaXRpb24gdG8gdGhhdCBiZWhhdmlvci5cclxuICAgICAqL1xyXG4gICAgdGhyb3R0bGU/OiBudW1iZXI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBXaGVuIGFuIGFzeW5jIGZ1bmN0aW9uIGlzIGRlYm91bmNlZCBkdWUgdG8gb25lIGFscmVhZHkgcnVubmluZyxcclxuICAgICAqIGl0IHdpbGwgcnVuIG9uIGEgZGVsYXkgYW5kLCBhcyBhIHJlc3VsdCwgdGhlIG9yaWdpbmFsIGFyZ3VtZW50c1xyXG4gICAgICogdGhhdCB3ZXJlIHBhc3NlZCB0byBpdCBtYXkgbmVlZCB0byBiZSBhZGp1c3RlZCB0byBhY2NvdW50IGZvciB0aGF0LlxyXG4gICAgICogXHJcbiAgICAgKiBGb3IgZXhhbXBsZSwgZHVyaW5nIGBvbklucHV0YCwgdGhlIGB2YWx1ZWAgb2YgdGhhdCBldmVudCBpc24ndCBzdG9yZWRcclxuICAgICAqIGluIHRoZSBldmVudCBpdHNlbGYsIGl0J3Mgc3RvcmVkIGluIHRoZSBgSFRNTElucHV0RWxlbWVudGAgdGhhdCByYWlzZWQgaXQuXHJcbiAgICAgKiBTbyB3aGVuIG91ciBoYW5kbGVyIGFjdHVhbGx5IHJ1bnMgYSBmZXcgc2Vjb25kcyBsYXRlciwgaXQnbGwgcmVhZCB0aGUgKipuZXh0KipcclxuICAgICAqIGBldmVudC5jdXJyZW50VGFyZ2V0LnZhbHVlYCwgaW5zdGVhZCBvZiB0aGUgb25lIGZyb20gYSBmZXcgc2Vjb25kcyBhZ28gXHJcbiAgICAgKiB0aGF0IGFjdHVhbGx5IHJhaXNlZCB0aGUgZXZlbnQhXHJcbiAgICAgKiBcclxuICAgICAqIElmIHRoZSBhcmd1bWVudHMgdG8geW91ciBoYW5kbGVyIHJlcXVpcmUgcmVmZXJlbmNpbmcgZGF0YSBpbiB0aGUgYXJndW1lbnRzXHJcbiAgICAgKiB0aGF0IG1heSBiZWNvbWUgXCJzdGFsZVwiIGJ5IHRoZSB0aW1lIHRoZSBmdW5jdGlvbiBhY3R1YWxseSBydW5zIChnZW5lcmFsbHkgZXZlbnRcclxuICAgICAqIGhhbmRsZXJzIGFuZCBvdGhlciB0aGluZ3MgdGhhdCByZWZlcmVuY2UgdGhlIHByb3BlcnRpZXMgb2YgZXhpc3Rpbmcgb2JqZWN0cyksXHJcbiAgICAgKiB0aGUgYGNhcHR1cmVgIHBhcmFtZXRlciBhbGxvd3MgeW91IHRvIHRyYW5zZm9ybSB0aGUgcGFyYW1ldGVycyB5b3Ugd2VyZSBnaXZlblxyXG4gICAgICogd2hlbiB0aGUgcmVxdWVzdCB0byBydW4gd2FzIGluaXRpYWxseSBtYWRlIGludG8gcGFyYW1ldGVycyB0aGF0IHlvdSBoYXZlXHJcbiAgICAgKiBndWFyYW50ZWVkIHdpbGwgc3RpbGwgYmUgZ29vZCBieSB0aGUgdGltZSB0aGUgaGFuZGxlciBhY3R1YWxseSBydW5zLlxyXG4gICAgICovXHJcbiAgICBjYXB0dXJlPzogQ2FwdHVyZUZ1bmN0aW9uVHlwZTxBUCwgU1A+O1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFVzZUFzeW5jUmV0dXJuVHlwZTxTUCBleHRlbmRzIHVua25vd25bXSwgUj4ge1xyXG5cclxuICAgIC8vcHJvbWlzZTogUHJvbWlzZTxBd2FpdGVkPFJldHVyblR5cGU8Rj4+PiB8IG51bGw7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBXaGVuIGEgaGFuZGxlciBpcyBjdXJyZW50bHkgZXhlY3V0aW5nLCB0aGlzIGlzIHRydWUuXHJcbiAgICAgKiBcclxuICAgICAqIEl0IGlzIGZhbHNlIGJlZm9yZSB0aGUgZmlyc3QgZXhlY3V0aW9uLCB0cnVlIGR1cmluZyB0aGVcclxuICAgICAqIGZpcnN0IGV4ZWN1dGlvbiwgcmVtYWlucyB0cnVlIGlmIGNvbnRpbnVpbmcgaW1tZWRpYXRlbHlcclxuICAgICAqIGludG8gYSBzZWNvbmQsIGFuZCBvbmx5IHJldHVybnMgdG8gZmFsc2Ugd2hlbiBhIGhhbmRsZXJcclxuICAgICAqIGNvbXBsZXRlcyB3aXRoIG5vIGhhbmRsZXIgaW4gd2FpdGluZy5cclxuICAgICAqL1xyXG4gICAgcGVuZGluZzogYm9vbGVhbjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBudW1iZXIgb2YgdGltZXMgdGhlIGhhbmRsZXIgaGFzIHJ1bi5cclxuICAgICAqIERvZXMgbm90IGluY2x1ZGUgdGltZXMgd2hlcmUgaXQgd2FzIHRocm90dGxlZCBvciBkZWJvdW5jZWQgYXdheS5cclxuICAgICAqIFxyXG4gICAgICogVXNlZnVsIGZvciBrbm93aW5nIGlmIHRoZSBoYW5kbGVyIGhhcyBiZWVuIGNhbGxlZCB5ZXQsIG9yIGZvclxyXG4gICAgICogc2V0dGluZyBhIG5ldyB0aW1lb3V0IHRvIHNob3cgYSBzcGlubmVyLlxyXG4gICAgICovXHJcbiAgICBjYWxsQ291bnQ6IG51bWJlcjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBudW1iZXIgb2YgdGltZXMgdGhlIGhhbmRsZXIgaGFzIHNldHRsZWRcclxuICAgICAqIChyZXNvbHZlZCBvciByZWplY3RlZCksIHNpbWlsYXJseSB0byBgY2FsbENvdW50YC5cclxuICAgICAqIFxyXG4gICAgICogVXNlZnVsIGZvciBrbm93aW5nIGlmIHRoZSBoYW5kbGVyIGhhcyBjb21wbGV0ZWQgZXZlbiBvbmNlIHlldCxcclxuICAgICAqIG9yIGp1c3QgZm9yIHdoZW4gdGhlIGhhbmRsZXIgaGFzIGZpbmlzaGVkXHJcbiAgICAgKi9cclxuICAgIHNldHRsZUNvdW50OiBudW1iZXI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgbnVtYmVyIG9mIHRpbWVzIHRoZSBoYW5kbGVyIGhhcyBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5LCBcclxuICAgICAqIHNpbWlsYXJseSB0byBgc2V0dGxlQ291bnRgLlxyXG4gICAgICovXHJcbiAgICByZXNvbHZlQ291bnQ6IG51bWJlcjtcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgbnVtYmVyIG9mIHRpbWVzIHRoZSBoYW5kbGVyIGhhcyBmYWlsZWQgdG8gY29tcGxldGUsIFxyXG4gICAgICogc2ltaWxhcmx5IHRvIGByZXNvbHZlQ291bnRgLlxyXG4gICAgICovXHJcbiAgICByZWplY3RDb3VudDogbnVtYmVyO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVwcmVzZW50cyB0aGUgdmFsdWUgbW9zdCByZWNlbnRseSByZXR1cm5lZCBmcm9tIGEgc3VjY2Vzc2Z1bCBoYW5kbGVyIGludm9jYXRpb24sXHJcbiAgICAgKiBvciB1bmRlZmluZWQgaWYgbm8gaGFuZGxlciBoYXMgc3VjY2Vzc2Z1bGx5IHJldHVybmVkIHlldC5cclxuICAgICAqIFxyXG4gICAgICogSWYgdGhlIGhhbmRsZXIgcmVqZWN0cyBhZnRlciBoYXZpbmcgc3VjY2VlZGVkIHByZXZpb3VzbHksIHRoZW5cclxuICAgICAqIGByZXN1bHRgIHdpbGwgc3RpbGwga2VlcCBpdHMgdmFsdWU7IGl0IHdvbid0IGJlIFwiZXJhc2VkXCIgZHVlIHRvIHRoZSBlcnJvci5cclxuICAgICAqIFRoaXMgbWVhbnMgdGhhdCBgcmVzdWx0YCBhbmQgYGVycm9yYCBjYW4gYm90aCBiZSBwb3B1bGF0ZWQgYXQgdGhlIHNhbWUgdGltZS5cclxuICAgICAqIFxyXG4gICAgICogQHNlZSBoYXNSZXN1bHQgZm9yIGlmIGByZXN1bHRgIGJlaW5nIGB1bmRlZmluZWRgIG1lYW5zIGl0J3MgdW5maW5pc2hlZCBvciB0aGUgZnVuY3Rpb24gaXRzZWxmIHJldHVybmVkIGB1bmRlZmluZWRgLlxyXG4gICAgICovXHJcbiAgICByZXN1bHQ6IFIgfCB1bmRlZmluZWQ7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUcnVlIHdoZW4gdGhlIG1vc3QgcmVjZW50bHktcnVuIGhhbmRsZXIgY29tcGxldGVkIHN1Y2Nlc3NmdWxseSxcclxuICAgICAqIGFsc28gbWVhbmluZyB0aGF0IHRoYXQgaXQncyByZXR1cm5lZCBhIHZhbHVlIHRoYXQgd2UgY3VycmVudGx5IGhhdmUuXHJcbiAgICAgKiBcclxuICAgICAqIFdoaWxlIGBwZW5kaW5nYCBpcyB0cnVlLCAqKmBoYXNSZXN1bHRgIGFuZCBgaGFzRXJyb3JgIG1heSBiZSBzaW11bHRhbmVvdXNseSB0cnVlKiosXHJcbiAgICAgKiBidXQgaW4gYWxsIG90aGVyIGNhc2VzIHRoZXkncmUgbXV0dWFsbHkgZXhjbHVzaXZlLlxyXG4gICAgICovXHJcbiAgICBoYXNSZXN1bHQ6IGJvb2xlYW47XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgZXJyb3IgdGhlIGhhbmRsZXIgdGhyZXcuIGB1bmRlZmluZWRgIG90aGVyd2lzZSwgdGhvdWdoIG5vdGVcclxuICAgICAqIHRoYXQgYHVuZGVmaW5lZGAgaXMgYSB2YWxpZCB0aGluZyB0byB0aHJvdywgc28gY2hlY2sgYGhhc0Vycm9yYCB0b28uXHJcbiAgICAgKiBcclxuICAgICAqIEBzZWUgaGFzRXJyb3JcclxuICAgICAqL1xyXG4gICAgZXJyb3I6IHVua25vd247XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBXaGV0aGVyIG9yIG5vdCB0aGUgbW9zdCByZWNlbnQgaGFuZGxlciBmaW5pc2hlZCB3aXRoIGFuIGVycm9yLlxyXG4gICAgICogXHJcbiAgICAgKiBUaGlzIGlzIG5lY2Vzc2FyeSBiZWNhdXNlLCB0ZWNobmljYWxseSwgYGVycm9yYCBjYW4gYmUgYHVuZGVmaW5lZGAuXHJcbiAgICAgKi9cclxuICAgIGhhc0Vycm9yOiBib29sZWFuO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogSWYgeW91IHdvdWxkIGxpa2UgYW55IGN1cnJlbnRseSBkZWJvdW5jZWQtYnV0LWV2ZW50dWFsbHktcGVuZGluZyBwcm9taXNlcyB0byBpbW1lZGlhdGVseSBiZSBjb25zaWRlcmVkIGJ5IGNhbmNlbGxpbmcgdGhlaXIgZGVib3VuY2UgdGltZW91dCxcclxuICAgICAqIHlvdSBjYW4gY2FsbCB0aGlzIGZ1bmN0aW9uLiAgTm9ybWFsIHByb2NlZHVyZSBhcHBsaWVzIGFzIGlmIHRoZSBkZWJvdW5jZWQgZW5kZWQgbm9ybWFsbHkgLS0gaWYgdGhlcmUncyBubyBwcm9taXNlIHdhaXRpbmcgaW4gdGhlIHF1ZXVlLFxyXG4gICAgICogdGhlIGRlYm91bmNlZCBwcm9taXNlIHJ1bnMgbm9ybWFsbHksIG90aGVyd2lzZSwgaXQgd2FpdHMgaXRzIHR1cm4gdW50aWwgdGhlIGN1cnJlbnQgb25lIGVuZHMsIHBvdGVudGlhbGx5IGJlaW5nIG92ZXJ3cml0dGVuIGxhdGVyIG9uXHJcbiAgICAgKiBpZiBhIG5ldyBwcm9taXNlIHJ1bnMgb3V0ICppdHMqIGRlYm91bmNlIHRpbWVyIGJlZm9yZSB0aGlzIG9uZSBnb3QgYSBjaGFuY2UgdG8gcnVuLlxyXG4gICAgICovXHJcbiAgICBmbHVzaERlYm91bmNlZFByb21pc2U6ICgpID0+IHZvaWQ7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBCYXNlZCBvbiB0aGUgdHlwZSBvZiBoYW5kbGVyIHBhc3NlZCBpbiwgdGhpcyByZXR1cm5lZCB2YWx1ZSB3aWxsXHJcbiAgICAgKiByZXByZXNlbnQgd2hhdCB0eXBlIG9mIGhhbmRsZXIgaXQgd2FzLCBqdXN0IGluIGNhc2UgeW91XHJcbiAgICAgKiB5b3Vyc2VsZiBuZWVkIHRvIGtub3cgdGhhdCBhbmQgZG9uJ3QgaGF2ZSBhY2Nlc3MgdG8gdGhlIG9yaWdpbmFsXHJcbiAgICAgKiB0byBmaW5kIG91dCB3aXRob3V0IGl0IGFjdHVhbGx5IGJlaW5nIHJ1bi5cclxuICAgICAqIFxyXG4gICAgICogVW50aWwgYSBoYW5kbGVyIGlzIGNhbGxlZCwgdGhpcyB3aWxsIGJlIG51bGwuICBOYXR1cmFsbHksIGlmIFxyXG4gICAgICogZGlmZmVyZW50IGhhbmRsZXJzIGFyZSBwYXNzZWQgaW4sIGl0IGNhbiBmbGlwIGJhY2sgYW5kXHJcbiAgICAgKiBmb3J0aCBiZXR3ZWVuIFwiYXN5bmNcIiBhbmQgXCJzeW5jXCIgYXMgd2VsbC5cclxuICAgICAqL1xyXG4gICAgY3VycmVudFR5cGU6IG51bGwgfCBcInN5bmNcIiB8IFwiYXN5bmNcIjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSB0cmFuc2Zvcm1lZCB2ZXJzaW9uIG9mIHRoZSBhc3luYyBoYW5kbGVyIHByb3ZpZGVkLFxyXG4gICAgICogbm93IHN5bmNocm9ub3VzIGFuZC9vciB0aHJvdHRsZWQgYW5kL29yIGRlYm91bmNlZFxyXG4gICAgICovXHJcbiAgICBzeW5jSGFuZGxlcjogU3luY0Z1bmN0aW9uVHlwZTxTUCwgUj47XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlkZW50aXR5PEFQIGV4dGVuZHMgdW5rbm93bltdLCBTUCBleHRlbmRzIHVua25vd25bXT4oLi4udDogU1ApIHsgcmV0dXJuIHQgYXMgdW5rbm93bltdIGFzIEFQOyB9XHJcblxyXG4vKipcclxuICogUmV0dXJucyBhIHRocm90dGxlZCB2ZXJzaW9uIG9mIHRoZSBnaXZlbiAoc3RhYmxlKSBjYWxsYmFjayB1c2luZyBMb2Rhc2gncyBgdGhyb3R0bGVgIGZ1bmN0aW9uLlxyXG4gKiBcclxuICogSWYgdGhlIGNhbGxiYWNrIGlzIGBudWxsYCwgdGhlbiBgbnVsbGAgd2lsbCBiZSByZXR1cm5lZCwgb3RoZXJ3aXNlIGBjYWxsYmFja2AgbXVzdCBiZSBzdGFibGUgZm9yIHRoaXMgdG8gd29yayBhcyBpbnRlbnRlZC5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiB1c2VUaHJvdHRsZWQ8RiBleHRlbmRzIEZ1bmM+KGNhbGxiYWNrOiBGIHwgbnVsbCwgd2FpdDogbnVtYmVyLCBvcHRpb25zPzogVGhyb3R0bGVTZXR0aW5ncyk6IERlYm91bmNlZEZ1bmM8Rj47XHJcbmV4cG9ydCBmdW5jdGlvbiB1c2VUaHJvdHRsZWQ8RiBleHRlbmRzIEZ1bmM+KGNhbGxiYWNrOiBGIHwgbnVsbCwgd2FpdDogbnVtYmVyLCBvcHRpb25zPzogVGhyb3R0bGVTZXR0aW5ncyk6IERlYm91bmNlZEZ1bmM8Rj4gfCBudWxsO1xyXG5leHBvcnQgZnVuY3Rpb24gdXNlVGhyb3R0bGVkPEYgZXh0ZW5kcyBGdW5jPihjYWxsYmFjazogRiB8IG51bGwsIHdhaXQ6IG51bWJlciwgb3B0aW9ucz86IFRocm90dGxlU2V0dGluZ3MpOiBEZWJvdW5jZWRGdW5jPEY+IHwgbnVsbCB7XHJcbiAgICBjb25zdCB0aHJvdHRsZWQgPSB1c2VNZW1vKCgpID0+IHtcclxuICAgICAgICByZXR1cm4gY2FsbGJhY2sgPyB0aHJvdHRsZShjYWxsYmFjaywgd2FpdCwgb3B0aW9ucykgOiBudWxsO1xyXG4gICAgfSwgW2NhbGxiYWNrLCB3YWl0LCBvcHRpb25zPy5sZWFkaW5nLCBvcHRpb25zPy50cmFpbGluZ10pO1xyXG5cclxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuICgpID0+IHRocm90dGxlZD8uY2FuY2VsKCk7XHJcbiAgICB9LCBbdGhyb3R0bGVkXSlcclxuXHJcbiAgICByZXR1cm4gdGhyb3R0bGVkO1xyXG59XHJcblxyXG4vKipcclxuICogUmV0dXJucyBhIGRlYm91bmNlZCB2ZXJzaW9uIG9mIHRoZSBnaXZlbiAoc3RhYmxlKSBjYWxsYmFjayB1c2luZyBMb2Rhc2gncyBgZGVib3VuY2VkYCBmdW5jdGlvbi5cclxuICogXHJcbiAqIElmIHRoZSBjYWxsYmFjayBpcyBgbnVsbGAsIHRoZW4gYG51bGxgIHdpbGwgYmUgcmV0dXJuZWQsIG90aGVyd2lzZSBgY2FsbGJhY2tgIG11c3QgYmUgc3RhYmxlIGZvciB0aGlzIHRvIHdvcmsgYXMgaW50ZW50ZWQuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gdXNlRGVib3VuY2VkPEYgZXh0ZW5kcyBGdW5jPihjYWxsYmFjazogRiwgd2FpdDogbnVtYmVyLCBvcHRpb25zPzogRGVib3VuY2VTZXR0aW5ncyk6IERlYm91bmNlZEZ1bmM8Rj47XHJcbmV4cG9ydCBmdW5jdGlvbiB1c2VEZWJvdW5jZWQ8RiBleHRlbmRzIEZ1bmM+KGNhbGxiYWNrOiBGIHwgbnVsbCwgd2FpdDogbnVtYmVyLCBvcHRpb25zPzogRGVib3VuY2VTZXR0aW5ncyk6IERlYm91bmNlZEZ1bmM8Rj4gfCBudWxsO1xyXG5leHBvcnQgZnVuY3Rpb24gdXNlRGVib3VuY2VkPEYgZXh0ZW5kcyBGdW5jPihjYWxsYmFjazogRiB8IG51bGwsIHdhaXQ6IG51bWJlciwgb3B0aW9ucz86IERlYm91bmNlU2V0dGluZ3MpOiBEZWJvdW5jZWRGdW5jPEY+IHwgbnVsbCB7XHJcbiAgICBjb25zdCBkZWJvdW5jZWQgPSB1c2VNZW1vKCgpID0+IHtcclxuICAgICAgICByZXR1cm4gY2FsbGJhY2sgPyBkZWJvdW5jZShjYWxsYmFjaywgd2FpdCwgb3B0aW9ucykgOiBudWxsO1xyXG4gICAgfSwgW2NhbGxiYWNrLCB3YWl0LCBvcHRpb25zPy5sZWFkaW5nLCBvcHRpb25zPy5tYXhXYWl0LCBvcHRpb25zPy50cmFpbGluZ10pO1xyXG5cclxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuICgpID0+IGRlYm91bmNlZD8uY2FuY2VsKCk7XHJcbiAgICB9LCBbZGVib3VuY2VkXSlcclxuXHJcbiAgICByZXR1cm4gZGVib3VuY2VkO1xyXG59XHJcblxyXG50eXBlIFN5bmNGdW5jdGlvblR5cGU8U1AgZXh0ZW5kcyB1bmtub3duW10sIFI+ID0gKC4uLmFyZ3M6IFNQKSA9PiAoUiB8IHVuZGVmaW5lZCk7XHJcbnR5cGUgQXN5bmNGdW5jdGlvblR5cGU8QVAgZXh0ZW5kcyB1bmtub3duW10sIFI+ID0gKCguLi5hcmdzOiBBUCkgPT4gKFIgfCBQcm9taXNlPFI+KSk7XHJcbnR5cGUgR2x1ZUZ1bmN0aW9uVHlwZTxBUCBleHRlbmRzIHVua25vd25bXSwgUj4gPSAoZW5xdWV1ZTogYm9vbGVhbiwgLi4uYXJnczogQVApID0+IFIgfCB1bmRlZmluZWQ7XHJcbnR5cGUgQ2FwdHVyZUZ1bmN0aW9uVHlwZTxBUCBleHRlbmRzIHVua25vd25bXSwgU1AgZXh0ZW5kcyB1bmtub3duW10gPSBBUD4gPSAoLi4uYXJnczogU1ApID0+IEFQO1xyXG5cclxuLyoqXHJcbiAqIEdpdmVuIGFuIGFzeW5jIGZ1bmN0aW9uLCByZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCdzIHN1aXRhYmxlIGZvciBub24tYXN5bmMgQVBJcywgXHJcbiAqIGFsb25nIHdpdGggb3RoZXIgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGN1cnJlbnQgcnVuJ3Mgc3RhdHVzLlxyXG4gKiBcclxuICogU2VlIGFsc28gYHVzZUFzeW5jSGFuZGxlcmAgZm9yIGEgdmVyc2lvbiB0aGF0J3Mgc3BlY2lhbGl6ZWQgZm9yIERPTSBldmVudCBoYW5kbGVycy5cclxuICogXHJcbiAqIFdoZW4gY2FsbGVkIG11bHRpcGxlIHRpbWVzIGluIHF1aWNrIHN1Y2Nlc3Npb24sIChpLmUuIGJlZm9yZSB0aGUgaGFuZGxlciBoYXMgZmluaXNoZWQpLCBcclxuICogdGhpcyB3b3JrcyBsaWtlIExvZGFzaCdzIGB0aHJvdHRsZWAgZnVuY3Rpb24gd2l0aCB0aGUgYHdhaXRgIG9wdGlvbiBhbHdheXNcclxuICogc2V0IHRvIGhvd2V2ZXIgbG9uZyB0aGUgaGFuZGxlciB0YWtlcyB0byBjb21wbGV0ZS4gQSBzZWNvbmQgY2FsbCB0byB0aGUgc3luYyBmdW5jdGlvbiB3aWxsIGJlIFxyXG4gKiB0aHJvdHRsZWQgdW50aWwgdGhlIGZpcnN0IGNhbGwgaGFzIGZpbmlzaGVkLiBUaGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBmdW5jdGlvbiBpcyB0aGUgcmVzdWx0IFxyXG4gKiBvZiB0aGUgcHJldmlvdXMgaW52b2NhdGlvbiwgb3IgYHVuZGVmaW5lZGAgb24gdGhlIGZpcnN0IGNhbGwuXHJcbiAqIFxyXG4gKiBUaGUgaGFuZGxlciBpcyBvbmx5IGV2ZXIgZGVsYXllZCBpZiBvbmUgaXMgY3VycmVudGx5IHJ1bm5pbmcsIHNvLCBlLmcuIGZvciBpT1MgdG91Y2ggZXZlbnRzIHRoZVxyXG4gKiBmaXJzdCBjYWxsIGhhcHBlbnMgaW4gdGhlIHNhbWUgZXZlbnQgaGFuZGxlciAod2hpY2ggbWVhbnMgdGhpbmdzIGxpa2UgY2FsbHMgdG8gYGVsZW1lbnQuZm9jdXMoKWBcclxuICogd2lsbCB3b3JrIGFzIGludGVuZGVkLCBzaW5jZSB0aGF0IGZhaWxzIHdoZW4gdGhlIGV2ZW50IGlzIFwic3BsaXQgdXBcIilcclxuICogXHJcbiAqIEZpbmFsbHksIGJlY2F1c2UgdGhlIHN5bmMgaGFuZGxlciBtYXkgYmUgaW52b2tlZCBvbiBhIGRlbGF5LCBhbnkgcHJvcGVydHkgcmVmZXJlbmNlcyBvbiB0aGUgYXJndW1lbnRzXHJcbiAqIHByb3ZpZGVkIG1pZ2h0IGJlIHN0YWxlIGJ5IHRoZSB0aW1lIGl0J3MgYWN0dWFsbHkgaW52b2tlZCAoZS5nLiBhY2Nlc3NpbmcgYGV2ZW50LmN1cnJlbnRUYXJnZXQuY2hlY2tlZGBcclxuICogaXMgbm90IHN0YWJsZSBhY3Jvc3MgdGltZSBiZWNhdXNlIGl0J3MgYSBcImxpdmVcIiB2YWx1ZSAtLSB5b3UgYWxtb3N0IGFsd2F5cyB3YW50IHRoZSB2YWx1ZSB0aGF0IGl0XHJcbiAqIGhhZCBhdCB0aGUgb3JpZ2luYWwgdGltZSB0aGUgaGFuZGxlciB3YXMgY2FsbGVkKS4gVGhlIGBjYXB0dXJlYCBvcHRpb24gYWxsb3dzIHlvdSB0byBzYXZlIHRoYXQga2luZCBvZlxyXG4gKiBkeW5hbWljIGRhdGEgYXQgdGhlIHRpbWUgaXQgcnVuczsgdGhlIGBBUGAgYW5kIGBTUGAgdHlwZSBwYXJhbWV0ZXJzIGxpa2V3aXNlIGNvbnRyb2xcclxuICogdGhlIHBhcmFtZXRlcnMgdGhlIGFzeW5jIGhhbmRsZXIgYW5kIHN5bmMgaGFuZGxlciBleHBlY3QgcmVzcGVjdGl2ZWx5LlxyXG4gKiBcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiB1c2VBc3luYzxBUCBleHRlbmRzIHVua25vd25bXSwgUiwgU1AgZXh0ZW5kcyB1bmtub3duW10gPSBBUD4oYXN5bmNIYW5kbGVyOiBBc3luY0Z1bmN0aW9uVHlwZTxBUCwgUj4gfCBudWxsLCBvcHRpb25zPzogVXNlQXN5bmNQYXJhbWV0ZXJzPEFQLCBTUD4pOiBVc2VBc3luY1JldHVyblR5cGU8U1AsIFI+IHtcclxuXHJcblxyXG4gICAgLyogZXNsaW50LWRpc2FibGUgcHJlZmVyLWNvbnN0ICovXHJcbiAgICBsZXQgeyB0aHJvdHRsZSwgZGVib3VuY2UsIGNhcHR1cmUgfSA9IChvcHRpb25zID8/IHt9KTtcclxuICAgIGNhcHR1cmUgPz89IGlkZW50aXR5O1xyXG5cclxuICAgIC8vIFdlIGtlZXAsIGxpa2UsIGEgbG90IG9mIHJlbmRlci1zdGF0ZSwgYnV0IGl0IG9ubHkgZXZlciB0cmlnZ2VycyBhIHJlLXJlbmRlclxyXG4gICAgLy8gd2hlbiB3ZSBzdGFydC9zdG9wIGFuIGFzeW5jIGFjdGlvbi5cclxuXHJcbiAgICAvLyBLZWVwIHRyYWNrIG9mIHRoaXMgZm9yIHRoZSBjYWxsZXIncyBzYWtlIC0tIHdlIGRvbid0IHJlYWxseSBjYXJlLlxyXG4gICAgY29uc3QgW2N1cnJlbnRUeXBlLCBzZXRDdXJyZW50VHlwZV0gPSB1c2VTdGF0ZTxudWxsIHwgXCJzeW5jXCIgfCBcImFzeW5jXCI+KG51bGwpO1xyXG4gICAgY29uc3QgW3J1bkNvdW50LCBzZXRSdW5Db3VudF0gPSB1c2VTdGF0ZSgwKTtcclxuICAgIGNvbnN0IFtzZXR0bGVDb3VudCwgc2V0U2V0dGxlQ291bnRdID0gdXNlU3RhdGUoMCk7XHJcbiAgICBjb25zdCBbcmVzb2x2ZUNvdW50LCBzZXRSZXNvbHZlQ291bnRdID0gdXNlU3RhdGUoMCk7XHJcbiAgICBjb25zdCBbcmVqZWN0Q291bnQsIHNldFJlamVjdENvdW50XSA9IHVzZVN0YXRlKDApO1xyXG5cclxuICAgIC8vIFRoaW5ncyByZWxhdGVkIHRvIGN1cnJlbnQgZXhlY3V0aW9uXHJcbiAgICAvLyBCZWNhdXNlIHdlIGNhbiBib3RoIHJldHVybiBhbmQgdGhyb3cgdW5kZWZpbmVkLCBcclxuICAgIC8vIHdlIG5lZWQgc2VwYXJhdGUgc3RhdGUgdG8gdHJhY2sgdGhlaXIgZXhpc3RhbmNlIHRvby5cclxuICAgIGNvbnN0IFtwZW5kaW5nLCBzZXRQZW5kaW5nLCBnZXRQZW5kaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICAgIGNvbnN0IFtyZXN1bHQsIHNldFJlc3VsdCwgZ2V0UmVzdWx0XSA9IHVzZVN0YXRlPFI+KHVuZGVmaW5lZCEpO1xyXG4gICAgY29uc3QgW2Vycm9yLCBzZXRFcnJvciwgX2dldEVycm9yXSA9IHVzZVN0YXRlPHVua25vd24+KHVuZGVmaW5lZCEpO1xyXG4gICAgY29uc3QgW2hhc0Vycm9yLCBzZXRIYXNFcnJvciwgX2dldEhhc0Vycm9yXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICAgIGNvbnN0IFtoYXNSZXN1bHQsIHNldEhhc1Jlc3VsdCwgX2dldEhhc1Jlc3VsdF0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcblxyXG4gICAgLy8gV2UgaW1wbGVtZW50IG91ciBvd24gdGhyb3R0bGluZyBiZWhhdmlvciBpbiByZWdhcmRzIHRvIHdhaXRpbmcgdW50aWwgdGhlIGFzeW5jIGhhbmRsZXIgZmluaXNoZXMuXHJcbiAgICAvLyBUaGVzZSB0d28gcGFzc2l2ZSBzdGF0ZSB2YXJpYWJsZXMga2VlcCB0cmFjayBvZiB0aGF0LCBhdXRvbWF0aWNhbGx5IHF1ZXVlaW5nL2RlcXVldWluZyB0aGUgbmV4dCBoYW5kbGVyLlxyXG4gICAgY29uc3QgW2dldFF1ZXVlZCwgc2V0UXVldWVkXSA9IHVzZVBhc3NpdmVTdGF0ZTxBUCB8IG51bGw+KG51bGwsIHJldHVybk51bGwpO1xyXG5cclxuXHJcbiAgICAvLyBUaGUgYWN0dWFsIHN5bmMgaGFuZGxlci5cclxuICAgIC8vIENhcHR1cmUvdHJhbnNmb3JtIHRoZSBnaXZlbiBwYXJhbWV0ZXJzIGlmIGFwcGxpY2FibGUsXHJcbiAgICAvLyB0aGVuIHJ1biBmdXJ0aGVyIGxvZ2ljIHRoYXQncyBkZWJvdW5jZWQvdGhyb3R0bGVkXHJcbiAgICBjb25zdCBjYXB0dXJlQXJnc0FuZEV4ZWN1dGVEZWJvdW5jZWRIYW5kbGVyID0gdXNlU3RhYmxlQ2FsbGJhY2s8U3luY0Z1bmN0aW9uVHlwZTxTUCwgUj4+KGZ1bmN0aW9uIG9uTmV3RXhlY3V0ZVJlcXVlc3QoLi4ubmV3QXJnczI6IFNQKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJjYXB0dXJlQXJnc0FuZEV4ZWN1dGVEZWJvdW5jZWRIYW5kbGVyXCIpO1xyXG5cclxuICAgICAgICAvLyBDYXB0dXJlIHRoZSBhcmd1bWVudHMgd2Ugd2VyZSBnaXZlbi5cclxuICAgICAgICAvLyBXZSBtaWdodCB1c2UgdGhlbSBpbW1lZGlhdGVseSwgb3Igd2UgbWlnaHQgc3RvcmUgdGhlbSB0byBgcXVldWVkYCxcclxuICAgICAgICAvLyBidXQgaW4gZWl0aGVyIGNhc2Ugd2UgZG8gbmVlZCB0aGUgY2FwdHVyZWQgdmFsdWUuXHJcbiAgICAgICAgY29uc3QgY2FwdHVyZWQgPSBjYXB0dXJlISguLi5uZXdBcmdzMik7XHJcblxyXG4gICAgICAgIC8vIFRoaXMgaXMgYWxsIGxvZ2ljIHRoYXQgZGVhbHMgd2l0aCB0aGUgY2FwdHVyZWQgdmFsdWUgaW5zdGVhZCBvZiB0aGUgcmF3IGFyZ3VtZW50cy5cclxuICAgICAgICAvLyBJdCdzIGNhbGxlZCBpbiB0d28gc2VwYXJhdGUgY2lyY3Vtc3RhbmNlcyxcclxuICAgICAgICAvLyBhbmQgaGFzIHRoZSBkZWJvdW5jZS90aHJvdHRsZSBsb2dpYyBhbHJlYWR5IGFwcGxpZWRcclxuICAgICAgICByZXR1cm4gZXhlY3V0ZUhhbmRsZXJXaXRoRGVib3VuY2UoZ2V0UGVuZGluZygpLCAuLi5jYXB0dXJlZCk7XHJcblxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gVGhpcyBpcyB0aGUgbG9naWMgdGhhdCBydW5zIHdoZW4gdGhlIGhhbmRsZXIgaXMgKmp1c3QqIGFib3V0IHRvIHN0YXJ0LlxyXG4gICAgLy8gVGhpcyBmdW5jdGlvbiBpdHNlbGYgaXMgZnVydGhlciB0cmFuc2Zvcm1lZCB0byBiZSB0aHJvdHRsZWQvZGVib3VuY2VkIGlmIHJlcXVlc3RlZCxcclxuICAgIC8vIHNvIHRoaXMgbWlnaHQgbm90IGJlIGNhbGxlZCBpbW1lZGlhdGVseSBhZnRlciBcclxuICAgIGNvbnN0IGV4ZWN1dGVIYW5kbGVyV2l0aG91dERlYm91bmNlID0gdXNlU3RhYmxlQ2FsbGJhY2s8R2x1ZUZ1bmN0aW9uVHlwZTxBUCwgUj4+KGZ1bmN0aW9uIG9uTmV3RXhlY3V0ZVJlcXVlc3QyKGVucXVldWU6IGJvb2xlYW4sIC4uLm5ld0FyZ3M6IEFQKSB7XHJcblxyXG4gICAgICAgIGNvbnN0IG9uVGhlbiA9ICh2YWx1ZTogUikgPT4geyBjb25zb2xlLmxvZyhcImV4ZWN1dGVIYW5kbGVyV2l0aG91dERlYm91bmNlLm9uVGhlblwiKTsgc2V0UmVzdWx0KHZhbHVlKTsgc2V0SGFzUmVzdWx0KHRydWUpOyBzZXRIYXNFcnJvcihmYWxzZSk7IHNldFJlc29sdmVDb3VudChyID0+ICsrcik7IH07XHJcbiAgICAgICAgY29uc3Qgb25DYXRjaCA9IChleDogYW55KSA9PiB7IGNvbnNvbGUubG9nKFwiZXhlY3V0ZUhhbmRsZXJXaXRob3V0RGVib3VuY2Uub25DYXRjaFwiKTsgc2V0RXJyb3IoZXgpOyBzZXRIYXNFcnJvcih0cnVlKTsgc2V0SGFzUmVzdWx0KGZhbHNlKTsgc2V0UmVqZWN0Q291bnQociA9PiArK3IpOyB9O1xyXG4gICAgICAgIGNvbnN0IG9uRmluYWxseSA9ICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgcXVldWVkID0gZ2V0UXVldWVkKCk7XHJcbiAgICAgICAgICAgIHNldFNldHRsZUNvdW50KHMgPT4gKytzKTtcclxuICAgICAgICAgICAgaWYgKHF1ZXVlZCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJleGVjdXRlSGFuZGxlcldpdGhvdXREZWJvdW5jZS5vbkZpbmFsbHkgKHF1ZXVlZClcIik7XHJcbiAgICAgICAgICAgICAgICBzZXRRdWV1ZWQobnVsbCk7XHJcbiAgICAgICAgICAgICAgICBleGVjdXRlSGFuZGxlcldpdGhEZWJvdW5jZShmYWxzZSwgLi4ucXVldWVkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZXhlY3V0ZUhhbmRsZXJXaXRob3V0RGVib3VuY2Uub25GaW5hbGx5IChlbXB0eSlcIik7XHJcbiAgICAgICAgICAgICAgICBzZXRQZW5kaW5nKGZhbHNlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBpZiAoIWVucXVldWUpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJleGVjdXRlSGFuZGxlcldpdGhvdXREZWJvdW5jZSAoaW1tZWRpYXRlKVwiKTtcclxuICAgICAgICAgICAgLy8gTm90aGluZyBpcyBwZW5kaW5nIGF0IHRoZSBtb21lbnQsIHNvIHdlIGNhbiBydW4gb3VyIGZ1bmN0aW9uIGltbWVkaWF0ZWx5LlxyXG4gICAgICAgICAgICBzZXRSdW5Db3VudChyID0+ICsrcik7XHJcbiAgICAgICAgICAgIHNldFBlbmRpbmcodHJ1ZSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGFzeW5jSGFuZGxlcj8uKC4uLm5ld0FyZ3MpIGFzIFI7XHJcbiAgICAgICAgICAgIGNvbnN0IGlzUHJvbWlzZSA9IChyZXN1bHQgIT0gbnVsbCAmJiB0eXBlb2YgcmVzdWx0ID09IFwib2JqZWN0XCIgJiYgXCJ0aGVuXCIgaW4gKHJlc3VsdCBhcyB1bmtub3duIGFzIFByb21pc2U8YW55PikpO1xyXG4gICAgICAgICAgICBpZiAocmVzdWx0ID09IG51bGwgfHwgIWlzUHJvbWlzZSkge1xyXG4gICAgICAgICAgICAgICAgLy8gSXQncyBzeW5jaHJvbm91cyBhbmQgcmV0dXJuZWQgc3VjY2Vzc2Z1bGx5LlxyXG4gICAgICAgICAgICAgICAgLy8gQmFpbCBvdXQgZWFybHkuXHJcbiAgICAgICAgICAgICAgICBvblRoZW4ocmVzdWx0IGFzIFIpO1xyXG4gICAgICAgICAgICAgICAgb25GaW5hbGx5KCk7XHJcbiAgICAgICAgICAgICAgICBzZXRDdXJyZW50VHlwZShcInN5bmNcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAocmVzdWx0IGFzIHVua25vd24gYXMgUHJvbWlzZTxSPikudGhlbihvblRoZW4pLmNhdGNoKG9uQ2F0Y2gpLmZpbmFsbHkob25GaW5hbGx5KTtcclxuICAgICAgICAgICAgICAgIHNldEN1cnJlbnRUeXBlKFwiYXN5bmNcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZXhlY3V0ZUhhbmRsZXJXaXRob3V0RGVib3VuY2UgKHBlbmRpbmcpXCIpO1xyXG4gICAgICAgICAgICAvLyBXaGVuIHdlJ3JlIHN0aWxsIHJ1bm5pbmcgYSBwcmV2aW91cyBoYW5kbGVyLFxyXG4gICAgICAgICAgICAvLyBqdXN0IHNldCBvdXJzZWx2ZXMgYXMgdGhlIG5leHQgb25lIHRvIHJ1biBhbmQgcXVpdCBlYXJseS5cclxuICAgICAgICAgICAgLy8gTm90aGluZyBtb3JlIHRvIGRvLlxyXG4gICAgICAgICAgICBzZXRRdWV1ZWQobmV3QXJncyk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcblxyXG5cclxuICAgICAgICByZXR1cm4gZ2V0UmVzdWx0KCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCBleGVjdXRlSGFuZGxlcldpdGhUID0gdXNlVGhyb3R0bGVkPE5vbk51bGxhYmxlPHR5cGVvZiBleGVjdXRlSGFuZGxlcldpdGhvdXREZWJvdW5jZT4+KCF0aHJvdHRsZSA/IG51bGwgOiBleGVjdXRlSGFuZGxlcldpdGhvdXREZWJvdW5jZSwgdGhyb3R0bGUgPz8gMCk7XHJcbiAgICBjb25zdCBleGVjdXRlSGFuZGxlcldpdGhEID0gdXNlRGVib3VuY2VkKCFkZWJvdW5jZSA/IG51bGwgOiAoZXhlY3V0ZUhhbmRsZXJXaXRoVCA/PyBleGVjdXRlSGFuZGxlcldpdGhvdXREZWJvdW5jZSksIGRlYm91bmNlID8/IDApO1xyXG4gICAgY29uc3QgZXhlY3V0ZUhhbmRsZXJXaXRoRGVib3VuY2UgPSAoZXhlY3V0ZUhhbmRsZXJXaXRoRCA/PyBleGVjdXRlSGFuZGxlcldpdGhUID8/IGV4ZWN1dGVIYW5kbGVyV2l0aG91dERlYm91bmNlKTtcclxuXHJcbiAgICBjb25zdCBmbHVzaERlYm91bmNlZFByb21pc2UgPSB1c2VTdGFibGVDYWxsYmFjaygoKSA9PiB7XHJcbiAgICAgICAgZXhlY3V0ZUhhbmRsZXJXaXRoRGVib3VuY2U/LmZsdXNoKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHN5bmNIYW5kbGVyOiBjYXB0dXJlQXJnc0FuZEV4ZWN1dGVEZWJvdW5jZWRIYW5kbGVyLFxyXG4gICAgICAgIGN1cnJlbnRUeXBlLFxyXG4gICAgICAgIHBlbmRpbmcsXHJcbiAgICAgICAgcmVzdWx0LFxyXG4gICAgICAgIGVycm9yLFxyXG4gICAgICAgIGhhc0Vycm9yLFxyXG4gICAgICAgIGhhc1Jlc3VsdCxcclxuICAgICAgICByZXNvbHZlQ291bnQsXHJcbiAgICAgICAgcmVqZWN0Q291bnQsXHJcbiAgICAgICAgc2V0dGxlQ291bnQsXHJcbiAgICAgICAgY2FsbENvdW50OiBydW5Db3VudCxcclxuICAgICAgICBmbHVzaERlYm91bmNlZFByb21pc2VcclxuICAgIH1cclxuXHJcblxyXG59XHJcbiIsIlxyXG5pbXBvcnQgeyBoIH0gZnJvbSBcInByZWFjdFwiO1xyXG5pbXBvcnQgeyB1c2VBc3luYywgVXNlQXN5bmNQYXJhbWV0ZXJzLCBVc2VBc3luY1JldHVyblR5cGUgfSBmcm9tIFwiLi91c2UtYXN5bmNcIjtcclxuaW1wb3J0IHsgdXNlU3RhYmxlQ2FsbGJhY2sgfSBmcm9tIFwiLi91c2Utc3RhYmxlLWNhbGxiYWNrXCI7XHJcbmltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSBcIi4vdXNlLXN0YXRlXCI7XHJcblxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBBc3luY0hhbmRsZXI8Q2FwdHVyZVR5cGUsIEUgZXh0ZW5kcyBoLkpTWC5UYXJnZXRlZEV2ZW50PiB7XHJcbiAgICAvKipcclxuICAgICAqIFRoZSBgdGhpc2Aga2V5d29yZCBhbHdheXMgcG9pbnRzIHRvIHRoZSBET00gZWxlbWVudCB0aGUgZXZlbnQgaGFuZGxlclxyXG4gICAgICogd2FzIGludm9rZWQgb24uIFNlZTogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvR3VpZGUvRXZlbnRzL0V2ZW50X2hhbmRsZXJzI0V2ZW50X2hhbmRsZXJzX3BhcmFtZXRlcnNfdGhpc19iaW5kaW5nX2FuZF90aGVfcmV0dXJuX3ZhbHVlXHJcbiAgICAgKi9cclxuICAgICh0aGlzOiBuZXZlciwgY2FwdHVyZWRWYWx1ZTogQ2FwdHVyZVR5cGUsIGV2ZW50OiBFKTogdm9pZDtcclxufVxyXG5leHBvcnQgdHlwZSBHZW5lcmljQXN5bmNIYW5kbGVyPENhcHR1cmVUeXBlLCBUYXJnZXQgZXh0ZW5kcyBFdmVudFRhcmdldD4gPSBBc3luY0hhbmRsZXI8Q2FwdHVyZVR5cGUsIGguSlNYLlRhcmdldGVkRXZlbnQ8VGFyZ2V0Pj47XHJcblxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBVc2VBc3luY0hhbmRsZXJQYXJhbWV0ZXJzPEV2ZW50VHlwZSBleHRlbmRzIEV2ZW50LCBDYXB0dXJlVHlwZT4gZXh0ZW5kcyBPbWl0PFVzZUFzeW5jUGFyYW1ldGVyczxbQ2FwdHVyZVR5cGUsIEV2ZW50VHlwZV0sIFtFdmVudFR5cGVdPiwgXCJjYXB0dXJlXCI+IHtcclxuICAgIC8qKlxyXG4gICAgICogV2hhdCB0cmFuc2llbnQgaW5mb3JtYXRpb24gaXMgY2FwdHVyZWQgYnkgdGhpcyBldmVudCBcclxuICAgICAqIGFuZCBwcmVzZW50ZWQgYXMgdGhlIGZpcnN0IGFyZ3VtZW50IG9mIHRoZSBldmVudCBoYW5kbGVyP1xyXG4gICAgICogXHJcbiAgICAgKiBUaGUgXCJjYXB0dXJlXCIgcGFyYW1ldGVyIGFuc3dlcnMgdGhpcyBxdWVzdGlvbi4gVG8gaW1wbGVtZW50IGEgY2hlY2tib3gsIGZvciBleGFtcGxlLCByZXR1cm4gYHRhcmdldC5jaGVja2VkYC5cclxuICAgICAqL1xyXG4gICAgY2FwdHVyZTogKGV2ZW50OiBFdmVudFR5cGUpID0+IENhcHR1cmVUeXBlO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFVzZUFzeW5jSGFuZGxlclJldHVyblR5cGU8RXZlbnRUeXBlIGV4dGVuZHMgRXZlbnQsIENhcHR1cmVUeXBlPiBleHRlbmRzIFVzZUFzeW5jUmV0dXJuVHlwZTxbRXZlbnRUeXBlXSwgdm9pZD4ge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIG1vc3QgcmVjZW50bHkgY2FwdHVyZWQgdmFsdWUuIEluIG90aGVyIHdvcmRzLCByZXByZXNlbnRzIHdoYXRcclxuICAgICAqIHRoZSBjdXJyZW50IHZhbHVlIHdvdWxkIGJlIGlmIHRoaXMgb3BlcmF0aW9uIHdlcmUgc3luY2hyb25vdXMgYW5kIFxyXG4gICAgICogYW5kIGNvdWxkbid0IGZhaWwuIEl0J3MgdXNlZnVsIHRvIHByZXRlbmQgdGhpcyBpcyB0aGUgYWN0dWFsIHZhbHVlXHJcbiAgICAgKiBmb3IgYW4gaW5wdXQgZmllbGQsIGZvciBleGFtcGxlLCBzbyB0aGF0IHRoZSB2YWx1ZSBkb2Vzbid0IFwic25hcFxyXG4gICAgICogYmFja1wiIHdoaWxlIHlvdSdyZSB3YWl0aW5nIGZvciB0aGUgaGFuZGxlciB0byBmaW5pc2guXHJcbiAgICAgKiBcclxuICAgICAqIFNvbWV0aGluZyBsaWtlIGB2YWx1ZT17cGVuZGluZz8gY3VycmVudENhcHR1cmUgOiB2YWx1ZX1gIGlzIGdvb2QgZm9yIGNoZWNrYm94ZXMsXHJcbiAgICAgKiBzb21ldGhpbmcgbGlrZSBgdmFsdWU9eyhwZW5kaW5nIHx8IGhhc0ZvY3VzKT8gY3VycmVudENhcHR1cmUgOiB2YWx1ZX0gZm9yIHRleHQgZmllbGRzLlxyXG4gICAgICogXHJcbiAgICAgKiBAc2VlIGhhc0NhcHR1cmVcclxuICAgICAqL1xyXG4gICAgY3VycmVudENhcHR1cmU6IENhcHR1cmVUeXBlIHwgdW5kZWZpbmVkO1xyXG5cclxuICAgIC8qKiBUaGUgYWJvdmUsIGJ1dCBzdGFibGUsIGlmIHlvdSBuZWVkIHRoZSBjdXJyZW50IGNhcHR1cmUgd2l0aG91dCBpdCBiZWluZyBhbiBleHBsaWNpdCBkZXBlbmRlbmN5LiAqL1xyXG4gICAgZ2V0Q3VycmVudENhcHR1cmUoKTogKENhcHR1cmVUeXBlIHwgdW5kZWZpbmVkKTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEJlY2F1c2UgeW91J3JlIGFsbG93ZWQgdG8gaGF2ZSBgQ2FwdHVyZVR5cGVgIGV4dGVuZCBgdW5kZWZpbmVkYCxcclxuICAgICAqIHlvdSBtaWdodCBuZWVkIHRoaXMuXHJcbiAgICAgKi9cclxuICAgIGhhc0NhcHR1cmU6IGJvb2xlYW47XHJcblxyXG4gICAgLy8gU2FtZSBhcyBpbiB1c2VBc3luYywgYnV0IHdpdGggYSBkaWZmZXJlbnQgdHlwZVxyXG4gICAgLy9wcm9taXNlOiBQcm9taXNlPHZvaWQ+IHwgbnVsbDtcclxuXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHaXZlbiBhbiBhc3luY3Jvbm91cyBldmVudCBoYW5kbGVyLCByZXR1cm5zIGEgc3luY3Jvbm91cyBvbmUgdGhhdCB3b3JrcyBvbiB0aGUgRE9NLFxyXG4gKiBhbG9uZyB3aXRoIHNvbWUgb3RoZXIgaW5mb3JtYXRpb24gcmVsYXRlZCB0byB0aGUgY3VycmVudCBzdGF0ZS5cclxuICogRG9lcyBub3QgbW9kaWZ5IGFueSBwcm9wcy5cclxuICogXHJcbiAqIE5vdGUgdGhhdCBiZWNhdXNlIHRoZSBoYW5kbGVyIHlvdSBwcm92aWRlIG1heSBiZSBjYWxsZWQgd2l0aCBhIGRlbGF5LCBhbmQgXHJcbiAqIGJlY2F1c2UgdGhlIHZhbHVlIG9mLCBlLmcuLCBhbiBgPGlucHV0PmAgZWxlbWVudCB3aWxsIGxpa2VseSBiZSBzdGFsZSBieSB0aGUgXHJcbiAqIHRpbWUgdGhlIGRlbGF5IGlzIG92ZXIsIGEgYGNhcHR1cmVgIGZ1bmN0aW9uIGlzIG5lY2Vzc2FyeSBpbiBvcmRlciB0byBcclxuICogY2FwdHVyZSB0aGUgcmVsZXZhbnQgaW5mb3JtYXRpb24gZnJvbSB0aGUgRE9NLiBBbnkgb3RoZXIgc2ltcGxlIGV2ZW50IGRhdGEsIFxyXG4gKiBsaWtlIGBtb3VzZVhgIG9yIGBzaGlmdEtleWAgY2FuIHN0YXkgb24gdGhlIGV2ZW50IGl0c2VsZiBhbmQgZG9uJ3QgXHJcbiAqIG5lZWQgdG8gYmUgY2FwdHVyZWQgJm5kYXNoOyBpdCdzIG5ldmVyIHN0YWxlLlxyXG4gKiBcclxuICogYGBgdHN4XHJcbiAqIGNvbnN0IGFzeW5jT25JbnB1dCA9IGFzeW5jICh2YWx1ZTogbnVtYmVyLCBlOiBFdmVudCkgPT4geyBcclxuICogICAgIFsuLi5dIC8vIEV4LiBzZW5kIHRvIGEgc2VydmVyIGFuZCBzZXRTdGF0ZSB3aGVuIGRvbmVcclxuICogfTtcclxuICogY29uc3Qge1xyXG4gKiAgICAgLy8gQSBzeW5jIHZlcnNpb24gb2YgYXN5bmNPbklucHV0XHJcbiAqICAgICBzeW5jSGFuZGxlcixcclxuICogICAgIC8vIFRydWUgd2hpbGUgdGhlIGhhbmRsZXIgaXMgcnVubmluZ1xyXG4gKiAgICAgcGVuZGluZyxcclxuICogICAgIC8vIFRoZSBlcnJvciB0aHJvd24sIGlmIGFueVxyXG4gKiAgICAgZXJyb3IsXHJcbiAqICAgICAvLyBTaG93IHRoaXMgdmFsdWUgd2hpbGUgdGhlIG9wZXJhdGlvbidzIHBlbmRpbmdcclxuICogICAgIGN1cnJlbnRDYXB0dXJlLFxyXG4gKiAgICAgLy8gQW5kIG90aGVycywgc2VlIGBVc2VBc3luY0hhbmRsZXJSZXR1cm5UeXBlYFxyXG4gKiAgICAgLi4ucmVzdFxyXG4gKiB9ID0gdXNlQXN5bmNIYW5kbGVyPEhUTUxJbnB1dEVsZW1lbnQ+KCkoYXN5bmNPbklucHV0LCB7IFxyXG4gKiAgICAgLy8gUGFzcyBpbiB0aGUgY2FwdHVyZSBmdW5jdGlvbiB0aGF0IHNhdmVzIGV2ZW50IGRhdGFcclxuICogICAgIC8vIGZyb20gYmVpbmcgc3RhbGUuXHJcbiAqICAgICBjYXB0dXJlOiBlID0+IHsgXHJcbiAqICAgICAgICAgLy8gYGNhcHR1cmVgIGNhbiBoYXZlIHNpZGUtZWZmZWN0cyBiZWNhdXNlXHJcbiAqICAgICAgICAgLy8gaXQncyBjYWxsZWQgZXhhY3RseSBvbmNlIHBlciBpbnZvY2F0aW9uXHJcbiAqICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOyBcclxuICogXHJcbiAqICAgICAgICAgLy8gU2F2ZSB0aGlzIHZhbHVlIHNvIHRoYXQgaXQncyBuZXZlciBzdGFsZVxyXG4gKiAgICAgICAgIHJldHVybiBlLmN1cnJlbnRUYXJnZXQudmFsdWVBc051bWJlcjtcclxuICogICAgIH1cclxuICogfSk7XHJcbiAqIFxyXG4gKiBjb25zdCBvbklucHV0ID0gcGVuZGluZz8gbnVsbCA6IHN5bmNIYW5kbGVyO1xyXG4gKiBgYGBcclxuICogXHJcbiAqIFRoZSBoYW5kbGVyIGlzIGF1dG9tYXRpY2FsbHkgdGhyb3R0bGVkIHRvIG9ubHkgcnVuIG9uZSBhdCBhIHRpbWUuIFxyXG4gKiBJZiB0aGUgaGFuZGxlciBpcyBjYWxsZWQsIGFuZCB0aGVuIGJlZm9yZSBpdCBmaW5pc2hlcywgaXMgY2FsbGVkIGFnYWluLFxyXG4gKiBpdCB3aWxsIGJlIHB1dCBvbiBob2xkIHVudGlsIHRoZSBjdXJyZW50IG9uZSBmaW5pc2hlcywgYXQgd2hpY2ggcG9pbnRcclxuICogdGhlIHNlY29uZCBvbmUgd2lsbCBydW4uICBJZiB0aGUgaGFuZGxlciBpcyBjYWxsZWQgYSB0aGlyZCB0aW1lIGJlZm9yZVxyXG4gKiB0aGUgZmlyc3QgaGFzIGZpbmlzaGVkLCBpdCB3aWxsICpyZXBsYWNlKiB0aGUgc2Vjb25kLCBzbyBvbmx5IHRoZSBtb3N0XHJcbiAqIHJlY2VudGx5IGNhbGxlZCBpdGVyYXRpb24gb2YgdGhlIGhhbmRsZXIgd2lsbCBydW4uXHJcbiAqIFxyXG4gKiBcclxuICogWW91IG1heSBvcHRpb25hbGx5ICphbHNvKiBzcGVjaWZ5IGRlYm91bmNlIGFuZCB0aHJvdHRsZSBwYXJhbWV0ZXJzIHRoYXQgd2FpdCB1bnRpbCB0aGVcclxuICogc3luY3Jvbm91cyBoYW5kbGVyIGhhcyBub3QgYmVlbiBjYWxsZWQgZm9yIHRoZSBzcGVjaWZpZWQgbnVtYmVyIG9mXHJcbiAqIG1pbGxpc2Vjb25kcywgYXQgd2hpY2ggcG9pbnQgd2UgKmFjdHVhbGx5KiBydW4gdGhlIGFzeW5jcm9ub3VzIGhhbmRsZXJcclxuICogYWNjb3JkaW5nIHRvIHRoZSBsb2dpYyBpbiB0aGUgcHJldmlvdXMgcGFyYWdyYXBoLiBUaGlzIGlzIGluXHJcbiAqICphZGRpdGlvbiogdG8gdGhyb3R0bGluZyB0aGUgaGFuZGxlciwgYW5kIGRvZXMgbm90IHJlcGxhY2UgdGhhdCBiZWhhdmlvci5cclxuICogXHJcbiAqIEBzZWUgdXNlQXN5bmMgQSBtb3JlIGdlbmVyYWwgdmVyc2lvbiBvZiB0aGlzIGhvb2sgdGhhdCBjYW4gd29yayB3aXRoIGFueSB0eXBlIG9mIGhhbmRsZXIsIG5vdCBqdXN0IERPTSBldmVudCBoYW5kbGVycy5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiB1c2VBc3luY0hhbmRsZXI8RXZlbnRUeXBlIGV4dGVuZHMgRXZlbnQsIENhcHR1cmVUeXBlPihhc3luY0hhbmRsZXI6IChjOiBDYXB0dXJlVHlwZSwgZTogRXZlbnRUeXBlKSA9PiAoUHJvbWlzZTx2b2lkPiB8IHZvaWQpLCB7IGNhcHR1cmU6IG9yaWdpbmFsQ2FwdHVyZSwgLi4ucmVzdEFzeW5jT3B0aW9ucyB9OiBVc2VBc3luY0hhbmRsZXJQYXJhbWV0ZXJzPEV2ZW50VHlwZSwgQ2FwdHVyZVR5cGU+KTogVXNlQXN5bmNIYW5kbGVyUmV0dXJuVHlwZTxFdmVudFR5cGUsIENhcHR1cmVUeXBlPiB7XHJcbiAgICBcclxuICAgIC8vIFdlIG5lZWQgdG8gZGlmZmVyZW50aWF0ZSBiZXR3ZWVuIFwibm90aGluZyBjYXB0dXJlZCB5ZXRcIiBhbmQgXCJgdW5kZWZpbmVkYCB3YXMgY2FwdHVyZWRcIlxyXG4gICAgY29uc3QgW2N1cnJlbnRDYXB0dXJlLCBzZXRDdXJyZW50Q2FwdHVyZSwgZ2V0Q3VycmVudENhcHR1cmVdID0gdXNlU3RhdGU8Q2FwdHVyZVR5cGUgfCB1bmRlZmluZWQ+KHVuZGVmaW5lZCk7XHJcbiAgICBjb25zdCBbaGFzQ2FwdHVyZSwgc2V0SGFzQ2FwdHVyZV0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgICBcclxuICAgIC8vIFdyYXAgYXJvdW5kIHRoZSBub3JtYWwgYHVzZUFzeW5jYCBgY2FwdHVyZWAgZnVuY3Rpb24gdG8gYWxzb1xyXG4gICAgLy8ga2VlcCB0cmFjayBvZiB0aGUgbGFzdCB2YWx1ZSB0aGUgdXNlciBhY3R1YWxseSBpbnB1dC5cclxuICAgIC8vIFxyXG4gICAgLy8gV2l0aG91dCB0aGlzIHRoZXJlJ3Mgbm8gd2F5IHRvIHJlLXJlbmRlciB0aGUgY29udHJvbCB3aXRoXHJcbiAgICAvLyBpdCBiZWluZyBib3RoIGNvbnRyb2xsZWQgYW5kIGFsc28gaGF2aW5nIHRoZSBcImNvcnJlY3RcIiB2YWx1ZSxcclxuICAgIC8vIGFuZCBhdCBhbnkgcmF0ZSBhbHNvIHByb3RlY3RzIGFnYWluc3Qgc3VkZGVuIGV4Y2VwdGlvbnMgcmV2ZXJ0aW5nXHJcbiAgICAvLyB5b3VyIGNoYW5nZSBvdXQgZnJvbSB1bmRlciB5b3UuXHJcbiAgICBjb25zdCBjYXB0dXJlID0gdXNlU3RhYmxlQ2FsbGJhY2soKGU6IEV2ZW50VHlwZSk6IFtDYXB0dXJlVHlwZSwgRXZlbnRUeXBlXSA9PiB7IFxyXG4gICAgICAgIGNvbnN0IGNhcHR1cmVkID0gb3JpZ2luYWxDYXB0dXJlKGUpOyBcclxuICAgICAgICBzZXRDdXJyZW50Q2FwdHVyZShjYXB0dXJlZCk7XHJcbiAgICAgICAgc2V0SGFzQ2FwdHVyZSh0cnVlKTtcclxuICAgICAgICByZXR1cm4gW2NhcHR1cmVkLCBlXTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgZ2V0Q3VycmVudENhcHR1cmUsXHJcbiAgICAgICAgY3VycmVudENhcHR1cmUsXHJcbiAgICAgICAgaGFzQ2FwdHVyZSxcclxuICAgICAgICAuLi51c2VBc3luYyhhc3luY0hhbmRsZXIsIHsgY2FwdHVyZSwgLi4ucmVzdEFzeW5jT3B0aW9ucyB9KVxyXG4gICAgfTtcclxufVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuIiwiaW1wb3J0IHsgSW5wdXRzLCB1c2VFZmZlY3QgYXMgdXNlRWZmZWN0TmF0aXZlLCB1c2VSZWYgfSBmcm9tIFwicHJlYWN0L2hvb2tzXCI7XHJcblxyXG4vKipcclxuICogV3JhcCB0aGUgbmF0aXZlIGB1c2VFZmZlY3RgIHRvIGFkZCBhcmd1bWVudHMgXHJcbiAqIHRoYXQgYWxsb3cgYWNjZXNzaW5nIHRoZSBwcmV2aW91cyB2YWx1ZSBhcyB0aGUgZmlyc3QgYXJndW1lbnQsXHJcbiAqIGFzIHdlbGwgYXMgdGhlIGNoYW5nZXMgdGhhdCBjYXVzZWQgdGhlIGhvb2sgdG8gYmUgY2FsbGVkIGFzIHRoZSBzZWNvbmQgYXJndW1lbnQuXHJcbiAqIFxyXG4gKiBAcGFyYW0gZWZmZWN0IFxyXG4gKiBAcGFyYW0gaW5wdXRzIFxyXG4gKiBAcGFyYW0gaW1wbCBZb3UgY2FuIGNob29zZSB3aGV0aGVyIHRvIHVzZSBgdXNlRWZmZWN0YCBvciBgdXNlTGF5b3V0RWZmZWN0YCBieVxyXG4gKiBwYXNzaW5nIG9uZSBvZiB0aGVtIGFzIHRoaXMgYXJndW1lbnQuIEJ5IGRlZmF1bHQsIGl0J3MgYHVzZUVmZmVjdGAuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gdXNlRWZmZWN0PEkgZXh0ZW5kcyBJbnB1dHM+KGVmZmVjdDogKHByZXY6IEkgfCB1bmRlZmluZWQsIGNoYW5nZXM6IEVmZmVjdENoYW5nZTxJLCBudW1iZXI+W10pID0+ICh2b2lkIHwgKCgpID0+IHZvaWQpKSwgaW5wdXRzPzogSSwgaW1wbCA9IHVzZUVmZmVjdE5hdGl2ZSkge1xyXG5cclxuICAgIGNvbnN0IHByZXZJbnB1dHMgPSB1c2VSZWY8dW5kZWZpbmVkIHwgST4odW5kZWZpbmVkKTtcclxuICAgIGNvbnN0IGVmZmVjdDIgPSAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgY2hhbmdlczogeyBmcm9tOiBhbnksIHRvOiBhbnkgfVtdID0gW107XHJcbiAgICAgICAgaWYgKGlucHV0cyAmJiBwcmV2SW5wdXRzLmN1cnJlbnQpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBNYXRoLm1heChwcmV2SW5wdXRzLmN1cnJlbnQubGVuZ3RoLCBpbnB1dHMubGVuZ3RoKTsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocHJldklucHV0cy5jdXJyZW50W2ldICE9IGlucHV0c1tpXSlcclxuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VzW2ldID0geyBmcm9tOiBwcmV2SW5wdXRzLmN1cnJlbnRbaV0sIHRvOiBpbnB1dHNbaV0gfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHJldCA9IGVmZmVjdChwcmV2SW5wdXRzLmN1cnJlbnQsIGNoYW5nZXMpO1xyXG4gICAgICAgIHByZXZJbnB1dHMuY3VycmVudCA9IGlucHV0cztcclxuICAgICAgICByZXR1cm4gcmV0O1xyXG4gICAgfTtcclxuXHJcbiAgICBpbXBsKGVmZmVjdDIsIGlucHV0cyk7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgRWZmZWN0Q2hhbmdlPEkgZXh0ZW5kcyBJbnB1dHMsIE4gZXh0ZW5kcyBudW1iZXI+IHsgZnJvbTogSVtOXSwgdG86IElbTl0gfVxyXG4iLCJpbXBvcnQgeyBJbnB1dHMsIHVzZUxheW91dEVmZmVjdCBhcyB1c2VMYXlvdXRFZmZlY3ROYXRpdmUgfSBmcm9tIFwicHJlYWN0L2hvb2tzXCI7XHJcbmltcG9ydCB7IEVmZmVjdENoYW5nZSwgdXNlRWZmZWN0IH0gZnJvbSBcIi4vdXNlLWVmZmVjdFwiO1xyXG5cclxuLyoqXHJcbiAqIFdyYXAgdGhlIG5hdGl2ZSBgdXNlTGF5b3V0RWZmZWN0YCB0byBhZGQgYXJndW1lbnRzIFxyXG4gKiB0aGF0IGFsbG93IGFjY2Vzc2luZyB0aGUgcHJldmlvdXMgdmFsdWUgYXMgdGhlIGZpcnN0IGFyZ3VtZW50LFxyXG4gKiBhcyB3ZWxsIGFzIHRoZSBjaGFuZ2VzIHRoYXQgY2F1c2VkIHRoZSBob29rIHRvIGJlIGNhbGxlZCBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50LlxyXG4gKiBcclxuICogQHBhcmFtIGVmZmVjdCBcclxuICogQHBhcmFtIGlucHV0cyBcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiB1c2VMYXlvdXRFZmZlY3Q8SSBleHRlbmRzIElucHV0cz4oZWZmZWN0OiAocHJldjogSSB8IHVuZGVmaW5lZCwgY2hhbmdlczogRWZmZWN0Q2hhbmdlPEksIG51bWJlcj5bXSkgPT4gKHZvaWQgfCAoKCkgPT4gdm9pZCkpLCBpbnB1dHM/OiBJKSB7XHJcbiAgICByZXR1cm4gdXNlRWZmZWN0KGVmZmVjdCwgaW5wdXRzLCB1c2VMYXlvdXRFZmZlY3ROYXRpdmUpO1xyXG59XHJcbiIsImltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gXCJwcmVhY3QvaG9va3NcIjtcclxuaW1wb3J0IHsgdXNlU3RhYmxlQ2FsbGJhY2sgfSBmcm9tIFwiLi91c2Utc3RhYmxlLWNhbGxiYWNrXCI7XHJcbmltcG9ydCB7IHVzZVN0YWJsZUdldHRlciB9IGZyb20gXCIuL3VzZS1zdGFibGUtZ2V0dGVyXCI7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFVzZVRpbWVvdXQge1xyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgbnVtYmVyIG9mIG1zIHRvIHdhaXQgYmVmb3JlIGludm9raW5nIGBjYWxsYmFja2AuICBcclxuICAgICAqIElmIGBudWxsYCwgY2FuY2VscyB0aGUgdGltZW91dCBpbW1lZGlhdGVseS5cclxuICAgICAqL1xyXG4gICAgdGltZW91dDogbnVtYmVyIHwgbnVsbDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENoYW5nZXMgdG8gdGhpcyBwcm9wIGJldHdlZW4gcmVuZGVycyBjYW4gYmUgdXNlZCB0byBjbGVhciB0aGUgY3VycmVudCB0aW1lb3V0IGFuZCBjcmVhdGUgYSBuZXcgb25lLlxyXG4gICAgICovXHJcbiAgICB0cmlnZ2VySW5kZXg/OiB1bmtub3duO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2FsbGVkIGB0aW1lb3V0YCBtcyBhZnRlciBtb3VudCwgb3IgdGhlIGxhc3QgY2hhbmdlIHRvIGB0cmlnZ2VySW5kZXhgLlxyXG4gICAgICogXHJcbiAgICAgKiBEb2VzICpub3QqIG5lZWQgdG8gYmUgc3RhYmxlLiBHbyBhaGVhZCBhbmQgcGFzcyBhbiBhbm9ueW1vdXMgZnVuY3Rpb24uXHJcbiAgICAgKi9cclxuICAgIGNhbGxiYWNrOiAoKSA9PiB2b2lkO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdXNlVGltZW91dCh7IHRpbWVvdXQsIGNhbGxiYWNrLCB0cmlnZ2VySW5kZXggfTogVXNlVGltZW91dCkge1xyXG4gICAgY29uc3Qgc3RhYmxlQ2FsbGJhY2sgPSB1c2VTdGFibGVDYWxsYmFjaygoKSA9PiB7IHN0YXJ0VGltZVJlZi5jdXJyZW50ID0gbnVsbDsgY2FsbGJhY2soKTsgfSk7XHJcbiAgICBjb25zdCBnZXRUaW1lb3V0ID0gdXNlU3RhYmxlR2V0dGVyKHRpbWVvdXQpO1xyXG5cclxuICAgIC8vIFNldCBhbnkgdGltZSB3ZSBzdGFydCB0aW1lb3V0LlxyXG4gICAgLy8gVW5zZXQgYW55IHRpbWUgdGhlIHRpbWVvdXQgY29tcGxldGVzXHJcbiAgICBjb25zdCBzdGFydFRpbWVSZWYgPSB1c2VSZWY8bnVtYmVyIHwgbnVsbD4obnVsbCk7XHJcblxyXG4gICAgY29uc3QgdGltZW91dElzTnVsbCA9ICh0aW1lb3V0ID09IG51bGwpO1xyXG5cclxuICAgIC8vIEFueSB0aW1lIHRoZSB0cmlnZ2VySW5kZXggY2hhbmdlcyAoaW5jbHVkaW5nIG9uIG1vdW50KVxyXG4gICAgLy8gcmVzdGFydCB0aGUgdGltZW91dC4gIFRoZSB0aW1lb3V0IGRvZXMgTk9UIHJlc2V0XHJcbiAgICAvLyB3aGVuIHRoZSBkdXJhdGlvbiBvciBjYWxsYmFjayBjaGFuZ2VzLCBvbmx5IHRyaWdnZXJJbmRleC5cclxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgaWYgKCF0aW1lb3V0SXNOdWxsKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRpbWVvdXQgPSBnZXRUaW1lb3V0KCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuYXNzZXJ0KHRpbWVvdXRJc051bGwgPT0gKHRpbWVvdXQgPT0gbnVsbCkpO1xyXG4gICAgXHJcbiAgICAgICAgICAgIGlmICh0aW1lb3V0ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHN0YXJ0VGltZVJlZi5jdXJyZW50ID0gKyhuZXcgRGF0ZSgpKTtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgY29uc3QgaGFuZGxlID0gc2V0VGltZW91dChzdGFibGVDYWxsYmFjaywgdGltZW91dCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKCkgPT4gY2xlYXJUaW1lb3V0KGhhbmRsZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICB9LCBbdHJpZ2dlckluZGV4LCB0aW1lb3V0SXNOdWxsXSlcclxuXHJcbiAgICBjb25zdCBnZXRFbGFwc2VkVGltZSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgICAgICByZXR1cm4gKCsobmV3IERhdGUoKSkpIC0gKCsoc3RhcnRUaW1lUmVmLmN1cnJlbnQgPz8gbmV3IERhdGUoKSkpO1xyXG4gICAgfSwgW10pO1xyXG5cclxuICAgIGNvbnN0IGdldFJlbWFpbmluZ1RpbWUgPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgdGltZW91dCA9IGdldFRpbWVvdXQoKTtcclxuICAgICAgICByZXR1cm4gdGltZW91dCA9PSBudWxsID8gbnVsbCA6IE1hdGgubWF4KDAsIHRpbWVvdXQgLSBnZXRFbGFwc2VkVGltZSgpKVxyXG4gICAgfSwgW10pO1xyXG5cclxuICAgIHJldHVybiB7IGdldEVsYXBzZWRUaW1lLCBnZXRSZW1haW5pbmdUaW1lIH07XHJcbn1cclxuIiwiaW1wb3J0IHsgaCB9IGZyb20gXCJwcmVhY3RcIjtcclxuaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSBcInByZWFjdC9ob29rc1wiO1xyXG5pbXBvcnQgeyBNYW5hZ2VkQ2hpbGRJbmZvIH0gZnJvbSBcIi4vdXNlLWNoaWxkLW1hbmFnZXJcIjtcclxuaW1wb3J0IHsgdXNlTGF5b3V0RWZmZWN0IH0gZnJvbSBcIi4vdXNlLWxheW91dC1lZmZlY3RcIjtcclxuaW1wb3J0IHsgdXNlTG9naWNhbERpcmVjdGlvbiB9IGZyb20gXCIuL3VzZS1sb2dpY2FsLWRpcmVjdGlvblwiO1xyXG5pbXBvcnQgeyBNZXJnZWRQcm9wcywgdXNlTWVyZ2VkUHJvcHMgfSBmcm9tIFwiLi91c2UtbWVyZ2VkLXByb3BzXCI7XHJcbmltcG9ydCB7IFVzZVJlZkVsZW1lbnRQcm9wc1JldHVyblR5cGUgfSBmcm9tIFwiLi91c2UtcmVmLWVsZW1lbnRcIjtcclxuaW1wb3J0IHsgdXNlU3RhYmxlQ2FsbGJhY2sgfSBmcm9tIFwiLi91c2Utc3RhYmxlLWNhbGxiYWNrXCI7XHJcbmltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSBcIi4vdXNlLXN0YXRlXCI7XHJcbmltcG9ydCB7IHVzZVRpbWVvdXQgfSBmcm9tIFwiLi91c2UtdGltZW91dFwiO1xyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVXNlTGluZWFyTmF2aWdhdGlvblJldHVyblR5cGU8Q2hpbGRFbGVtZW50IGV4dGVuZHMgRWxlbWVudD4ge1xyXG4gICAgLy8gVGhlc2UgcHJvcHMgY2FuIGJlIGF0dGF0Y2hlZCBlaXRoZXIgdG8gdGhlIHBhcmVudCBvciB0byBlYWNoIGluZGl2aWR1YWwgY2hpbGQuXHJcbiAgICAvLyBXaGljaGV2ZXIgd29ya3MgYmV0dGVyIGZvciB5b3VyIHNjZW5hcmlvLlxyXG4gICAgdXNlTGluZWFyTmF2aWdhdGlvblByb3BzOiBVc2VMaW5lYXJOYXZpZ2F0aW9uUHJvcHM8Q2hpbGRFbGVtZW50PjtcclxufVxyXG5cclxuZXhwb3J0IHR5cGUgVXNlTGluZWFyTmF2aWdhdGlvblByb3BzPENoaWxkRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+ID0gPFAgZXh0ZW5kcyBoLkpTWC5IVE1MQXR0cmlidXRlczxDaGlsZEVsZW1lbnQ+Pihwcm9wczogUCkgPT4gVXNlUmVmRWxlbWVudFByb3BzUmV0dXJuVHlwZTxDaGlsZEVsZW1lbnQsIGguSlNYLkhUTUxBdHRyaWJ1dGVzPENoaWxkRWxlbWVudD4+XHJcblxyXG5cclxuXHJcbi8qKiBBcmd1bWVudHMgcGFzc2VkIHRvIHRoZSBwYXJlbnQgYHVzZUxpbmVhck5hdmlnYXRpb25gICovXHJcbmludGVyZmFjZSBVc2VMaW5lYXJOYXZpZ2F0aW9uUGFyYW1ldGVyc0Jhc2Uge1xyXG4gICAgLyoqXHJcbiAgICAgKiBDb250cm9scyB3aGljaCBhcnJvdyBrZXlzIGFyZSB1c2VkIHRvIG5hdmlnYXRlIHRocm91Z2ggdGhlIGNvbXBvbmVudC5cclxuICAgICAqIFJlbGF0aXZlIHRvIHRoZSB3cml0aW5nIG1vZGUsIHNvIGluIEVuZ2xpc2gsIFwiaW5saW5lXCIgY29ycmVzcG9uZHNcclxuICAgICAqIHRvIHRoZSBsZWZ0ICYgcmlnaHQgYXJyb3cga2V5cywgYW5kIFwiYmxvY2tcIiB0byB0aGUgdXAgJiBkb3duIGFycm93IGtleXMuXHJcbiAgICAgKiBcclxuICAgICAqIFVzZSBcImVpdGhlclwiIHRvIGFsbG93IG5hdmlnYXRpb24gaW4gZWl0aGVyIGRpcmVjdGlvbi5cclxuICAgICAqIFxyXG4gICAgICogVXNlIFwibm9uZVwiIHRvIGRpc2FsbG93IG5hdmlnYXRpb24gd2l0aCB0aGUgYXJyb3cga2V5cyBpbiBhbnkgZGlyZWN0aW9uLlxyXG4gICAgICovXHJcbiAgICBuYXZpZ2F0aW9uRGlyZWN0aW9uPzogXCJpbmxpbmVcIiB8IFwiYmxvY2tcIiB8IFwiZWl0aGVyXCIgfCBcIm5vbmVcIjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIElmIHNldCB0byB0cnVlLCBuYXZpZ2F0aW9uIHdpdGggdGhlIGFycm93IGtleXMgd2lsbCBiZSBcclxuICAgICAqIGRpc2FibGVkLCBidXQgbmF2aWdhdGlvbiB3aXRoIHRoZSBob21lICYgZW5kIGtleXMgd2lsbFxyXG4gICAgICogYmUgdW5hZmZlY3RlZC5cclxuICAgICAqL1xyXG4gICAgZGlzYWJsZUFycm93S2V5cz86IGJvb2xlYW47XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBJZiBzZXQgdG8gdHJ1ZSwgbmF2aWdhdGlvbiB3aXRoIHRoZSBob21lICYgZW5kIGtleXMgd2lsbFxyXG4gICAgICogYmUgZGlzYWJsZWQsIGJ1dCBuYXZpZ2F0aW9uIHdpdGggdGhlIGFycm93IGtleXMgd2lsbCBiZVxyXG4gICAgICogdW5hZmZlY3RlZC5cclxuICAgICAqL1xyXG4gICAgZGlzYWJsZUhvbWVFbmRLZXlzPzogYm9vbGVhbjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBtYW5hZ2VkQ2hpbGRyZW4geW91IGhhdmUgZnJvbSB1c2VSb3ZpbmdUYWJJbmRleCBcclxuICAgICAqIChwcmVzdW1hYmx5LCBidXQgaXQgY291bGQgYWxzbyBqdXN0IGJlIGZyb20gdXNlQ2hpbGRNYW5hZ2VyKVxyXG4gICAgICovXHJcbiAgICBtYW5hZ2VkQ2hpbGRyZW46IFVzZUxpbmVhck5hdmlnYXRpb25DaGlsZEluZm9bXTtcclxuXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVXNlTGluZWFyTmF2aWdhdGlvblBhcmFtZXRlcnMgZXh0ZW5kcyBVc2VMaW5lYXJOYXZpZ2F0aW9uUGFyYW1ldGVyc0Jhc2Uge1xyXG4gICAgbmF2aWdhdGVUb05leHQoKTogdm9pZDtcclxuICAgIG5hdmlnYXRlVG9QcmV2KCk6IHZvaWQ7XHJcbiAgICBuYXZpZ2F0ZVRvRmlyc3QoKTogdm9pZDtcclxuICAgIG5hdmlnYXRlVG9MYXN0KCk6IHZvaWQ7XHJcbiAgICBpbmRleDogbnVtYmVyO1xyXG59XHJcblxyXG5cclxuLyoqIEFyZ3VtZW50cyBwYXNzZWQgdG8gdGhlIGNoaWxkICd1c2VMaW5lYXJOYXZpZ2F0aW9uQ2hpbGRgICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgVXNlTGluZWFyTmF2aWdhdGlvbkNoaWxkSW5mbyBleHRlbmRzIE1hbmFnZWRDaGlsZEluZm88bnVtYmVyPiB7IH1cclxuXHJcbi8qKiBSZXR1cm4gdHlwZSBvZiB0aGUgY2hpbGQgYHVzZUxpbmVhck5hdmlnYXRpb25DaGlsZFByb3BzYCAqL1xyXG5leHBvcnQgdHlwZSBVc2VMaW5lYXJOYXZpZ2F0aW9uQ2hpbGRQcm9wc1JldHVyblR5cGU8Q2hpbGRFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgUCBleHRlbmRzIHt9PiA9IE1lcmdlZFByb3BzPENoaWxkRWxlbWVudCwgVXNlUmVmRWxlbWVudFByb3BzUmV0dXJuVHlwZTxDaGlsZEVsZW1lbnQsIHsgdGFiSW5kZXg6IG51bWJlcjsgfT4sIE9taXQ8UCwgXCJ0YWJJbmRleFwiPj47XHJcblxyXG5cclxuLyoqXHJcbiAqIFdoZW4gdXNlZCBpbiB0YW5kZW0gd2l0aCBgdXNlUm92aW5nVGFiSW5kZXhgLCBhbGxvd3MgY29udHJvbCBvZlxyXG4gKiB0aGUgdGFiYmFibGUgaW5kZXggd2l0aCB0aGUgYXJyb3cga2V5cy5cclxuICogXHJcbiAqIEBzZWUgdXNlTGlzdE5hdmlnYXRpb24sIHdoaWNoIHBhY2thZ2VzIGV2ZXJ5dGhpbmcgdXAgdG9nZXRoZXIuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gdXNlTGluZWFyTmF2aWdhdGlvbjxDaGlsZEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50Pih7IGluZGV4LCBuYXZpZ2F0ZVRvRmlyc3QsIG5hdmlnYXRlVG9MYXN0LCBuYXZpZ2F0ZVRvTmV4dCwgbmF2aWdhdGVUb1ByZXYsIG1hbmFnZWRDaGlsZHJlbiwgbmF2aWdhdGlvbkRpcmVjdGlvbiwgZGlzYWJsZUFycm93S2V5cywgZGlzYWJsZUhvbWVFbmRLZXlzIH06IFVzZUxpbmVhck5hdmlnYXRpb25QYXJhbWV0ZXJzKTogVXNlTGluZWFyTmF2aWdhdGlvblJldHVyblR5cGU8Q2hpbGRFbGVtZW50PiB7XHJcblxyXG4gICAgbmF2aWdhdGlvbkRpcmVjdGlvbiA/Pz0gXCJlaXRoZXJcIjtcclxuXHJcbiAgICBjb25zdCBjaGlsZENvdW50ID0gbWFuYWdlZENoaWxkcmVuLmxlbmd0aDtcclxuXHJcbiAgICAvLyBNYWtlIHN1cmUgdGhlIHRhYmJhYmxlIGluZGV4IG5ldmVyIGVzY2FwZXMgdGhlIGJvdW5kcyBvZiBhbGwgYXZhaWxhYmxlIGNoaWxkcmVuXHJcbiAgICAvLyBUT0RPOiBLZWVwIHRyYWNrIG9mIHRoZSBvcmlnaW5hbCBpbmRleCBhbmQga2VlcCBpdCwgYXQgbGVhc3QgdW50aWwga2V5Ym9hcmQgbmF2aWdhdGlvbi5cclxuICAgIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgaWYgKGluZGV4ICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGlmIChpbmRleCA8IDApIHtcclxuICAgICAgICAgICAgICAgIG5hdmlnYXRlVG9GaXJzdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGNoaWxkQ291bnQgPiAwICYmIGluZGV4ID49IGNoaWxkQ291bnQpIHtcclxuICAgICAgICAgICAgICAgIG5hdmlnYXRlVG9MYXN0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LCBbaW5kZXgsIGNoaWxkQ291bnQsIG5hdmlnYXRlVG9GaXJzdCwgbmF2aWdhdGVUb0xhc3RdKTtcclxuXHJcbiAgICBjb25zdCB7IGdldExvZ2ljYWxEaXJlY3Rpb25JbmZvLCB1c2VMb2dpY2FsRGlyZWN0aW9uUHJvcHMgfSA9IHVzZUxvZ2ljYWxEaXJlY3Rpb248Q2hpbGRFbGVtZW50Pih7fSk7XHJcblxyXG4gICAgY29uc3Qgb25LZXlEb3duID0gKGU6IEtleWJvYXJkRXZlbnQpID0+IHtcclxuICAgICAgICAvLyBOb3QgaGFuZGxlZCBieSB0eXBlYWhlYWQgKGkuZS4gYXNzdW1lIHRoaXMgaXMgYSBrZXlib2FyZCBzaG9ydGN1dClcclxuICAgICAgICBpZiAoZS5jdHJsS2V5IHx8IGUubWV0YUtleSlcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICBjb25zdCBpbmZvID0gZ2V0TG9naWNhbERpcmVjdGlvbkluZm8oKTtcclxuXHJcbiAgICAgICAgY29uc3QgYWxsb3dzQmxvY2tOYXZpZ2F0aW9uID0gKG5hdmlnYXRpb25EaXJlY3Rpb24gPT0gXCJibG9ja1wiIHx8IG5hdmlnYXRpb25EaXJlY3Rpb24gPT0gXCJlaXRoZXJcIik7XHJcbiAgICAgICAgY29uc3QgYWxsb3dzSW5saW5lTmF2aWdhdGlvbiA9IChuYXZpZ2F0aW9uRGlyZWN0aW9uID09IFwiaW5saW5lXCIgfHwgbmF2aWdhdGlvbkRpcmVjdGlvbiA9PSBcImVpdGhlclwiKTtcclxuXHJcbiAgICAgICAgc3dpdGNoIChlLmtleSkge1xyXG4gICAgICAgICAgICBjYXNlIFwiQXJyb3dVcFwiOiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwcm9wTmFtZSA9IChpbmZvPy5ibG9ja09yaWVudGF0aW9uID09PSBcInZlcnRpY2FsXCIgPyBcImJsb2NrRGlyZWN0aW9uXCIgOiBcImlubGluZURpcmVjdGlvblwiKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRpcmVjdGlvbkFsbG93ZWQgPSAoIWRpc2FibGVBcnJvd0tleXMgJiYgKGluZm8/LmJsb2NrT3JpZW50YXRpb24gPT09IFwidmVydGljYWxcIiA/IGFsbG93c0Jsb2NrTmF2aWdhdGlvbiA6IGFsbG93c0lubGluZU5hdmlnYXRpb24pKTtcclxuICAgICAgICAgICAgICAgIGlmIChkaXJlY3Rpb25BbGxvd2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZm8/Lltwcm9wTmFtZV0gPT09IFwiYnR0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmF2aWdhdGVUb05leHQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hdmlnYXRlVG9QcmV2KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FzZSBcIkFycm93RG93blwiOiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwcm9wTmFtZSA9IChpbmZvPy5ibG9ja09yaWVudGF0aW9uID09PSBcInZlcnRpY2FsXCIgPyBcImJsb2NrRGlyZWN0aW9uXCIgOiBcImlubGluZURpcmVjdGlvblwiKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRpcmVjdGlvbkFsbG93ZWQgPSAoIWRpc2FibGVBcnJvd0tleXMgJiYgKGluZm8/LmJsb2NrT3JpZW50YXRpb24gPT09IFwidmVydGljYWxcIiA/IGFsbG93c0Jsb2NrTmF2aWdhdGlvbiA6IGFsbG93c0lubGluZU5hdmlnYXRpb24pKTtcclxuICAgICAgICAgICAgICAgIGlmIChkaXJlY3Rpb25BbGxvd2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZm8/Lltwcm9wTmFtZV0gPT09IFwiYnR0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmF2aWdhdGVUb1ByZXYoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hdmlnYXRlVG9OZXh0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNhc2UgXCJBcnJvd0xlZnRcIjoge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcHJvcE5hbWUgPSAoaW5mbz8uaW5saW5lT3JpZW50YXRpb24gPT09IFwiaG9yaXpvbnRhbFwiID8gXCJpbmxpbmVEaXJlY3Rpb25cIiA6IFwiYmxvY2tEaXJlY3Rpb25cIik7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkaXJlY3Rpb25BbGxvd2VkID0gKCFkaXNhYmxlQXJyb3dLZXlzICYmIChpbmZvPy5pbmxpbmVPcmllbnRhdGlvbiA9PT0gXCJob3Jpem9udGFsXCIgPyBhbGxvd3NJbmxpbmVOYXZpZ2F0aW9uIDogYWxsb3dzQmxvY2tOYXZpZ2F0aW9uKSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGlyZWN0aW9uQWxsb3dlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmZvPy5bcHJvcE5hbWVdID09PSBcInJ0bFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hdmlnYXRlVG9OZXh0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0ZVRvUHJldigpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhc2UgXCJBcnJvd1JpZ2h0XCI6IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHByb3BOYW1lID0gKGluZm8/LmlubGluZU9yaWVudGF0aW9uID09PSBcImhvcml6b250YWxcIiA/IFwiaW5saW5lRGlyZWN0aW9uXCIgOiBcImJsb2NrRGlyZWN0aW9uXCIpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZGlyZWN0aW9uQWxsb3dlZCA9ICghZGlzYWJsZUFycm93S2V5cyAmJiAoaW5mbz8uaW5saW5lT3JpZW50YXRpb24gPT09IFwiaG9yaXpvbnRhbFwiID8gYWxsb3dzSW5saW5lTmF2aWdhdGlvbiA6IGFsbG93c0Jsb2NrTmF2aWdhdGlvbikpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRpcmVjdGlvbkFsbG93ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5mbz8uW3Byb3BOYW1lXSA9PT0gXCJydGxcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0ZVRvUHJldigpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmF2aWdhdGVUb05leHQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FzZSBcIkhvbWVcIjpcclxuICAgICAgICAgICAgICAgIGlmICghZGlzYWJsZUhvbWVFbmRLZXlzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmF2aWdhdGVUb0ZpcnN0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgXCJFbmRcIjpcclxuICAgICAgICAgICAgICAgIGlmICghZGlzYWJsZUhvbWVFbmRLZXlzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmF2aWdhdGVUb0xhc3QoKTtcclxuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgdXNlTGluZWFyTmF2aWdhdGlvblByb3BzOiB1c2VDYWxsYmFjayg8UCBleHRlbmRzIGguSlNYLkhUTUxBdHRyaWJ1dGVzPENoaWxkRWxlbWVudD4+KHByb3BzOiBQKSA9PiB7IHJldHVybiB1c2VMb2dpY2FsRGlyZWN0aW9uUHJvcHModXNlTWVyZ2VkUHJvcHM8Q2hpbGRFbGVtZW50PigpKHsgb25LZXlEb3duIH0sIHByb3BzKSkgfSwgW10pLFxyXG4gICAgfVxyXG5cclxuXHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBVc2VUeXBlYWhlYWROYXZpZ2F0aW9uUmV0dXJuVHlwZTxDaGlsZEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBJIGV4dGVuZHMgVXNlVHlwZWFoZWFkTmF2aWdhdGlvbkNoaWxkSW5mbz4ge1xyXG4gICAgLy8gQ2FuIGJlIHVzZWQgb24gZWl0aGVyIHRoZSBwYXJlbnQgb3IgZWFjaCBjaGlsZCBlbGVtZW50LlxyXG4gICAgdXNlVHlwZWFoZWFkTmF2aWdhdGlvblByb3BzOiBVc2VUeXBlYWhlYWROYXZpZ2F0aW9uUHJvcHM8Q2hpbGRFbGVtZW50PjtcclxuXHJcbiAgICAvLyBNdXN0IGJlIHVzZWQgb24gZWFjaCBjaGlsZCBlbGVtZW50LlxyXG4gICAgdXNlVHlwZWFoZWFkTmF2aWdhdGlvbkNoaWxkOiBVc2VUeXBlYWhlYWROYXZpZ2F0aW9uQ2hpbGQ8Q2hpbGRFbGVtZW50LCBJPjtcclxuXHJcblxyXG4gICAgY3VycmVudFR5cGVhaGVhZDogc3RyaW5nIHwgbnVsbDtcclxuICAgIGludmFsaWRUeXBlYWhlYWQ6IGJvb2xlYW4gfCBudWxsO1xyXG59XHJcblxyXG5leHBvcnQgdHlwZSBVc2VUeXBlYWhlYWROYXZpZ2F0aW9uUHJvcHM8RSBleHRlbmRzIEVsZW1lbnQ+ID0gPFAgZXh0ZW5kcyBoLkpTWC5IVE1MQXR0cmlidXRlczxFPj4ocHJvcHM6IFApID0+IE1lcmdlZFByb3BzPEUsIFAsIFA+XHJcbmV4cG9ydCB0eXBlIFVzZVR5cGVhaGVhZE5hdmlnYXRpb25DaGlsZFJldHVyblR5cGU8X0UgZXh0ZW5kcyBFbGVtZW50PiA9IHZvaWQ7XHJcblxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBVc2VUeXBlYWhlYWROYXZpZ2F0aW9uUGFyYW1ldGVycyB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBIGNvbGxhdG9yIHRvIHVzZSB3aGVuIGNvbXBhcmluZy4gSWYgbm90IHByb3ZpZGVkLCBzaW1wbHkgdXNlcyBgbG9jYWxlQ29tcGFyZWAgYWZ0ZXIgdHJhbnNmb3JtaW5nIGVhY2ggdG8gbG93ZXJjYXNlLCB3aGljaCB3aWxsLCBhdCBiZXN0LCB3b3JrIG9rYXkgaW4gRW5nbGlzaC5cclxuICAgICAqL1xyXG4gICAgY29sbGF0b3I/OiBJbnRsLkNvbGxhdG9yO1xyXG5cclxuICAgIHR5cGVhaGVhZFRpbWVvdXQ/OiBudW1iZXI7XHJcbiAgICBnZXRJbmRleCgpOiBudW1iZXIgfCBudWxsO1xyXG4gICAgc2V0SW5kZXgodmFsdWU6IG51bWJlciB8IG51bGwgfCAoKHByZXZpb3VzVmFsdWU6IG51bWJlciB8IG51bGwpID0+IChudW1iZXIgfCBudWxsKSkpOiB2b2lkO1xyXG59XHJcblxyXG4vKiogQXJndW1lbnRzIHBhc3NlZCB0byB0aGUgY2hpbGQgJ3VzZVR5cGVhaGVhZE5hdmlnYXRpb25DaGlsZGAgKi9cclxuZXhwb3J0IGludGVyZmFjZSBVc2VUeXBlYWhlYWROYXZpZ2F0aW9uQ2hpbGRJbmZvIGV4dGVuZHMgTWFuYWdlZENoaWxkSW5mbzxudW1iZXI+IHtcclxuICAgIC8qKlxyXG4gICAgICogSWYgcHJvdmlkZWQsIGFsbG93cyB0aGlzIGNvbXBvbmVudCB0byBiZSBuYXZpZ2F0ZWQgdG8gYnkgdHlwaW5nIHRoaXMgc3RyaW5nLiBcclxuICAgICAqIEl0IHNob3VsZCBiZSB0aGUgc2FtZSB0ZXh0IGNvbnRlbnQgYXMgd2hhdGV2ZXIncyBkaXNwbGF5ZWQsIGlkZWFsbHkuXHJcbiAgICAgKi9cclxuICAgIHRleHQ6IHN0cmluZyB8IG51bGw7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVXNlVHlwZWFoZWFkTmF2aWdhdGlvbkNoaWxkUGFyYW1ldGVycyBleHRlbmRzIFVzZVR5cGVhaGVhZE5hdmlnYXRpb25DaGlsZEluZm8geyB9XHJcblxyXG4vKiogVHlwZSBvZiB0aGUgY2hpbGQncyBzdWItaG9vayAqL1xyXG5leHBvcnQgdHlwZSBVc2VUeXBlYWhlYWROYXZpZ2F0aW9uQ2hpbGQ8Q2hpbGRFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgSSBleHRlbmRzIFVzZVR5cGVhaGVhZE5hdmlnYXRpb25DaGlsZEluZm8+ID0gKHsgdGV4dCwgaW5kZXgsIC4uLmkgfTogSSkgPT4gVXNlVHlwZWFoZWFkTmF2aWdhdGlvbkNoaWxkUmV0dXJuVHlwZTxDaGlsZEVsZW1lbnQ+O1xyXG5cclxuLyoqIFJldHVybiB0eXBlIG9mIHRoZSBjaGlsZCBgdXNlVHlwZWFoZWFkTmF2aWdhdGlvbkNoaWxkUHJvcHNgICovXHJcbmV4cG9ydCB0eXBlIFVzZVR5cGVhaGVhZE5hdmlnYXRpb25Qcm9wc1JldHVyblR5cGU8Q2hpbGRFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgUCBleHRlbmRzIHt9PiA9IE1lcmdlZFByb3BzPENoaWxkRWxlbWVudCwgVXNlUmVmRWxlbWVudFByb3BzUmV0dXJuVHlwZTxDaGlsZEVsZW1lbnQsIHtcclxuICAgIG9uS2V5RG93bjogKGU6IEtleWJvYXJkRXZlbnQpID0+IHZvaWQ7XHJcbiAgICBvbkNvbXBvc2l0aW9uU3RhcnQ6IChlOiBDb21wb3NpdGlvbkV2ZW50KSA9PiB2b2lkO1xyXG4gICAgb25Db21wb3NpdGlvbkVuZDogKGU6IENvbXBvc2l0aW9uRXZlbnQpID0+IHZvaWQ7XHJcbn0+LCBQPjtcclxuXHJcblxyXG4vKipcclxuICogQWxsb3dzIGZvciB0aGUgc2VsZWN0aW9uIG9mIGEgbWFuYWdlZCBjaGlsZCBieSB0eXBpbmcgdGhlIGdpdmVuIHRleHQgYXNzb2NpYXRlZCB3aXRoIGl0LlxyXG4gKiBcclxuICogQHNlZSB1c2VMaXN0TmF2aWdhdGlvbiwgd2hpY2ggcGFja2FnZXMgZXZlcnl0aGluZyB1cCB0b2dldGhlci5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiB1c2VUeXBlYWhlYWROYXZpZ2F0aW9uPENoaWxkRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIEkgZXh0ZW5kcyBVc2VUeXBlYWhlYWROYXZpZ2F0aW9uQ2hpbGRJbmZvPih7IGNvbGxhdG9yLCBnZXRJbmRleCwgdHlwZWFoZWFkVGltZW91dCwgc2V0SW5kZXggfTogVXNlVHlwZWFoZWFkTmF2aWdhdGlvblBhcmFtZXRlcnMpOiBVc2VUeXBlYWhlYWROYXZpZ2F0aW9uUmV0dXJuVHlwZTxDaGlsZEVsZW1lbnQsIEk+IHtcclxuXHJcblxyXG4gICAgLy8gRm9yIHR5cGVhaGVhZCwga2VlcCB0cmFjayBvZiB3aGF0IG91ciBjdXJyZW50IFwic2VhcmNoXCIgc3RyaW5nIGlzIChpZiB3ZSBoYXZlIG9uZSlcclxuICAgIC8vIGFuZCBhbHNvIGNsZWFyIGl0IGV2ZXJ5IDEwMDAgbXMgc2luY2UgdGhlIGxhc3QgdGltZSBpdCBjaGFuZ2VkLlxyXG4gICAgLy8gTmV4dCwga2VlcCBhIG1hcHBpbmcgb2YgdHlwZWFoZWFkIHZhbHVlcyB0byBpbmRpY2VzIGZvciBmYXN0ZXIgc2VhcmNoaW5nLlxyXG4gICAgLy8gQW5kLCBmb3IgdGhlIHVzZXIncyBzYWtlLCBsZXQgdGhlbSBrbm93IHdoZW4gdGhlaXIgdHlwZWFoZWFkIGNhbid0IG1hdGNoIGFueXRoaW5nIGFueW1vcmVcclxuICAgIGNvbnN0IFtjdXJyZW50VHlwZWFoZWFkLCBzZXRDdXJyZW50VHlwZWFoZWFkLCBnZXRDdXJyZW50VHlwZWFoZWFkXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xyXG4gICAgdXNlVGltZW91dCh7IHRpbWVvdXQ6IHR5cGVhaGVhZFRpbWVvdXQgPz8gMTAwMCwgY2FsbGJhY2s6ICgpID0+IHsgc2V0Q3VycmVudFR5cGVhaGVhZChudWxsKTsgc2V0SW52YWxpZFR5cGVhaGVhZChudWxsKTsgfSwgdHJpZ2dlckluZGV4OiBjdXJyZW50VHlwZWFoZWFkIH0pO1xyXG4gICAgY29uc3Qgc29ydGVkVHlwZWFoZWFkSW5mbyA9IHVzZVJlZjx7IHRleHQ6IHN0cmluZywgdW5zb3J0ZWRJbmRleDogbnVtYmVyIH1bXT4oW10pO1xyXG4gICAgY29uc3QgW2ludmFsaWRUeXBlYWhlYWQsIHNldEludmFsaWRUeXBlYWhlYWRdID0gdXNlU3RhdGU8Ym9vbGVhbiB8IG51bGw+KGZhbHNlKTtcclxuXHJcbiAgICAvLyBIYW5kbGUgdHlwZWFoZWFkIGZvciBpbnB1dCBtZXRob2QgZWRpdG9ycyBhcyB3ZWxsXHJcbiAgICAvLyBFc3NlbnRpYWxseSwgd2hlbiBhY3RpdmUsIGlnbm9yZSBmdXJ0aGVyIGtleXMgXHJcbiAgICAvLyBiZWNhdXNlIHdlJ3JlIHdhaXRpbmcgZm9yIGEgQ29tcG9zaXRpb25FbmQgZXZlbnRcclxuICAgIGNvbnN0IFssIHNldEltZUFjdGl2ZSwgZ2V0SW1lQWN0aXZlXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuXHJcbiAgICAvLyBCZWNhdXNlIGNvbXBvc2l0aW9uIGV2ZW50cyBmaXJlICphZnRlcioga2V5ZG93biBldmVudHMgXHJcbiAgICAvLyAoYnV0IHdpdGhpbiB0aGUgc2FtZSB0YXNrLCB3aGljaCwgVE9ETywgY291bGQgYmUgYnJvd3Nlci1kZXBlbmRlbnQpLFxyXG4gICAgLy8gd2UgY2FuIHVzZSB0aGlzIHRvIGtlZXAgdHJhY2sgb2Ygd2hpY2ggZXZlbnQgd2UncmUgbGlzdGVuaW5nIGZvciBvbiB0aGUgZmlyc3Qga2V5ZG93bi5cclxuICAgIGNvbnN0IFtuZXh0VHlwZWFoZWFkQ2hhciwgc2V0TmV4dFR5cGVhaGVhZENoYXJdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XHJcbiAgICB1c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIGlmIChuZXh0VHlwZWFoZWFkQ2hhciAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBzZXRDdXJyZW50VHlwZWFoZWFkKHR5cGVhaGVhZCA9PiAoKHR5cGVhaGVhZCA/PyBcIlwiKSArIG5leHRUeXBlYWhlYWRDaGFyKSk7XHJcbiAgICAgICAgICAgIHNldE5leHRUeXBlYWhlYWRDaGFyKG51bGwpO1xyXG4gICAgICAgIH1cclxuICAgIH0sIFtuZXh0VHlwZWFoZWFkQ2hhcl0pO1xyXG5cclxuXHJcbiAgICBjb25zdCBjb21wYXJhdG9yU2hhcmVkID0gdXNlU3RhYmxlQ2FsbGJhY2soKHNhZmVMaHM6IHN0cmluZywgc2FmZVJoczogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgbGV0IGNvbXBhcmU6IG51bWJlcjtcclxuICAgICAgICAvLyBGb3IgdGhlIHB1cnBvc2VzIG9mIHR5cGVhaGVhZCwgb25seSBjb21wYXJlIGEgc3RyaW5nIG9mIHRoZSBzYW1lIHNpemUgYXMgb3VyIGN1cnJlbnRseSB0eXBlZCBzdHJpbmcuXHJcbiAgICAgICAgLy8gQnkgbm9ybWFsaXppbmcgdGhlbSBmaXJzdCwgd2UgZW5zdXJlIHRoaXMgYnl0ZS1ieS1ieXRlIGhhbmRsaW5nIG9mIHJhdyBjaGFyYWN0ZXIgZGF0YSB3b3JrcyBvdXQgb2theS5cclxuICAgICAgICBzYWZlTGhzID0gc2FmZUxocy5ub3JtYWxpemUoXCJORkRcIik7XHJcbiAgICAgICAgc2FmZVJocyA9IHNhZmVSaHMubm9ybWFsaXplKFwiTkZEXCIpXHJcblxyXG4gICAgICAgIGlmIChjb2xsYXRvcilcclxuICAgICAgICAgICAgY29tcGFyZSA9IGNvbGxhdG9yLmNvbXBhcmUoc2FmZUxocywgc2FmZVJocylcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIGNvbXBhcmUgPSBzYWZlTGhzLnRvTG93ZXJDYXNlKCkubG9jYWxlQ29tcGFyZShzYWZlUmhzLnRvTG93ZXJDYXNlKCkgPz8gXCJcIik7XHJcblxyXG4gICAgICAgIHJldHVybiBjb21wYXJlO1xyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgaW5zZXJ0aW5nQ29tcGFyYXRvciA9IHVzZVN0YWJsZUNhbGxiYWNrKChsaHM6IElbXCJ0ZXh0XCJdLCByaHM6IHsgdGV4dDogSVtcInRleHRcIl07IHVuc29ydGVkSW5kZXg6IG51bWJlcjsgfSkgPT4ge1xyXG5cclxuICAgICAgICBpZiAodHlwZW9mIGxocyA9PT0gXCJzdHJpbmdcIiAmJiB0eXBlb2YgcmhzLnRleHQgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbXBhcmF0b3JTaGFyZWQobGhzLCByaHMudGV4dCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gKGxocyBhcyB1bmtub3duIGFzIG51bWJlcikgLSAocmhzIGFzIHVua25vd24gYXMgbnVtYmVyKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IHR5cGVhaGVhZENvbXBhcmF0b3IgPSB1c2VTdGFibGVDYWxsYmFjaygobGhzOiBJW1widGV4dFwiXSwgcmhzOiB7IHRleHQ6IElbXCJ0ZXh0XCJdOyB1bnNvcnRlZEluZGV4OiBudW1iZXI7IH0pID0+IHtcclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiBsaHMgPT09IFwic3RyaW5nXCIgJiYgdHlwZW9mIHJocy50ZXh0ID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgIC8vIER1cmluZyB0eXBlYWhlYWQsIGFsbCBzdHJpbmdzIGxvbmdlciB0aGFuIG91cnMgc2hvdWxkIGJlIHRydW5jYXRlZFxyXG4gICAgICAgICAgICAvLyBzbyB0aGF0IHRoZXkncmUgYWxsIGNvbnNpZGVyZWQgZXF1YWxseSBieSB0aGF0IHBvaW50LlxyXG4gICAgICAgICAgICByZXR1cm4gY29tcGFyYXRvclNoYXJlZChsaHMsIHJocy50ZXh0LnN1YnN0cmluZygwLCBsaHMubGVuZ3RoKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gKGxocyBhcyB1bmtub3duIGFzIG51bWJlcikgLSAocmhzIGFzIHVua25vd24gYXMgbnVtYmVyKTtcclxuICAgIH0pO1xyXG5cclxuXHJcbiAgICBjb25zdCB1c2VUeXBlYWhlYWROYXZpZ2F0aW9uUHJvcHM6IFVzZVR5cGVhaGVhZE5hdmlnYXRpb25Qcm9wczxDaGlsZEVsZW1lbnQ+ID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gPFAgZXh0ZW5kcyBoLkpTWC5IVE1MQXR0cmlidXRlczxDaGlsZEVsZW1lbnQ+Pih7IC4uLnByb3BzIH06IFApOiBVc2VUeXBlYWhlYWROYXZpZ2F0aW9uUHJvcHNSZXR1cm5UeXBlPENoaWxkRWxlbWVudCwgUD4ge1xyXG5cclxuICAgICAgICBjb25zdCBvbkNvbXBvc2l0aW9uU3RhcnQgPSAoX2U6IENvbXBvc2l0aW9uRXZlbnQpID0+IHsgc2V0SW1lQWN0aXZlKHRydWUpIH07XHJcbiAgICAgICAgY29uc3Qgb25Db21wb3NpdGlvbkVuZCA9IChlOiBDb21wb3NpdGlvbkV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIHNldE5leHRUeXBlYWhlYWRDaGFyKGUuZGF0YSk7XHJcbiAgICAgICAgICAgIHNldEltZUFjdGl2ZShmYWxzZSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgY29uc3Qgb25LZXlEb3duID0gKGU6IEtleWJvYXJkRXZlbnQpID0+IHtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGltZUFjdGl2ZSA9IGdldEltZUFjdGl2ZSgpO1xyXG5cclxuICAgICAgICAgICAgY29uc3Qga2V5ID0gZS5rZXk7XHJcblxyXG4gICAgICAgICAgICAvLyBOb3QgaGFuZGxlZCBieSB0eXBlYWhlYWQgKGkuZS4gYXNzdW1lIHRoaXMgaXMgYSBrZXlib2FyZCBzaG9ydGN1dClcclxuICAgICAgICAgICAgaWYgKGUuY3RybEtleSB8fCBlLm1ldGFLZXkpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICAgICBpZiAoIWltZUFjdGl2ZSAmJiBlLmtleSA9PT0gXCJCYWNrc3BhY2VcIikge1xyXG4gICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHRoZSBsYXN0IGNoYXJhY3RlciBpbiBhIHdheSB0aGF0IGRvZXNuJ3Qgc3BsaXQgVVRGLTE2IHN1cnJvZ2F0ZXMuXHJcbiAgICAgICAgICAgICAgICBzZXRDdXJyZW50VHlwZWFoZWFkKHQgPT4gdCA9PT0gbnVsbCA/IG51bGwgOiBbLi4udF0ucmV2ZXJzZSgpLnNsaWNlKDEpLnJldmVyc2UoKS5qb2luKFwiXCIpKTtcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFRoZSBrZXkgcHJvcGVydHkgcmVwcmVzZW50cyB0aGUgdHlwZWQgY2hhcmFjdGVyIE9SIHRoZSBcIm5hbWVkIGtleSBhdHRyaWJ1dGVcIiBvZiB0aGUga2V5IHByZXNzZWQuXHJcbiAgICAgICAgICAgIC8vIFRoZXJlJ3Mgbm8gZGVmaW5pdGUgd2F5IHRvIHRlbGwgdGhlIGRpZmZlcmVuY2UsIGJ1dCBmb3IgYWxsIGludGVudHMgYW5kIHB1cnBvc2VzXHJcbiAgICAgICAgICAgIC8vIHRoZXJlIGFyZSBubyBvbmUtY2hhcmFjdGVyIG5hbWVzLCBhbmQgdGhlcmUgYXJlIG5vIG5vbi1BU0NJSS1hbHBoYSBuYW1lcy5cclxuICAgICAgICAgICAgLy8gVGh1cywgYW55IG9uZS1jaGFyYWN0ZXIgb3Igbm9uLUFTQ0lJIHZhbHVlIGZvciBga2V5YCBpcyAqYWxtb3N0IGNlcnRhaW5seSogYSB0eXBlZCBjaGFyYWN0ZXIuXHJcbiAgICAgICAgICAgIGNvbnN0IGlzQ2hhcmFjdGVyS2V5ID0gKGtleS5sZW5ndGggPT09IDEgfHwgIS9eW0EtWmEtel0vLnRlc3Qoa2V5KSk7XHJcbiAgICAgICAgICAgIGlmIChpc0NoYXJhY3RlcktleSkge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChrZXkgPT0gXCIgXCIgJiYgKGdldEN1cnJlbnRUeXBlYWhlYWQoKSA/PyBcIlwiKS50cmltKCkubGVuZ3RoID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBEb24ndCBkbyBhbnl0aGluZyBiZWNhdXNlIGEgc3BhY2ViYXIgY2FuJ3QgZXZlciBcclxuICAgICAgICAgICAgICAgICAgICAvLyBpbml0aWF0ZSBhIHR5cGVhaGVhZCwgb25seSBjb250aW51ZSBvbmUuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIChTcGVjaWZpY2FsbHksIGxldCB0aGUgZXZlbnQgY29udGludWUgcHJvcGFnYXRpb24gaW4gdGhpcyBjYXNlKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBOb3RlOiBXb24ndCBiZSB0cnVlIGZvciB0aGUgZmlyc3Qga2V5ZG93blxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGJ1dCB3aWxsIGJlIG92ZXJ3cml0dGVuIGJlZm9yZSB1c2VMYXlvdXRFZmZlY3QgaXMgY2FsbGVkXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdG8gYWN0dWFsbHkgYXBwbHkgdGhlIGNoYW5nZVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghaW1lQWN0aXZlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXROZXh0VHlwZWFoZWFkQ2hhcihrZXkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJldHVybiB1c2VNZXJnZWRQcm9wczxDaGlsZEVsZW1lbnQ+KCkoeyBvbktleURvd24sIG9uQ29tcG9zaXRpb25TdGFydCwgb25Db21wb3NpdGlvbkVuZCwgfSwgcHJvcHMpO1xyXG4gICAgfSwgW10pO1xyXG5cclxuICAgIC8vIEhhbmRsZSBjaGFuZ2VzIGluIHR5cGVhaGVhZCB0aGF0IGNhdXNlIGNoYW5nZXMgdG8gdGhlIHRhYmJhYmxlIGluZGV4XHJcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIGlmIChjdXJyZW50VHlwZWFoZWFkICYmIHNvcnRlZFR5cGVhaGVhZEluZm8uY3VycmVudC5sZW5ndGgpIHtcclxuXHJcblxyXG5cclxuICAgICAgICAgICAgY29uc3Qgc29ydGVkVHlwZWFoZWFkSW5kZXggPSBiaW5hcnlTZWFyY2goc29ydGVkVHlwZWFoZWFkSW5mby5jdXJyZW50LCBjdXJyZW50VHlwZWFoZWFkLCB0eXBlYWhlYWRDb21wYXJhdG9yKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChzb3J0ZWRUeXBlYWhlYWRJbmRleCA8IDApIHtcclxuICAgICAgICAgICAgICAgIC8vIFRoZSB1c2VyIGhhcyB0eXBlZCBhbiBlbnRyeSB0aGF0IGRvZXNuJ3QgZXhpc3QgaW4gdGhlIGxpc3RcclxuICAgICAgICAgICAgICAgIC8vIChvciBtb3JlIHNwZWNpZmljYWxseSBcImZvciB3aGljaCB0aGVyZSBpcyBubyBlbnRyeSB0aGF0IHN0YXJ0cyB3aXRoIHRoYXQgaW5wdXRcIilcclxuICAgICAgICAgICAgICAgIHNldEludmFsaWRUeXBlYWhlYWQodHJ1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzZXRJbnZhbGlkVHlwZWFoZWFkKGZhbHNlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvKlxyXG4gICAgICAgICAgICAgICAgICBXZSBrbm93IHJvdWdobHkgd2hlcmUsIGluIHRoZSBzb3J0ZWQgYXJyYXkgb2Ygc3RyaW5ncywgb3VyIG5leHQgdHlwZWFoZWFkIGxvY2F0aW9uIGlzLlxyXG4gICAgICAgICAgICAgICAgICBCdXQgcm91Z2hseSBpc24ndCBnb29kIGVub3VnaCBpZiB0aGVyZSBhcmUgbXVsdGlwbGUgbWF0Y2hlcy5cclxuICAgICAgICAgICAgICAgICAgVG8gY29udmVydCBvdXIgc29ydGVkIGluZGV4IHRvIHRoZSB1bnNvcnRlZCBpbmRleCB3ZSBuZWVkLCB3ZSBoYXZlIHRvIGZpbmQgdGhlIGZpcnN0XHJcbiAgICAgICAgICAgICAgICAgIGVsZW1lbnQgdGhhdCBtYXRjaGVzIHVzICphbmQqIChpZiBhbnkgc3VjaCBleGlzdCkgaXMgKmFmdGVyKiBvdXIgY3VycmVudCBzZWxlY3Rpb24uXHJcblxyXG4gICAgICAgICAgICAgICAgICBJbiBvdGhlciB3b3JkcywgdGhlIG9ubHkgd2F5IHR5cGVhaGVhZCBtb3ZlcyBiYWNrd2FyZHMgcmVsYXRpdmUgdG8gb3VyIGN1cnJlbnRcclxuICAgICAgICAgICAgICAgICAgcG9zaXRpb24gaXMgaWYgdGhlIG9ubHkgb3RoZXIgb3B0aW9uIGlzIGJlaGluZCB1cy5cclxuXHJcbiAgICAgICAgICAgICAgICAgIEl0J3Mgbm90IHNwZWNpZmllZCBpbiBXQUktQVJJQSB3aGF0IHRvIGRvIGluIHRoYXQgY2FzZS4gIEkgc3VwcG9zZSB3cmFwIGJhY2sgdG8gdGhlIHN0YXJ0P1xyXG4gICAgICAgICAgICAgICAgICBUaG91Z2ggdGhlcmUncyBhbHNvIGEgY2FzZSBmb3IganVzdCBnb2luZyB1cHdhcmRzIHRvIHRoZSBuZWFyZXN0IHRvIHByZXZlbnQganVtcGluZXNzLlxyXG4gICAgICAgICAgICAgICAgICBCdXQgaWYgeW91J3JlIGFscmVhZHkgZG9pbmcgdHlwZWFoZWFkIG9uIGFuIHVuc29ydGVkIGxpc3QsIGxpa2UsIGp1bXBpbmVzcyBjYW4ndCBiZSBhdm9pZGVkLlxyXG4gICAgICAgICAgICAgICAgICBJIGR1bm5vLiBHb2luZyBiYWNrIHRvIHRoZSBzdGFydCBpcyB0aGUgc2ltcGxpc3QgdGhvdWdoLlxyXG5cclxuICAgICAgICAgICAgICAgICAgQmFzaWNhbGx5IHdoYXQgdGhpcyBkb2VzOiBTdGFydGluZyBmcm9tIHdoZXJlIHdlIGZvdW5kIG91cnNlbHZlcyBhZnRlciBvdXIgYmluYXJ5IHNlYXJjaCxcclxuICAgICAgICAgICAgICAgICAgc2NhbiBiYWNrd2FyZHMgYW5kIGZvcndhcmRzIHRocm91Z2ggYWxsIGFkamFjZW50IGVudHJpZXMgdGhhdCBhbHNvIGNvbXBhcmUgZXF1YWxseSBzbyB0aGF0XHJcbiAgICAgICAgICAgICAgICAgIHdlIGNhbiBmaW5kIHRoZSBvbmUgd2hvc2UgYHVuc29ydGVkSW5kZXhgIGlzIHRoZSBsb3dlc3QgYW1vbmdzdCBhbGwgb3RoZXIgZXF1YWwgc3RyaW5nc1xyXG4gICAgICAgICAgICAgICAgICAoYW5kIGFsc28gdGhlIGxvd2VzdCBgdW5zb3J0ZWRJbmRleGAgeWFkZGEgeWFkZGEgZXhjZXB0IHRoYXQgaXQgY29tZXMgYWZ0ZXIgdXMpLlxyXG5cclxuICAgICAgICAgICAgICAgICAgVE9ETzogVGhlIGJpbmFyeSBzZWFyY2ggc3RhcnRzIHRoaXMgb2ZmIHdpdGggYSBzb2xpZCBPKGxvZyBuKSwgYnV0IG9uZS1jaGFyYWN0ZXIgXHJcbiAgICAgICAgICAgICAgICAgIHNlYXJjaGVzIGFyZSwgdGhhbmtzIHRvIHBpZ2VvbmhvbGUgcHJpbmNpcGFsLCBldmVudHVhbGx5IGd1YXJhbnRlZWQgdG8gYmVjb21lIFxyXG4gICAgICAgICAgICAgICAgICBPKG4qbG9nIG4pLiBUaGlzIGlzIGFubm95aW5nIGJ1dCBwcm9iYWJseSBub3QgZWFzaWx5IHNvbHZhYmxlPyBUaGVyZSBjb3VsZCBiZSBhbiBcclxuICAgICAgICAgICAgICAgICAgZXhjZXB0aW9uIGZvciBvbmUtY2hhcmFjdGVyIHN0cmluZ3MsIGJ1dCB0aGF0J3MganVzdCBraWNraW5nIHRoZSBjYW4gZG93biBcclxuICAgICAgICAgICAgICAgICAgdGhlIHJvYWQuIE1heWJlIG9uZSBvciB0d28gY2hhcmFjdGVycyB3b3VsZCBiZSBnb29kIGVub3VnaCB0aG91Z2guXHJcbiAgICAgICAgICAgICAgICAqL1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBUaGVzZSBhcmUgdXNlZCB0byBrZWVwIHRyYWNrIG9mIHRoZSBjYW5kaWRhdGVzJyBwb3NpdGlvbnMgaW4gYm90aCBvdXIgc29ydGVkIGFycmF5IGFuZCB0aGUgdW5zb3J0ZWQgRE9NLlxyXG4gICAgICAgICAgICAgICAgbGV0IGxvd2VzdFVuc29ydGVkSW5kZXhBbGw6IG51bWJlciB8IG51bGwgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgbGV0IGxvd2VzdFNvcnRlZEluZGV4QWxsID0gc29ydGVkVHlwZWFoZWFkSW5kZXg7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gVGhlc2UgdHdvIGFyZSBvbmx5IHNldCBmb3IgZWxlbWVudHMgdGhhdCBhcmUgYWhlYWQgb2YgdXMsIGJ1dCB0aGUgcHJpbmNpcGxlJ3MgdGhlIHNhbWUgb3RoZXJ3aXNlXHJcbiAgICAgICAgICAgICAgICBsZXQgbG93ZXN0VW5zb3J0ZWRJbmRleE5leHQ6IG51bWJlciB8IG51bGwgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgbGV0IGxvd2VzdFNvcnRlZEluZGV4TmV4dCA9IHNvcnRlZFR5cGVhaGVhZEluZGV4O1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZUJlc3RGaXQgPSAodTogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxvd2VzdFVuc29ydGVkSW5kZXhBbGwgPT0gbnVsbCB8fCB1IDwgbG93ZXN0VW5zb3J0ZWRJbmRleEFsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb3dlc3RVbnNvcnRlZEluZGV4QWxsID0gdTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG93ZXN0U29ydGVkSW5kZXhBbGwgPSBpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoKGxvd2VzdFVuc29ydGVkSW5kZXhOZXh0ID09IG51bGwgfHwgdSA8IGxvd2VzdFVuc29ydGVkSW5kZXhOZXh0KSAmJiB1ID4gKGdldEluZGV4KCkgPz8gLUluZmluaXR5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb3dlc3RVbnNvcnRlZEluZGV4TmV4dCA9IHU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvd2VzdFNvcnRlZEluZGV4TmV4dCA9IGk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGxldCBpID0gc29ydGVkVHlwZWFoZWFkSW5kZXg7XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAoaSA+PSAwICYmIHR5cGVhaGVhZENvbXBhcmF0b3IoY3VycmVudFR5cGVhaGVhZCwgc29ydGVkVHlwZWFoZWFkSW5mby5jdXJyZW50W2ldKSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlQmVzdEZpdChzb3J0ZWRUeXBlYWhlYWRJbmZvLmN1cnJlbnRbaV0udW5zb3J0ZWRJbmRleCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLS1pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGkgPSBzb3J0ZWRUeXBlYWhlYWRJbmRleDtcclxuICAgICAgICAgICAgICAgIHdoaWxlIChpIDwgc29ydGVkVHlwZWFoZWFkSW5mby5jdXJyZW50Lmxlbmd0aCAmJiB0eXBlYWhlYWRDb21wYXJhdG9yKGN1cnJlbnRUeXBlYWhlYWQsIHNvcnRlZFR5cGVhaGVhZEluZm8uY3VycmVudFtpXSkgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZUJlc3RGaXQoc29ydGVkVHlwZWFoZWFkSW5mby5jdXJyZW50W2ldLnVuc29ydGVkSW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgICAgICsraTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAobG93ZXN0VW5zb3J0ZWRJbmRleE5leHQgIT09IG51bGwpXHJcbiAgICAgICAgICAgICAgICAgICAgc2V0SW5kZXgoc29ydGVkVHlwZWFoZWFkSW5mby5jdXJyZW50W2xvd2VzdFNvcnRlZEluZGV4TmV4dF0udW5zb3J0ZWRJbmRleCk7XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChsb3dlc3RVbnNvcnRlZEluZGV4QWxsICE9PSBudWxsKVxyXG4gICAgICAgICAgICAgICAgICAgIHNldEluZGV4KHNvcnRlZFR5cGVhaGVhZEluZm8uY3VycmVudFtsb3dlc3RTb3J0ZWRJbmRleEFsbF0udW5zb3J0ZWRJbmRleCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LCBbY3VycmVudFR5cGVhaGVhZF0pO1xyXG5cclxuICAgIGNvbnN0IHVzZVR5cGVhaGVhZE5hdmlnYXRpb25DaGlsZCA9IHVzZUNhbGxiYWNrPFVzZVR5cGVhaGVhZE5hdmlnYXRpb25DaGlsZDxDaGlsZEVsZW1lbnQsIEk+PigoeyB0ZXh0LCAuLi5pIH06IEkpID0+IHtcclxuXHJcbiAgICAgICAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRleHQpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBGaW5kIHdoZXJlIHRvIGluc2VydCB0aGlzIGl0ZW0uXHJcbiAgICAgICAgICAgICAgICAvLyBCZWNhdXNlIGFsbCBpbmRleCB2YWx1ZXMgc2hvdWxkIGJlIHVuaXF1ZSwgdGhlIHJldHVybmVkIHNvcnRlZEluZGV4XHJcbiAgICAgICAgICAgICAgICAvLyBzaG91bGQgYWx3YXlzIHJlZmVyIHRvIGEgbmV3IGxvY2F0aW9uIChpLmUuIGJlIG5lZ2F0aXZlKSAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNvcnRlZEluZGV4ID0gYmluYXJ5U2VhcmNoKHNvcnRlZFR5cGVhaGVhZEluZm8uY3VycmVudCwgdGV4dCwgaW5zZXJ0aW5nQ29tcGFyYXRvcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmFzc2VydChzb3J0ZWRJbmRleCA8IDAgfHwgaW5zZXJ0aW5nQ29tcGFyYXRvcihzb3J0ZWRUeXBlYWhlYWRJbmZvLmN1cnJlbnRbc29ydGVkSW5kZXhdLnRleHQsIHsgdW5zb3J0ZWRJbmRleDogaS5pbmRleCwgdGV4dH0pID09IDApO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNvcnRlZEluZGV4IDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNvcnRlZFR5cGVhaGVhZEluZm8uY3VycmVudC5zcGxpY2UoLXNvcnRlZEluZGV4IC0gMSwgMCwgeyB0ZXh0LCB1bnNvcnRlZEluZGV4OiBpLmluZGV4IH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc29ydGVkVHlwZWFoZWFkSW5mby5jdXJyZW50LnNwbGljZShzb3J0ZWRJbmRleCwgMCwgeyB0ZXh0LCB1bnNvcnRlZEluZGV4OiBpLmluZGV4IH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gV2hlbiB1bm1vdW50aW5nLCBmaW5kIHdoZXJlIHdlIHdlcmUgYW5kIHJlbW92ZSBvdXJzZWx2ZXMuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQWdhaW4sIHdlIHNob3VsZCBhbHdheXMgZmluZCBvdXJzZWx2ZXMgYmVjYXVzZSB0aGVyZSBzaG91bGQgYmUgbm8gZHVwbGljYXRlIHZhbHVlcyBpZiBlYWNoIGluZGV4IGlzIHVuaXF1ZS5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzb3J0ZWRJbmRleCA9IGJpbmFyeVNlYXJjaChzb3J0ZWRUeXBlYWhlYWRJbmZvLmN1cnJlbnQsIHRleHQsIGluc2VydGluZ0NvbXBhcmF0b3IpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuYXNzZXJ0KHNvcnRlZEluZGV4IDwgMCB8fCBpbnNlcnRpbmdDb21wYXJhdG9yKHNvcnRlZFR5cGVhaGVhZEluZm8uY3VycmVudFtzb3J0ZWRJbmRleF0udGV4dCwgeyB1bnNvcnRlZEluZGV4OiBpLmluZGV4LCB0ZXh0fSkgPT0gMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzb3J0ZWRJbmRleCA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvcnRlZFR5cGVhaGVhZEluZm8uY3VycmVudC5zcGxpY2Uoc29ydGVkSW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIFt0ZXh0XSk7XHJcblxyXG4gICAgICAgIHJldHVybiB7fVxyXG5cclxuICAgIH0sIFtdKTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHVzZVR5cGVhaGVhZE5hdmlnYXRpb25DaGlsZCxcclxuICAgICAgICB1c2VUeXBlYWhlYWROYXZpZ2F0aW9uUHJvcHMsXHJcblxyXG4gICAgICAgIGN1cnJlbnRUeXBlYWhlYWQsXHJcbiAgICAgICAgaW52YWxpZFR5cGVhaGVhZCxcclxuICAgIH1cclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBZb3VyIHVzdWFsIGJpbmFyeSBzZWFyY2ggaW1wbGVtZW50YXRpb24uXHJcbiAqIFxyXG4gKiBJdCdzIHVzZWQgaGVyZSB0byBxdWlja2x5IGZpbmQgYSBnb29kIHNwb3QgdG8gc3RhcnQgc2VhcmNoaW5nIGZvciBvdXIgbmV4dCB0eXBlYWhlYWQgY2FuZGlkYXRlLlxyXG4gKiBAcGFyYW0gYXJyYXkgVGhlIGFycmF5IHRvIHNlYXJjaCB0aHJvdWdoXHJcbiAqIEBwYXJhbSB3YW50ZWQgVGhlIHZhbHVlIHlvdSdkIGxpa2UgdG8gZmluZFxyXG4gKiBAcGFyYW0gY29tcGFyYXRvciBDb21wYXJlcyBgd2FudGVkYCB3aXRoIHRoZSBjdXJyZW50IHZhbHVlIGluIGBhcnJheWBcclxuICogQHJldHVybnMgQSBub24tbmVnYXRpdmUgdmFsdWUgaWYgYHdhbnRlZGAgd2FzIGZvdW5kLCBhbmQgYSBuZWdhdGl2ZSBudW1iZXIgaWYgbm90LiBcclxuICogVGhlIGFic29sdXRlIHZhbHVlIG9mIHRoaXMgbnVtYmVyLCBtaW51cyBvbmUsIGlzIHdoZXJlIGB3YW50ZWRgICp3b3VsZCogYmUgZm91bmQgaWYgaXQgKndhcyogaW4gYGFycmF5YFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGJpbmFyeVNlYXJjaDxULCBVLCBGIGV4dGVuZHMgKGxoczogVSwgcmhzOiBUKSA9PiBudW1iZXI+KGFycmF5OiBUW10sIHdhbnRlZDogVSwgY29tcGFyYXRvcjogRik6IG51bWJlciB7XHJcbiAgICBsZXQgZmlyc3RJbmRleCA9IDA7XHJcbiAgICBsZXQgbGFzdEluZGV4ID0gYXJyYXkubGVuZ3RoIC0gMTtcclxuICAgIHdoaWxlIChmaXJzdEluZGV4IDw9IGxhc3RJbmRleCkge1xyXG4gICAgICAgIGNvbnN0IHRlc3RJbmRleCA9IChsYXN0SW5kZXggKyBmaXJzdEluZGV4KSA+PiAxO1xyXG4gICAgICAgIGNvbnN0IGNvbXBhcmlzb25SZXN1bHQgPSBjb21wYXJhdG9yKHdhbnRlZCwgYXJyYXlbdGVzdEluZGV4XSk7XHJcblxyXG4gICAgICAgIGlmIChjb21wYXJpc29uUmVzdWx0ID4gMCkge1xyXG4gICAgICAgICAgICBmaXJzdEluZGV4ID0gdGVzdEluZGV4ICsgMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoY29tcGFyaXNvblJlc3VsdCA8IDApIHtcclxuICAgICAgICAgICAgbGFzdEluZGV4ID0gdGVzdEluZGV4IC0gMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0ZXN0SW5kZXg7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiAtZmlyc3RJbmRleCAtIDE7XHJcbn1cclxuIiwiaW1wb3J0IHsgSW5wdXRzLCB1c2VDYWxsYmFjaywgdXNlUmVmIH0gZnJvbSBcInByZWFjdC9ob29rc1wiO1xyXG5pbXBvcnQgeyBFZmZlY3RDaGFuZ2UgfSBmcm9tIFwiLi91c2UtZWZmZWN0XCI7XHJcbmltcG9ydCB7IHVzZUxheW91dEVmZmVjdCB9IGZyb20gXCIuL3VzZS1sYXlvdXQtZWZmZWN0XCI7XHJcbmltcG9ydCB7IHVzZVJlZkVsZW1lbnQsIFVzZVJlZkVsZW1lbnRQcm9wcyB9IGZyb20gXCIuL3VzZS1yZWYtZWxlbWVudFwiO1xyXG5pbXBvcnQgeyB1c2VTdGF0ZSB9IGZyb20gXCIuL3VzZS1zdGF0ZVwiO1xyXG5cclxuXHJcbi8vZXhwb3J0IGNvbnN0IEluZGV4UGVuZGluZyA9IFN5bWJvbChcImluZGV4LXBlbmRpbmdcIik7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIE1hbmFnZWRDaGlsZEluZm88VCBleHRlbmRzIG51bWJlciB8IHN0cmluZz4ge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQSBrZXkgdXNlZCB0byB1bmlxdWVseSBpZGVudGlmeSB0aGUgY2hpbGQgYW1vbmdzdCBpdHMgc2libGluZ3MuXHJcbiAgICAgKiBUaGUgaW5kaWNlcyBkbyBub3QgKm5lY2Vzc2FyaWx5KiBuZWVkIHRvIGJlIHNlcXVlbnRpYWwgKGVzcGVjaWFsbHlcclxuICAgICAqIGluIHRoZSBjYXNlIG9mIHN0cmluZyBpbmRpY2VzKSwgYnV0IG90aGVyIGhvb2tzIHRoYXQgZGVwZW5kXHJcbiAgICAgKiBvbiBgdXNlTWFuYWdlZENoaWxkYCBtYXkgc3BlY2lmaWNhbGx5IHdhbnQgc2VxdWVudGlhbGx5LW9yZGVyZWRcclxuICAgICAqIGluZGljZXMgKGUuZy4gYHVzZUxpbmVhck5hdmlnYXRpb25gKVxyXG4gICAgICovXHJcbiAgICBpbmRleDogVDtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBVc2VNYW5hZ2VkQ2hpbGRSZXR1cm5UeXBlPEUgZXh0ZW5kcyBFdmVudFRhcmdldD4ge1xyXG4gICAgZ2V0RWxlbWVudCgpOiBFIHwgbnVsbDtcclxuICAgIHVzZU1hbmFnZWRDaGlsZFByb3BzOiBVc2VSZWZFbGVtZW50UHJvcHM8RT47XHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIFVzZWRNYW5hZ2VkQ2hpbGQ8SSBleHRlbmRzIE1hbmFnZWRDaGlsZEluZm88YW55Pj4gPSA8RSBleHRlbmRzIEV2ZW50VGFyZ2V0PihpbmZvOiBJKSA9PiBVc2VNYW5hZ2VkQ2hpbGRSZXR1cm5UeXBlPEU+O1xyXG4vL2V4cG9ydCB0eXBlIFVzZU1hbmFnZWRDaGlsZFByb3BzPEUgZXh0ZW5kcyBFdmVudFRhcmdldD4gPSA8UCBleHRlbmRzIFVzZU1hbmFnZWRDaGlsZFByb3BzUGFyYW1ldGVyczxFPj4ocHJvcHM6IFApID0+IFVzZU1hbmFnZWRDaGlsZFByb3BzUmV0dXJuVHlwZTxFLCBQPjtcclxuLy9leHBvcnQgdHlwZSBVc2VNYW5hZ2VkQ2hpbGRQcm9wc1BhcmFtZXRlcnM8RSBleHRlbmRzIEV2ZW50VGFyZ2V0PiA9IFVzZVJlZkVsZW1lbnRQcm9wc1BhcmFtZXRlcnM8RT47XHJcbi8vZXhwb3J0IHR5cGUgVXNlTWFuYWdlZENoaWxkUHJvcHNSZXR1cm5UeXBlPEUgZXh0ZW5kcyBFdmVudFRhcmdldCwgUCBleHRlbmRzIFVzZU1hbmFnZWRDaGlsZFByb3BzUGFyYW1ldGVyczxFPj4gPSB2b2lkO1xyXG5cclxudHlwZSBJbmZvVG9LZXk8SSBleHRlbmRzIE1hbmFnZWRDaGlsZEluZm88YW55Pj4gPSBJW1wiaW5kZXhcIl07XHJcbnR5cGUgTWFuYWdlZENoaWxkcmVuPFQgZXh0ZW5kcyBudW1iZXIgfCBzdHJpbmcsIEkgZXh0ZW5kcyBNYW5hZ2VkQ2hpbGRJbmZvPFQ+PiA9IFQgZXh0ZW5kcyBzdHJpbmcgPyBSZWNvcmQ8c3RyaW5nLCBJPiA6IElbXTtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVXNlQ2hpbGRNYW5hZ2VyUmV0dXJuVHlwZTxJIGV4dGVuZHMgTWFuYWdlZENoaWxkSW5mbzxhbnk+PiB7XHJcbiAgICAvKipcclxuICAgICAqIEEgaG9vayB0aGF0IG11c3QgYmUgY2FsbGVkIGJ5IGV2ZXJ5IGNoaWxkIGNvbXBvbmVudCB0aGF0XHJcbiAgICAgKiBpcyB0byBiZSBtYW5hZ2VkIGJ5IHRoaXMgb25lLiBUaGUgYXJndW1lbnQgdG8gdGhlIGhvb2tcclxuICAgICAqIGlzIGp1c3QgdGhlIGJhZyBvZiBwcm9wZXJ0aWVzIHRvIHBhc3MgdG8gdGhlIHBhcmVudCxcclxuICAgICAqIGluY2x1ZGluZyB0aGUgY2hpbGQncyBpbmRleC5cclxuICAgICAqL1xyXG4gICAgdXNlTWFuYWdlZENoaWxkOiBVc2VkTWFuYWdlZENoaWxkPEk+O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQW4gYXJyYXkgb2YgYWxsIGN1cnJlbnRseSBtYW5hZ2VkIGNoaWxkcmVuLFxyXG4gICAgICogb3IgcmF0aGVyIHRoZSBpbmZvcm1hdGlvbiB0aGV5IHByb3ZpZGVkXHJcbiAgICAgKiB0aGUgcGFyZW50LlxyXG4gICAgICogXHJcbiAgICAgKiBUaGUgaW5kZXggdGhhdCB0aGUgY2hpbGQgcHJvdmlkZWQgaXMgd2hlcmUgaXQgaXMgbG9jYXRlZCBpbiB0aGlzIHN0cnVjdHVyZS4gRm9yIG51bWVyaWMgSURzLCB0aGlzIGlzIGp1c3QgYW4gYXJyYXksIHdpdGggZWFjaCBvYmplY3QgYXQgdGhhdCBsb2NhdGlvbiBpbiB0aGUgYXJyYXkuXHJcbiAgICAgKiBcclxuICAgICAqIFRoaXMgaXMgZ2VuZXJhbGx5IGp1c3QgYW4gYXJyYXksIHRob3VnaCBpdCBjYW4gYmUgYSBSZWNvcmQgaW5zdGVhZCBpZiBzdHJpbmcgSURzIGFyZSB1c2VkIGluc3RlYWQgb2YgbnVtZXJpYyBJRHMuXHJcbiAgICAgKi9cclxuICAgIG1hbmFnZWRDaGlsZHJlbjogTWFuYWdlZENoaWxkcmVuPEluZm9Ub0tleTxJPiwgST47XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXBhcmF0ZSBmcm9tIGBtYW5hZ2VkQ2hpbGRyZW5gLCB0aGlzIGtlZXBzIHRyYWNrIG9mIGFsbCBtb3VudGVkIGNoaWxkcmVuIGluIHRoZSBvcmRlciB0aGF0IHRoZXkgbW91bnRlZC5cclxuICAgICAqIGBnZXRNb3VudEluZGV4YCB3aWxsIHJldHVybiB0aGUgaW5kZXggaW50byB0aGlzIGFycmF5IGdpdmVuIHRoZSBjaGlsZCdzIGluZGV4LlxyXG4gICAgICogIFxyXG4gICAgICogV2hlbiB1bm1vdW50ZWQsIGl0cyBlbnRyeSBiZWNvbWVzIG51bGwuXHJcbiAgICAgKiBcclxuICAgICAqIFRoaXMgYW5kIGBtYW5hZ2VkQ2hpbGRyZW5gIHdpbGwgYWx3YXlzIGhhdmUgdGhlIHNhbWUgY29udGVudHMsIGJ1dCBsaWtlbHkgaW4gYSBkaWZmZXJlbnQgb3JkZXIgYW5kIGluIGRpZmZlcmVudCBsb2NhdGlvbnMuXHJcbiAgICAgKi9cclxuICAgIG1vdW50ZWRDaGlsZHJlbjogKG51bGwgfCBJKVtdO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgY3VycmVudCBudW1iZXIgb2YgY2hpbGRyZW4gYmVpbmcgbWFuYWdlZCBcclxuICAgICAqIChzcGVjaWZpY2FsbHkgdGhlIG51bWJlciBvZiBjaGlsZHJlbiB0aGF0IGhhdmUgbW91bnRlZCAqYW5kKiBhcmUgc3RpbGwgbW91bnRlZC4pLlxyXG4gICAgICogXHJcbiAgICAgKiBGb3IgbW9zdCBhcnJheS1saWtlIGNoaWxkIHN0cnVjdHVyZXMgd2l0aCBudW1lcmljIElEcywgdGhpcyB3aWxsIG1hdGNoIHVwIHdpdGggYG1hbmFnZWRDaGlsZHJlbi5sZW5ndGhgLlxyXG4gICAgICovXHJcbiAgICBjaGlsZENvdW50OiBudW1iZXI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgdG90YWwgbnVtYmVyIG9mIGNoaWxkcmVuIHRoYXQgaGF2ZSBiZWVuIG1vdW50ZWQsIHJlZ2FyZGxlc3Mgb2YgaWYgdGhleSd2ZSBzaW5jZSB1bm1vdW50ZWQgdGhlbXNlbHZlcy5cclxuICAgICAqL1xyXG4gICAgdG90YWxDaGlsZHJlbk1vdW50ZWQ6IG51bWJlcjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSB0b3RhbCBudW1iZXIgb2YgY2hpbGRyZW4gdGhhdCBoYXZlIHVubW91bnRlZCAtLSB0aGlzIGlzIDAgdW50aWwgYXQgbGVhc3Qgc29tZSB0aW1lIGFmdGVyIGB0b3RhbENoaWxkcmVuTW91bnRlZGAgaXMgPjAuXHJcbiAgICAgKi9cclxuICAgIHRvdGFsQ2hpbGRyZW5Vbm91bnRlZDogbnVtYmVyO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBpbiB3aGF0IHBvc2l0aW9uIHRoaXMgY2hpbGQgbW91bnRlZC4gSWYgdGhpcyBpcyB0aGUgbW9zdCByZWNlbnRseSBtb3VudGVkIGNoaWxkLCBpdCB3aWxsIHJldHVybiBhIHZhbHVlIGVxdWFsIHRvIGB0b3RhbENoaWxkcmVuTW91bnRlZGAgLSAxLlxyXG4gICAgICogXHJcbiAgICAgKiAqKk9uIHRoZSBjaGlsZCBzaWRlLCBjYW5ub3QgYmUgdXNlZCBpbnNpZGUgdXNlTGF5b3V0RWZmZWN0KiogKE9uIHRoZSBwYXJlbnQgc2lkZSBpdCdzIGZpbmUgYXQgYW55IHBvaW50KS4gIElmIG11bHRpcGxlIGNoaWxkcmVuIGFyZSBtb3VudGVkIG9uIHRoZSBzYW1lIGZyYW1lLCB0aGVpciBtb3VudCBpbmRpY2VzIHJlbGF0aXZlIHRvIGVhY2ggb3RoZXIgd2lsbCBiZSBhcmJpdHJhcnkgYnV0IGNvbnNpc3RlbnQgKGFzc3VtaW5nIFByZWFjdCdzIGlzKS5cclxuICAgICAqL1xyXG4gICAgZ2V0TW91bnRJbmRleChpbmRleDogSW5mb1RvS2V5PEk+KTogbnVtYmVyO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2l2ZW4gdGhlIEVsZW1lbnQgdGhhdCB0aGUgY2hpbGQgbW91bnRzIGFzLCByZXR1cm5zIGl0cyBgaW5kZXhgIHByb3AuXHJcbiAgICAgKi9cclxuICAgIGluZGljZXNCeUVsZW1lbnQ6IE1hcDxFdmVudFRhcmdldCwgSW5mb1RvS2V5PEk+PlxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQSBzZXQgY29udGFpbmluZyBldmVyeSBpbmRleCB0aGF0IGhhcyB1bm1vdW50ZWQgYnV0IG5vdCBldmVyIHJlLW1vdW50ZWQgaXRzZWxmLlxyXG4gICAgICogXHJcbiAgICAgKiBJbiBhIG51bWVyaWMsIGxpbmVhciBsaXN0LCB0aGlzIHdvdWxkIHJlcHJlc2VudCBlaXRoZXIgaG9sZXMgaW4gdGhlIGxpc3QsIG9yIHNwYWNlcyBhZnRlciB0aGUgZW5kIG9mIHRoZSBsaXN0LlxyXG4gICAgICovXHJcbiAgICBkZWxldGVkSW5kaWNlczogU2V0PEluZm9Ub0tleTxJPj47XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBbGxvd3MgYSBwYXJlbnQgY29tcG9uZW50IHRvIGFjY2VzcyBpbmZvcm1hdGlvbiBhYm91dCBjZXJ0YWluXHJcbiAqIGNoaWxkIGNvbXBvbmVudHMgb25jZSB0aGV5IGhhdmUgcmVuZGVyZWQuXHJcbiAqIFxyXG4gKiBUaGlzIGhvb2sgaXMgc2xpZ2h0bHkgbW9yZSBjb21wbGljYXRlZCBpbiB0aGF0IGl0IHJldHVybnMgYm90aCBhXHJcbiAqIHByb3AtbW9kaWZ5aW5nIGhvb2ssIGJ1dCBhbHNvIGEgaG9vayB0aGF0IGVhY2ggY2hpbGQgd2lsbCBuZWVkXHJcbiAqIHRvIHVzZTogYHVzZU1hbmFnZWRDaGlsZGAuICBJdCdzIHN0YWJsZSBhY3Jvc3MgcmVuZGVycywgc28ganVzdCBcclxuICogdG9zcyBpdCBpbnRvIGEgYENvbnRleHRgIHNvIHRoZSBjaGlsZHJlbiBjYW4gaGF2ZSBhY2Nlc3MgdG8gaXQuXHJcbiAqIFRoaXMgZnVuY3Rpb24gcmVnaXN0ZXJzIHRoZSBjaGlsZCB3aXRoIHRoZSBwYXJlbnQgYW5kIHByb3ZpZGVzXHJcbiAqIGl0IHdpdGggYW55IHJlcXVlc3RlZCBpbmZvcm1hdGlvbiwgYnV0IGRvZXNuJ3QgZG8gYW55dGhpbmcgZWxzZVxyXG4gKiB1bnRpbCBpdCB1bm1vdW50cyBhbmQgcmV0cmFjdHMgdGhhdCBpbmZvcm1hdGlvbi5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiB1c2VDaGlsZE1hbmFnZXI8SSBleHRlbmRzIE1hbmFnZWRDaGlsZEluZm88YW55Pj4oKTogVXNlQ2hpbGRNYW5hZ2VyUmV0dXJuVHlwZTxJPiB7XHJcbiAgICB0eXBlIEsgPSBJbmZvVG9LZXk8ST5cclxuXHJcbiAgICAvLyBUaGlzIGlzIGJsaW5kbHkgdXBkYXRlZCBhbnkgdGltZSBhIGNoaWxkIG1vdW50cyBvciB1bm1vdW50cyBpdHNlbGYuXHJcbiAgICAvLyBVc2VkIHRvIG1ha2Ugc3VyZSB0aGF0IGFueSB0aW1lIHRoZSBhcnJheSBvZiBtYW5hZ2VkIGNoaWxkcmVuIHVwZGF0ZXMsXHJcbiAgICAvLyB3ZSBhbHNvIHJlLXJlbmRlci5cclxuICAgIGNvbnN0IFtfY2hpbGRVcGRhdGVJbmRleCwgc2V0Q2hpbGRVcGRhdGVJbmRleF0gPSB1c2VTdGF0ZSgwKTtcclxuICAgIGNvbnN0IFt0b3RhbENoaWxkcmVuTW91bnRlZCwgc2V0VG90YWxDaGlsZHJlbk1vdW50ZWQsIGdldFRvdGFsQ2hpbGRyZW5Nb3VudGVkXSA9IHVzZVN0YXRlKDApO1xyXG4gICAgY29uc3QgW3RvdGFsQ2hpbGRyZW5Vbm91bnRlZCwgc2V0VG90YWxDaGlsZHJlblVub3VudGVkLCBfZ2V0VG90YWxDaGlsZHJlblVub3VudGVkXSA9IHVzZVN0YXRlKDApO1xyXG4gICAgY29uc3QgY2hpbGRyZW5DdXJyZW50bHlNb3VudGVkID0gdG90YWxDaGlsZHJlbk1vdW50ZWQgLSB0b3RhbENoaWxkcmVuVW5vdW50ZWQ7XHJcbiAgICBjb25zdCBtYW5hZ2VkQ2hpbGRyZW4gPSB1c2VSZWY8TWFuYWdlZENoaWxkcmVuPEluZm9Ub0tleTxJPiwgST4+KFtdIGFzIGFueSBhcyBNYW5hZ2VkQ2hpbGRyZW48SW5mb1RvS2V5PEk+LCBJPiAvKiogVE9ETzogQW55IHByb2JsZW1zIGNhdXNlZCBieSB1c2luZyBhbiBhcnJheSB3aGVuIGl0IHNob3VsZCBiZSBhbiBvYmplY3Q/ICovKTtcclxuICAgIGNvbnN0IG1vdW50ZWRDaGlsZHJlbiA9IHVzZVJlZjwobnVsbCB8IEkpW10+KFtdKTtcclxuICAgIGNvbnN0IG1vdW50T3JkZXIgPSB1c2VSZWY8TWFwPEssIG51bWJlcj4+KG5ldyBNYXAoKSk7XHJcbiAgICBjb25zdCBpbmRpY2VzQnlFbGVtZW50ID0gdXNlUmVmPE1hcDxFdmVudFRhcmdldCwgSz4+KG5ldyBNYXAoKSk7XHJcbiAgICBjb25zdCBkZWxldGVkSW5kaWNlcyA9IHVzZVJlZjxTZXQ8Sz4+KG5ldyBTZXQ8Sz4oKSk7XHJcblxyXG4gICAgLy8gVXNlZCB0byBrZWVwIHRyYWNrIG9mIGluZGljZXMgdGhhdCBoYXZlIFwib3Zlci1tb3VudGVkXCIgYW5kIGJ5IGhvdyBtdWNoLlxyXG4gICAgLy8gV2UgbmVlZCB0aGlzIHNvIHRoYXQgd2UgZG9uJ3QgZXJhc2Ugc2F2ZWQgaW5mb3JtYXRpb24gd2hlbiBhIGNvbXBvbmVudFxyXG4gICAgLy8gXCJvdmVybW91bnRzXCIgb3ZlciBhbm90aGVyIHdoaWNoIHRoZW4sIGNvcnJlY3RseSwgc3dpdGNoZXMgKml0c2VsZiogdG8gc29tZXRoaW5nIGVsc2UuXHJcbiAgICAvLyBJbiBnZW5lcmFsLCB0aGlzIHNob3VsZCBvbmx5IGhhcHBlbiB3aGVuIGNvbXBvbmVudHMgYXJlIHN3YXBwaW5nIGJldHdlZW4gaW5kaWNlcy5cclxuICAgIC8vIEJ5IHRoZSB0aW1lIHRoZXkncmUgZG9uZSwgdGhpcyBtYXAgc2hvdWxkIGJlIGFsbCAwcyBhZ2FpbiwgYXQgd2hpY2ggcG9pbnRcclxuICAgIC8vIGl0J3Mgb2theSB0byBhY3R1YWxseSBydW4gdGhlIHVubW91bnQgY29kZS5cclxuICAgIC8vIFxyXG4gICAgLy8gVE9ETzogdGhyb3cgYSBjb25zb2xlLmFzc2VydCBzb21ld2hlcmUgdG8gbWFrZSB1cCBmb3IgdGhlIGxvc3QgXHJcbiAgICAvLyBcImFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBvdmVyd3JpdGUgdGhpcyBjaGlsZCdzIGluZGV4IVwiIGFzc2VydGlvbi5cclxuICAgIC8vIE5hbWVseSwgaXMgdGhpcyBtYXAgYWxsIDBzIHdoZW4gdGhlIHBhcmVudCBlbGVtZW50IHJlLXJlbmRlcnM/IFxyXG4gICAgLy8gUHJvYmFibHkgbm90IGJlY2F1c2Ugb2Ygc2V0Q2hpbGRVcGRhdGVJbmRleFxyXG4gICAgY29uc3Qgb3Zlcm1vdW50Q291bnQgPSB1c2VSZWYobmV3IE1hcDxLLCBudW1iZXI+KCkpO1xyXG5cclxuICAgIGNvbnN0IGdldE1vdW50SW5kZXggPSB1c2VDYWxsYmFjaygoaW5kZXg6IEspID0+IHsgcmV0dXJuIG1vdW50T3JkZXIuY3VycmVudC5nZXQoaW5kZXgpITsgfSwgW10pO1xyXG5cclxuICAgIGNvbnN0IHVzZU1hbmFnZWRDaGlsZDogVXNlZE1hbmFnZWRDaGlsZDxJPiA9IHVzZUNhbGxiYWNrKDxDaGlsZFR5cGUgZXh0ZW5kcyBFdmVudFRhcmdldD4oaW5mbzogSSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHsgZ2V0RWxlbWVudCwgdXNlUmVmRWxlbWVudFByb3BzIH0gPSB1c2VSZWZFbGVtZW50PENoaWxkVHlwZT4oeyBvbkVsZW1lbnRDaGFuZ2U6IHVzZUNhbGxiYWNrKChlbGVtZW50OiBDaGlsZFR5cGUgfCBudWxsKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICBpbmRpY2VzQnlFbGVtZW50LmN1cnJlbnQuc2V0KGVsZW1lbnQsIGluZm8uaW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlZEluZGljZXMuY3VycmVudC5kZWxldGUoaW5mby5pbmRleCk7XHJcbiAgICAgICAgICAgICAgICBpZiAobWFuYWdlZENoaWxkcmVuLmN1cnJlbnRbaW5mby5pbmRleCBhcyBrZXlvZiBNYW5hZ2VkQ2hpbGRyZW48SW5mb1RvS2V5PEk+LCBJPl0gIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb3Zlcm1vdW50Q291bnQuY3VycmVudC5zZXQoaW5mby5pbmRleCwgKG92ZXJtb3VudENvdW50LmN1cnJlbnQuZ2V0KGluZm8uaW5kZXgpID8/IDApICsgMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgc2V0Q2hpbGRVcGRhdGVJbmRleChjID0+ICsrYyk7XHJcbiAgICAgICAgICAgICAgICBtYW5hZ2VkQ2hpbGRyZW4uY3VycmVudFtpbmZvLmluZGV4IGFzIGtleW9mIE1hbmFnZWRDaGlsZHJlbjxJbmZvVG9LZXk8ST4sIEk+XSA9IHsgLi4uaW5mbyB9IGFzIGFueTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHNldENoaWxkVXBkYXRlSW5kZXgoYyA9PiArK2MpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgob3Zlcm1vdW50Q291bnQuY3VycmVudC5nZXQoaW5mby5pbmRleCkgPz8gMCkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJtb3VudENvdW50LmN1cnJlbnQuc2V0KGluZm8uaW5kZXgsIChvdmVybW91bnRDb3VudC5jdXJyZW50LmdldChpbmZvLmluZGV4KSA/PyAwKSAtIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG1hbmFnZWRDaGlsZHJlbi5jdXJyZW50W2luZm8uaW5kZXggYXMga2V5b2YgTWFuYWdlZENoaWxkcmVuPEluZm9Ub0tleTxJPiwgST5dO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGVkSW5kaWNlcy5jdXJyZW50LmFkZChpbmZvLmluZGV4KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgaW5mby5pbmRleCA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKG1hbmFnZWRDaGlsZHJlbi5jdXJyZW50Lmxlbmd0aCAmJiAobWFuYWdlZENoaWxkcmVuLmN1cnJlbnQgYXMgSVtdKVsobWFuYWdlZENoaWxkcmVuLmN1cnJlbnQgYXMgSVtdKS5sZW5ndGggLSAxXSA9PT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChtYW5hZ2VkQ2hpbGRyZW4uY3VycmVudCBhcyBJW10pLmxlbmd0aCAtPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGljZXNCeUVsZW1lbnQuY3VycmVudC5kZWxldGUoZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgW10pIH0pO1xyXG5cclxuICAgICAgICB1c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IGdldFRvdGFsQ2hpbGRyZW5Nb3VudGVkKCk7XHJcbiAgICAgICAgICAgIG1vdW50T3JkZXIuY3VycmVudC5zZXQoaW5mby5pbmRleCwgaW5kZXgpO1xyXG4gICAgICAgICAgICBtb3VudGVkQ2hpbGRyZW4uY3VycmVudFtpbmRleF0gPSBpbmZvO1xyXG4gICAgICAgICAgICBzZXRUb3RhbENoaWxkcmVuTW91bnRlZCh0ID0+ICsrdCk7XHJcbiAgICAgICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBtb3VudE9yZGVyLmN1cnJlbnQuZGVsZXRlKGluZm8uaW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgbW91bnRlZENoaWxkcmVuLmN1cnJlbnRbaW5kZXhdID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIHNldFRvdGFsQ2hpbGRyZW5Vbm91bnRlZCh0ID0+ICsrdCk7XHJcblxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0sIFtpbmZvLmluZGV4XSk7XHJcblxyXG4gICAgICAgIC8vIEFueSB0aW1lIG91ciBjaGlsZCBwcm9wcyBjaGFuZ2UsIG1ha2UgdGhhdCBpbmZvcm1hdGlvbiBhdmFpbGFibGUgZ2VuZXJhbGx5LlxyXG4gICAgICAgIC8vICpEb24ndCByZS1yZW5kZXIqLCBvdGhlcndpc2Ugd2UnZCBiZSBzdHVjayBpbiBhblxyXG4gICAgICAgIC8vIGluZmluaXRlIGxvb3AgZXZlcnkgdGltZSBhbiBhbm9ueW1vdXMgZnVuY3Rpb24gaXMgcGFzc2VkLlxyXG4gICAgICAgIC8vIEl0IGNvbWVzIGluIGZyb20gdGhlIHByb3BzIHNvIHRoZSBjaGlsZCB3YXMgYWxyZWFkeSB1cGRhdGVkIGJ5IGl0IC0tXHJcbiAgICAgICAgLy8gd2UgZG9uJ3QgbmVlZCB0aGUgcGFyZW50IHRvIHJlLXJlbmRlciBldmVyeSBzaW5nbGUgY2hpbGQgYW55IHRpbWVcclxuICAgICAgICAvLyBcIm9uQ2xpY2tcIiB1cGRhdGVzIG9yIHdoYXRldmVyLiAgVGhlIHJlbGV2YW50IGNoaWxkIGFscmVhZHkga25vd3MsXHJcbiAgICAgICAgLy8gYW5kIHRoYXQncyB3aGF0IG1hdHRlcnMuXHJcbiAgICAgICAgdXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcclxuICAgICAgICAgICAgaWYgKG1hbmFnZWRDaGlsZHJlbi5jdXJyZW50W2luZm8uaW5kZXggYXMga2V5b2YgTWFuYWdlZENoaWxkcmVuPEluZm9Ub0tleTxJPiwgST5dICE9IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgIG1hbmFnZWRDaGlsZHJlbi5jdXJyZW50W2luZm8uaW5kZXggYXMga2V5b2YgTWFuYWdlZENoaWxkcmVuPEluZm9Ub0tleTxJPiwgST5dID0geyAuLi5pbmZvIH0gYXMgYW55O1xyXG4gICAgICAgIH0sIFsuLi5PYmplY3QuZW50cmllcyhpbmZvKS5mbGF0KCldKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHsgZ2V0RWxlbWVudCwgdXNlTWFuYWdlZENoaWxkUHJvcHM6IHVzZVJlZkVsZW1lbnRQcm9wcyB9XHJcbiAgICB9LCBbXSk7XHJcblxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgdXNlTWFuYWdlZENoaWxkLFxyXG4gICAgICAgIGNoaWxkQ291bnQ6IGNoaWxkcmVuQ3VycmVudGx5TW91bnRlZCxcclxuICAgICAgICBtYW5hZ2VkQ2hpbGRyZW46IG1hbmFnZWRDaGlsZHJlbi5jdXJyZW50LFxyXG4gICAgICAgIG1vdW50ZWRDaGlsZHJlbjogbW91bnRlZENoaWxkcmVuLmN1cnJlbnQsXHJcbiAgICAgICAgaW5kaWNlc0J5RWxlbWVudDogaW5kaWNlc0J5RWxlbWVudC5jdXJyZW50LFxyXG4gICAgICAgIHRvdGFsQ2hpbGRyZW5Nb3VudGVkLFxyXG4gICAgICAgIHRvdGFsQ2hpbGRyZW5Vbm91bnRlZCxcclxuICAgICAgICBnZXRNb3VudEluZGV4LFxyXG4gICAgICAgIGRlbGV0ZWRJbmRpY2VzOiBkZWxldGVkSW5kaWNlcy5jdXJyZW50XHJcbiAgICB9XHJcbn1cclxuXHJcbnR5cGUgVUUgPSA8SSBleHRlbmRzIElucHV0cz4oZWZmZWN0OiAocHJldjogSSwgY2hhbmdlczogRWZmZWN0Q2hhbmdlPEksIG51bWJlcj5bXSkgPT4gKHZvaWQgfCAoKCkgPT4gdm9pZCkpLCBpbnB1dHM6IEkpID0+IHZvaWQ7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFVzZUNoaWxkRmxhZ1BhcmFtZXRlcnM8VCBleHRlbmRzIHN0cmluZyB8IG51bWJlciwgSSBleHRlbmRzIE1hbmFnZWRDaGlsZEluZm88VD4+IHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFdoaWNoIGNoaWxkIGluZGV4IHJlZmVycyB0byB0aGUgY3VycmVudGx5IFwiYWN0aXZlXCIgY2hpbGQuXHJcbiAgICAgKi9cclxuICAgIGFjdGl2YXRlZEluZGV4OiBUIHwgbnVsbCB8IHVuZGVmaW5lZDtcclxuXHJcbiAgICBtYW5hZ2VkQ2hpbGRyZW46IChudWxsIHwgdW5kZWZpbmVkIHwgSSlbXSB8IFJlY29yZDxzdHJpbmcsIG51bGwgfCB1bmRlZmluZWQgfCBJPjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFdoZW4gcHJvdmlkZWQsIGlmIHRoZSBnaXZlbiBhY3RpdmF0ZWRJbmRleCBkb2Vzbid0IG1hcCBvbnRvIGFueVxyXG4gICAgICogcHJvdmlkZWQgY2hpbGQgKGVpdGhlciBiZWNhdXNlIGl0J3MgdG9vIGxhcmdlIG9yIHRoYXQgY2hpbGRcclxuICAgICAqIGRvZXNuJ3QgZXhpc3QpLCB0aGUgY2xvc2VzdCBjaGlsZCB0byB0aGUgZ2l2ZW4gYWN0aXZhdGVkSW5kZXhcclxuICAgICAqIHdpbGwgaGF2ZSBpdHMgZmxhZyBzZXQgaW5zdGVhZC5cclxuICAgICAqIFxyXG4gICAgICogVXNlIHdpdGggY2F1dGlvbiwgYW5kIGNvbnNpZGVyIGhvdyBhIGNoaWxkIGhhdmluZyBpdHMgZmxhZyBzZXRcclxuICAgICAqIHdoaWxlIHRoZSBwYXJlbnQgdGhpbmtzIGl0IHNob3VsZG4ndCBiZSBjb3VsZCBjYXVzZSBpc3N1ZXMuXHJcbiAgICAgKi9cclxuICAgIGNsb3Nlc3RGaXQ/OiBib29sZWFuO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogV2lsbCBiZSBjYWxsZWQgb25jZSB3aGVuIGEgZ2l2ZW4gY2hpbGQgaGFzIGJlY29tZSB0aGUgXCJhY3RpdmVcIiBjaGlsZC5cclxuICAgICAqIEdlbmVyYWxseSwgdGhpcyB3aWxsIGxvb2sgbGlrZSBcclxuICAgICAqIGAoaSwgc2V0KSA9PiBtYW5hZ2VkQ2hpbGRyZW5baV0uc2V0QWN0aXZlKHNldClgIFxyXG4gICAgICogb3Igc2ltaWxhci5cclxuICAgICAqL1xyXG4gICAgc2V0Q2hpbGRGbGFnOiAoaW5kZXg6IFQsIHNldDogYm9vbGVhbikgPT4gdm9pZDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFVzZWQgdG8ga2VlcCB0cmFjayBvZiB3aGV0aGVyIG9yIG5vdCBhIGNoaWxkIG5lZWRzIGl0cyBmbGFnIHNldFxyXG4gICAgICogYm90aCBpbiBnZW5lcmFsIGNhc2VzIGJ1dCBhbHNvIHdoZW4gYSBjaGlsZCB1bm1vdW50cyBhbmQgYSBuZXcgY2hpbGRcclxuICAgICAqIG1vdW50cyBpbiBpdHMgcGxhY2Ugd2l0aCB0aGUgc2FtZSBpbmRleC5cclxuICAgICAqL1xyXG4gICAgZ2V0Q2hpbGRGbGFnOiAoaW5kZXg6IFQpID0+IGJvb2xlYW4gfCBudWxsO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQnkgZGVmYXVsdCwgdGhlIGNoaWxkIGZsYWcgc2V0dGluZyBoYXBwZW5zIGR1cmluZyBgdXNlTGF5b3V0RWZmZWN0YC4gIElmIHlvdVxyXG4gICAgICogd291bGQgcHJlZmVyIGl0IHRvIGhhcHBlbiBkdXJpbmcgYHVzZUVmZmVjdGAsIHBhc3MgdGhhdCBpbXBsZW1lbnRhdGlvbiBpblxyXG4gICAgICogaGVyZS5cclxuICAgICAqL1xyXG4gICAgdXNlRWZmZWN0PzogKDxJIGV4dGVuZHMgSW5wdXRzPihlZmZlY3Q6IChwcmV2OiBJIHwgdW5kZWZpbmVkLCBjaGFuZ2VzOiBFZmZlY3RDaGFuZ2U8SSwgbnVtYmVyPltdKSA9PiAodm9pZCB8ICgoKSA9PiB2b2lkKSksIGlucHV0cz86IEkpID0+IHZvaWQgfCBVRSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBIZWxwZXIgZnVuY3Rpb24gZm9yIGxldHRpbmcgY2hpbGRyZW4ga25vdyB3aGVuIHRoZXkgYXJlIG9yIGFyZSBub3QgdGhlXHJcbiAqIGN1cnJlbnQgc2VsZWN0ZWQvZXhwYW5kZWQvZm9jdXNlZC93aGF0ZXZlciBjaGlsZC5cclxuICogXHJcbiAqIEF1dG9tYXRpY2FsbHkgaGFuZGxlcyB3aGVuIGNoaWxkcmVuIGFyZSBtb3VudGVkICYgdW5tb3VudGVkIGFuZCBzdWNoLlxyXG4gKiBcclxuICogV2hpbGUgaXQgd2lsbCBiZSBjYWxsZWQgb25jZSBmb3IgZXZlcnkgY2hpbGQgb24gbW91bnQsIGFmdGVyIHRoYXQgc2V0RmxhZyBcclxuICogaXMgZ3VhcmFudGVlZCB0byBvbmx5IGJlIGNhbGxlZCBvbmNlIG9uIGFjdGl2YXRpb24gYW5kIG9uY2Ugb24gZGVhY3RpdmF0aW9uLFxyXG4gKiBzbyBpdCdzIGdlbmVyYWxseSBzYWZlIHRvIHB1dCBzaWRlIGVmZmVjdHMgaW5zaWRlIGlmIG5lY2Vzc2FyeS4gIFxyXG4gKiBJdCdzIGFsc28gc2FmZSB0byBtYWtlIGl0IG5vbi1zdGFibGUuXHJcbiAqIFxyXG4gKiBAcGFyYW0gYWN0aXZhdGVkSW5kZXggV2hhdCBpbmRleCB0aGUgY3VycmVudCBzZWxlY3RlZCAoZXRjLikgY2hpbGQgaXNcclxuICogQHBhcmFtIGxlbmd0aCBIb3cgbWFueSBjaGlsZHJlbiBleGlzdCAoYXMgbWFuYWdlZENoaWxkcmVuLmxlbmd0aClcclxuICogQHBhcmFtIHNldEZsYWcgQSBmdW5jdGlvbiB0aGF0IHByb2JhYmx5IGxvb2tzIGxpa2UgKGksIGZsYWcpID0+IG1hbmFnZWRDaGlsZHJlbltpXS5zZXRBY3RpdmUoZmxhZylcclxuICogQHBhcmFtIHVzZUVmZmVjdCBXaGljaCB2ZXJzaW9uIG9mIHVzZUVmZmVjdCB0byB1c2UuIERlZmF1bHQgaXMgYHVzZUxheW91dEVmZmVjdGAuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gdXNlQ2hpbGRGbGFnPFQgZXh0ZW5kcyBzdHJpbmcgfCBudW1iZXIsIEkgZXh0ZW5kcyBNYW5hZ2VkQ2hpbGRJbmZvPFQ+Pih7IGFjdGl2YXRlZEluZGV4LCBjbG9zZXN0Rml0LCBtYW5hZ2VkQ2hpbGRyZW4sIHNldENoaWxkRmxhZywgZ2V0Q2hpbGRGbGFnLCB1c2VFZmZlY3QgfTogVXNlQ2hpbGRGbGFnUGFyYW1ldGVyczxULCBJPikge1xyXG5cclxuICAgIHVzZUVmZmVjdCA/Pz0gdXNlTGF5b3V0RWZmZWN0O1xyXG5cclxuICAgIGlmIChjbG9zZXN0Rml0KVxyXG4gICAgICAgIGNvbnNvbGUuYXNzZXJ0KHR5cGVvZiBhY3RpdmF0ZWRJbmRleCA9PSBcIm51bWJlclwiIHx8IGFjdGl2YXRlZEluZGV4ID09IG51bGwpO1xyXG5cclxuICAgIC8vIFdoZW5ldmVyIHdlIHJlLXJlbmRlciwgbWFrZSBzdXJlIHRoYXQgYW55IGNoaWxkcmVuIHRoYXQgaGF2ZSBtb3VudGVkXHJcbiAgICAvLyBoYXZlIHRoZWlyIGZsYWdzIHByb3Blcmx5IHNldC4gIFdlIGtub3cgaXQncyB1bnNldCBpZiBpdCB3YXMgbnVsbCxcclxuICAgIC8vIGluIHdoaWNoIGNhc2Ugd2UganVzdCBzZXQgaXQgdG8gdHJ1ZSBvciBmYWxzZS5cclxuICAgIC8vXHJcbiAgICAvLyBBbmQsIEkgbWVhbiwgYXMgbG9uZyBhcyB3ZSdyZSBhbHJlYWR5IGl0ZXJhdGluZyB0aHJvdWdoIGV2ZXJ5IGNoaWxkXHJcbiAgICAvLyBvbiBldmVyeSByZW5kZXIgdG8gY2hlY2sgZm9yIG5ld2x5IG1vdW50ZWQgY2hpbGRyZW4sIG1pZ2h0IGFzIHdlbGxcclxuICAgIC8vIGp1c3QgaGFuZGxlIGNoYW5nZWQgaW4gdGhlIGFjdGl2YXRlZEluZGV4IGhlcmUgdG9vLlxyXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcclxuXHJcblxyXG4gICAgICAgIC8vIFRPRE86IFdlIGhhdmUgbGltaXRlZCBpbmZvcm1hdGlvbiBhYm91dCB3aGVuIGEgY2hpbGQgbW91bnRzIG9yIHVubW91bnRzXHJcbiAgICAgICAgLy8gYW5kIHNvIHdlIGRvbid0IGtub3cgd2hlcmUgdG8gbG9vayBmb3IgYW55IG51bGwgZW50cmllcyB0aGF0IG5lZWQgY2hhbmdpbmcuXHJcbiAgICAgICAgLy8gV2Uga25vdyB3aGVuIGFjdGl2YXRlZEluZGV4IGNoYW5nZXMgYW5kIHdoYXQgaXQgd2FzLCBidXQgbm90IG11Y2ggZWxzZS5cclxuICAgICAgICAvLyBMb29waW5nIG92ZXIgZXZlcnkgY2hpbGQgKndvcmtzKiwgYW5kIGl0J3Mgbm90IGFuIGV4cGVuc2l2ZSBsb29wIGJ5IGFueSBtZWFucyxcclxuICAgICAgICAvLyBidXQsIGxpa2UsIGV1Z2guXHJcblxyXG5cclxuICAgICAgICAvLyBBbHNvLCBiZWZvcmUgd2UgZG8gYW55dGhpbmcsIHNlZSBpZiB3ZSBuZWVkIHRvIFwiY29ycmVjdFwiIGFjdGl2YXRlZEluZGV4LlxyXG4gICAgICAgIC8vIEl0IGNvdWxkIGJlIHBvaW50aW5nIHRvIGEgY2hpbGQgdGhhdCBkb2Vzbid0IGV4aXN0LCBhbmQgaWYgY2xvc2VzdEZpdCBpcyBnaXZlbixcclxuICAgICAgICAvLyB3ZSBuZWVkIHRvIGFkanVzdCBhY3RpdmF0ZWRJbmRleCB0byBwb2ludCB0byBhIHZhbGlkIGNoaWxkLlxyXG4gICAgICAgIGlmICh0eXBlb2YgYWN0aXZhdGVkSW5kZXggPT0gXCJudW1iZXJcIiAmJiBBcnJheS5pc0FycmF5KG1hbmFnZWRDaGlsZHJlbikgJiYgbWFuYWdlZENoaWxkcmVuW2FjdGl2YXRlZEluZGV4XSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIC8vIE9oIGRlYXIuIEFyZSB3ZSBhY3RpdmVseSBjb3JyZWN0aW5nIHRoaXM/XHJcbiAgICAgICAgICAgIGlmIChjbG9zZXN0Rml0KSB7XHJcbiAgICAgICAgICAgICAgICAvLyBPaCBkZWFyLlxyXG4gICAgICAgICAgICAgICAgLy8gU2VhcmNoIHVwIGFuZCBkb3duIHRoZSBsaXN0IG9mIGNoaWxkcmVuIGZvciBhbnkgdGhhdCBhY3R1YWxseSBleGlzdC5cclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgc2VhcmNoSGlnaCA9IGFjdGl2YXRlZEluZGV4ICsgMTtcclxuICAgICAgICAgICAgICAgIGxldCBzZWFyY2hMb3cgPSBhY3RpdmF0ZWRJbmRleCAtIDE7XHJcblxyXG4gICAgICAgICAgICAgICAgd2hpbGUgKChzZWFyY2hMb3cgPj0gMCAmJiBtYW5hZ2VkQ2hpbGRyZW5bc2VhcmNoTG93XSA9PSBudWxsKSB8fCAoc2VhcmNoSGlnaCA8IG1hbmFnZWRDaGlsZHJlbi5sZW5ndGggJiYgbWFuYWdlZENoaWxkcmVuW3NlYXJjaEhpZ2hdID09IG51bGwpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgKytzZWFyY2hIaWdoO1xyXG4gICAgICAgICAgICAgICAgICAgIC0tc2VhcmNoTG93O1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChzZWFyY2hMb3cgPj0gMCAmJiBtYW5hZ2VkQ2hpbGRyZW5bc2VhcmNoTG93XSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgKGFjdGl2YXRlZEluZGV4IGFzIG51bWJlcikgPSBzZWFyY2hMb3c7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChzZWFyY2hIaWdoIDwgbWFuYWdlZENoaWxkcmVuLmxlbmd0aCAmJiBtYW5hZ2VkQ2hpbGRyZW5bc2VhcmNoSGlnaF0gIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIChhY3RpdmF0ZWRJbmRleCBhcyBudW1iZXIpID0gc2VhcmNoSGlnaDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBOb3cgdGhhdCB3ZSd2ZSBkb25lIHRoYXQsIGlmIGFueSB2YWxpZCBjaGlsZHJlbiBleGlzdCwgd2UndmUgcmVzZXQgYWN0aXZhdGVkSW5kZXggdG8gcG9pbnQgdG8gaXQgaW5zdGVhZC5cclxuICAgICAgICAgICAgICAgIC8vIE5vdyB3ZSdsbCBmYWxsIHRocm91Z2ggdG8gdGhlIGZvciBsb29wIHNldCBhbmQgdW5zZXQgb3VyIGZsYWdzIGJhc2VkIG9uIHRoaXMgXCJjb3JyZWN0ZWRcIiB2YWx1ZS5cclxuICAgICAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgICAgICAvLyBXZSBkb24ndCBjb3JyZWN0IGl0IG9yIHNhdmUgaXQgYW55d2hlcmUgYmVjYXVzZSB3ZSdkIHZlcnkgbXVjaCBsaWtlIHRvIHJldHVybiB0byBpdFxyXG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlIGNoaWxkIHJlbW91bnRzIGl0c2VsZi5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkobWFuYWdlZENoaWxkcmVuKSl7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYW5hZ2VkQ2hpbGRyZW4ubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgY29uc3Qgc2hvdWxkQmVTZXQgPSAoaSA9PSBhY3RpdmF0ZWRJbmRleCk7XHJcbiAgICAgICAgICAgIGlmIChnZXRDaGlsZEZsYWcoaSBhcyBUKSAhPSBzaG91bGRCZVNldCkge1xyXG4gICAgICAgICAgICAgICAgc2V0Q2hpbGRGbGFnKGkgYXMgVCwgc2hvdWxkQmVTZXQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfX1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgT2JqZWN0LmVudHJpZXMobWFuYWdlZENoaWxkcmVuKS5mb3JFYWNoKChbaSwgX2luZm9dKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzaG91bGRCZVNldCA9IChpID09IGFjdGl2YXRlZEluZGV4KTtcclxuICAgICAgICAgICAgICAgIGlmIChnZXRDaGlsZEZsYWcoaSBhcyBUKSAhPSBzaG91bGRCZVNldCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNldENoaWxkRmxhZyhpIGFzIFQsIHNob3VsZEJlU2V0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbn1cclxuXHJcbiIsImltcG9ydCB7IHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tIFwicHJlYWN0L2hvb2tzXCI7XHJcblxyXG4vKipcclxuICogUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgd2lsbCwgd2hlbiBjYWxsZWQsIGZvcmNlIHRoZSBjb21wb25lbnRcclxuICogdGhhdCB1c2VzIHRoaXMgaG9vayB0byByZS1yZW5kZXIgaXRzZWxmLlxyXG4gKiBcclxuICogSXQncyBhIGJpdCBzbWVsbHksIHNvIGJlc3QgdG8gdXNlIHNwYXJpbmdseS5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiB1c2VGb3JjZVVwZGF0ZSgpIHtcclxuICAgIGNvbnN0IFssIHNldF0gPSB1c2VTdGF0ZSgwKTtcclxuICAgIHJldHVybiB1c2VSZWYoKCkgPT4gc2V0KGkgPT4gKytpKSkuY3VycmVudDtcclxufSIsImltcG9ydCB7IGggfSBmcm9tIFwicHJlYWN0XCI7XHJcbmltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QgfSBmcm9tIFwicHJlYWN0L2hvb2tzXCI7XHJcbmltcG9ydCB7IE1hbmFnZWRDaGlsZEluZm8sIHVzZUNoaWxkRmxhZywgdXNlQ2hpbGRNYW5hZ2VyLCBVc2VDaGlsZE1hbmFnZXJSZXR1cm5UeXBlIH0gZnJvbSBcIi4vdXNlLWNoaWxkLW1hbmFnZXJcIjtcclxuaW1wb3J0IHsgTWVyZ2VkUHJvcHMsIHVzZU1lcmdlZFByb3BzIH0gZnJvbSBcIi4vdXNlLW1lcmdlZC1wcm9wc1wiO1xyXG5pbXBvcnQgeyBVc2VSZWZFbGVtZW50UHJvcHNSZXR1cm5UeXBlIH0gZnJvbSBcIi4vdXNlLXJlZi1lbGVtZW50XCI7XHJcbmltcG9ydCB7IHVzZVN0YWJsZUdldHRlciB9IGZyb20gXCIuL3VzZS1zdGFibGUtZ2V0dGVyXCI7XHJcbmltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSBcIi4vdXNlLXN0YXRlXCI7XHJcblxyXG5leHBvcnQgdHlwZSBPbWl0U3Ryb25nPFQsIEsgZXh0ZW5kcyBrZXlvZiBUPiA9IFBpY2s8VCwgRXhjbHVkZTxrZXlvZiBULCBLPj47XHJcblxyXG5cclxuXHJcbi8qKiBSZXR1cm4gdHlwZSBvZiBgdXNlUm92aW5nVGFiSW5kZXhgICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgVXNlUm92aW5nVGFiSW5kZXhSZXR1cm5UeXBlPEkgZXh0ZW5kcyBVc2VSb3ZpbmdUYWJJbmRleENoaWxkSW5mbz4gZXh0ZW5kcyBPbWl0U3Ryb25nPFVzZUNoaWxkTWFuYWdlclJldHVyblR5cGU8ST4sIFwidXNlTWFuYWdlZENoaWxkXCI+IHtcclxuICAgIHVzZVJvdmluZ1RhYkluZGV4Q2hpbGQ6IFVzZVJvdmluZ1RhYkluZGV4Q2hpbGQ8ST47XHJcbiAgICBjaGlsZENvdW50OiBudW1iZXI7XHJcblxyXG4gICAgLy8gRm9jdXNlcyB3aGF0ZXZlciBpcyB0aGUgY3VycmVudGx5IHRhYmJhYmxlIGVsZW1lbnRcclxuICAgIGZvY3VzQ3VycmVudDogbnVsbCB8ICgoKSA9PiB2b2lkKTtcclxufVxyXG5cclxuLyoqIFJldHVybiB0eXBlIG9mIGB1c2VSb3ZpbmdUYWJJbmRleENoaWxkYCAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFVzZVJvdmluZ1RhYkluZGV4Q2hpbGRSZXR1cm5UeXBlPENoaWxkRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+IHtcclxuICAgIHVzZVJvdmluZ1RhYkluZGV4Q2hpbGRQcm9wczogVXNlUm92aW5nVGFiSW5kZXhDaGlsZFByb3BzPENoaWxkRWxlbWVudD47XHJcbiAgICB1c2VSb3ZpbmdUYWJJbmRleFNpYmxpbmdQcm9wczogVXNlUm92aW5nVGFiSW5kZXhTaWJsaW5nUHJvcHM8Q2hpbGRFbGVtZW50PjtcclxuICAgIHRhYmJhYmxlOiBib29sZWFuIHwgbnVsbDtcclxufVxyXG5cclxuXHJcblxyXG4vKiogQXJndW1lbnRzIHBhc3NlZCB0byB0aGUgcGFyZW50IGB1c2VSb3ZpbmdUYWJJbmRleGAgKi9cclxuZXhwb3J0IGludGVyZmFjZSBVc2VSb3ZpbmdUYWJJbmRleFBhcmFtZXRlcnMge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogYG51bGxgIGlzIHNwZWNpYWwtdXNlIG9ubHkgdG8gaW5kaWNhdGUgdGhhdCB0aGUgZW50aXJlIGNvbXBvbmVudCBpcyBkaXNhYmxlZCBhbmQgbm90IHRhYmJhYmxlLlxyXG4gICAgICovXHJcbiAgICB0YWJiYWJsZUluZGV4OiBudW1iZXIgfCBudWxsO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogV2hlbmV2ZXIgdGhlIGN1cnJlbnRseSB0YWJiYWJsZSBjaGlsZCBjaGFuZ2VzLCBhIGRlY2lzaW9uIG5lZWRzIHRvIGJlIG1hZGVcclxuICAgICAqIGFib3V0IHdoZXRoZXIgdGhlIGtleWJvYXJkIGZvY3VzIHNob3VsZCBmb2xsb3cgdGhhdCBjaGFuZ2UgYmVjYXVzZSB0aGVcclxuICAgICAqIHVzZXIgcHJlc3NlZCBEb3duIGluIGEgdmVydGljYWwgbGlzdCwgb3IgYWx0ZXJuYXRpdmVseSBpZiBpdCB3YXMganVzdFxyXG4gICAgICogc29tZXRoaW5nIGNvbXBsZXRlbHkgdW5yZWxhdGVkIG9uIHRoZSBvdGhlciBzaWRlIG9mIHRoZSBwYWdlIHdoZXJlIHdlIFdPVUxETidUXHJcbiAgICAgKiB3YW50IHRvIHlhbmsga2V5Ym9hcmQgZm9jdXMgYWxsIHRoZSB3YXkgYmFjayB0aGVyZS5cclxuICAgICAqIFxyXG4gICAgICogSW4gZ2VuZXJhbCwgdGhpcyBzaG91bGQganVzdCBiZSBob29rZWQgdXAgdG8gYSBwYXJlbnQncyBcImdldEZvY3VzZWRJbm5lclwiXHJcbiAgICAgKiBmdW5jdGlvbiwgc28gdGhhdCB3ZSBvbmx5IGZvY3VzIG9uIGNoYW5nZSB3aGVuIHRoZSBjb21wb25lbnQgYXMgYSB3aG9sZVxyXG4gICAgICogaGFzIGZvY3VzIHNvbWV3aGVyZSBpbnNpZGUsIGJ1dCB5b3UgY2FuIHdpZGVuL25hcnJvdyB0aGF0IGlmIG5lZWRlZC5cclxuICAgICAqL1xyXG4gICAgc2hvdWxkRm9jdXNPbkNoYW5nZSgpOiBib29sZWFuO1xyXG59XHJcblxyXG5leHBvcnQgdHlwZSBVc2VSb3ZpbmdUYWJJbmRleENoaWxkUGFyYW1ldGVyczxJIGV4dGVuZHMgVXNlUm92aW5nVGFiSW5kZXhDaGlsZEluZm8+ID0gT21pdFN0cm9uZzxJLCBcInNldFRhYmJhYmxlXCIgfCBcImdldFRhYmJhYmxlXCIgfCBcInJlcmVuZGVyQW5kRm9jdXNcIj47XHJcblxyXG4vKiogQXJndW1lbnRzIHBhc3NlZCB0byB0aGUgY2hpbGQgJ3VzZVJvdmluZ1RhYkluZGV4Q2hpbGRgICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgVXNlUm92aW5nVGFiSW5kZXhDaGlsZEluZm8gZXh0ZW5kcyBNYW5hZ2VkQ2hpbGRJbmZvPG51bWJlcj4ge1xyXG4gICAgc2V0VGFiYmFibGUodGFiYmFibGU6IGJvb2xlYW4pOiB2b2lkO1xyXG4gICAgZ2V0VGFiYmFibGUoKTogYm9vbGVhbiB8IG51bGw7XHJcbiAgICByZXJlbmRlckFuZEZvY3VzKCk6IHZvaWQ7XHJcbn1cclxuXHJcblxyXG5cclxuLy9leHBvcnQgdHlwZSBVc2VSb3ZpbmdUYWJJbmRleENoaWxkUGFyYW1ldGVyczxJIGV4dGVuZHMgUm92aW5nVGFiSW5kZXhDaGlsZEluZm8+ID0gT21pdFN0cm9uZzxJLCBcInNldFRhYmJhYmxlXCIgfCBcImdldFRhYmJhYmxlXCIgfCBcInJlcmVuZGVyQW5kRm9jdXNcIj47XHJcblxyXG4vKiogVHlwZSBvZiB0aGUgY2hpbGQncyBzdWItaG9vayAqL1xyXG5leHBvcnQgdHlwZSBVc2VSb3ZpbmdUYWJJbmRleENoaWxkPEkgZXh0ZW5kcyBVc2VSb3ZpbmdUYWJJbmRleENoaWxkSW5mbz4gPSA8Q2hpbGRFbGVtZW50IGV4dGVuZHMgRWxlbWVudD4ocHJvcHM6IEkpID0+IFVzZVJvdmluZ1RhYkluZGV4Q2hpbGRSZXR1cm5UeXBlPENoaWxkRWxlbWVudD47XHJcblxyXG5leHBvcnQgdHlwZSBVc2VSb3ZpbmdUYWJJbmRleENoaWxkUHJvcHNQYXJhbWV0ZXJzPENoaWxkRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+ID0gaC5KU1guSFRNTEF0dHJpYnV0ZXM8Q2hpbGRFbGVtZW50PjtcclxuZXhwb3J0IHR5cGUgVXNlUm92aW5nVGFiSW5kZXhTaWJsaW5nUHJvcHNQYXJhbWV0ZXJzPENoaWxkRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+ID0gaC5KU1guSFRNTEF0dHJpYnV0ZXM8Q2hpbGRFbGVtZW50PjtcclxuXHJcbi8qKiBSZXR1cm4gdHlwZSBvZiB0aGUgY2hpbGQgYHVzZVJvdmluZ1RhYkluZGV4Q2hpbGRQcm9wc2AgKi9cclxuZXhwb3J0IHR5cGUgVXNlUm92aW5nVGFiSW5kZXhDaGlsZFByb3BzUmV0dXJuVHlwZTxDaGlsZEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBQIGV4dGVuZHMgaC5KU1guSFRNTEF0dHJpYnV0ZXM8Q2hpbGRFbGVtZW50Pj4gPSBNZXJnZWRQcm9wczxDaGlsZEVsZW1lbnQsIFVzZVJlZkVsZW1lbnRQcm9wc1JldHVyblR5cGU8Q2hpbGRFbGVtZW50LCB7IHRhYkluZGV4OiBudW1iZXI7IH0+LCBPbWl0U3Ryb25nPFAsIFwidGFiSW5kZXhcIj4+O1xyXG5leHBvcnQgdHlwZSBVc2VSb3ZpbmdUYWJJbmRleFNpYmxpbmdQcm9wc1JldHVyblR5cGU8Q2hpbGRFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgUCBleHRlbmRzIGguSlNYLkhUTUxBdHRyaWJ1dGVzPENoaWxkRWxlbWVudD4+ID0gUDsgLy9NZXJnZWRQcm9wczxDaGlsZEVsZW1lbnQsIHsgdGFiSW5kZXg6IG51bWJlcjsgfSwgT21pdFN0cm9uZzxQLCBcInRhYkluZGV4XCI+PjtcclxuXHJcbmV4cG9ydCB0eXBlIFVzZVJvdmluZ1RhYkluZGV4Q2hpbGRQcm9wczxDaGlsZEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50PiA9IDxQIGV4dGVuZHMgVXNlUm92aW5nVGFiSW5kZXhDaGlsZFByb3BzUGFyYW1ldGVyczxDaGlsZEVsZW1lbnQ+Pihwcm9wczogUCkgPT4gVXNlUm92aW5nVGFiSW5kZXhDaGlsZFByb3BzUmV0dXJuVHlwZTxDaGlsZEVsZW1lbnQsIFA+XHJcbmV4cG9ydCB0eXBlIFVzZVJvdmluZ1RhYkluZGV4U2libGluZ1Byb3BzPENoaWxkRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+ID0gPFAgZXh0ZW5kcyBVc2VSb3ZpbmdUYWJJbmRleFNpYmxpbmdQcm9wc1BhcmFtZXRlcnM8Q2hpbGRFbGVtZW50Pj4ocHJvcHM6IFApID0+IFVzZVJvdmluZ1RhYkluZGV4U2libGluZ1Byb3BzUmV0dXJuVHlwZTxDaGlsZEVsZW1lbnQsIFA+XHJcblxyXG4vKipcclxuICogSW1wbGVtZW50cyBhIHJvdmluZyB0YWJpbmRleCBzeXN0ZW0gd2hlcmUgb25seSBvbmUgXCJmb2N1c2FibGVcIlxyXG4gKiBjb21wb25lbnQgaW4gYSBzZXQgaXMgYWJsZSB0byByZWNlaXZlIGEgdGFiIGZvY3VzLiAqV2hpY2gqXHJcbiAqIG9mIHRob3NlIGVsZW1lbnRzIHJlY2VpdmVzIGZvY3VzIGlzIGRldGVybWluZWQgYnkgeW91LCBidXQgaXQnc1xyXG4gKiByZWNvbW1lbmRlZCB0byBvZmZsb2FkIHRoYXQgbG9naWMgdGhlbiB0byBhbm90aGVyIGhvb2ssIGxpa2VcclxuICogYHVzZUxpbmVhck5hdmlnYXRpb25gLCB3aGljaCBsZXRzIHlvdSBjaGFuZ2UgdGhlIHRhYmJhYmxlXHJcbiAqIGVsZW1lbnQgd2l0aCB0aGUgYXJyb3cga2V5cywgYHVzZVR5cGVhaGVhZE5hdmlnYXRpb25gLCB3aGljaFxyXG4gKiBsZXRzIHlvdSBjaGFuZ2UgdGhlIHRhYmJhYmxlIGluZGV4IHdpdGggdHlwZWFoZWFkLCBvclxyXG4gKiBgdXNlTGlzdE5hdmlnYXRpb25gIGlmIHlvdSBqdXN0IHdhbnQgZXZlcnl0aGluZyBidW5kbGVkIHRvZ2V0aGVyLlxyXG4gKiBcclxuICogTm90ZSB0aGF0IHRoZSBjaGlsZCBob29rIHJldHVybmVkIGJ5IHRoaXMgZnVuY3Rpb24gbXVzdCBiZSB1c2VkXHJcbiAqIGJ5IGV2ZXJ5IGNoaWxkIHRoYXQgdXNlcyB0aGlzIHJvdmluZyB0YWJpbmRleCBsb2dpYy4gIFRoZVxyXG4gKiBwcm9wLW1vZGlmeWluZyBob29rICp0aGF0KiBob29rIHJldHVybnMgc2hvdWxkIHRoZW4gYmUgdXNlZFxyXG4gKiBvbiB0aGUgY2hpbGQncyBlbGVtZW50LCBhcyB3ZWxsIGFzIGFueSBvdGhlciBlbGVtZW50cyB5b3UnZCBsaWtlXHJcbiAqIHRvIGJlIGV4cGxpY2l0bHkgbWFkZSB1bnRhYmJhYmxlIHRvby5cclxuICogXHJcbiAqIGBzaG91bGRGb2N1c09uQ2hhbmdlYCBzaG91bGQgcmV0dXJuIHRydWUgaWYgZm9jdXMgaXMgXHJcbiAqIGNvbnRhaW5lZCB3aXRoaW4gd2hhdGV2ZXIgZWxlbWVudCBjb250YWlucyB0aGUgcm92aW5nIHRhYiBpbmRleC5cclxuICogR2VuZXJhbGx5IGFzIHNpbXBsZSBhcyB0aGUgZm9sbG93aW5nOlxyXG4gKiBgYGBcclxuICogY29uc3QgW2ZvY3VzZWRJbm5lciwgc2V0Rm9jdXNlZElubmVyXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICogY29uc3QgeyB1c2VIYXNGb2N1c1Byb3BzIH0gPSB1c2VIYXNGb2N1czxQYXJlbnRFbGVtZW50Pih7IHNldEZvY3VzZWRJbm5lciB9KTtcclxuICogY29uc3QgZm9jdXNPbkNoYW5nZSA9IChmb2N1c2VkSW5uZXIgIT0gZmFsc2UpO1xyXG4gKiBgYGBcclxuICogSXQncyBub3QgaW5jbHVkZWQgaGVyZSBiZWNhdXNlIGB1c2VSb3ZpbmdUYWJJbmRleGAgZG9lc24ndCBrbm93IFxyXG4gKiBhbnl0aGluZyBhYm91dCB0aGUgY29udGFpbmVyIGVsZW1lbnQsIG9ubHkgY2hpbGRyZW4gZWxlbWVudHMuXHJcbiAqIEFuZCBqdXN0IGFzIHdlbGwhIENoaWxkcmVuIHNob3VsZCBiZSBhbGxvd2VkIGF0IHRoZSByb290LCBcclxuICogcmVnYXJkbGVzcyBvZiBpZiBpdCdzIHRoZSB3aG9sZSBhcHAgb3IganVzdCBhIGdpdmVuIGNvbXBvbmVudC5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiB1c2VSb3ZpbmdUYWJJbmRleDxJIGV4dGVuZHMgVXNlUm92aW5nVGFiSW5kZXhDaGlsZEluZm8+KHsgc2hvdWxkRm9jdXNPbkNoYW5nZTogZm9jLCB0YWJiYWJsZUluZGV4IH06IFVzZVJvdmluZ1RhYkluZGV4UGFyYW1ldGVycyk6IFVzZVJvdmluZ1RhYkluZGV4UmV0dXJuVHlwZTxJPiB7XHJcblxyXG4gICAgY29uc3QgZ2V0U2hvdWxkRm9jdXNPbkNoYW5nZSA9IHVzZVN0YWJsZUdldHRlcihmb2MpO1xyXG5cclxuICAgIGNvbnN0IGdldFRhYmJhYmxlSW5kZXggPSB1c2VTdGFibGVHZXR0ZXIodGFiYmFibGVJbmRleCk7XHJcblxyXG4gICAgLy8gQ2FsbCB0aGUgaG9vayB0aGF0IGFsbG93cyB1cyB0byBjb2xsZWN0IGluZm9ybWF0aW9uIGZyb20gY2hpbGRyZW4gd2hvIHByb3ZpZGUgaXRcclxuICAgIGNvbnN0IHsgbWFuYWdlZENoaWxkcmVuLCBjaGlsZENvdW50LCB1c2VNYW5hZ2VkQ2hpbGQsIGluZGljZXNCeUVsZW1lbnQsIC4uLnJlc3QgfSA9IHVzZUNoaWxkTWFuYWdlcjxJPigpO1xyXG5cclxuICAgIC8vIEFueSB0aW1lIHRoZSB0YWJiYWJsZSBpbmRleCBjaGFuZ2VzLFxyXG4gICAgLy8gbm90aWZ5IHRoZSBwcmV2aW91cyBjaGlsZCB0aGF0IGl0J3Mgbm8gbG9uZ2VyIHRhYmJhYmxlLFxyXG4gICAgLy8gYW5kIG5vdGlmeSB0aGUgbmV4dCBjaGlsZCB0aGF0IGlzIGFsbG93ZWQgdG8gYmUgdGFiYmVkIHRvLlxyXG4gICAgdXNlQ2hpbGRGbGFnKHtcclxuICAgICAgICBhY3RpdmF0ZWRJbmRleDogdGFiYmFibGVJbmRleCxcclxuICAgICAgICBtYW5hZ2VkQ2hpbGRyZW4sXHJcbiAgICAgICAgY2xvc2VzdEZpdDogdHJ1ZSxcclxuICAgICAgICBzZXRDaGlsZEZsYWc6IChpbmRleCwgdGFiYmFibGUpID0+IHtcclxuICAgICAgICAgICAgaWYgKGluZGV4ICE9IG51bGwpXHJcbiAgICAgICAgICAgICAgICAobWFuYWdlZENoaWxkcmVuW2luZGV4IGFzIGtleW9mIHR5cGVvZiBtYW5hZ2VkQ2hpbGRyZW5dIGFzIEkpPy5zZXRUYWJiYWJsZSh0YWJiYWJsZSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBnZXRDaGlsZEZsYWc6IChpbmRleCkgPT4gKG1hbmFnZWRDaGlsZHJlbltpbmRleF0/LmdldFRhYmJhYmxlKCkgPz8gbnVsbClcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IHVzZVJvdmluZ1RhYkluZGV4Q2hpbGQgPSB1c2VDYWxsYmFjazxVc2VSb3ZpbmdUYWJJbmRleENoaWxkPEk+Pig8Q2hpbGRFbGVtZW50IGV4dGVuZHMgRWxlbWVudD4oaW5mbzogVXNlUm92aW5nVGFiSW5kZXhDaGlsZFBhcmFtZXRlcnM8ST4pOiBVc2VSb3ZpbmdUYWJJbmRleENoaWxkUmV0dXJuVHlwZTxDaGlsZEVsZW1lbnQ+ID0+IHtcclxuXHJcbiAgICAgICAgY29uc3QgW3JyYWZJbmRleCwgc2V0UnJhZkluZGV4XSA9IHVzZVN0YXRlKDEpO1xyXG4gICAgICAgIGNvbnN0IHJlcmVuZGVyQW5kRm9jdXMgPSB1c2VDYWxsYmFjaygoKSA9PiB7IHNldFJyYWZJbmRleChpID0+ICsraSkgfSwgW10pO1xyXG4gICAgICAgIGNvbnN0IFt0YWJiYWJsZSwgc2V0VGFiYmFibGUsIGdldFRhYmJhYmxlXSA9IHVzZVN0YXRlPGJvb2xlYW4gfCBudWxsPihudWxsKTtcclxuXHJcblxyXG4gICAgICAgIGNvbnN0IG5ld0luZm8gPSB7XHJcbiAgICAgICAgICAgIC4uLmluZm8sXHJcbiAgICAgICAgICAgIHJlcmVuZGVyQW5kRm9jdXMsXHJcbiAgICAgICAgICAgIHNldFRhYmJhYmxlOiB1c2VDYWxsYmFjaygodGFiYmFibGU6IGJvb2xlYW4pID0+IHsgc2V0VGFiYmFibGUodGFiYmFibGUpOyB9LCBbXSksXHJcbiAgICAgICAgICAgIGdldFRhYmJhYmxlXHJcbiAgICAgICAgfSBhcyBhbnkgYXMgSTtcclxuXHJcbiAgICAgICAgY29uc3QgeyBnZXRFbGVtZW50LCB1c2VNYW5hZ2VkQ2hpbGRQcm9wcyB9ID0gdXNlTWFuYWdlZENoaWxkPENoaWxkRWxlbWVudD4obmV3SW5mbyk7XHJcblxyXG4gICAgICAgIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBnZXRFbGVtZW50KCk7XHJcbiAgICAgICAgICAgIGlmICh0YWJiYWJsZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2hvdWxkRm9jdXNPbkNoYW5nZSA9IGdldFNob3VsZEZvY3VzT25DaGFuZ2UoKSgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNob3VsZEZvY3VzT25DaGFuZ2UgJiYgXCJmb2N1c1wiIGluIChlbGVtZW50IGFzIEVsZW1lbnQgYXMgKEVsZW1lbnQgJiBIVE1MT3JTVkdFbGVtZW50KSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBxdWV1ZU1pY3JvdGFzaygoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZWxlbWVudCBhcyBFbGVtZW50IGFzIChFbGVtZW50ICYgSFRNTE9yU1ZHRWxlbWVudCkpLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgW3RhYmJhYmxlLCBycmFmSW5kZXhdKTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gdXNlUm92aW5nVGFiSW5kZXhTaWJsaW5nUHJvcHM8UCBleHRlbmRzIFVzZVJvdmluZ1RhYkluZGV4U2libGluZ1Byb3BzUGFyYW1ldGVyczxhbnk+Pih7IHRhYkluZGV4LCAuLi5wcm9wcyB9OiBQKTogVXNlUm92aW5nVGFiSW5kZXhTaWJsaW5nUHJvcHNSZXR1cm5UeXBlPGFueSwgUD4ge1xyXG5cclxuICAgICAgICAgICAgaWYgKHRhYkluZGV4ID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0YWJiYWJsZSlcclxuICAgICAgICAgICAgICAgICAgICB0YWJJbmRleCA9IDA7XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgdGFiSW5kZXggPSAtMTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHVzZU1lcmdlZFByb3BzPEVsZW1lbnQ+KCkoeyB0YWJJbmRleCB9LCBwcm9wcykgYXMgUDtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBmdW5jdGlvbiB1c2VSb3ZpbmdUYWJJbmRleENoaWxkUHJvcHM8UCBleHRlbmRzIFVzZVJvdmluZ1RhYkluZGV4Q2hpbGRQcm9wc1BhcmFtZXRlcnM8Q2hpbGRFbGVtZW50Pj4oeyB0YWJJbmRleCwgLi4ucHJvcHMgfTogUCk6IFVzZVJvdmluZ1RhYkluZGV4Q2hpbGRQcm9wc1JldHVyblR5cGU8Q2hpbGRFbGVtZW50LCBQPiB7XHJcblxyXG5cclxuICAgICAgICAgICAgaWYgKHRhYkluZGV4ID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0YWJiYWJsZSlcclxuICAgICAgICAgICAgICAgICAgICB0YWJJbmRleCA9IDA7XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgdGFiSW5kZXggPSAtMTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHVzZU1lcmdlZFByb3BzPENoaWxkRWxlbWVudD4oKSh1c2VNYW5hZ2VkQ2hpbGRQcm9wcyh7IHRhYkluZGV4IH0pLCBwcm9wcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB1c2VSb3ZpbmdUYWJJbmRleENoaWxkUHJvcHMsXHJcbiAgICAgICAgICAgIHVzZVJvdmluZ1RhYkluZGV4U2libGluZ1Byb3BzLFxyXG4gICAgICAgICAgICB0YWJiYWJsZVxyXG4gICAgICAgIH1cclxuICAgIH0sIFt1c2VNYW5hZ2VkQ2hpbGRdKTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHVzZVJvdmluZ1RhYkluZGV4Q2hpbGQsXHJcbiAgICAgICAgY2hpbGRDb3VudCxcclxuICAgICAgICBtYW5hZ2VkQ2hpbGRyZW4sXHJcbiAgICAgICAgaW5kaWNlc0J5RWxlbWVudCxcclxuICAgICAgICBmb2N1c0N1cnJlbnQ6IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgICAgICAgICAgaWYgKG1hbmFnZWRDaGlsZHJlbltnZXRUYWJiYWJsZUluZGV4KCkgPz8gMF0uZ2V0VGFiYmFibGUoKSkge1xyXG4gICAgICAgICAgICAgICAgbWFuYWdlZENoaWxkcmVuW2dldFRhYmJhYmxlSW5kZXgoKSA/PyAwXT8ucmVyZW5kZXJBbmRGb2N1cygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gRm9yIHdoYXRldmVyIHJlYXNvbiwgdGhlIHByZXZpb3VzbHkgdGFiYmFibGUgY2hpbGRcclxuICAgICAgICAgICAgICAgIC8vIGlzIG5vIGxvbmdlciB0YWJiYWJsZSB3aXRob3V0IHVzIGtub3dpbmcgYWJvdXQgaXQuXHJcbiAgICAgICAgICAgICAgICAvLyBNYXliZSBpdCB1bm1vdW50ZWQ/XHJcbiAgICAgICAgICAgICAgICAvLyBFaXRoZXIgd2F5LCB0cnkgdG8gZmluZCB0aGUgbmV3bHktc2VsZWN0ZWQgY2hpbGQuXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gKEkgZG9uJ3QgdGhpbmsgdGhpcyBjb2RlIHBhdGggaGFzIGV2ZXIgYmVlbiBydW4pXHJcbiAgICAgICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1kZWJ1Z2dlciAqL1xyXG4gICAgICAgICAgICAgICAgZGVidWdnZXI7XHJcbiAgICAgICAgICAgICAgICBsZXQgaSA9IGdldFRhYmJhYmxlSW5kZXgoKSA/PyAwO1xyXG4gICAgICAgICAgICAgICAgbGV0IGogPSBpICsgMTtcclxuICAgICAgICAgICAgICAgIHdoaWxlIChpID49IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAtLWk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1hbmFnZWRDaGlsZHJlbltnZXRUYWJiYWJsZUluZGV4KCkgPz8gMF0uZ2V0VGFiYmFibGUoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYW5hZ2VkQ2hpbGRyZW5bZ2V0VGFiYmFibGVJbmRleCgpID8/IDBdPy5yZXJlbmRlckFuZEZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAoaiA8IG1hbmFnZWRDaGlsZHJlbi5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICArK2o7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1hbmFnZWRDaGlsZHJlbltnZXRUYWJiYWJsZUluZGV4KCkgPz8gMF0uZ2V0VGFiYmFibGUoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYW5hZ2VkQ2hpbGRyZW5bZ2V0VGFiYmFibGVJbmRleCgpID8/IDBdPy5yZXJlbmRlckFuZEZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCBbXSksXHJcblxyXG4gICAgICAgIC4uLnJlc3RcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBoIH0gZnJvbSBcInByZWFjdFwiO1xyXG5pbXBvcnQgeyB1c2VDYWxsYmFjayB9IGZyb20gXCJwcmVhY3QvaG9va3NcIjtcclxuaW1wb3J0IHsgVXNlQ2hpbGRNYW5hZ2VyUmV0dXJuVHlwZSB9IGZyb20gXCIuL3VzZS1jaGlsZC1tYW5hZ2VyXCI7XHJcbmltcG9ydCB7IHVzZUxpbmVhck5hdmlnYXRpb24sIFVzZUxpbmVhck5hdmlnYXRpb25DaGlsZEluZm8sIHVzZVR5cGVhaGVhZE5hdmlnYXRpb24sIFVzZVR5cGVhaGVhZE5hdmlnYXRpb25DaGlsZEluZm8sIFVzZVR5cGVhaGVhZE5hdmlnYXRpb25QYXJhbWV0ZXJzIH0gZnJvbSBcIi4vdXNlLWtleWJvYXJkLW5hdmlnYXRpb25cIjtcclxuaW1wb3J0IHsgTWVyZ2VkUHJvcHMsIHVzZU1lcmdlZFByb3BzIH0gZnJvbSBcIi4vdXNlLW1lcmdlZC1wcm9wc1wiO1xyXG5pbXBvcnQgeyB1c2VFbnN1cmVTdGFiaWxpdHkgfSBmcm9tIFwiLi91c2UtcGFzc2l2ZS1zdGF0ZVwiO1xyXG5pbXBvcnQgeyB1c2VSb3ZpbmdUYWJJbmRleCwgVXNlUm92aW5nVGFiSW5kZXhDaGlsZEluZm8sIFVzZVJvdmluZ1RhYkluZGV4Q2hpbGRQcm9wc1JldHVyblR5cGUsIFVzZVJvdmluZ1RhYkluZGV4UGFyYW1ldGVycywgVXNlUm92aW5nVGFiSW5kZXhTaWJsaW5nUHJvcHMgfSBmcm9tIFwiLi91c2Utcm92aW5nLXRhYmluZGV4XCI7XHJcbmltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSBcIi4vdXNlLXN0YXRlXCI7XHJcblxyXG5cclxuZXhwb3J0IHR5cGUgT21pdFN0cm9uZzxULCBLIGV4dGVuZHMga2V5b2YgVD4gPSBQaWNrPFQsIEV4Y2x1ZGU8a2V5b2YgVCwgSz4+O1xyXG5cclxuXHJcbi8qKlxyXG4gKiBcclxuICogVE9ETzogVGhpcyB0YWJsZSB3YXMgc2NyYXBwZWQgd2hlbiB0aGlzIHdhcyBjaGFuZ2VkIHRvIGp1c3QgYWNjZXB0IGEgY29sbGF0b3IgZGlyZWN0bHksXHJcbiAqIGJ1dCBpdCdzIG5vdCBiYWQgZm9yIGEgY29sbGF0aW9uIGNyYXNoIGNvdXJzZSBhbmQgSSBtaWdodCB1c2UgaXQgYWdhaW4uXHJcbiAqIEV2ZW4ganVzdCBhcyBhIFwidGhpcyBpcyB3aHkgaXQncyBpbXBvcnRhbnQgYW5kIGdvb2QgdG8gdXNlIHRoZXNlIHRoaW5nc1wiIHRoaW5nLlxyXG4gKiBcclxuICogfExhbmcufFRhcmdldHxVc2VyIGlucHV0fGBiYXNlYHxgYWNjZW50YHxgY2FzZWB8YHZhcmlhbnRgfFxyXG4gKiB8LS0tLXwtLS0tfC0tLS18LS0tLXwtLS0tfC0tLS18LS0tLXxcclxuICogfEVOfEhpfEhpfOKchXzinIV84pyFfOKchXxcclxuICogfEVOfEhpfO+8qO+9iXzinIV84pyFfOKchXzinYx8XHJcbiAqIHxFTnxIaXxoaXzinIV84pyFfOKdjHzinYx8XHJcbiAqIHxFTnxIaXxIw6984pyFfOKdjHzinYx84p2MfFxyXG4gKiB8RU58SGl8QnllfOKdjHzinYx84p2MfOKdjHxcclxuICogfERBfMOlfGFhfOKchXzinIV84pyFfOKdjHxcclxuICogfERBfMOlfEFBfOKchXzinIV84p2MfOKdjHxcclxuICogfERBfMOlfEFhfOKchXzinIV84p2MfOKdjHxcclxuICogfEVOfMOlfGFhfOKdjHzinYx84p2MfOKdjHxcclxuICogfERBfMOlfGFBfOKdjHzinYx84p2MfOKdjHxcclxuICogfEVOfMOlfGF84pyFfOKchXzinYx84p2MfFxyXG4gKiB8REF8w6V8YXzinIV84pyFfOKdjHzinYx8XHJcbiAqIHxKUHzvqqp8552AfOKchXzinIV84pyFfOKchXxcclxuICogfEpQfOOCq3zvvbZ84pyFfOKchXzinIV84pyFfFxyXG4gKiB8SlB844KrfOOBi3zinIV84pyFfOKchXzinYx8XHJcbiAqIHxKUHzjgqt844O1fOKchXzinIV84pyFfOKdjHxcclxuICogfEpQfOOCq3zji5V84pyFfOKchXzinYx84p2MfFxyXG4gKiB8SlB844KrfOOCrHzinIV84p2MfOKdjHzinYx8XHJcbiAqIHxKUHzjgqt85YqbfOKdjHzinYx84p2MfOKdjHxcclxuICogfFpIfOe0hXznuqJ84p2MfOKdjHzinYx84p2MfFxyXG4gKiBcclxuICogXHJcbiAqIChOb3RlIHRvIHNlbGY6IEF0IHNvbWUgcG9pbnQsIHRoaXMgZmlsZSB3aWxsIHByb2JhYmx5IGJlIG5vcm1hbGl6ZWRcclxuICogYnkgc29tZWJvZHkgYW5kIO+qqiB3aWxsIHR1cm4gYmFjayBpbnRvIOedgC4pXHJcbiAqIFxyXG4gKi9cclxuY29uc3QgX2R1bW15OiBhbnkgPSBudWxsO1xyXG5cclxuXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFVzZUxpc3ROYXZpZ2F0aW9uUmV0dXJuVHlwZTxDaGlsZEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBJIGV4dGVuZHMgVXNlTGlzdE5hdmlnYXRpb25DaGlsZEluZm8+IGV4dGVuZHMgT21pdFN0cm9uZzxVc2VDaGlsZE1hbmFnZXJSZXR1cm5UeXBlPEk+LCBcInVzZU1hbmFnZWRDaGlsZFwiPiB7XHJcblxyXG4gICAgdXNlTGlzdE5hdmlnYXRpb25Qcm9wczogPFAgZXh0ZW5kcyBoLkpTWC5IVE1MQXR0cmlidXRlczxhbnk+Pihwcm9wczogUCkgPT4gaC5KU1guSFRNTEF0dHJpYnV0ZXM8YW55PjtcclxuXHJcbiAgICB1c2VMaXN0TmF2aWdhdGlvbkNoaWxkOiBVc2VMaXN0TmF2aWdhdGlvbkNoaWxkPENoaWxkRWxlbWVudCwgST47XHJcblxyXG4gICAgY3VycmVudFR5cGVhaGVhZDogc3RyaW5nIHwgbnVsbDtcclxuXHJcbiAgICBpbnZhbGlkVHlwZWFoZWFkOiBib29sZWFuIHwgbnVsbDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBpbmRleCBvZiB0aGUgY3VycmVudGx5IHRhYmJhYmxlIGluZGV4LlxyXG4gICAgICovXHJcbiAgICB0YWJiYWJsZUluZGV4OiBudW1iZXIgfCBudWxsO1xyXG5cclxuICAgIC8vbWFuYWdlZENoaWxkcmVuOiBJW107XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBbGxvd3MgcHJvZ3JhbW1hdGljIGNvbnRyb2wgb2YgdGhlIGN1cnJlbnRseSB0YWJiYWJsZSBpbmRleC5cclxuICAgICAqL1xyXG4gICAgLy9zZXRUYWJiYWJsZUluZGV4OiBTdGF0ZVVwZGF0ZXI8bnVtYmVyIHwgbnVsbD47XHJcblxyXG4gICAgbmF2aWdhdGVUb0luZGV4OiAoaW5kZXg6IG51bWJlciB8IG51bGwpID0+IHZvaWQ7XHJcbiAgICBuYXZpZ2F0ZVRvTmV4dDogKCkgPT4gdm9pZDtcclxuICAgIG5hdmlnYXRlVG9QcmV2OiAoKSA9PiB2b2lkO1xyXG4gICAgbmF2aWdhdGVUb0ZpcnN0OiAoKSA9PiB2b2lkO1xyXG4gICAgbmF2aWdhdGVUb0xhc3Q6ICgpID0+IHZvaWQ7XHJcblxyXG4gICAgZm9jdXNDdXJyZW50OiBudWxsIHwgKCgpID0+IHZvaWQpO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFVzZUxpc3ROYXZpZ2F0aW9uQ2hpbGRSZXR1cm5UeXBlPENoaWxkRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+IHtcclxuICAgIHVzZUxpc3ROYXZpZ2F0aW9uQ2hpbGRQcm9wczogPFAgZXh0ZW5kcyBoLkpTWC5IVE1MQXR0cmlidXRlczxDaGlsZEVsZW1lbnQ+Pih7IHRhYkluZGV4LCAuLi5wcm9wcyB9OiBQKSA9PiBVc2VMaXN0TmF2aWdhdGlvbkNoaWxkUHJvcHNSZXR1cm5UeXBlPENoaWxkRWxlbWVudCwgUD47XHJcbiAgICB1c2VMaXN0TmF2aWdhdGlvblNpYmxpbmdQcm9wczogVXNlUm92aW5nVGFiSW5kZXhTaWJsaW5nUHJvcHM8Q2hpbGRFbGVtZW50PjtcclxuICAgIHRhYmJhYmxlOiBib29sZWFuIHwgbnVsbDtcclxufVxyXG5cclxuXHJcbi8qKiBBcmd1bWVudHMgcGFzc2VkIHRvIHRoZSBwYXJlbnQgYHVzZUxpc3ROYXZpZ2F0aW9uYCAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFVzZUxpc3ROYXZpZ2F0aW9uUGFyYW1ldGVycyBleHRlbmRzIE9taXRTdHJvbmc8VXNlVHlwZWFoZWFkTmF2aWdhdGlvblBhcmFtZXRlcnMsIFwiZ2V0SW5kZXhcIiB8IFwic2V0SW5kZXhcIj4sIE9taXRTdHJvbmc8VXNlUm92aW5nVGFiSW5kZXhQYXJhbWV0ZXJzLCBcInRhYmJhYmxlSW5kZXhcIj4ge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWFwcyB0byBJbnRsLkNvbGxhdG9yJ3MgaWdub3JlUHVuY3R1YXRpb24gcGFyYW1ldGVyLiAgV2hldGhlciBwdW5jdHVhdGlvbiAod2hpY2ggaXMgY29udGV4dCBhbmQgbG9jYWxlIGRlcGVuZGVudCkgc2hvdWxkIGJlIGlnbm9yZWQgd2hlbiBzZWFyY2hpbmcuXHJcbiAgICAgKiBcclxuICAgICAqIEBkZWZhdWx0IGZhbHNlXHJcbiAgICAgKi9cclxuICAgIC8vaWdub3JlUHVuY3R1YXRpb24/OiBib29sZWFuO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQSBjb2xsYXRvciB0byB1c2Ugd2hlbiBjb21wYXJpbmcuIElmIG5vdCBwcm92aWRlZCwgc2ltcGx5IHVzZXMgYGxvY2FsZUNvbXBhcmVgIGFmdGVyIHRyYW5zZm9ybWluZyBlYWNoIHRvIGxvd2VyY2FzZSwgd2hpY2ggd2lsbCwgYXQgYmVzdCwgd29yayBva2F5IGluIEVuZ2xpc2guXHJcbiAgICAgKi9cclxuICAgIGNvbGxhdG9yPzogSW50bC5Db2xsYXRvcjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEJ5IGRlZmF1bHQsIHByZXNzaW5nIGRvd24gYXQgdGhlIGVuZCBmb2N1c2VzIHRoZSBmaXJzdCBlbGVtZW50LCBhbmQgdmljZS12ZXJzYS5cclxuICAgICAqIFxyXG4gICAgICogVGhpcyBwcm9wIGNhbiBiZSB1c2VkIHRvIGRpc2FibGUgdGhhdCBiZWhhdmlvci5cclxuICAgICAqL1xyXG4gICAgbm9XcmFwPzogYm9vbGVhbjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEJ5IGRlZmF1bHQsIGFueSB0eXBlZCBjaGFyYWN0ZXJzIHdpbGwgZm9jdXMgdGhlIG5leHQgaXRlbSB0aGF0IHN0YXJ0cyB3aXRoIHRoZSB0eXBlZCBzdHJpbmcuXHJcbiAgICAgKiBcclxuICAgICAqIFRoaXMgcHJvcCBjYW4gYmUgdXNlZCB0byBkaXNhYmxlIHRoYXQgYmVoYXZpb3IuXHJcbiAgICAgKi9cclxuICAgIG5vVHlwZWFoZWFkPzogYm9vbGVhbjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgYW5kIGluZGV4RGVtYW5nbGVyIGFyZSB1c2VkIHRvIGFsbG93IGNoaWxkcmVuIHRvIGJlIG5hdmlnYXRlZCBpbiBhbiBvcmRlclxyXG4gICAgICogdGhhdCBkb2Vzbid0IG5lY2Vzc2FyaWx5IG1hdGNoIHRoZWlyIGNoaWxkIG9yZGVyLCBsaWtlIGlmIGEgbGlzdCBpcyBzb3J0ZWQuXHJcbiAgICAgKiBcclxuICAgICAqIFVzZWQgdG8gdHVybiBhbiBcImFic29sdXRlXCIgaW5kZXggaW50byBhIFwic29ydGVkL2ZpbHRlcmVkL21hbmdsZWRcIiBvbmUuXHJcbiAgICAgKiBcclxuICAgICAqIEZvciBleGFtcGxlLCBuYXZpZ2F0ZVRvRmlyc3QgbWFuZ2xlcyAwIGFuZCBuYXZpZ2F0ZXMgdG8gdGhhdCByZXN1bHRpbmcgcm93LlxyXG4gICAgICogQHBhcmFtIHJhd0luZGV4IFxyXG4gICAgICovXHJcbiAgICBpbmRleE1hbmdsZXI/KHJhd0luZGV4OiBudW1iZXIpOiBudW1iZXI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBVc2VkIHRvIHR1cm4gYSBcIm1hbmdsZWRcIiBpbmRleCBpbnRvIGl0J3MgXCJ1bnNvcnRlZFwiIG9yIFwidW5tYW5nbGVkXCIgaW5kZXguXHJcbiAgICAgKiBcclxuICAgICAqIEZvciBleGFtcGxlLCB3aGVuIGluY3JlbWVudGluZyBvciBkZWNyZW1lbnRpbmcgdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBpbmRleCxcclxuICAgICAqIGl0IG5lZWRzIHRvIGJlIGRlbWFuZ2xlZCB0byBkbyBcIm5vcm1hbFwiIG1hdGggb24gaXQsIGFuZCB0aGVuIHJlLW1hbmdsZWRcclxuICAgICAqIHRvIHR1cm4gdGhhdCBhYnNvbHV0ZSByb3cgaW5kZXggYmFjayBpbnRvIGEgbWFuZ2xlZCBvbmUuXHJcbiAgICAgKiBAcGFyYW0gdHJhbnNmb3JtZWRJbmRleCBcclxuICAgICAqL1xyXG4gICAgaW5kZXhEZW1hbmdsZXI/KHRyYW5zZm9ybWVkSW5kZXg6IG51bWJlcik6IG51bWJlcjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENvbnRyb2xzIHdoaWNoIGFycm93IGtleXMgYXJlIHVzZWQgdG8gbmF2aWdhdGUgdGhyb3VnaCB0aGUgY29tcG9uZW50LlxyXG4gICAgICogUmVsYXRpdmUgdG8gdGhlIHdyaXRpbmcgbW9kZSwgc28gaW4gRW5nbGlzaCwgXCJpbmxpbmVcIiBjb3JyZXNwb25kc1xyXG4gICAgICogdG8gdGhlIGxlZnQgJiByaWdodCBhcnJvdyBrZXlzLCBhbmQgXCJibG9ja1wiIHRvIHRoZSB1cCAmIGRvd24gYXJyb3cga2V5cy5cclxuICAgICAqIFxyXG4gICAgICogVXNlIFwiZWl0aGVyXCIgdG8gYWxsb3cgbmF2aWdhdGlvbiBpbiBlaXRoZXIgZGlyZWN0aW9uLlxyXG4gICAgICogXHJcbiAgICAgKiBVc2UgXCJub25lXCIgdG8gZGlzYWxsb3cgbmF2aWdhdGlvbiB2aWEgdGhlIGFycm93IGtleXMgKHR5cGVhaGVhZCBpcyBzdGlsbCBhbGxvd2VkKS5cclxuICAgICAqL1xyXG4gICAga2V5TmF2aWdhdGlvbj86IFwiaW5saW5lXCIgfCBcImJsb2NrXCIgfCBcImVpdGhlclwiIHwgXCJub25lXCI7XHJcblxyXG4gICAgaW5pdGlhbEluZGV4PzogbnVtYmVyIHwgbnVsbDtcclxufVxyXG50eXBlIE9taXQ8VCwgSyBleHRlbmRzIGtleW9mIFQ+ID0gUGljazxULCBFeGNsdWRlPGtleW9mIFQsIEs+PjtcclxuXHJcbi8qKiBBcmd1bWVudHMgcGFzc2VkIHRvIHRoZSBjaGlsZCAndXNlTGlzdE5hdmlnYXRpb25DaGlsZGAgKi9cclxuZXhwb3J0IGludGVyZmFjZSBVc2VMaXN0TmF2aWdhdGlvbkNoaWxkSW5mbyBleHRlbmRzIFVzZVJvdmluZ1RhYkluZGV4Q2hpbGRJbmZvLCBVc2VUeXBlYWhlYWROYXZpZ2F0aW9uQ2hpbGRJbmZvLCBVc2VMaW5lYXJOYXZpZ2F0aW9uQ2hpbGRJbmZvIHtcclxuICAgIC8qKlxyXG4gICAgICogSWYgYSBjaGlsZCBpcyBoaWRkZW4sIHRoZW4gaXQgd2lsbCBiZSBza2lwcGVkIG92ZXJcclxuICAgICAqIGR1cmluZyBrZXlib2FyZCBuYXZpZ2F0aW9uLCBhbmQgdGhlIEhUTUwgYGhpZGRlbmBcclxuICAgICAqIGF0dHJpYnV0ZSB3aWxsIGJlIGFwcGxpZWQuXHJcbiAgICAgKi9cclxuICAgIGhpZGRlbj86IGJvb2xlYW47XHJcbn1cclxuZXhwb3J0IHR5cGUgVXNlTGlzdE5hdmlnYXRpb25DaGlsZFBhcmFtZXRlcnM8SSBleHRlbmRzIFVzZUxpc3ROYXZpZ2F0aW9uQ2hpbGRJbmZvPiA9IE9taXQ8SSwgXCJyZXJlbmRlckFuZEZvY3VzXCIgfCBcInNldFRhYmJhYmxlXCIgfCBcImdldFRhYmJhYmxlXCI+O1xyXG5cclxuLyoqIFR5cGUgb2YgdGhlIGNoaWxkJ3Mgc3ViLWhvb2sgKi9cclxuZXhwb3J0IHR5cGUgVXNlTGlzdE5hdmlnYXRpb25DaGlsZDxDaGlsZEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBJIGV4dGVuZHMgVXNlTGlzdE5hdmlnYXRpb25DaGlsZEluZm8+ID0gKHsgdGV4dCwgaW5kZXgsIC4uLmkgfTogVXNlTGlzdE5hdmlnYXRpb25DaGlsZFBhcmFtZXRlcnM8ST4pID0+IFVzZUxpc3ROYXZpZ2F0aW9uQ2hpbGRSZXR1cm5UeXBlPENoaWxkRWxlbWVudD47XHJcblxyXG5cclxuLyoqIFJldHVybiB0eXBlIG9mIHRoZSBjaGlsZCBgdXNlTGlzdE5hdmlnYXRpb25DaGlsZFByb3BzYCAqL1xyXG5leHBvcnQgdHlwZSBVc2VMaXN0TmF2aWdhdGlvbkNoaWxkUHJvcHNSZXR1cm5UeXBlPENoaWxkRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIFAgZXh0ZW5kcyBoLkpTWC5IVE1MQXR0cmlidXRlczxDaGlsZEVsZW1lbnQ+PiA9IE1lcmdlZFByb3BzPENoaWxkRWxlbWVudCwgVXNlUm92aW5nVGFiSW5kZXhDaGlsZFByb3BzUmV0dXJuVHlwZTxDaGlsZEVsZW1lbnQsIHsgb25DbGljazogKCkgPT4gdm9pZDsgfT4sIFA+O1xyXG5cclxuZXhwb3J0IHR5cGUgVXNlTGlzdE5hdmlnYXRpb25DaGlsZFByb3BzPENoaWxkRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+ID0gPFAgZXh0ZW5kcyBoLkpTWC5IVE1MQXR0cmlidXRlczxDaGlsZEVsZW1lbnQ+PihwOiBQKSA9PiBVc2VMaXN0TmF2aWdhdGlvbkNoaWxkUHJvcHNSZXR1cm5UeXBlPENoaWxkRWxlbWVudCwgUD5cclxuXHJcbmZ1bmN0aW9uIGlkZW50aXR5PFQ+KHQ6IFQpIHsgcmV0dXJuIHQ7IH1cclxuXHJcbi8qKlxyXG4gKiBJbXBsZW1lbnRzIHByb3BlciBrZXlib2FyZCBuYXZpZ2F0aW9uIGZvciBjb21wb25lbnRzIGxpa2UgbGlzdGJveGVzLCBidXR0b24gZ3JvdXBzLCBtZW51cywgZXRjLlxyXG4gKiBcclxuICogSW4gdGhlIGRvY3VtZW50IG9yZGVyLCB0aGVyZSB3aWxsIGJlIG9ubHkgb25lIFwiZm9jdXNlZFwiIG9yIFwidGFiYmFibGVcIiBlbGVtZW50LCBtYWtpbmcgaXQgYWN0IG1vcmUgbGlrZSBvbmUgY29tcGxldGUgdW5pdCBpbiBjb21wYXJpc29uIHRvIGV2ZXJ5dGhpbmcgYXJvdW5kIGl0LlxyXG4gKiBOYXZpZ2F0aW5nIGZvcndhcmRzL2JhY2t3YXJkcyBjYW4gYmUgZG9uZSB3aXRoIHRoZSBhcnJvdyBrZXlzLCBIb21lL0VuZCBrZXlzLCBvciBhbnkgYW55IHRleHQgZm9yIHR5cGVhaGVhZCB0byBmb2N1cyB0aGUgbmV4dCBpdGVtIHRoYXQgbWF0Y2hlcy5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiB1c2VMaXN0TmF2aWdhdGlvbjxDaGlsZEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBJIGV4dGVuZHMgVXNlTGlzdE5hdmlnYXRpb25DaGlsZEluZm8+KHsgaW5pdGlhbEluZGV4LCBzaG91bGRGb2N1c09uQ2hhbmdlLCBjb2xsYXRvciwga2V5TmF2aWdhdGlvbiwgaW5kZXhNYW5nbGVyLCBpbmRleERlbWFuZ2xlciB9OiBVc2VMaXN0TmF2aWdhdGlvblBhcmFtZXRlcnMpOiBVc2VMaXN0TmF2aWdhdGlvblJldHVyblR5cGU8Q2hpbGRFbGVtZW50LCBJPiB7XHJcblxyXG4gICAgaW5kZXhNYW5nbGVyID8/PSBpZGVudGl0eTtcclxuICAgIGluZGV4RGVtYW5nbGVyID8/PSBpZGVudGl0eTtcclxuICAgIGtleU5hdmlnYXRpb24gPz89IFwiZWl0aGVyXCI7XHJcblxyXG4gICAgdXNlRW5zdXJlU3RhYmlsaXR5KFwidXNlTGlzdE5hdmlnYXRpb25cIiwgaW5kZXhNYW5nbGVyLCBpbmRleERlbWFuZ2xlcik7XHJcblxyXG4gICAgLy8gS2VlcCB0cmFjayBvZiB0aHJlZSB0aGluZ3MgcmVsYXRlZCB0byB0aGUgY3VycmVudGx5IHRhYmJhYmxlIGVsZW1lbnQncyBpbmRleDpcclxuICAgIC8vIFdoYXQgaXQgaXMsIGFuZCB3aGV0aGVyLCB3aGVuIHdlIHJlbmRlciB0aGlzIGNvbXBvbmVudCBhbmQgaXQncyBjaGFuZ2VkLCB0byBhbHNvIGZvY3VzIHRoZSBlbGVtZW50IHRoYXQgd2FzIG1hZGUgdGFiYmFibGUuXHJcbiAgICBjb25zdCBbdGFiYmFibGVJbmRleCwgc2V0VGFiYmFibGVJbmRleCwgZ2V0VGFiYmFibGVJbmRleF0gPSB1c2VTdGF0ZTxudW1iZXIgfCBudWxsPihpbml0aWFsSW5kZXggPT09IHVuZGVmaW5lZCA/IDAgOiBpbml0aWFsSW5kZXgpO1xyXG4gICAgY29uc3QgeyBtYW5hZ2VkQ2hpbGRyZW4sIGluZGljZXNCeUVsZW1lbnQsIHVzZVJvdmluZ1RhYkluZGV4Q2hpbGQsIGZvY3VzQ3VycmVudCwgLi4ucmVzdCB9ID0gdXNlUm92aW5nVGFiSW5kZXg8ST4oeyBzaG91bGRGb2N1c09uQ2hhbmdlLCB0YWJiYWJsZUluZGV4IH0pXHJcblxyXG4gICAgLypjb25zdCBuYXZpZ2F0ZVRvSW5kZXggPSB1c2VDYWxsYmFjaygoaTogbnVtYmVyIHwgbnVsbCkgPT4geyBzZXRUYWJiYWJsZUluZGV4KGkpOyB9LCBbXSk7XHJcbiAgICBjb25zdCBuYXZpZ2F0ZVRvRmlyc3QgPSB1c2VDYWxsYmFjaygoKSA9PiB7IHRyeU5hdmlnYXRlVG9JbmRleChtYW5hZ2VkQ2hpbGRyZW4sKSBzZXRUYWJiYWJsZUluZGV4KGluZGV4TWFuZ2xlciEoMCkpOyB9LCBbXSk7XHJcbiAgICBjb25zdCBuYXZpZ2F0ZVRvTGFzdCA9IHVzZUNhbGxiYWNrKCgpID0+IHsgc2V0VGFiYmFibGVJbmRleChpbmRleE1hbmdsZXIhKG1hbmFnZWRDaGlsZHJlbi5sZW5ndGggLSAxKSk7IH0sIFtdKTtcclxuICAgIGNvbnN0IG5hdmlnYXRlVG9QcmV2ID0gdXNlQ2FsbGJhY2soKCkgPT4geyBzZXRUYWJiYWJsZUluZGV4KGkgPT4gaW5kZXhNYW5nbGVyIShpbmRleERlbWFuZ2xlciEoaSA/PyAwKSAtIDEpKSB9LCBbaW5kZXhEZW1hbmdsZXIsIGluZGV4TWFuZ2xlcl0pO1xyXG4gICAgY29uc3QgbmF2aWdhdGVUb05leHQgPSB1c2VDYWxsYmFjaygoKSA9PiB7IHNldFRhYmJhYmxlSW5kZXgoaSA9PiBpbmRleE1hbmdsZXIhKGluZGV4RGVtYW5nbGVyIShpID8/IDApICsgMSkpIH0sIFtpbmRleERlbWFuZ2xlciwgaW5kZXhNYW5nbGVyXSk7XHJcbiovXHJcbiAgICBjb25zdCBuYXZpZ2F0ZVRvSW5kZXggPSB1c2VDYWxsYmFjaygoaTogbnVtYmVyIHwgbnVsbCkgPT4ge1xyXG4gICAgICAgIHNldFRhYmJhYmxlSW5kZXgoaSA9PSBudWxsID8gbnVsbCA6IHRyeU5hdmlnYXRlVG9JbmRleChtYW5hZ2VkQ2hpbGRyZW4sIDAsIGksIDEsIGluZGV4TWFuZ2xlciA/PyBpZGVudGl0eSwgaW5kZXhEZW1hbmdsZXIgPz8gaWRlbnRpdHkpKTtcclxuICAgIH0sIFtdKVxyXG4gICAgY29uc3QgbmF2aWdhdGVUb0ZpcnN0ID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgICAgIHNldFRhYmJhYmxlSW5kZXgodHJ5TmF2aWdhdGVUb0luZGV4KG1hbmFnZWRDaGlsZHJlbiwgMCwgMCwgMSwgaW5kZXhNYW5nbGVyID8/IGlkZW50aXR5LCBpbmRleERlbWFuZ2xlciA/PyBpZGVudGl0eSkpO1xyXG4gICAgfSwgW10pXHJcbiAgICBjb25zdCBuYXZpZ2F0ZVRvTGFzdCA9IHVzZUNhbGxiYWNrKCgpID0+IHsgc2V0VGFiYmFibGVJbmRleCh0cnlOYXZpZ2F0ZVRvSW5kZXgobWFuYWdlZENoaWxkcmVuLCBtYW5hZ2VkQ2hpbGRyZW4ubGVuZ3RoLCBtYW5hZ2VkQ2hpbGRyZW4ubGVuZ3RoLCAtMSwgaW5kZXhNYW5nbGVyID8/IGlkZW50aXR5LCBpbmRleERlbWFuZ2xlciA/PyBpZGVudGl0eSkpOyB9LCBbXSlcclxuICAgIGNvbnN0IG5hdmlnYXRlVG9QcmV2ID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgICAgIHNldFRhYmJhYmxlSW5kZXgoYyA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnlOYXZpZ2F0ZVRvSW5kZXgobWFuYWdlZENoaWxkcmVuLCBjID8/IDAsIChjID8/IDApIC0gMSwgLTEsIGluZGV4TWFuZ2xlciA/PyBpZGVudGl0eSwgaW5kZXhEZW1hbmdsZXIgPz8gaWRlbnRpdHkpXHJcbiAgICAgICAgfSlcclxuICAgIH0sIFtdKVxyXG4gICAgY29uc3QgbmF2aWdhdGVUb05leHQgPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICAgICAgc2V0VGFiYmFibGVJbmRleChjID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHRyeU5hdmlnYXRlVG9JbmRleChtYW5hZ2VkQ2hpbGRyZW4sIGMgPz8gMCwgKGMgPz8gMCkgKyAxLCAxLCBpbmRleE1hbmdsZXIgPz8gaWRlbnRpdHksIGluZGV4RGVtYW5nbGVyID8/IGlkZW50aXR5KTtcclxuICAgICAgICB9KVxyXG4gICAgfSwgW10pXHJcblxyXG4gICAgY29uc3Qgc2V0SW5kZXggPSB1c2VDYWxsYmFjaygoaW5kZXg6IChudW1iZXIgfCBudWxsKSB8ICgocHJldjogbnVtYmVyIHwgbnVsbCkgPT4gKG51bWJlciB8IG51bGwpKSkgPT4ge1xyXG4gICAgICAgIHNldFRhYmJhYmxlSW5kZXgoaW5kZXgpO1xyXG4gICAgfSwgW10pO1xyXG4gICAgY29uc3QgeyBjdXJyZW50VHlwZWFoZWFkLCBpbnZhbGlkVHlwZWFoZWFkLCB1c2VUeXBlYWhlYWROYXZpZ2F0aW9uQ2hpbGQsIHVzZVR5cGVhaGVhZE5hdmlnYXRpb25Qcm9wcyB9ID0gdXNlVHlwZWFoZWFkTmF2aWdhdGlvbjxhbnksIEk+KHsgY29sbGF0b3IsIGdldEluZGV4OiBnZXRUYWJiYWJsZUluZGV4LCBzZXRJbmRleCwgdHlwZWFoZWFkVGltZW91dDogMTAwMCB9KTtcclxuICAgIGNvbnN0IHsgdXNlTGluZWFyTmF2aWdhdGlvblByb3BzIH0gPSB1c2VMaW5lYXJOYXZpZ2F0aW9uPGFueT4oeyBuYXZpZ2F0aW9uRGlyZWN0aW9uOiBrZXlOYXZpZ2F0aW9uLCBpbmRleDogZ2V0VGFiYmFibGVJbmRleCgpID8/IDAsIG1hbmFnZWRDaGlsZHJlbiwgbmF2aWdhdGVUb1ByZXYsIG5hdmlnYXRlVG9OZXh0LCBuYXZpZ2F0ZVRvRmlyc3QsIG5hdmlnYXRlVG9MYXN0IH0pO1xyXG5cclxuICAgIGNvbnN0IHVzZUxpc3ROYXZpZ2F0aW9uUHJvcHMgPSB1c2VDYWxsYmFjayg8UCBleHRlbmRzIGguSlNYLkhUTUxBdHRyaWJ1dGVzPENoaWxkRWxlbWVudD4+KHByb3BzOiBQKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHVzZUxpbmVhck5hdmlnYXRpb25Qcm9wcyh1c2VUeXBlYWhlYWROYXZpZ2F0aW9uUHJvcHMocHJvcHMpKTtcclxuICAgIH0sIFt1c2VMaW5lYXJOYXZpZ2F0aW9uUHJvcHMsIHVzZVR5cGVhaGVhZE5hdmlnYXRpb25Qcm9wc10pO1xyXG5cclxuICAgIGNvbnN0IHVzZUxpc3ROYXZpZ2F0aW9uQ2hpbGQ6IFVzZUxpc3ROYXZpZ2F0aW9uQ2hpbGQ8Q2hpbGRFbGVtZW50LCBJPiA9IHVzZUNhbGxiYWNrKChpbmZvOiBVc2VMaXN0TmF2aWdhdGlvbkNoaWxkUGFyYW1ldGVyczxJPik6IFVzZUxpc3ROYXZpZ2F0aW9uQ2hpbGRSZXR1cm5UeXBlPENoaWxkRWxlbWVudD4gPT4ge1xyXG5cclxuICAgICAgICBjb25zdCBfdjogdm9pZCA9IHVzZVR5cGVhaGVhZE5hdmlnYXRpb25DaGlsZChpbmZvIGFzIEkpO1xyXG4gICAgICAgIC8vY29uc3QgeyB1c2VMaW5lYXJOYXZpZ2F0aW9uQ2hpbGRQcm9wcyB9ID0gdXNlTGluZWFyTmF2aWdhdGlvbkNoaWxkKGluZm8gYXMgSSk7XHJcblxyXG4gICAgICAgIGNvbnN0IHsgdXNlUm92aW5nVGFiSW5kZXhDaGlsZFByb3BzLCB1c2VSb3ZpbmdUYWJJbmRleFNpYmxpbmdQcm9wcywgdGFiYmFibGUgfSA9IHVzZVJvdmluZ1RhYkluZGV4Q2hpbGQ8Q2hpbGRFbGVtZW50PihpbmZvIGFzIEkpO1xyXG5cclxuICAgICAgICBjb25zdCB1c2VMaXN0TmF2aWdhdGlvbkNoaWxkUHJvcHM6IFVzZUxpc3ROYXZpZ2F0aW9uQ2hpbGRQcm9wczxDaGlsZEVsZW1lbnQ+ID0gZnVuY3Rpb24gPFAgZXh0ZW5kcyBoLkpTWC5IVE1MQXR0cmlidXRlczxDaGlsZEVsZW1lbnQ+Pih7IC4uLnByb3BzIH06IFApIHtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB1c2VNZXJnZWRQcm9wczxDaGlsZEVsZW1lbnQ+KCkodXNlUm92aW5nVGFiSW5kZXhDaGlsZFByb3BzKCgoeyBvbkNsaWNrOiByb3ZlVG9TZWxmLCBoaWRkZW46IGluZm8uaGlkZGVuIH0pKSksIHByb3BzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHJvdmVUb1NlbGYgPSB1c2VDYWxsYmFjaygoKSA9PiB7IG5hdmlnYXRlVG9JbmRleChpbmZvLmluZGV4KTsgfSwgW10pXHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHVzZUxpc3ROYXZpZ2F0aW9uQ2hpbGRQcm9wcyxcclxuICAgICAgICAgICAgdXNlTGlzdE5hdmlnYXRpb25TaWJsaW5nUHJvcHM6IHVzZVJvdmluZ1RhYkluZGV4U2libGluZ1Byb3BzLFxyXG4gICAgICAgICAgICB0YWJiYWJsZVxyXG4gICAgICAgIH1cclxuICAgIH0sIFt1c2VUeXBlYWhlYWROYXZpZ2F0aW9uQ2hpbGQsIHVzZVJvdmluZ1RhYkluZGV4Q2hpbGQsIG5hdmlnYXRlVG9JbmRleF0pO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgdXNlTGlzdE5hdmlnYXRpb25DaGlsZCxcclxuICAgICAgICB1c2VMaXN0TmF2aWdhdGlvblByb3BzLFxyXG5cclxuICAgICAgICBjdXJyZW50VHlwZWFoZWFkLFxyXG4gICAgICAgIGludmFsaWRUeXBlYWhlYWQsXHJcblxyXG4gICAgICAgIHRhYmJhYmxlSW5kZXgsXHJcblxyXG4gICAgICAgIG1hbmFnZWRDaGlsZHJlbixcclxuICAgICAgICBpbmRpY2VzQnlFbGVtZW50LFxyXG5cclxuICAgICAgICBuYXZpZ2F0ZVRvSW5kZXgsXHJcbiAgICAgICAgbmF2aWdhdGVUb05leHQsXHJcbiAgICAgICAgbmF2aWdhdGVUb1ByZXYsXHJcbiAgICAgICAgbmF2aWdhdGVUb0ZpcnN0LFxyXG4gICAgICAgIG5hdmlnYXRlVG9MYXN0LFxyXG5cclxuICAgICAgICBmb2N1c0N1cnJlbnQsXHJcblxyXG4gICAgICAgIC4uLnJlc3RcclxuICAgIH1cclxufVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHRyeU5hdmlnYXRlVG9JbmRleDxJIGV4dGVuZHMgeyBoaWRkZW4/OiBib29sZWFuIH0+KG1hbmFnZWRDZWxsczogKEkgfCBudWxsIHwgdW5kZWZpbmVkKVtdLCBpbml0aWFsOiBudW1iZXIsIHRhcmdldDogbnVtYmVyLCBzZWFyY2hEaXJlY3Rpb246IDEgfCAtMSwgaW5kZXhNYW5nbGVyOiAobjogbnVtYmVyKSA9PiBudW1iZXIsIGluZGV4RGVtYW5nbGVyOiAobjogbnVtYmVyKSA9PiBudW1iZXIpIHtcclxuICAgIGZ1bmN0aW9uIGhlbHBlcigpIHtcclxuICAgICAgICBpZiAoc2VhcmNoRGlyZWN0aW9uID09PSAtMSkge1xyXG4gICAgICAgICAgICB3aGlsZSAodGFyZ2V0ID49IDAgJiYgKG1hbmFnZWRDZWxsc1t0YXJnZXRdID09IG51bGwgfHwgISFtYW5hZ2VkQ2VsbHNbdGFyZ2V0XT8uaGlkZGVuKSlcclxuICAgICAgICAgICAgICAgIHRhcmdldCA9IGluZGV4TWFuZ2xlcihpbmRleERlbWFuZ2xlcih0YXJnZXQpIC0gMSk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0IDwgMCA/IGluaXRpYWwgOiB0YXJnZXQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHNlYXJjaERpcmVjdGlvbiA9PT0gMSkge1xyXG4gICAgICAgICAgICB3aGlsZSAodGFyZ2V0IDwgbWFuYWdlZENlbGxzLmxlbmd0aCAmJiBtYW5hZ2VkQ2VsbHNbdGFyZ2V0XSA9PSBudWxsIHx8ICEhbWFuYWdlZENlbGxzW3RhcmdldF0/LmhpZGRlbilcclxuICAgICAgICAgICAgICAgIHRhcmdldCA9IGluZGV4TWFuZ2xlcihpbmRleERlbWFuZ2xlcih0YXJnZXQpICsgMSk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0ID49IG1hbmFnZWRDZWxscy5sZW5ndGggPyBpbml0aWFsIDogdGFyZ2V0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGluaXRpYWw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIChoZWxwZXIoKSlcclxufVxyXG5cclxuIiwiaW1wb3J0IHsgaCB9IGZyb20gXCJwcmVhY3RcIjtcclxuaW1wb3J0IHsgdXNlQ2FsbGJhY2sgfSBmcm9tIFwicHJlYWN0L2hvb2tzXCI7XHJcbmltcG9ydCB7IHVzZUNoaWxkRmxhZywgdXNlQ2hpbGRNYW5hZ2VyIH0gZnJvbSBcIi4vdXNlLWNoaWxkLW1hbmFnZXJcIjtcclxuaW1wb3J0IHsgdXNlRWZmZWN0IH0gZnJvbSBcIi4vdXNlLWVmZmVjdFwiO1xyXG5pbXBvcnQgeyB1c2VGb3JjZVVwZGF0ZSB9IGZyb20gXCIuL3VzZS1mb3JjZS11cGRhdGVcIjtcclxuaW1wb3J0IHsgdXNlTGluZWFyTmF2aWdhdGlvbiwgdXNlVHlwZWFoZWFkTmF2aWdhdGlvbiB9IGZyb20gXCIuL3VzZS1rZXlib2FyZC1uYXZpZ2F0aW9uXCI7XHJcbmltcG9ydCB7IHRyeU5hdmlnYXRlVG9JbmRleCB9IGZyb20gXCIuL3VzZS1saXN0LW5hdmlnYXRpb25cIjtcclxuaW1wb3J0IHsgdXNlTWVyZ2VkUHJvcHMgfSBmcm9tIFwiLi91c2UtbWVyZ2VkLXByb3BzXCI7XHJcbmltcG9ydCB7IFVzZVJlZkVsZW1lbnRQcm9wc1JldHVyblR5cGUgfSBmcm9tIFwiLi91c2UtcmVmLWVsZW1lbnRcIjtcclxuaW1wb3J0IHsgdXNlUm92aW5nVGFiSW5kZXgsIFVzZVJvdmluZ1RhYkluZGV4Q2hpbGRJbmZvLCBVc2VSb3ZpbmdUYWJJbmRleENoaWxkUGFyYW1ldGVycyB9IGZyb20gXCIuL3VzZS1yb3ZpbmctdGFiaW5kZXhcIjtcclxuaW1wb3J0IHsgdXNlU3RhYmxlQ2FsbGJhY2sgfSBmcm9tIFwiLi91c2Utc3RhYmxlLWNhbGxiYWNrXCI7XHJcbmltcG9ydCB7IHVzZVN0YWJsZUdldHRlciB9IGZyb20gXCIuL3VzZS1zdGFibGUtZ2V0dGVyXCI7XHJcbmltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSBcIi4vdXNlLXN0YXRlXCI7XHJcblxyXG5leHBvcnQgdHlwZSBPbWl0U3Ryb25nPFQsIEsgZXh0ZW5kcyBrZXlvZiBUPiA9IFBpY2s8VCwgRXhjbHVkZTxrZXlvZiBULCBLPj47XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFVzZUdyaWROYXZpZ2F0aW9uUm93SW5mbyBleHRlbmRzIFVzZVJvdmluZ1RhYkluZGV4Q2hpbGRJbmZvIHtcclxuICAgIHNldElzVGFiYmFibGVSb3codGFiYmFibGU6IGJvb2xlYW4pOiB2b2lkO1xyXG4gICAgZ2V0SXNUYWJiYWJsZVJvdygpOiBib29sZWFuIHwgbnVsbDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIElmIGEgZ3JpZCByb3cgaXMgaGlkZGVuLCBpdCB3aWxsIGJlIHNraXBwZWQgb3ZlclxyXG4gICAgICogZHVyaW5nIGtleWJvYXJkIG5hdmlnYXRpb24sIGFuZCB0aGUgSFRNTCBgaGlkZGVuYFxyXG4gICAgICogYXR0cmlidXRlIHdpbGwgYmUgYXBwbGllZC5cclxuICAgICAqL1xyXG4gICAgaGlkZGVuPzogYm9vbGVhbjtcclxufVxyXG5cclxuZXhwb3J0IHR5cGUgVXNlR3JpZE5hdmlnYXRpb25Sb3dQYXJhbWV0ZXJzPEkgZXh0ZW5kcyBVc2VSb3ZpbmdUYWJJbmRleENoaWxkSW5mbz4gPSBPbWl0PFVzZVJvdmluZ1RhYkluZGV4Q2hpbGRQYXJhbWV0ZXJzPEkgJiB7IGhpZGRlbj86IGJvb2xlYW4gfT4sIFwic2V0SXNUYWJiYWJsZVJvd1wiIHwgXCJnZXRJc1RhYmJhYmxlUm93XCI+OyAvL0k7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFVzZUdyaWROYXZpZ2F0aW9uQ2VsbEluZm8gZXh0ZW5kcyBVc2VSb3ZpbmdUYWJJbmRleENoaWxkSW5mbyB7IGhpZGRlbj86IGJvb2xlYW47IH1cclxuZXhwb3J0IHR5cGUgVXNlR3JpZE5hdmlnYXRpb25DZWxsUGFyYW1ldGVyczxJQyBleHRlbmRzIFVzZUdyaWROYXZpZ2F0aW9uQ2VsbEluZm8+ID0gVXNlUm92aW5nVGFiSW5kZXhDaGlsZFBhcmFtZXRlcnM8SUM+O1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBVc2VHcmlkTmF2aWdhdGlvblJvd1JldHVyblR5cGU8UiBleHRlbmRzIEVsZW1lbnQsIEMgZXh0ZW5kcyBFbGVtZW50LCBfSVIgZXh0ZW5kcyBVc2VHcmlkTmF2aWdhdGlvblJvd0luZm8sIElDIGV4dGVuZHMgVXNlR3JpZE5hdmlnYXRpb25DZWxsSW5mbz4ge1xyXG4gICAgdXNlR3JpZE5hdmlnYXRpb25Sb3dQcm9wczogPFAgZXh0ZW5kcyBoLkpTWC5IVE1MQXR0cmlidXRlczxSPj4ocHJvcHM6IFApID0+IFVzZVJlZkVsZW1lbnRQcm9wc1JldHVyblR5cGU8UiwgVXNlUmVmRWxlbWVudFByb3BzUmV0dXJuVHlwZTxSLCBoLkpTWC5IVE1MQXR0cmlidXRlczxSPj4+O1xyXG4gICAgdXNlR3JpZE5hdmlnYXRpb25DZWxsOiBVc2VHcmlkTmF2aWdhdGlvbkNlbGw8QywgSUM+O1xyXG4gICAgY2VsbENvdW50OiBudW1iZXI7XHJcbiAgICBpc1RhYmJhYmxlUm93OiBib29sZWFuIHwgbnVsbDtcclxuICAgIGN1cnJlbnRDb2x1bW46IG51bWJlciB8IG51bGw7XHJcbiAgICBtYW5hZ2VkQ2VsbHM6IElDW107XHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIFVzZUdyaWROYXZpZ2F0aW9uUm93PFIgZXh0ZW5kcyBFbGVtZW50LCBDIGV4dGVuZHMgRWxlbWVudCwgSVIgZXh0ZW5kcyBVc2VHcmlkTmF2aWdhdGlvblJvd0luZm8sIElDIGV4dGVuZHMgVXNlR3JpZE5hdmlnYXRpb25DZWxsSW5mbz4gPSAoeyBpbmRleCwgLi4uaW5mbyB9OiBVc2VHcmlkTmF2aWdhdGlvblJvd1BhcmFtZXRlcnM8SVI+KSA9PiBVc2VHcmlkTmF2aWdhdGlvblJvd1JldHVyblR5cGU8UiwgQywgSVIsIElDPlxyXG5cclxuZXhwb3J0IHR5cGUgVXNlR3JpZE5hdmlnYXRpb25DZWxsPEMgZXh0ZW5kcyBFbGVtZW50LCBJQyBleHRlbmRzIFVzZUdyaWROYXZpZ2F0aW9uQ2VsbEluZm8+ID0gKHBhcmFtczogVXNlR3JpZE5hdmlnYXRpb25DZWxsUGFyYW1ldGVyczxJQz4pID0+IHtcclxuICAgIHVzZUdyaWROYXZpZ2F0aW9uQ2VsbFByb3BzOiA8UCBleHRlbmRzIGguSlNYLkhUTUxBdHRyaWJ1dGVzPEM+Pihwcm9wczogUCkgPT4gaC5KU1guSFRNTEF0dHJpYnV0ZXM8Qz47XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlkZW50aXR5PFQ+KHQ6IFQpIHsgcmV0dXJuIHQ7IH1cclxuXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFVzZUdyaWROYXZpZ2F0aW9uUGFyYW1ldGVycyB7XHJcbiAgICBzaG91bGRGb2N1c09uQ2hhbmdlKCk6IGJvb2xlYW4sXHJcbiAgICBpbmRleE1hbmdsZXI/KHVubWFuZ2xlZDogbnVtYmVyKTogbnVtYmVyLFxyXG4gICAgaW5kZXhEZW1hbmdsZXI/KG1hbmdsZWQ6IG51bWJlcik6IG51bWJlclxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdXNlR3JpZE5hdmlnYXRpb248UiBleHRlbmRzIEVsZW1lbnQsIEMgZXh0ZW5kcyBFbGVtZW50LCBJUiBleHRlbmRzIFVzZUdyaWROYXZpZ2F0aW9uUm93SW5mbywgSUMgZXh0ZW5kcyBVc2VHcmlkTmF2aWdhdGlvbkNlbGxJbmZvPih7IHNob3VsZEZvY3VzT25DaGFuZ2UsIGluZGV4TWFuZ2xlciwgaW5kZXhEZW1hbmdsZXIgfTogVXNlR3JpZE5hdmlnYXRpb25QYXJhbWV0ZXJzKSB7XHJcblxyXG4gICAgaW5kZXhNYW5nbGVyID8/PSBpZGVudGl0eTtcclxuICAgIGluZGV4RGVtYW5nbGVyID8/PSBpZGVudGl0eTtcclxuXHJcbiAgICBjb25zdCBnZXRGb2N1c0NlbGxPblJvd0NoYW5nZSA9IHVzZVN0YWJsZUNhbGxiYWNrKHNob3VsZEZvY3VzT25DaGFuZ2UpO1xyXG5cclxuICAgIC8vIEtlZXAgdHJhY2sgb2Ygb3VyIGN1cnJlbnRseSB0YWJiYWJsZSByb3cgYW5kIGNvbHVtbi5cclxuICAgIC8vIFRoZXNlIGFyZSBtYW5nbGVkLCBhbmQgc28gcmVsYXRpdmUgdG8gdGhlIERPTSBvcmRlciwgbm90IGNvbXBvbmVudCBvcmRlci5cclxuICAgIC8vIEFueSBvcGVyYXRpb25zIGRvbmUgb24gdGhlc2UgbnVtYmVycyBuZWVkIHRvIGJlIGRlbWFuZ2xlZCBmaXJzdCxcclxuICAgIC8vIG90aGVyd2lzZSB0aGV5J2xsIGJlIGluY29ycmVjdC5cclxuICAgIGNvbnN0IFtjdXJyZW50Um93LCBzZXRDdXJyZW50Um93MiwgZ2V0Q3VycmVudFJvd10gPSB1c2VTdGF0ZTxudW1iZXIgfCBudWxsPigwKTtcclxuICAgIGNvbnN0IFtjdXJyZW50Q29sdW1uLCBzZXRDdXJyZW50Q29sdW1uMiwgZ2V0Q3VycmVudENvbHVtbl0gPSB1c2VTdGF0ZSgwKTtcclxuXHJcbiAgICAvLyBGdW5jdGlvbnMgdXNlZCBmb3IgbmF2aWdhdGluZyB0byBkaWZmZXJlbnQgcm93cy5cclxuICAgIC8vIEVhY2ggcm93IGhhcyBpdHMgb3duIHVzZVJvdmluZ1RhYkluZGV4IC0tIGlmIGl0J3Mgbm90IHRoZSBcclxuICAgIC8vIGN1cnJlbnQgcm93LCB0aGVuIGFsbCBvZiBpdHMgY2hpbGRyZW4gYXJlIG5vbi10YWJiYWJsZS5cclxuICAgIC8vIE90aGVyd2lzZSwgaXQgaXMgdGFiYmFibGUsIHdpdGggdGhlIHRhYmJhYmxlIGNlbGwgYmVpbmcgY3VycmVudENvbHVtbi5cclxuICAgIC8vIFRoaXMgaGFwcGVucyBhdXRvbWF0aWNhbGx5IHdoZW4gdGhlc2UgZnVuY3Rpb25zIGFyZSBjYWxsZWQuXHJcbiAgICBjb25zdCBuYXZpZ2F0ZVRvRmlyc3RSb3cgPSB1c2VDYWxsYmFjaygoKSA9PiB7IHNldEN1cnJlbnRSb3cyKGMgPT4gdHJ5TmF2aWdhdGVUb0luZGV4KG1hbmFnZWRSb3dzLCBjID8/IDAsIDAsIDEsIGluZGV4TWFuZ2xlciEsIGluZGV4RGVtYW5nbGVyISkpOyB9LCBbaW5kZXhNYW5nbGVyLCBpbmRleERlbWFuZ2xlcl0pXHJcbiAgICBjb25zdCBuYXZpZ2F0ZVRvTGFzdFJvdyA9IHVzZUNhbGxiYWNrKCgpID0+IHsgc2V0Q3VycmVudFJvdzIoYyA9PiB0cnlOYXZpZ2F0ZVRvSW5kZXgobWFuYWdlZFJvd3MsIGMgPz8gMCwgbWFuYWdlZFJvd3MubGVuZ3RoIC0gMSwgLTEsIGluZGV4TWFuZ2xlciEsIGluZGV4RGVtYW5nbGVyISkpOyB9LCBbaW5kZXhNYW5nbGVyLCBpbmRleERlbWFuZ2xlcl0pXHJcbiAgICBjb25zdCBuYXZpZ2F0ZVRvUHJldlJvdyA9IHVzZUNhbGxiYWNrKCgpID0+IHsgc2V0Q3VycmVudFJvdzIoYyA9PiB7IHJldHVybiB0cnlOYXZpZ2F0ZVRvSW5kZXgobWFuYWdlZFJvd3MsIGMgPz8gMCwgaW5kZXhNYW5nbGVyIShNYXRoLm1heCgwLCBpbmRleERlbWFuZ2xlciEoYyA/PyAwKSAtIDEpKSwgLTEsIGluZGV4TWFuZ2xlciEsIGluZGV4RGVtYW5nbGVyISk7IH0pOyB9LCBbaW5kZXhNYW5nbGVyLCBpbmRleERlbWFuZ2xlcl0pXHJcbiAgICBjb25zdCBuYXZpZ2F0ZVRvTmV4dFJvdyA9IHVzZUNhbGxiYWNrKCgpID0+IHsgc2V0Q3VycmVudFJvdzIoYyA9PiB7IHJldHVybiB0cnlOYXZpZ2F0ZVRvSW5kZXgobWFuYWdlZFJvd3MsIGMgPz8gMCwgaW5kZXhNYW5nbGVyIShNYXRoLm1pbigobWFuYWdlZFJvd3MubGVuZ3RoIC0gMSksIGluZGV4RGVtYW5nbGVyIShjID8/IDApICsgMSkpLCAxLCBpbmRleE1hbmdsZXIhLCBpbmRleERlbWFuZ2xlciEpOyB9KTsgfSwgW2luZGV4TWFuZ2xlciwgaW5kZXhEZW1hbmdsZXJdKTtcclxuXHJcbiAgICAvLyBUcmFjayBjaGlsZCByb3dzIGFuZCBtYW5hZ2Uga2V5Ym9hcmQgbmF2aWdhdGlvbiBhbW9uZyB0aGVtLlxyXG4gICAgY29uc3QgeyBjaGlsZENvdW50LCBtYW5hZ2VkQ2hpbGRyZW46IG1hbmFnZWRSb3dzLCB1c2VNYW5hZ2VkQ2hpbGQ6IHVzZU1hbmFnZWRSb3cgfSA9IHVzZUNoaWxkTWFuYWdlcjxJUj4oKTtcclxuICAgIGNvbnN0IHsgdXNlTGluZWFyTmF2aWdhdGlvblByb3BzOiB1c2VMaW5lYXJOYXZpZ2F0aW9uUm93UHJvcHMgfSA9IHVzZUxpbmVhck5hdmlnYXRpb248YW55Pih7XHJcbiAgICAgICAgbWFuYWdlZENoaWxkcmVuOiBtYW5hZ2VkUm93cyxcclxuICAgICAgICBpbmRleDogaW5kZXhNYW5nbGVyKGdldEN1cnJlbnRSb3coKSA/PyAwKSxcclxuICAgICAgICBuYXZpZ2F0ZVRvRmlyc3Q6IG5hdmlnYXRlVG9GaXJzdFJvdyxcclxuICAgICAgICBuYXZpZ2F0ZVRvTGFzdDogbmF2aWdhdGVUb0xhc3RSb3csXHJcbiAgICAgICAgbmF2aWdhdGVUb05leHQ6IG5hdmlnYXRlVG9OZXh0Um93LFxyXG4gICAgICAgIG5hdmlnYXRlVG9QcmV2OiBuYXZpZ2F0ZVRvUHJldlJvdyxcclxuICAgICAgICBuYXZpZ2F0aW9uRGlyZWN0aW9uOiBcImJsb2NrXCJcclxuICAgIH0pXHJcblxyXG4gICAgLy8gQWN0dWFsbHkgaGFuZGxlIG5vdGlmeWluZyB0aGUgcmVsZXZhbnQgcm93cyB3aGVuIHRoZXlcclxuICAgIC8vIGNoYW5nZSBmcm9tIHVudGFiYmFibGUgdG8gdGFiYmFibGUgb3IgdmljZS12ZXJzYS5cclxuICAgIHVzZUNoaWxkRmxhZyh7XHJcbiAgICAgICAgYWN0aXZhdGVkSW5kZXg6IGN1cnJlbnRSb3csXHJcbiAgICAgICAgbWFuYWdlZENoaWxkcmVuOiBtYW5hZ2VkUm93cyxcclxuICAgICAgICBzZXRDaGlsZEZsYWc6IChpbmRleCwgdGFiYmFibGUpID0+IHsgbWFuYWdlZFJvd3NbaW5kZXhdPy5zZXRJc1RhYmJhYmxlUm93KHRhYmJhYmxlKSB9LFxyXG4gICAgICAgIGdldENoaWxkRmxhZzogKGluZGV4KSA9PiAobWFuYWdlZFJvd3NbaW5kZXhdPy5nZXRJc1RhYmJhYmxlUm93KCkgPz8gbnVsbCksXHJcbiAgICAgICAgdXNlRWZmZWN0OiB1c2VFZmZlY3RcclxuICAgIH0pO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogT3B0aW9uYWwsIGJ1dCBwcm92aWRlcyB0eXBlYWhlYWQgZm9yIGVhY2ggY29sdW1uIGluIHRoZSB0YWJsZS5cclxuICAgICAqL1xyXG4gICAgY29uc3QgdXNlR3JpZE5hdmlnYXRpb25Db2x1bW4gPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgeyBjdXJyZW50VHlwZWFoZWFkLCBpbnZhbGlkVHlwZWFoZWFkLCB1c2VUeXBlYWhlYWROYXZpZ2F0aW9uQ2hpbGQgfSA9IHVzZVR5cGVhaGVhZE5hdmlnYXRpb24oeyBnZXRJbmRleDogZ2V0Q3VycmVudFJvdywgc2V0SW5kZXg6IHNldEN1cnJlbnRSb3cyIH0pO1xyXG5cclxuICAgICAgICBjb25zdCB1c2VHcmlkTmF2aWdhdGlvbkNvbHVtbkNoaWxkID0gdXNlQ2FsbGJhY2soKHsgaW5kZXg6IHJvd0luZGV4LCB0ZXh0LCBoaWRkZW4gfTogeyBpbmRleDogbnVtYmVyLCB0ZXh0OiBzdHJpbmcsIGhpZGRlbj86IGJvb2xlYW4gfSkgPT4ge1xyXG4gICAgICAgICAgICB1c2VUeXBlYWhlYWROYXZpZ2F0aW9uQ2hpbGQoeyBpbmRleDogcm93SW5kZXgsIHRleHQ6IGhpZGRlbiA/IG51bGwgOiB0ZXh0IH0pO1xyXG4gICAgICAgIH0sIFt1c2VUeXBlYWhlYWROYXZpZ2F0aW9uQ2hpbGRdKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHsgdXNlR3JpZE5hdmlnYXRpb25Db2x1bW5DaGlsZCwgY3VycmVudFR5cGVhaGVhZCwgaW52YWxpZFR5cGVhaGVhZCB9O1xyXG4gICAgfSwgW10pXHJcblxyXG4gICAgLy8gTGFzdCB0aGluZyBiZWZvcmUgd2UgcmV0dXJuIC0tIGhlcmUncyB0aGUgaG9vayBmb3IgaW5kaXZpZHVhbCByb3dzIGFuZCB0aGVpciBjZWxscy5cclxuICAgIGNvbnN0IHVzZUdyaWROYXZpZ2F0aW9uUm93OiBVc2VHcmlkTmF2aWdhdGlvblJvdzxSLCBDLCBJUiwgSUM+ID0gdXNlQ2FsbGJhY2soKHsgaW5kZXg6IHJvd0luZGV4LCBoaWRkZW4sIC4uLmluZm8gfTogVXNlR3JpZE5hdmlnYXRpb25Sb3dQYXJhbWV0ZXJzPElSPik6IFVzZUdyaWROYXZpZ2F0aW9uUm93UmV0dXJuVHlwZTxSLCBDLCBJUiwgSUM+ID0+IHtcclxuXHJcbiAgICAgICAgLy8gV2hlbiB3ZSBjaGFuZ2UgdGhlIGN1cnJlbnQgY29sdW1uLCB3ZSBzZW5kIHRoYXQgaW5mb3JtYXRpb25cclxuICAgICAgICAvLyB0byB0aGUgcGFyZW50IHZpYSBzZXRTdGF0ZSwgYnV0IHRoYXQgZG9lc24ndCBkbyBhbnl0aGluZ1xyXG4gICAgICAgIC8vIGZvciB1cy4gIFRoZSBwYXJlbnQgZG9lc24ndCBldmVyIG1hbmFnZSByb3dzJyBjZWxscyBmb3IgdGhlbS5cclxuICAgICAgICAvLyBcclxuICAgICAgICAvLyBTbyB0byBnZXQgdXMgdG8gYWxzbyB1cGRhdGUgYWxvbmdzaWRlIHRoZSBwYXJlbnQsXHJcbiAgICAgICAgLy8gd2UganVzdCB1c2UgZm9yY2VVcGRhdGUuXHJcbiAgICAgICAgLy8gV2UgY291bGQgYWxzbyBrZWVwIGEgY29weSBvZiwgbGlrZSwgXCJ3aGF0IHRoaXMgcm93IHRoaW5rc1xyXG4gICAgICAgIC8vIHRoZSBjdXJyZW50IGNvbHVtbiBpc1wiIHRoYXQgKnNob3VsZCogYWx3YXlzIGJlIGtlcHQgaW4tXHJcbiAgICAgICAgLy8gc3luYyB3aXRoIFwiZ2V0Q3VycmVudENvbHVtbigpXCIgYXMgYSBzdGF0ZSB2YXJpYWJsZSxcclxuICAgICAgICAvLyBidXQgaXQgKmp1c3QqIGJlaW5nIHVzZWQgZm9yIHRoYXQgaXMgYXJndWFibHkgKm1vcmUqIGNvbmZ1c2luZy5cclxuICAgICAgICAvL1xyXG4gICAgICAgIC8vIEJhc2ljYWxseSwgaW5mb3JtYXRpb24gcmVnYXJkaW5nIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgY29sdW1uXHJcbiAgICAgICAgLy8gXCJiZWxvbmdzXCIgdG8gKmJvdGgqIHRoaXMgcm93IGFuZCB0aGUgcGFyZW50LCBjb25jZXB0dWFsbHksXHJcbiAgICAgICAgLy8gYnV0IGZvciBjbGVhbmxpbmVzcycgc2FrZSwganVzdCBvbmUgb2YgdGhlbSBnZXRzIGl0LFxyXG4gICAgICAgIC8vIGFuZCB0aGUgb3RoZXIgaXMgbWFudWFsbHkgdXBkYXRlZCB3aGVuZXZlciBpdCBjaGFuZ2VzLlxyXG4gICAgICAgIGNvbnN0IGZvcmNlVXBkYXRlID0gdXNlRm9yY2VVcGRhdGUoKTtcclxuXHJcblxyXG4gICAgICAgIC8vIFwiU2hvcnRjdXRcIiBmb3IgYW55IGdpdmVuIHJvdyB0byBrbm93IHRoYXQgaXQgc2hvdWxkIG9yIHNob3VsZCBub3RcclxuICAgICAgICAvLyBjb25zaWRlciBvbmUgb2YgaXRzIGNlbGxzIHRhYmJhYmxlLiAgQWxzbyB1c2VkIHRvIGRldGVybWluZVxyXG4gICAgICAgIC8vIGlmIGEgY2hhbmdlIHRvIHRoZSBjdXJyZW50IHNlbGVjdGVkIGNlbGwgc2hvdWxkIGFsc29cclxuICAgICAgICAvLyB0cmlnZ2VyIGZvY3VzaW5nIHRoYXQgY2VsbC5cclxuICAgICAgICBjb25zdCBbaXNUYWJiYWJsZVJvdywgc2V0SXNUYWJiYWJsZVJvdywgZ2V0SXNUYWJiYWJsZVJvd10gPSB1c2VTdGF0ZTxib29sZWFuIHwgbnVsbD4obnVsbCk7XHJcblxyXG4gICAgICAgIC8vIElmIHdlJ3JlIG5vdCB0aGUgdGFiYmFibGUgcm93LCB0aGVuIGZvciB0aGUgcHVycG9zZXMgb2YgdGFiSW5kZXhcclxuICAgICAgICAvLyBjYWxjdWxhdGlvbnMsIHdlIGRvbid0IGhhdmUgYSB0YWJiYWJsZSBjaGlsZCBjZWxsLlxyXG4gICAgICAgIGNvbnN0IGN1cnJlbnRDb2x1bW4gPSBpc1RhYmJhYmxlUm93ID8gZ2V0Q3VycmVudENvbHVtbigpIDogbnVsbDtcclxuXHJcbiAgICAgICAgLy8gVHJhY2sgY2hpbGQgY2VsbHMgYW5kIG1hbmFnZSBrZXlib2FyZCBuYXZpZ2F0aW9uIGFtb25nIHRoZW0uXHJcbiAgICAgICAgY29uc3QgeyBtYW5hZ2VkQ2hpbGRyZW46IG1hbmFnZWRDZWxscywgdXNlUm92aW5nVGFiSW5kZXhDaGlsZDogdXNlUm92aW5nVGFiSW5kZXhDZWxsLCBjaGlsZENvdW50OiBjZWxsQ291bnQgfSA9IHVzZVJvdmluZ1RhYkluZGV4PElDPih7XHJcbiAgICAgICAgICAgIHNob3VsZEZvY3VzT25DaGFuZ2U6IHVzZUNhbGxiYWNrKCgpID0+IHsgcmV0dXJuICEhZ2V0Rm9jdXNDZWxsT25Sb3dDaGFuZ2UoKSAmJiAhIWdldElzVGFiYmFibGVSb3coKSB9LCBbXSksXHJcbiAgICAgICAgICAgIHRhYmJhYmxlSW5kZXg6IGN1cnJlbnRDb2x1bW5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gTW9yZSBuYXZpZ2F0aW9uIHN0dWZmXHJcbiAgICAgICAgY29uc3QgbmF2aWdhdGVUb0ZpcnN0Q29sdW1uID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgICAgICAgICBzZXRDdXJyZW50Q29sdW1uMih0cnlOYXZpZ2F0ZVRvSW5kZXgobWFuYWdlZENlbGxzLCAwLCAwLCAxLCBpZGVudGl0eSwgaWRlbnRpdHkpKTtcclxuICAgICAgICAgICAgZm9yY2VVcGRhdGUoKTtcclxuICAgICAgICB9LCBbXSlcclxuICAgICAgICBjb25zdCBuYXZpZ2F0ZVRvTGFzdENvbHVtbiA9IHVzZUNhbGxiYWNrKCgpID0+IHsgc2V0Q3VycmVudENvbHVtbjIodHJ5TmF2aWdhdGVUb0luZGV4KG1hbmFnZWRDZWxscywgbWFuYWdlZENlbGxzLmxlbmd0aCwgbWFuYWdlZENlbGxzLmxlbmd0aCwgLTEsIGlkZW50aXR5LCBpZGVudGl0eSkpOyBmb3JjZVVwZGF0ZSgpOyB9LCBbXSlcclxuICAgICAgICBjb25zdCBuYXZpZ2F0ZVRvUHJldkNvbHVtbiA9IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgICAgICAgICAgc2V0Q3VycmVudENvbHVtbjIoYyA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ5TmF2aWdhdGVUb0luZGV4KG1hbmFnZWRDZWxscywgYywgYyAtIDEsIC0xLCBpZGVudGl0eSwgaWRlbnRpdHkpXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIGZvcmNlVXBkYXRlKCk7XHJcbiAgICAgICAgfSwgW10pXHJcbiAgICAgICAgY29uc3QgbmF2aWdhdGVUb05leHRDb2x1bW4gPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICAgICAgICAgIHNldEN1cnJlbnRDb2x1bW4yKGMgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRyeU5hdmlnYXRlVG9JbmRleChtYW5hZ2VkQ2VsbHMsIGMsIGMgKyAxLCAxLCBpZGVudGl0eSwgaWRlbnRpdHkpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBmb3JjZVVwZGF0ZSgpO1xyXG4gICAgICAgIH0sIFtdKVxyXG5cclxuICAgICAgICBjb25zdCB7IHVzZUxpbmVhck5hdmlnYXRpb25Qcm9wczogdXNlTGluZWFyTmF2aWdhdGlvbkNlbGxQcm9wcyB9ID0gdXNlTGluZWFyTmF2aWdhdGlvbjxSPih7XHJcbiAgICAgICAgICAgIG1hbmFnZWRDaGlsZHJlbjogbWFuYWdlZENlbGxzLFxyXG4gICAgICAgICAgICBuYXZpZ2F0aW9uRGlyZWN0aW9uOiBcImlubGluZVwiLFxyXG4gICAgICAgICAgICBpbmRleDogY3VycmVudENvbHVtbiA/PyAwLFxyXG4gICAgICAgICAgICBkaXNhYmxlSG9tZUVuZEtleXM6IHRydWUsXHJcbiAgICAgICAgICAgIG5hdmlnYXRlVG9GaXJzdDogbmF2aWdhdGVUb0ZpcnN0Q29sdW1uLFxyXG4gICAgICAgICAgICBuYXZpZ2F0ZVRvTGFzdDogbmF2aWdhdGVUb0xhc3RDb2x1bW4sXHJcbiAgICAgICAgICAgIG5hdmlnYXRlVG9QcmV2OiBuYXZpZ2F0ZVRvUHJldkNvbHVtbixcclxuICAgICAgICAgICAgbmF2aWdhdGVUb05leHQ6IG5hdmlnYXRlVG9OZXh0Q29sdW1uXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIE5vdGlmeSB0aGUgcmVsZXZhbnQgY2hpbGQgY2VsbHMgd2hlbiB0aGV5IHNob3VsZC9zaG91bGQgbm90IGJlIHRhYmJhYmxlXHJcbiAgICAgICAgdXNlQ2hpbGRGbGFnKHtcclxuICAgICAgICAgICAgYWN0aXZhdGVkSW5kZXg6IGN1cnJlbnRDb2x1bW4sXHJcbiAgICAgICAgICAgIG1hbmFnZWRDaGlsZHJlbjogbWFuYWdlZENlbGxzLFxyXG4gICAgICAgICAgICBzZXRDaGlsZEZsYWc6IChjZWxsSW5kZXgsIGNlbGxJc1RhYmJhYmxlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2VsbEluZGV4ICE9IG51bGwgJiYgbWFuYWdlZENlbGxzW2NlbGxJbmRleF0pIHtcclxuICAgICAgICAgICAgICAgICAgICBtYW5hZ2VkQ2VsbHNbY2VsbEluZGV4XS5zZXRUYWJiYWJsZShjZWxsSXNUYWJiYWJsZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjZWxsSXNUYWJiYWJsZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFuYWdlZENlbGxzW2NlbGxJbmRleF0ucmVyZW5kZXJBbmRGb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBnZXRDaGlsZEZsYWc6IChjZWxsSW5kZXgpID0+IChtYW5hZ2VkQ2VsbHNbY2VsbEluZGV4XT8uZ2V0VGFiYmFibGUoKSA/PyBudWxsKSxcclxuICAgICAgICAgICAgdXNlRWZmZWN0XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEFueSB0aW1lIHdlIGJlY29tZSB0aGUgY3VycmVudGx5IHRhYmJhYmxlIHJvdyxcclxuICAgICAgICAvLyBtYWtlIHN1cmUgdGhhdCB3ZSdyZSBpbiBhIHZhbGlkIGNlbGwsIGFuZCBzaGlmdCBsZWZ0L3JpZ2h0IGlmIG5vdCB0byBmaW5kIG9uZS5cclxuICAgICAgICAvLyBUT0RPOiBTZWVtcyBraW5kYSBqYW5reT8gSXMgdGhlcmUgbm8gY2xlYW5lciB3YXkgdG8gYWNjb21wbGlzaCB0aGlzLFxyXG4gICAgICAgIC8vIGVzcGVjaWFsbHkgc2luY2UgaXQncyBzaW1pbGFyIHRvIG90aGVyIGNvZGU/XHJcbiAgICAgICAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGlzVGFiYmFibGVSb3cpIHtcclxuICAgICAgICAgICAgICAgIGxldCBjZWxsSW5kZXggPSBnZXRDdXJyZW50Q29sdW1uKCk7XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAoY2VsbEluZGV4ID49IDAgJiYgbWFuYWdlZENlbGxzW2NlbGxJbmRleF0gPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC0tY2VsbEluZGV4O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGNlbGxJbmRleCA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBjZWxsSW5kZXggPSBnZXRDdXJyZW50Q29sdW1uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGNlbGxJbmRleCA8IG1hbmFnZWRDZWxscy5sZW5ndGggJiYgbWFuYWdlZENlbGxzW2NlbGxJbmRleF0gPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICArK2NlbGxJbmRleDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNlbGxJbmRleCA9PSBtYW5hZ2VkQ2VsbHMubGVuZ3RoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjZWxsSW5kZXggPSBnZXRDdXJyZW50Q29sdW1uKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoY2VsbEluZGV4ICE9IGdldEN1cnJlbnRDb2x1bW4oKSlcclxuICAgICAgICAgICAgICAgICAgICBzZXRDdXJyZW50Q29sdW1uMihjZWxsSW5kZXgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgW2lzVGFiYmFibGVSb3ddKTtcclxuXHJcbiAgICAgICAgY29uc3QgeyB1c2VNYW5hZ2VkQ2hpbGRQcm9wczogdXNlTWFuYWdlZFJvd1Byb3BzIH0gPSB1c2VNYW5hZ2VkUm93PFI+KHtcclxuICAgICAgICAgICAgaW5kZXg6IHJvd0luZGV4LFxyXG4gICAgICAgICAgICBzZXRJc1RhYmJhYmxlUm93LFxyXG4gICAgICAgICAgICBnZXRJc1RhYmJhYmxlUm93OiBnZXRJc1RhYmJhYmxlUm93LFxyXG4gICAgICAgICAgICBoaWRkZW4sXHJcbiAgICAgICAgICAgIC4uLmluZm9cclxuICAgICAgICB9IGFzIGFueSBhcyBJUik7XHJcbiAgICAgICAgLy9jb25zdCB7IHVzZUxpbmVhck5hdmlnYXRpb25DaGlsZFByb3BzOiB1c2VMaW5lYXJOYXZpZ2F0aW9uQ2hpbGRSb3dQcm9wcyB9ID0gdXNlTGluZWFyTmF2aWdhdGlvbkNoaWxkUm93KGluZm8gYXMgSVIpXHJcblxyXG4gICAgICAgIGNvbnN0IHVzZUdyaWROYXZpZ2F0aW9uUm93UHJvcHMgPSB1c2VDYWxsYmFjayg8UCBleHRlbmRzIGguSlNYLkhUTUxBdHRyaWJ1dGVzPFI+Pihwcm9wczogUCkgPT4gdXNlTWFuYWdlZFJvd1Byb3BzKHVzZUxpbmVhck5hdmlnYXRpb25DZWxsUHJvcHModXNlTWVyZ2VkUHJvcHM8Uj4oKSh7IGhpZGRlbjogISFoaWRkZW4sIFwiZGF0YS1pbmRleFwiOiByb3dJbmRleCB9LCBwcm9wcykpKSwgW3VzZU1hbmFnZWRSb3dQcm9wcywgISFoaWRkZW5dKTtcclxuXHJcblxyXG5cclxuICAgICAgICBjb25zdCBnZXRSb3dJbmRleCA9IHVzZVN0YWJsZUdldHRlcihyb3dJbmRleCk7XHJcbiAgICAgICAgY29uc3QgdXNlR3JpZE5hdmlnYXRpb25DZWxsOiBVc2VHcmlkTmF2aWdhdGlvbkNlbGw8QywgSUM+ID0gdXNlQ2FsbGJhY2soKGluZm86IFVzZUdyaWROYXZpZ2F0aW9uQ2VsbFBhcmFtZXRlcnM8SUM+KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGdldFRhYmJhYmxlOiAoKCkgPT4gYm9vbGVhbiB8IG51bGwpID0gdXNlU3RhYmxlQ2FsbGJhY2soKCkgPT4gdGFiYmFibGUpO1xyXG4gICAgICAgICAgICBjb25zdCB7IHRhYmJhYmxlLCB1c2VSb3ZpbmdUYWJJbmRleENoaWxkUHJvcHMgfSA9IHVzZVJvdmluZ1RhYkluZGV4Q2VsbDxDPih7IC4uLmluZm8sIGdldFRhYmJhYmxlIH0gYXMgSUMpO1xyXG4gICAgICAgICAgICAvL2NvbnN0IHsgdXNlTGluZWFyTmF2aWdhdGlvbkNoaWxkUHJvcHM6IHVzZUxpbmVhck5hdmlnYXRpb25DaGlsZENlbGxQcm9wcyB9ID0gdXNlTGluZWFyTmF2aWdhdGlvbkNoaWxkQ2VsbChpbmZvIGFzIElDKTtcclxuXHJcbiAgICAgICAgICAgIC8vIEFueSB0aW1lIHdlIGludGVyYWN0IHdpdGggdGhpcyBjZWxsLCBzZXQgaXQgdG8gYmVcclxuICAgICAgICAgICAgLy8gb3VyIFwiY3VycmVudGx5IHRhYmJhYmxlXCIgY2VsbCwgcmVnYXJkbGVzcyBvZlxyXG4gICAgICAgICAgICAvLyBhbnkgcHJldmlvdXNseSBzZWxlY3RlZCByb3cvY29sdW1uLlxyXG4gICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAvLyBUT0RPOiBNb3VzZXVwL2Rvd24gbWlnaHQgYmUgcHJlZmVyYWJsZSxcclxuICAgICAgICAgICAgLy8gYnV0IGl0IGRvZXNuJ3QgZmlyZSBvbiBsYWJlbCBlbGVtZW50cyBoZXJlPz8/Pz9cclxuICAgICAgICAgICAgY29uc3Qgb25DbGljayA9IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHNldEN1cnJlbnRSb3cyKGdldFJvd0luZGV4KCkpO1xyXG4gICAgICAgICAgICAgICAgc2V0Q3VycmVudENvbHVtbjIoaW5mby5pbmRleCk7XHJcbiAgICAgICAgICAgIH0sIFtpbmZvLmluZGV4XSlcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHVzZUdyaWROYXZpZ2F0aW9uQ2VsbFByb3BzID0gdXNlQ2FsbGJhY2soPFAgZXh0ZW5kcyBoLkpTWC5IVE1MQXR0cmlidXRlczxDPj4ocHJvcHM6IFApID0+IHVzZVJvdmluZ1RhYkluZGV4Q2hpbGRQcm9wcygodXNlTWVyZ2VkUHJvcHM8Qz4oKSh7IG9uQ2xpY2sgfSwgcHJvcHMpKSksIFt1c2VSb3ZpbmdUYWJJbmRleENoaWxkUHJvcHNdKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB7IHRhYmJhYmxlLCB1c2VHcmlkTmF2aWdhdGlvbkNlbGxQcm9wcyB9O1xyXG4gICAgICAgIH0sIFtdKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgY3VycmVudENvbHVtbixcclxuICAgICAgICAgICAgdXNlR3JpZE5hdmlnYXRpb25Sb3dQcm9wcyxcclxuICAgICAgICAgICAgdXNlR3JpZE5hdmlnYXRpb25DZWxsLFxyXG4gICAgICAgICAgICBjZWxsQ291bnQsXHJcbiAgICAgICAgICAgIGlzVGFiYmFibGVSb3csXHJcbiAgICAgICAgICAgIG1hbmFnZWRDZWxsczogbWFuYWdlZENlbGxzIGFzIElDW11cclxuICAgICAgICB9O1xyXG5cclxuICAgIH0sIFt1c2VNYW5hZ2VkUm93LCBpbmRleERlbWFuZ2xlciwgaW5kZXhNYW5nbGVyXSk7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICB1c2VHcmlkTmF2aWdhdGlvblByb3BzOiB1c2VMaW5lYXJOYXZpZ2F0aW9uUm93UHJvcHMsXHJcbiAgICAgICAgdXNlR3JpZE5hdmlnYXRpb25Sb3csXHJcbiAgICAgICAgdXNlR3JpZE5hdmlnYXRpb25Db2x1bW4sXHJcbiAgICAgICAgcm93Q291bnQ6IGNoaWxkQ291bnQsXHJcbiAgICAgICAgY2VsbEluZGV4OiBjdXJyZW50Q29sdW1uLFxyXG4gICAgICAgIHJvd0luZGV4OiBjdXJyZW50Um93LFxyXG4gICAgICAgIG1hbmFnZWRSb3dzXHJcblxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuXHJcbiIsImltcG9ydCB7IENvbXBvbmVudENoaWxkcmVuLCBjcmVhdGVDb250ZXh0IH0gZnJvbSBcInByZWFjdFwiO1xyXG5pbXBvcnQgeyB1c2VDYWxsYmFjaywgdXNlQ29udGV4dCwgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tIFwicHJlYWN0L2hvb2tzXCI7XHJcbmltcG9ydCB7IHVzZVN0YWJsZUNhbGxiYWNrIH0gZnJvbSBcIi4vdXNlLXN0YWJsZS1jYWxsYmFja1wiO1xyXG5cclxudHlwZSBSYWZDYWxsYmFja1R5cGUgPSAobXNTaW5jZUxhc3Q6IG51bWJlciwgdGFnPzogYW55KSA9PiB2b2lkO1xyXG5cclxuaW50ZXJmYWNlIENvbnRleHRUeXBlIHtcclxuICAgIGFkZENhbGxiYWNrOiAoY2FsbGJhY2s6IFJhZkNhbGxiYWNrVHlwZSwgdGFnPzogYW55KSA9PiB2b2lkO1xyXG4gICAgcmVtb3ZlQ2FsbGJhY2s6IChjYWxsYmFjazogUmFmQ2FsbGJhY2tUeXBlKSA9PiB2b2lkO1xyXG59XHJcblxyXG5jb25zdCBTaGFyZWRBbmltYXRpb25GcmFtZUNvbnRleHQgPSBjcmVhdGVDb250ZXh0PG51bGwgfCBDb250ZXh0VHlwZT4obnVsbCk7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gUHJvdmlkZUJhdGNoZWRBbmltYXRpb25GcmFtZXMoeyBjaGlsZHJlbiB9OiB7IGNoaWxkcmVuOiBDb21wb25lbnRDaGlsZHJlbiB9KSB7XHJcblxyXG4gICAgY29uc3QgYWRkQ2FsbGJhY2sgPSB1c2VDYWxsYmFjazxDb250ZXh0VHlwZVtcImFkZENhbGxiYWNrXCJdPigoY2FsbGJhY2tUb0JlQmF0Y2hlZCwgdGFnKSA9PiB7IGFsbENhbGxiYWNrcy5jdXJyZW50LnNldChjYWxsYmFja1RvQmVCYXRjaGVkLCB0YWcpOyB9LCBbXSk7XHJcbiAgICBjb25zdCByZW1vdmVDYWxsYmFjayA9IHVzZUNhbGxiYWNrPENvbnRleHRUeXBlW1wicmVtb3ZlQ2FsbGJhY2tcIl0+KChjYWxsYmFjaykgPT4geyBhbGxDYWxsYmFja3MuY3VycmVudC5kZWxldGUoY2FsbGJhY2spOyB9LCBbXSk7XHJcblxyXG4gICAgY29uc3QgY29udGV4dEluZm8gPSB1c2VSZWY8Q29udGV4dFR5cGU+KG51bGwhKTtcclxuICAgIGlmIChjb250ZXh0SW5mby5jdXJyZW50ID09IG51bGwpXHJcbiAgICAgICAgY29udGV4dEluZm8uY3VycmVudCA9IHsgYWRkQ2FsbGJhY2ssIHJlbW92ZUNhbGxiYWNrIH07XHJcbiAgICBjb25zdCBhbGxDYWxsYmFja3MgPSB1c2VSZWY8TWFwPFJhZkNhbGxiYWNrVHlwZSwgYW55Pj4obnVsbCEpO1xyXG4gICAgaWYgKGFsbENhbGxiYWNrcy5jdXJyZW50ID09IG51bGwpXHJcbiAgICAgICAgYWxsQ2FsbGJhY2tzLmN1cnJlbnQgPSBuZXcgTWFwKCk7XHJcblxyXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgICBsZXQgaGFuZGxlID0gLTE7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHJhZldpdGhCYXRjaGVkQ2FsbGJhY2tzKG1zU2luY2VMYXN0OiBudW1iZXIpIHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBbYmF0Y2hlZFJhZkNhbGxiYWNrLCB0YWddIG9mIGFsbENhbGxiYWNrcy5jdXJyZW50KSB7XHJcbiAgICAgICAgICAgICAgICBiYXRjaGVkUmFmQ2FsbGJhY2sobXNTaW5jZUxhc3QsIHRhZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaGFuZGxlID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHJhZldpdGhCYXRjaGVkQ2FsbGJhY2tzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGhhbmRsZSA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShyYWZXaXRoQmF0Y2hlZENhbGxiYWNrcyk7XHJcblxyXG4gICAgICAgIHJldHVybiAoKSA9PiBjYW5jZWxBbmltYXRpb25GcmFtZShoYW5kbGUpO1xyXG4gICAgfSwgW10pO1xyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgPFNoYXJlZEFuaW1hdGlvbkZyYW1lQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17Y29udGV4dEluZm8uY3VycmVudH0+XHJcbiAgICAgICAgICAgIHtjaGlsZHJlbn1cclxuICAgICAgICA8L1NoYXJlZEFuaW1hdGlvbkZyYW1lQ29udGV4dC5Qcm92aWRlcj4pXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVXNlQW5pbWF0aW9uRnJhbWVQYXJhbWV0ZXJzIHtcclxuICAgIC8qKlxyXG4gICAgICogQ2FsbGJhY2sgd2l0aCBlZmZlY3RpdmVseSB0aGUgc2FtZSBydWxlcyBhcyBgcmVxdWVzdEFuaW1hdGlvbkZyYW1lYFxyXG4gICAgICovXHJcbiAgICBjYWxsYmFjazogbnVsbCB8ICgobXNTaW5jZUxhc3Q6IG51bWJlcikgPT4gdm9pZCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUaGUgKG9wdGlvbmFsbHkgbm9uLXN0YWJsZSkgYGNhbGxiYWNrYCB5b3UgcHJvdmlkZSB3aWxsIHN0YXJ0IHJ1bm5pbmcgZXZlcnkgZnJhbWUgYWZ0ZXIgdGhlIGNvbXBvbmVudCBtb3VudHMuXHJcbiAqIFxyXG4gKiBQYXNzaW5nIGBudWxsYCBpcyBmaW5lIGFuZCBzaW1wbHkgc3RvcHMgdGhlIGVmZmVjdCB1bnRpbCB5b3UgcmVzdGFydCBpdCBieSBwcm92aWRpbmcgYSBub24tbnVsbCBjYWxsYmFjay5cclxuICogXHJcbiAqICoqVGhpcyBob29rIGRvZXMgbm90IHJldHVybiBhbnl0aGluZyBhdCBhbGwsIGluY2x1ZGluZyBubyBwcm9wLW1vZGlmeWluZyBob29rcyoqXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gdXNlQW5pbWF0aW9uRnJhbWUoeyBjYWxsYmFjayB9OiBVc2VBbmltYXRpb25GcmFtZVBhcmFtZXRlcnMpOiB2b2lkIHtcclxuICAgIC8vIEdldCBhIHdyYXBwZXIgYXJvdW5kIHRoZSBnaXZlbiBjYWxsYmFjayB0aGF0J3Mgc3RhYmxlXHJcbiAgICBjb25zdCBzdGFibGVDYWxsYmFjayA9IHVzZVN0YWJsZUNhbGxiYWNrKGNhbGxiYWNrID8/IG5vb3ApO1xyXG4gICAgY29uc3QgaGFzQ2FsbGJhY2sgPSAoY2FsbGJhY2sgIT0gbnVsbCk7XHJcblxyXG4gICAgY29uc3Qgc2hhcmVkQW5pbWF0aW9uRnJhbWVDb250ZXh0ID0gdXNlQ29udGV4dChTaGFyZWRBbmltYXRpb25GcmFtZUNvbnRleHQpO1xyXG5cclxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgaWYgKHNoYXJlZEFuaW1hdGlvbkZyYW1lQ29udGV4dCkge1xyXG4gICAgICAgICAgICBpZiAoaGFzQ2FsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgIHNoYXJlZEFuaW1hdGlvbkZyYW1lQ29udGV4dC5hZGRDYWxsYmFjayhzdGFibGVDYWxsYmFjayk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzaGFyZWRBbmltYXRpb25GcmFtZUNvbnRleHQucmVtb3ZlQ2FsbGJhY2soc3RhYmxlQ2FsbGJhY2spO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoaGFzQ2FsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgIC8vIEdldCBhIHdyYXBwZXIgYXJvdW5kIHRoZSB3cmFwcGVyIGFyb3VuZCB0aGUgY2FsbGJhY2tcclxuICAgICAgICAgICAgICAgIC8vIHRoYXQgYWxzbyBjYWxscyBgcmVxdWVzdEFuaW1hdGlvbkZyYW1lYCBhZ2Fpbi5cclxuICAgICAgICAgICAgICAgIGNvbnN0IHJhZkNhbGxiYWNrID0gKG1zOiBudW1iZXIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBoYW5kbGUgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUocmFmQ2FsbGJhY2spO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YWJsZUNhbGxiYWNrKG1zKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGxldCBoYW5kbGUgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUocmFmQ2FsbGJhY2spO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICgpID0+IGNhbmNlbEFuaW1hdGlvbkZyYW1lKGhhbmRsZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LCBbc2hhcmVkQW5pbWF0aW9uRnJhbWVDb250ZXh0LCBoYXNDYWxsYmFja10pXHJcbn1cclxuXHJcbi8vIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1lbXB0eS1mdW5jdGlvblxyXG5mdW5jdGlvbiBub29wKCkgeyB9XHJcbiIsImltcG9ydCB7IGgsIFJlZiB9IGZyb20gXCJwcmVhY3RcIjtcclxuaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZVJlZiB9IGZyb20gXCJwcmVhY3QvaG9va3NcIjtcclxuaW1wb3J0IHsgTWVyZ2VkUHJvcHMsIHVzZU1lcmdlZFByb3BzIH0gZnJvbSBcIi4vdXNlLW1lcmdlZC1wcm9wc1wiO1xyXG5pbXBvcnQgeyB1c2VTdGF0ZSB9IGZyb20gXCIuL3VzZS1zdGF0ZVwiO1xyXG5cclxuaW50ZXJmYWNlIFVzZURyYWdnYWJsZVJldHVyblR5cGU8RSBleHRlbmRzIEV2ZW50VGFyZ2V0PiB7XHJcbiAgICB1c2VEcmFnZ2FibGVQcm9wczogVXNlRHJhZ2dhYmxlUHJvcHM8RT47XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGVsZW1lbnQgaW4gcXVlc3Rpb24gaXMgY3VycmVudGx5IGJlaW5nIGRyYWdnZWRcclxuICAgICAqL1xyXG4gICAgZHJhZ2dpbmc6IGJvb2xlYW47XHJcbiAgICBnZXREcmFnZ2luZzogKCkgPT4gYm9vbGVhbjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIE9uY2UgdGhlIGRyYWcgZW5kcywgaWYgaXQgd2FzIG92ZXIgYSB2YWxpZCBkcm9wcGFibGUsIHRoaXMgd2lsbCBiZVxyXG4gICAgICogc2V0IHRvIHRoZSBgZHJvcEVmZmVjdGAgdmFsdWUgaXQgaGFkLlxyXG4gICAgICogXHJcbiAgICAgKiBUaGlzIGNhbiBiZSB1c2VkIHRvIGRldGVjdCB3aGVuIHRoZSBlbGVtZW50IGhhcyBkcm9wcGVkLCBcclxuICAgICAqIGFuZCB0aGVuIHdoYXQgc2hvdWxkIGJlIGRvbmUgd2l0aCBpdCAoZ2VuZXJhbGx5IGRlbGV0ZWQgaWYgdGhlIGVmZmVjdCB3YXMgXCJtb3ZlXCIpXHJcbiAgICAgKi9cclxuICAgIGxhc3REcm9wRWZmZWN0OiBEYXRhVHJhbnNmZXJbXCJkcm9wRWZmZWN0XCJdIHwgbnVsbDtcclxuICAgIGdldExhc3REcm9wRWZmZWN0OiAoKSA9PiAoRGF0YVRyYW5zZmVyW1wiZHJvcEVmZmVjdFwiXSB8IG51bGwpO1xyXG59XHJcblxyXG50eXBlIFVzZURyYWdnYWJsZVByb3BzPEUgZXh0ZW5kcyBFdmVudFRhcmdldD4gPSA8UCBleHRlbmRzIGguSlNYLkhUTUxBdHRyaWJ1dGVzPEU+PihwOiBQKSA9PiBNZXJnZWRQcm9wczxFLCB7XHJcbiAgICBkcmFnZ2FibGU6IGJvb2xlYW47XHJcbiAgICBvbkRyYWdTdGFydDogKGU6IERyYWdFdmVudCkgPT4gdm9pZDtcclxuICAgIG9uRHJhZ0VuZDogKGU6IERyYWdFdmVudCkgPT4gdm9pZDtcclxuICAgIHJlZjogUmVmPEU+O1xyXG59LCBQPjtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVXNlRHJhZ2dhYmxlUGFyYW1ldGVycyB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNYXBzIHRvIHRoZSBEcmFnIGFuZCBEcm9wIEFQSSAtLSBhbGxvd3MgbGltaXRpbmcgdGhlIGFyZWFzIHRoaXMgZWxlbWVudCBjYW4gYmUgZHJvcHBlZC5cclxuICAgICAqIEZvciBleGFtcGxlLCBzZXR0aW5nIHRoaXMgdG8gXCJjb3B5TGlua1wiIHdpbGwgYWxsb3cgdGhpcyB0aGlzIHRvIGJlIGRyb3BwZWQgb250b1xyXG4gICAgICogYSBkcm9wcGFibGUgd2l0aCBhbiBlZmZlY3Qgb2YgXCJjb3B5XCIgb3IgXCJsaW5rXCIsIGJ1dCBub3QgXCJtb3ZlXCIuXHJcbiAgICAgKiBcclxuICAgICAqL1xyXG4gICAgZWZmZWN0QWxsb3dlZD86IERhdGFUcmFuc2ZlcltcImVmZmVjdEFsbG93ZWRcIl0gfCB1bmRlZmluZWQ7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDYW4gYmUgdXNlZCB0byBzcGVjaWZ5IGEgY3VzdG9tIGRyYWcgaW1hZ2UgaW5zdGVhZCBvZiB0aGUgYnJvd3NlciBkZWZhdWx0IChhIHRyYW5zcGFyZW50IHJlbmRlciBvZiB0aGUgb3JpZ2luYWwgZWxlbWVudCwgZ2VuZXJhbGx5KVxyXG4gICAgICovXHJcbiAgICBkcmFnSW1hZ2U/OiBIVE1MQ2FudmFzRWxlbWVudCB8IEhUTUxJbWFnZUVsZW1lbnQgfCBIVE1MVmlkZW9FbGVtZW50O1xyXG4gICAgZHJhZ0ltYWdlWE9mZnNldD86IG51bWJlcjtcclxuICAgIGRyYWdJbWFnZVlPZmZzZXQ/OiBudW1iZXI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXByZXNlbnRzIGEgZGljdGlvbmFyeSBtYXBwaW5nIG9mIE1JTUUgdHlwZXMgdG8gZGF0YVxyXG4gICAgICovXHJcbiAgICBkYXRhOiB7IFttaW1lVHlwZTogc3RyaW5nXTogc3RyaW5nIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB1c2VEcmFnZ2FibGU8RSBleHRlbmRzIEhUTUxFbGVtZW50Pih7IGVmZmVjdEFsbG93ZWQsIGRhdGEsIGRyYWdJbWFnZSwgZHJhZ0ltYWdlWE9mZnNldCwgZHJhZ0ltYWdlWU9mZnNldCB9OiBVc2VEcmFnZ2FibGVQYXJhbWV0ZXJzKSB7XHJcblxyXG4gICAgY29uc3QgW2RyYWdnaW5nLCBzZXREcmFnZ2luZywgZ2V0RHJhZ2dpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gICAgY29uc3QgW2xhc3REcm9wRWZmZWN0LCBzZXRMYXN0RHJvcEVmZmVjdCwgZ2V0TGFzdERyb3BFZmZlY3RdID0gdXNlU3RhdGU8RGF0YVRyYW5zZmVyW1wiZHJvcEVmZmVjdFwiXSB8IG51bGw+KG51bGwpO1xyXG5cclxuICAgIGNvbnN0IHVzZURyYWdnYWJsZVByb3BzID0gdXNlQ2FsbGJhY2soPFAgZXh0ZW5kcyBoLkpTWC5IVE1MQXR0cmlidXRlczxFPj4ocDogUCkgPT4ge1xyXG5cclxuICAgICAgICBjb25zdCByZWYgPSB1c2VSZWY8RT4obnVsbCk7XHJcblxyXG4gICAgICAgIGNvbnN0IG9uRHJhZ1N0YXJ0ID0gKGU6IERyYWdFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICAvL2UucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgc2V0RHJhZ2dpbmcodHJ1ZSk7XHJcbiAgICAgICAgICAgIGlmIChlLmRhdGFUcmFuc2Zlcikge1xyXG4gICAgICAgICAgICAgICAgZS5kYXRhVHJhbnNmZXIuZWZmZWN0QWxsb3dlZCA9IChlZmZlY3RBbGxvd2VkID8/IFwiYWxsXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRyYWdJbWFnZSlcclxuICAgICAgICAgICAgICAgICAgICBlLmRhdGFUcmFuc2Zlci5zZXREcmFnSW1hZ2UoZHJhZ0ltYWdlLCBkcmFnSW1hZ2VYT2Zmc2V0ID8/IDAsIGRyYWdJbWFnZVlPZmZzZXQgPz8gMClcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBlbnRyaWVzID0gT2JqZWN0LmVudHJpZXMoZGF0YSkgYXMgW21pbWVUeXBlOiBzdHJpbmcsIGRhdGE6IHN0cmluZ11bXTtcclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgW21pbWVUeXBlLCBkYXRhXSBvZiBlbnRyaWVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZS5kYXRhVHJhbnNmZXIuc2V0RGF0YShtaW1lVHlwZSwgZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBjb25zdCBvbkRyYWdFbmQgPSAoZTogRHJhZ0V2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgc2V0RHJhZ2dpbmcoZmFsc2UpO1xyXG4gICAgICAgICAgICBpZiAoZS5kYXRhVHJhbnNmZXIpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlLmRhdGFUcmFuc2Zlci5kcm9wRWZmZWN0ICE9IFwibm9uZVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0TGFzdERyb3BFZmZlY3QoZS5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBzZXRMYXN0RHJvcEVmZmVjdChudWxsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICByZXR1cm4gdXNlTWVyZ2VkUHJvcHM8RT4oKSh7XHJcbiAgICAgICAgICAgIGRyYWdnYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgb25EcmFnU3RhcnQsXHJcbiAgICAgICAgICAgIG9uRHJhZ0VuZCxcclxuICAgICAgICAgICAgcmVmXHJcbiAgICAgICAgfSwgcCk7XHJcblxyXG4gICAgfSwgW2VmZmVjdEFsbG93ZWQsIGRyYWdJbWFnZSwgZHJhZ0ltYWdlWE9mZnNldCwgZHJhZ0ltYWdlWU9mZnNldCwgLi4uT2JqZWN0LmVudHJpZXMoZGF0YSkuZmxhdCgpXSk7XHJcblxyXG4gICAgLy8gUmV0dXJuIGJvdGggdGhlIGVsZW1lbnQgYW5kIHRoZSBob29rIHRoYXQgbW9kaWZpZXMgXHJcbiAgICAvLyB0aGUgcHJvcHMgYW5kIGFsbG93cyB1cyB0byBhY3R1YWxseSBmaW5kIHRoZSBlbGVtZW50XHJcbiAgICBjb25zdCByZXQ6IFVzZURyYWdnYWJsZVJldHVyblR5cGU8RT4gPSB7XHJcbiAgICAgICAgdXNlRHJhZ2dhYmxlUHJvcHMsXHJcbiAgICAgICAgZHJhZ2dpbmcsXHJcbiAgICAgICAgZ2V0RHJhZ2dpbmcsXHJcblxyXG4gICAgICAgIC8vIFNldCBvbmNlIGEgZHJhZyBoYXMgY29tcGxldGVkIHdpdGggdGhlIHJlc3VsdGluZyBhY3Rpb25cclxuICAgICAgICAvLyBVc2VmdWwgZm9yIHJlbW92aW5nIHRoZSBlbGVtZW50IGFmdGVyd2FyZHMgaWYgaXQgd2FzIFwibW92ZVwiXHJcbiAgICAgICAgbGFzdERyb3BFZmZlY3QsXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRlc3RcclxuICAgICAgICAgKi9cclxuICAgICAgICBnZXRMYXN0RHJvcEVmZmVjdFxyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gcmV0O1xyXG59XHJcblxyXG4iLCJpbXBvcnQgeyBoIH0gZnJvbSBcInByZWFjdFwiO1xyXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gXCJwcmVhY3QvaG9va3NcIjtcclxuaW1wb3J0IHsgTWVyZ2VkUHJvcHMsIHVzZU1lcmdlZFByb3BzIH0gZnJvbSBcIi4vdXNlLW1lcmdlZC1wcm9wc1wiO1xyXG5pbXBvcnQgeyBVc2VSZWZFbGVtZW50UHJvcHNSZXR1cm5UeXBlIH0gZnJvbSBcIi4vdXNlLXJlZi1lbGVtZW50XCI7XHJcbmltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSBcIi4vdXNlLXN0YXRlXCI7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFVzZURyb3BwYWJsZVJldHVyblR5cGU8RSBleHRlbmRzIEhUTUxFbGVtZW50PiB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIb29rIGZvciBtb2RpZnlpbmcgdGhlIHByb3BzIHlvdSB3ZXJlIGdvaW5nIHRvIHBhc3MgdG8geW91ciBkcm9wIHRhcmdldCBFbGVtZW50LlxyXG4gICAgICovXHJcbiAgICB1c2VEcm9wcGFibGVQcm9wczogVXNlRHJvcHBhYmxlUHJvcHM8RT47XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBXaGlsZSBzb21ldGhpbmcgaXMgYmVpbmcgZHJhZ2dlZCBvdmVyIHRoaXMgZWxlbWVudCwgdGhpcyB3aWxsIGNvbnRhaW4gYW55IGluZm9ybWF0aW9uIGFib3V0IGFueSBmaWxlcyBpbmNsdWRlZCBpbiB0aGF0IGRyb3AuXHJcbiAgICAgKiBPdGhlcndpc2UsIGl0J2xsIGJlIG51bGwsIG1lYW5pbmcgbm90aGluZyBpcyBiZWluZyBkcmFnZ2VkIG92ZXIgdGhpcyBlbGVtZW50LlxyXG4gICAgICovXHJcbiAgICBmaWxlc0ZvckNvbnNpZGVyYXRpb246IERyb3BGaWxlTWV0YWRhdGFbXSB8IG51bGw7XHJcbiAgICAvKipcclxuICAgICAqIFdoaWxlIHNvbWV0aGluZyBpcyBiZWluZyBkcmFnZ2VkIG92ZXIgdGhpcyBlbGVtZW50LCBhIGxpc3Qgb2YgYXZhaWxhYmxlIE1JTUUgdHlwZXMgZm9yIHRoZSBub24tZmlsZSBkYXRhIHdpbGwgYmUgbGlzdGVkIGhlcmUuXHJcbiAgICAgKiBPdGhlcndpc2UsIGl0J2xsIGJlIG51bGwsIG1lYW5pbmcgbm90aGluZyBpcyBiZWluZyBkcmFnZ2VkIG92ZXIgdGhpcyBlbGVtZW50LlxyXG4gICAgICovXHJcbiAgICBzdHJpbmdzRm9yQ29uc2lkZXJhdGlvbjogU2V0PHN0cmluZz4gfCBudWxsO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogV2hlbiBmaWxlcyBhcmUgZHJvcHBlZCBvdmVyIHRoZSBlbGVtZW50LCB0aGVpciBkYXRhIHdpbGwgYmUgZ2l2ZW4gaGVyZS5cclxuICAgICAqIFRoaXMgd2lsbCB1cGRhdGUgYXMgbmV3IGRyb3BzIGhhcHBlbi5cclxuICAgICAqL1xyXG4gICAgZHJvcHBlZEZpbGVzOiBEcm9wRmlsZVtdIHwgbnVsbDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFdoZW4gbm9uLWZpbGUgZGF0YSBpcyBkcm9wcGVkIG92ZXIgdGhlIGVsZW1lbnQsIHRoZWlyIGRhdGEgd2lsbCBiZSBnaXZlbiBoZXJlLlxyXG4gICAgICogVGhpcyB3aWxsIHVwZGF0ZSBhcyBuZXcgZHJvcHMgaGFwcGVuLlxyXG4gICAgICovXHJcbiAgICBkcm9wcGVkU3RyaW5nczogeyBbTWltZVR5cGU6IHN0cmluZ106IHN0cmluZyB9IHwgbnVsbDtcclxuXHJcblxyXG4gICAgZHJvcEVycm9yOiB1bmtub3duO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFVzZURyb3BwYWJsZVBhcmFtZXRlcnMge1xyXG4gICAgLyoqXHJcbiAgICAgKiBNYXBzIHRvIHRoZSBEcmFnIGFuZCBEcm9wIEFQSSAtLSBlZmZlY3RpdmVseSBtZWFucyBcImFzIGNsb3NlIGFzIHBvc3NpYmxlLCB3aGF0J3MgaGFwcGVuaW5nIHRvIHRoZSBkYXRhIHdoZW4gSSBkcm9wIGl0IGhlcmU/IFxyXG4gICAgICogQW0gSSBjb3B5aW5nIGl0IGFuZCBsZWF2aW5nIHRoZSBvcmlnaW5hbCwgYW0gSSBtb3ZpbmcgaXQgYW5kIGRlbGV0aW5nIHRoZSBvcmlnaW5hbCwgb3IgYW0gSSBsaW5raW5nIGl0IHRvIHRoZSBvcmlnaW5hbD9cIlxyXG4gICAgICogXHJcbiAgICAgKiBXaGF0ZXZlciBpcyBiZWluZyBkcmFnZ2VkIG92ZXIgdGhpcyB3aWxsIGhhdmUgaXRzIG93biBwZXJtaXNzaW9uIHRoYXQncyBjaGVja2VkIGFnYWluc3QgdGhpcy5cclxuICAgICAqL1xyXG4gICAgZWZmZWN0OiBEYXRhVHJhbnNmZXJbXCJkcm9wRWZmZWN0XCJdIHwgdW5kZWZpbmVkO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIERyb3BGaWxlIGV4dGVuZHMgRHJvcEZpbGVNZXRhZGF0YSB7IG5hbWU6IHN0cmluZywgZGF0YTogQXJyYXlCdWZmZXIsIHNpemU6IG51bWJlciB8IHVuZGVmaW5lZCwgbGFzdE1vZGlmaWVkOiBudW1iZXIgfCB1bmRlZmluZWQgfVxyXG5leHBvcnQgaW50ZXJmYWNlIERyb3BGaWxlTWV0YWRhdGEgeyB0eXBlOiBzdHJpbmcgfCB1bmRlZmluZWQgfVxyXG5cclxuXHJcbnR5cGUgRHJvcHBhYmxlRmlsZUVycm9yVHlwZSA9IFwiSW5kZXhTaXplRXJyb3JcIiB8IFwiSGllcmFyY2h5UmVxdWVzdEVycm9yXCIgfCBcIldyb25nRG9jdW1lbnRFcnJvclwiIHwgXCJJbnZhbGlkQ2hhcmFjdGVyRXJyb3JcIiB8IFwiTm9Nb2RpZmljYXRpb25BbGxvd2VkRXJyb3JcIiB8IFwiTm90Rm91bmRFcnJvclwiIHwgXCJOb3RTdXBwb3J0ZWRFcnJvclwiIHwgXCJJbnZhbGlkU3RhdGVFcnJvclwiIHwgXCJJblVzZUF0dHJpYnV0ZUVycm9yXCIgfCBcIlN5bnRheEVycm9yXCIgfCBcIkludmFsaWRNb2RpZmljYXRpb25FcnJvclwiIHwgXCJOYW1lc3BhY2VFcnJvclwiIHwgXCJJbnZhbGlkQWNjZXNzRXJyb3JcIiB8IFwiVHlwZU1pc21hdGNoRXJyb3JcIiB8IFwiU2VjdXJpdHlFcnJvclwiIHwgXCJOZXR3b3JrRXJyb3JcIiB8IFwiQWJvcnRFcnJvclwiIHwgXCJVUkxNaXNtYXRjaEVycm9yXCIgfCBcIlF1b3RhRXhjZWVkZWRFcnJvclwiIHwgXCJUaW1lb3V0RXJyb3JcIiB8IFwiSW52YWxpZE5vZGVUeXBlRXJyb3JcIiB8IFwiRGF0YUNsb25lRXJyb3JcIiB8IFwiRW5jb2RpbmdFcnJvclwiIHwgXCJOb3RSZWFkYWJsZUVycm9yXCIgfCBcIlVua25vd25FcnJvclwiIHwgXCJDb25zdHJhaW50RXJyb3JcIiB8IFwiRGF0YUVycm9yXCIgfCBcIlRyYW5zYWN0aW9uSW5hY3RpdmVFcnJvclwiIHwgXCJSZWFkT25seUVycm9yXCIgfCBcIlZlcnNpb25FcnJvclwiIHwgXCJPcGVyYXRpb25FcnJvclwiIHwgXCJOb3RBbGxvd2VkRXJyb3JcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBEcm9wcGFibGVGaWxlRXJyb3IgZXh0ZW5kcyBFcnJvciB7XHJcbiAgICBmaWxlTmFtZTogc3RyaW5nO1xyXG4gICAgZXJyb3JUeXBlOiBEcm9wcGFibGVGaWxlRXJyb3JUeXBlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGZpbGVOYW1lOiBzdHJpbmcsIGJhc2U6IERPTUV4Y2VwdGlvbiB8IG51bGwpIHtcclxuICAgICAgICBzdXBlcihiYXNlPy5tZXNzYWdlID8/IFwiQW4gdW5zcGVjaWZpZWQgZXJyb3Igb2NjdXJyZWQgcmVhZGluZyB0aGUgZmlsZS5cIik7XHJcbiAgICAgICAgdGhpcy5maWxlTmFtZSA9IGZpbGVOYW1lO1xyXG4gICAgICAgIHRoaXMuZXJyb3JUeXBlID0gKGJhc2U/Lm5hbWUgYXMgRHJvcHBhYmxlRmlsZUVycm9yVHlwZSk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG50eXBlIFVzZURyb3BwYWJsZVByb3BzPEUgZXh0ZW5kcyBIVE1MRWxlbWVudD4gPSA8UCBleHRlbmRzIFVzZURyb3BwYWJsZVByb3BzUGFyYW1ldGVyczxFPj4ocDogUCkgPT4gVXNlRHJvcHBhYmxlUHJvcHNSZXR1cm5UeXBlPEUsIFA+O1xyXG50eXBlIFVzZURyb3BwYWJsZVByb3BzUGFyYW1ldGVyczxFIGV4dGVuZHMgSFRNTEVsZW1lbnQ+ID0gaC5KU1guSFRNTEF0dHJpYnV0ZXM8RT47XHJcbnR5cGUgVXNlRHJvcHBhYmxlUHJvcHNSZXR1cm5UeXBlPEUgZXh0ZW5kcyBIVE1MRWxlbWVudCwgUCBleHRlbmRzIFVzZURyb3BwYWJsZVByb3BzUGFyYW1ldGVyczxFPj4gPSBcclxuTWVyZ2VkUHJvcHM8RSwgVXNlUmVmRWxlbWVudFByb3BzUmV0dXJuVHlwZTxFLCB7IG9uRHJhZ0VudGVyOiAoZTogRHJhZ0V2ZW50KSA9PiB2b2lkOyBvbkRyYWdMZWF2ZTogKGU6IERyYWdFdmVudCkgPT4gdm9pZDsgb25EcmFnT3ZlcjogKGU6IERyYWdFdmVudCkgPT4gdm9pZDsgb25Ecm9wOiAoZTogRHJhZ0V2ZW50KSA9PiB2b2lkOyB9PiwgUD47XHJcbi8vTWVyZ2VkUHJvcHM8VXNlUmVmRWxlbWVudFByb3BzUmV0dXJuVHlwZTxFLCBQaWNrPGguSlNYLkhUTUxBdHRyaWJ1dGVzPEU+LCBcIm9uRHJhZ0VudGVyXCIgfCBcIm9uRHJhZ0xlYXZlXCIgfCBcIm9uRHJhZ092ZXJcIiB8IFwib25Ecm9wXCI+PiwgUD47XHJcblxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHVzZURyb3BwYWJsZTxFIGV4dGVuZHMgSFRNTEVsZW1lbnQ+KHsgZWZmZWN0IH06IFVzZURyb3BwYWJsZVBhcmFtZXRlcnMpOiBVc2VEcm9wcGFibGVSZXR1cm5UeXBlPEU+IHtcclxuXHJcbiAgICBjb25zdCBbZmlsZXNGb3JDb25zaWRlcmF0aW9uLCBzZXRGaWxlc0ZvckNvbnNpZGVyYXRpb25dID0gdXNlU3RhdGU8bnVsbCB8IERyb3BGaWxlTWV0YWRhdGFbXT4obnVsbCk7XHJcbiAgICBjb25zdCBbc3RyaW5nc0ZvckNvbnNpZGVyYXRpb24sIHNldFN0cmluZ3NGb3JDb25zaWRlcmF0aW9uXSA9IHVzZVN0YXRlPG51bGwgfCBTZXQ8c3RyaW5nPj4obnVsbCk7XHJcblxyXG4gICAgY29uc3QgW2Ryb3BwZWRGaWxlcywgc2V0RHJvcHBlZEZpbGVzXSA9IHVzZVN0YXRlPG51bGwgfCBEcm9wRmlsZVtdPihudWxsKTtcclxuICAgIGNvbnN0IFtkcm9wcGVkU3RyaW5ncywgc2V0RHJvcHBlZFN0cmluZ3NdID0gdXNlU3RhdGU8bnVsbCB8IHsgW01pbWVUeXBlOiBzdHJpbmddOiBzdHJpbmcgfT4obnVsbCk7XHJcblxyXG4gICAgY29uc3QgW2Ryb3BFcnJvciwgc2V0RHJvcEVycm9yXSA9IHVzZVN0YXRlPHVua25vd24gfCB1bmRlZmluZWQ+KHVuZGVmaW5lZCk7XHJcblxyXG4gICAgLy8gQWxsIHRoZSBwcm9taXNlcyBnZW5lcmF0ZWQgZnJvbSB0aGUgZHJvcCBldmVudHMuXHJcbiAgICAvLyBVc2VkIHRvIHByb2Nlc3MgbXVsdGlwbGUgZHJvcCBldmVudHMgaW4gc3VjY2Vzc2lvblxyXG4gICAgY29uc3QgZHJvcFByb21pc2VzUmVmID0gdXNlUmVmPFByb21pc2U8bnVsbCB8IHsgc3RyaW5nczogeyBbbWltZVR5cGU6IHN0cmluZ106IHN0cmluZyB9LCBmaWxlczogRHJvcEZpbGVbXSB9PltdPihbXSk7XHJcbiAgICBjb25zdCBbY3VycmVudFByb21pc2VJbmRleCwgc2V0Q3VycmVudFByb21pc2VJbmRleCwgZ2V0Q3VycmVudFByb21pc2VJbmRleF0gPSB1c2VTdGF0ZSgtMSk7XHJcbiAgICBjb25zdCBbcHJvbWlzZUNvdW50LCBzZXRQcm9taXNlQ291bnQsIGdldFByb21pc2VDb3VudF0gPSB1c2VTdGF0ZSgwKTtcclxuXHJcbiAgICAvLyBBbnkgdGltZSB3ZSBhZGQgYSBuZXcgcHJvbWlzZSwgaWYgdGhlcmUncyBubyBjdXJyZW50IHByb21pc2UgcnVubmluZywgd2UgbmVlZCB0byBzdGFydCBvbmUuXHJcbiAgICAvLyBJZiB0aGVyZSBpcyBvbmUsIHRoZW4gd2UgZG9uJ3QgbmVlZCB0byBkbyBhbnl0aGluZywgc2luY2UgaXQgcnVucyB0aGUgc2FtZSBjaGVjay5cclxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgY3VycmVudFByb21pc2VJbmRleCA9IGdldEN1cnJlbnRQcm9taXNlSW5kZXgoKTtcclxuICAgICAgICBjb25zdCBwcm9taXNlQ291bnQgPSBnZXRQcm9taXNlQ291bnQoKTtcclxuXHJcbiAgICAgICAgaWYgKHByb21pc2VDb3VudCA+IDApIHtcclxuICAgICAgICAgICAgaWYgKChjdXJyZW50UHJvbWlzZUluZGV4ICsgMSkgPCBwcm9taXNlQ291bnQpIHtcclxuICAgICAgICAgICAgICAgIHNldEN1cnJlbnRQcm9taXNlSW5kZXgoaSA9PiArK2kpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0sIFtwcm9taXNlQ291bnRdKTtcclxuXHJcbiAgICAvLyBBbnl0aW1lIG91ciBjdXJyZW50IHByb21pc2UgY2hhbmdlcyxcclxuICAgIC8vIHdhaXQgZm9yIGl0IHRvIGZpbmlzaCwgdGhlbiBzZXQgb3VyIHN0YXRlIHRvIGl0cyByZXN1bHQuXHJcbiAgICAvLyBGaW5hbGx5LCBjaGVjayB0byBzZWUgaWYgdGhlcmUgYXJlIGFueW1vcmUgcHJvbWlzZXMuXHJcbiAgICAvLyBJZiB0aGVyZSBhcmUsIHRoZW4gaW5jcmVhc2UgY3VycmVudFByb21pc2VDb3VudCxcclxuICAgIC8vIHdoaWNoIHdpbGwgdHJpZ2dlciB0aGlzIGFnYWluLlxyXG4gICAgLy9cclxuICAgIC8vIFRoaXMgc2hvdWxkbid0IGhhcHBlbiAqb2Z0ZW4qLCBidXQgbWF5YmUgaW4gdGhlIGNhc2Ugb2ZcclxuICAgIC8vIGluZGl2aWR1YWxseSBkcm9wcGluZyBhIGJ1bmNoIG9mIGxhcmdlIGZpbGVzIG9yIHNvbWV0aGluZy5cclxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgaWYgKGN1cnJlbnRQcm9taXNlSW5kZXggPj0gMCkge1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50UHJvbWlzZSA9IGRyb3BQcm9taXNlc1JlZi5jdXJyZW50W2N1cnJlbnRQcm9taXNlSW5kZXhdO1xyXG4gICAgICAgICAgICBjdXJyZW50UHJvbWlzZS50aGVuKChpbmZvKSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGluZm8gIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGZpbGVzLCBzdHJpbmdzIH0gPSBpbmZvO1xyXG4gICAgICAgICAgICAgICAgICAgIHNldERyb3BwZWRGaWxlcyhmaWxlcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0RHJvcHBlZFN0cmluZ3Moc3RyaW5ncyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gTm93IHRoYXQgd2UncmUgZG9uZSwgYXJlIHRoZXJlIG1vcmUgcHJvbWlzZXMgaW4gdGhlIHF1ZXVlP1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRQcm9taXNlSW5kZXggPSBnZXRDdXJyZW50UHJvbWlzZUluZGV4KCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwcm9taXNlQ291bnQgPSBnZXRQcm9taXNlQ291bnQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoKGN1cnJlbnRQcm9taXNlSW5kZXggKyAxKSA8IHByb21pc2VDb3VudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFNpbmNlIHRoaXMgcHJvbWlzZSBoYXMgc3RhcnRlZCwgbW9yZSBoYXZlIGJlZW4gYWRkZWQuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUnVuIHRoaXMgZWZmZWN0IGFnYWluLlxyXG4gICAgICAgICAgICAgICAgICAgIHNldEN1cnJlbnRQcm9taXNlSW5kZXgoaSA9PiArK2kpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH0sIFtjdXJyZW50UHJvbWlzZUluZGV4XSlcclxuXHJcblxyXG4gICAgY29uc3QgdXNlRHJvcHBhYmxlUHJvcHM6IFVzZURyb3BwYWJsZVByb3BzPEU+ID0gPFAgZXh0ZW5kcyBVc2VEcm9wcGFibGVQcm9wc1BhcmFtZXRlcnM8RT4+KHA6IFApOiBVc2VEcm9wcGFibGVQcm9wc1JldHVyblR5cGU8RSwgUD4gPT4ge1xyXG5cclxuICAgICAgICAvL2NvbnN0IHJlZiA9IHVzZVJlZjxFPihudWxsKTtcclxuXHJcbiAgICAgICAgLy8gSGFuZGxlIGNvbGxlY3RpbmcgdGhlIGN1cnJlbnQgZmlsZSBtZXRhZGF0YSBvciBNSU1FIHR5cGVzLlxyXG4gICAgICAgIGNvbnN0IG9uRHJhZ0VudGVyID0gKGU6IERyYWdFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGlmIChlLmRhdGFUcmFuc2Zlcikge1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIElzIHRoZXJlIGEgZGVmYXVsdD8gSSBjYW4ndCBmaW5kIG9uZSBhbnl3aGVyZS5cclxuICAgICAgICAgICAgICAgIGUuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3QgPSAoZWZmZWN0ID8/IFwibW92ZVwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdNaW1lVHlwZXMgPSBuZXcgU2V0PHN0cmluZz4oKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0ZpbGVzID0gbmV3IEFycmF5PERyb3BGaWxlTWV0YWRhdGE+KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGUuZGF0YVRyYW5zZmVyPy5pdGVtcyA/PyBbXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsga2luZCwgdHlwZSB9ID0gaXRlbTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGtpbmQgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3TWltZVR5cGVzLmFkZCh0eXBlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoa2luZCA9PT0gXCJmaWxlXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3RmlsZXMucHVzaCh7IHR5cGU6IGl0ZW0udHlwZSB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHNldEZpbGVzRm9yQ29uc2lkZXJhdGlvbihuZXdGaWxlcyk7XHJcbiAgICAgICAgICAgICAgICBzZXRTdHJpbmdzRm9yQ29uc2lkZXJhdGlvbihuZXdNaW1lVHlwZXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gSGFuZGxlIHJlc2V0dGluZyB0aGUgY3VycmVudCBmaWxlIG1ldGFkYXRhIG9yIE1JTUUgdHlwZXNcclxuICAgICAgICBjb25zdCBvbkRyYWdMZWF2ZSA9IChlOiBEcmFnRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBzZXRGaWxlc0ZvckNvbnNpZGVyYXRpb24obnVsbCk7XHJcbiAgICAgICAgICAgIHNldFN0cmluZ3NGb3JDb25zaWRlcmF0aW9uKG51bGwpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIEJvaWxlcnBsYXRlLCBJIGd1ZXNzXHJcbiAgICAgICAgY29uc3Qgb25EcmFnT3ZlciA9IChlOiBEcmFnRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSGFuZGxlIGdldHRpbmcgdGhlIGRyb3AgZGF0YSBhc3luY2hyb25vdXNseVxyXG4gICAgICAgIGNvbnN0IG9uRHJvcCA9IChlOiBEcmFnRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICAgICAgc2V0RmlsZXNGb3JDb25zaWRlcmF0aW9uKG51bGwpO1xyXG4gICAgICAgICAgICBzZXRTdHJpbmdzRm9yQ29uc2lkZXJhdGlvbihudWxsKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGFsbFByb21pc2VzID0gbmV3IEFycmF5PFByb21pc2U8dW5rbm93bj4+KCk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBkcm9wRGF0YTogeyBbbWltZVR5cGU6IHN0cmluZ106IHN0cmluZyB9ID0ge307XHJcbiAgICAgICAgICAgIGNvbnN0IGRyb3BGaWxlOiBEcm9wRmlsZVtdID0gW107XHJcblxyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgZS5kYXRhVHJhbnNmZXI/Lml0ZW1zID8/IFtdKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IGtpbmQsIHR5cGUgfSA9IGl0ZW07XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGtpbmQgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBhbGxQcm9taXNlcy5wdXNoKChuZXcgUHJvbWlzZTxzdHJpbmc+KChyZXNvbHZlLCBfcmVqZWN0KSA9PiBpdGVtLmdldEFzU3RyaW5nKHJlc29sdmUpKSkudGhlbihzdHIgPT4gZHJvcERhdGFbdHlwZV0gPSBzdHIpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGtpbmQgPT09IFwiZmlsZVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsZSA9IGl0ZW0uZ2V0QXNGaWxlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsUHJvbWlzZXMucHVzaChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlPHZvaWQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyLm9ubG9hZCA9IChfKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHJlYWRlci5yZXN1bHQgYXMgQXJyYXlCdWZmZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyb3BGaWxlLnB1c2goeyBkYXRhLCBuYW1lOiBmaWxlLm5hbWUsIHR5cGU6IGZpbGUudHlwZSwgc2l6ZTogZGF0YS5ieXRlTGVuZ3RoLCBsYXN0TW9kaWZpZWQ6IGZpbGUubGFzdE1vZGlmaWVkIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyLm9uZXJyb3IgPSAoXykgPT4geyByZWplY3QobmV3IERyb3BwYWJsZUZpbGVFcnJvcihmaWxlLm5hbWUsIHJlYWRlci5lcnJvcikpOyB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlci5vbmFib3J0ID0gKF8pID0+IHsgcmVqZWN0KG5ldyBEcm9wcGFibGVGaWxlRXJyb3IoZmlsZS5uYW1lLCByZWFkZXIuZXJyb3IpKTsgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZHJvcEZpbGUucHVzaCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgIGRyb3BQcm9taXNlc1JlZi5jdXJyZW50LnB1c2goUHJvbWlzZS5hbGwoYWxsUHJvbWlzZXMpLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgc2V0UHJvbWlzZUNvdW50KGkgPT4gKytpKTtcclxuICAgICAgICAgICAgICAgIHNldERyb3BFcnJvcihudWxsKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RyaW5nczogZHJvcERhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgZmlsZXM6IGRyb3BGaWxlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pLmNhdGNoKGV4ID0+IHtcclxuICAgICAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWRlYnVnZ2VyICovXHJcbiAgICAgICAgICAgICAgICBkZWJ1Z2dlcjtcclxuICAgICAgICAgICAgICAgIHNldFByb21pc2VDb3VudChpID0+ICsraSk7XHJcbiAgICAgICAgICAgICAgICBzZXREcm9wRXJyb3IoZXgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICByZXR1cm4gdXNlTWVyZ2VkUHJvcHM8RT4oKSh7IG9uRHJhZ0VudGVyLCBvbkRyYWdMZWF2ZSwgb25EcmFnT3Zlciwgb25Ecm9wIH0sIHApO1xyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHVzZURyb3BwYWJsZVByb3BzLFxyXG4gICAgICAgIGZpbGVzRm9yQ29uc2lkZXJhdGlvbixcclxuICAgICAgICBzdHJpbmdzRm9yQ29uc2lkZXJhdGlvbixcclxuICAgICAgICBkcm9wcGVkRmlsZXMsXHJcbiAgICAgICAgZHJvcHBlZFN0cmluZ3MsXHJcblxyXG4gICAgICAgIGRyb3BFcnJvclxyXG4gICAgfVxyXG59XHJcblxyXG5cclxuIiwiXHJcbmltcG9ydCB7IFN0YXRlVXBkYXRlciwgdXNlQ2FsbGJhY2sgfSBmcm9tIFwicHJlYWN0L2hvb2tzXCI7XHJcbmltcG9ydCB7IE9uUGFzc2l2ZVN0YXRlQ2hhbmdlLCByZXR1cm5OdWxsLCByZXR1cm5UcnVlLCB1c2VFbnN1cmVTdGFiaWxpdHksIHVzZVBhc3NpdmVTdGF0ZSB9IGZyb20gXCIuL3VzZS1wYXNzaXZlLXN0YXRlXCI7XHJcbmltcG9ydCB7IHVzZVJlZkVsZW1lbnQsIFVzZVJlZkVsZW1lbnRQYXJhbWV0ZXJzLCBVc2VSZWZFbGVtZW50UmV0dXJuVHlwZSB9IGZyb20gXCIuL3VzZS1yZWYtZWxlbWVudFwiO1xyXG5cclxuXHJcbi8qKlxyXG4gKiBcclxuICogVGhlcmUgYXJlIHNldmVyYWwgZGlmZmVyZW50IHdheXMgdGhhdCBhIGZvY3VzIGV2ZW50IGNhbiBoYXBwZW4uICBBc3N1bWVcclxuICogdGhlIGZvbGxvd2luZyBzdGVwcyBoYXBwZW4gaW4gb3JkZXI6XHJcbiAqIFxyXG4gKiAxLiBUaGUgcGFnZSBsb2Fkcy5cclxuICogICAgKiBOb3RoaW5nIGlzIGZvY3VzZWQsIGJ1dCBgZG9jdW1lbnQuYWN0aXZlRWxlbWVudGAgaXMgYGJvZHlgLiBcclxuICogICAgKiBObyBmb2N1cyBldmVudHMgYXJlIGZpcmVkLlxyXG4gKiAyLiBUaGUgd2luZG93IGlzIGZvY3VzZWQsIGFuIHVuZm9jdXNhYmxlIGVsZW1lbnQgaXMgY2xpY2tlZCwgdGV4dCBpcyBzZWxlY3RlZCwgZXRjLlxyXG4gKiAgICAqIFRoZSBgYWN0aXZlRWxlbWVudGAgcmVtYWlucyBhcyBgYm9keWAuXHJcbiAqICAgICogQSBgZm9jdXNgL2Bmb2N1c2luYCBldmVudCAqTUlHSFQqIGJlIGZpcmVkIGZvciBgYm9keWAuIERlcGVuZGluZyBvblxyXG4gKiAgICAgIHRoZSBicm93c2VyLCB0aGlzIGRlcGVuZHMgb24gd2hldGhlciB0aGUgaGFuZGxlciB3YXMgYXR0YWNoZWQgdG8gYHdpbmRvd2Agb3IgYGRvY3VtZW50YC5cclxuICogICAgICBQcm9iYWJseSBqdXN0IGJlc3QgdG8gbm90IHJlbHkgb24gaXQsIG9yIGxpc3RlbiB0byBgd2luZG93YCBmb2N1cyBldmVudHMgZGlyZWN0bHkuXHJcbiAqIDMuIEEgZm9jdXNhYmxlIGVsZW1lbnQgaXMgY2xpY2tlZCwgZXRjLlxyXG4gKiAgICAqIFRoZSBgYWN0aXZlRWxlbWVudGAgaXMgc2V0IHRvIHRoZSBuZXcgZWxlbWVudCBiZWZvcmUgYW55IGV2ZW50IGV2ZW4gZmlyZXMuXHJcbiAqICAgICogYGZvY3Vzb3V0YCBhbmQgYGJsdXJgIGFyZSAqbm90KiBmaXJlZCBvbiBgYm9keWAuXHJcbiAqICAgICogYGZvY3VzYCBhbmQgYGZvY3VzaW5gIGFyZSBmaXJlZCBvbiB0aGUgbmV3IGVsZW1lbnQuIGByZWxhdGVkVGFyZ2V0YCBpcyBudWxsLlxyXG4gKiA0LiBBIGZvY3VzYWJsZSBlbGVtZW50IGlzIGNsaWNrZWQsIGV0Yy5cclxuICogICAgKiAqKlRoZSBgYWN0aXZlRWxlbWVudGAgaXMgc2V0IHRvIHRoZSBgYm9keWAqKiBiZWZvcmUgYW55IGV2ZW50IGV2ZW4gZmlyZXMuXHJcbiAqICAgICogYGJsdXJgIGFuZCBgZm9jdXNvdXRgIGFyZSBmaXJlZCBvbiB0aGUgb2xkIGVsZW1lbnQuIGByZWxhdGVkVGFyZ2V0YCBpcyB0aGUgbmV3IGVsZW1lbnQuXHJcbiAqICAgICogVGhlIGBhY3RpdmVFbGVtZW50YCBpcyBub3cgc2V0IHRvIHRoZSBuZXcgZWxlbWVudC5cclxuICogICAgKiBgZm9jdXNpbmAgaXMgZmlyZWQgb24gdGhlIG5ldyBlbGVtZW50LiBgcmVsYXRlZFRhcmdldGAgaXMgdGhlIG9sZCBlbGVtZW50LlxyXG4gKiA1LiBBbiB1bmZvY3VzYWJsZSBlbGVtZW50IGlzIGNsaWNrZWQsIHRleHQgaXMgc2VsZWN0ZWQsIGV0Yy5cclxuICogICAgKiBUaGUgYGFjdGl2ZUVsZW1lbnRgIGlzIHNldCB0byBgYm9keWAuXHJcbiAqICAgICogYGJsdXJgIGFuZCBgZm9jdXNvdXRgIGFyZSBmaXJlZCBvbiB0aGUgb2xkIGVsZW1lbnQuIGByZWxhdGVkVGFyZ2V0YCBpcyBudWxsLlxyXG4gKiAgICAqIGBmb2N1c2luYCBpcyAqbm90KiBmaXJlZCBvbiBgYm9keWAuXHJcbiAqIFxyXG4gKiBcclxuICogSW4gc3VtbWFyeTpcclxuICogMS4gRm9jdXMgZXZlbnRzICpkbyogbm90aWZ5IHVzIG9mIGFsbCBjaGFuZ2VzIGluIGZvY3VzLCBidXQgdGhlcmUgaXMgbm8gb25lIHNpbmdsZSBjb21wcmVoZW5zaXZlIGV2ZW50IHRoYXQgcHJvdmlkZXMgdXMgd2l0aCBhbGwgYXZhaWxhYmxlIGluZm9ybWF0aW9uLlxyXG4gKiAyLiBgZG9jdW1lbnQuYWN0aXZlRWxlbWVudGAgKmlzIG5vdCogYWx3YXlzIHRoZSBzYW1lIGFzIHdoYXQncyBiZWluZyByZWZlcmVuY2VkIGJ5IGEgZm9jdXMgZXZlbnQuIEluIHBhcnRpY3VsYXIsIGl0IG1heSBiZWNvbWUgYGJvZHlgIGF0IGFueSBhcmJpdHJhcnkgdGltZS5cclxuICogMy4gQSBgYmx1cmAgd2l0aG91dCBhIGBmb2N1c2AgY2FuIGFuZCB3aWxsIG9jY3VyLiBUaGlzIG1lYW5zIGl0IGlzIG5vdCBwb3NzaWJsZSB0byBzb2xlbHkgdXNlIGBmb2N1c2AgdG8gZGV0ZWN0IGFsbCBjaGFuZ2VzLlxyXG4gKiA0LiBBIGBibHVyYCBldmVudCB3aG9zZSBgcmVsYXRlZFRhcmdldGAgaXMgbnVsbCBpbmRpY2F0ZXMgdGhhdCB0aGVyZSB3aWxsIGJlIG5vIGZvbGxvd2luZyBgZm9jdXNgIGV2ZW50LlxyXG4gKiBcclxuICogXHJcbiAqIEBwYXJhbSBjYWxsYmFjayBcclxuICogQHJldHVybnMgXHJcbiAqL1xyXG5jb25zdCBfZHVtbXkgPSAwO1xyXG5cclxuY29uc3QgYWN0aXZlRWxlbWVudFVwZGF0ZXJzID0gbmV3IE1hcDxXaW5kb3cgfCBudWxsIHwgdW5kZWZpbmVkLCBTZXQ8dW5kZWZpbmVkIHwgKChlOiBOb2RlIHwgbnVsbCkgPT4gdm9pZCk+PigpO1xyXG5jb25zdCBsYXN0QWN0aXZlRWxlbWVudFVwZGF0ZXJzID0gbmV3IE1hcDxXaW5kb3cgfCBudWxsIHwgdW5kZWZpbmVkLCBTZXQ8dW5kZWZpbmVkIHwgKChlOiBOb2RlKSA9PiB2b2lkKT4+KCk7XHJcbmNvbnN0IHdpbmRvd0ZvY3VzZWRVcGRhdGVycyA9IG5ldyBNYXA8V2luZG93IHwgbnVsbCB8IHVuZGVmaW5lZCwgU2V0PHVuZGVmaW5lZCB8ICgoZm9jdXNlZDogYm9vbGVhbikgPT4gdm9pZCk+PigpO1xyXG5jb25zdCB3aW5kb3dzRm9jdXNlZFVwZGF0ZXJzID0gbmV3IE1hcDxXaW5kb3cgfCBudWxsIHwgdW5kZWZpbmVkLCBib29sZWFuPigpO1xyXG5cclxuZnVuY3Rpb24gZm9yRWFjaFVwZGF0ZXI8VD4od2luZG93OiBXaW5kb3cgfCBudWxsIHwgdW5kZWZpbmVkLCBtYXA6IE1hcDxXaW5kb3cgfCBudWxsIHwgdW5kZWZpbmVkLCBTZXQ8dW5kZWZpbmVkIHwgKChlOiBUKSA9PiB2b2lkKT4+LCB2YWx1ZTogVCkge1xyXG4gICAgZm9yIChjb25zdCBbb3RoZXJXaW5kb3csIHVwZGF0ZXJzXSBvZiBtYXApIHtcclxuICAgICAgICBpZiAod2luZG93ID09PSBvdGhlcldpbmRvdykge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHVwZGF0ZXIgb2YgdXBkYXRlcnMpIHtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZXI/Lih2YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGZvY3Vzb3V0KGU6IEZvY3VzRXZlbnQpIHtcclxuICAgIGNvbnN0IHdpbmRvdyA9IChlLnRhcmdldCBhcyBFbGVtZW50KS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3O1xyXG5cclxuICAgIGlmIChlLnJlbGF0ZWRUYXJnZXQgPT0gbnVsbCkge1xyXG4gICAgICAgIGZvckVhY2hVcGRhdGVyKHdpbmRvdywgYWN0aXZlRWxlbWVudFVwZGF0ZXJzLCBudWxsKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8vIEp1c3Qgd2FpdCBmb3IgdGhlIGZvY3VzaW4gZXZlbnQuXHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5mdW5jdGlvbiBmb2N1c2luKGU6IEZvY3VzRXZlbnQpIHtcclxuICAgIGNvbnN0IHdpbmRvdyA9IChlLnRhcmdldCBhcyBFbGVtZW50KS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3O1xyXG4gICAgY29uc3QgY3VycmVudGx5Rm9jdXNlZEVsZW1lbnQgPSBlLnRhcmdldCBhcyAoRWxlbWVudCAmIEhUTUxPclNWR0VsZW1lbnQpO1xyXG4gICAgZm9yRWFjaFVwZGF0ZXIod2luZG93LCBhY3RpdmVFbGVtZW50VXBkYXRlcnMsIGN1cnJlbnRseUZvY3VzZWRFbGVtZW50KTtcclxuICAgIGZvckVhY2hVcGRhdGVyKHdpbmRvdywgbGFzdEFjdGl2ZUVsZW1lbnRVcGRhdGVycywgY3VycmVudGx5Rm9jdXNlZEVsZW1lbnQpO1xyXG59XHJcblxyXG5mdW5jdGlvbiB3aW5kb3dGb2N1cyhlOiBGb2N1c0V2ZW50KSB7XHJcbiAgICBjb25zdCB3aW5kb3cgPSAoZS50YXJnZXQgaW5zdGFuY2VvZiBXaW5kb3cgPyBlLnRhcmdldCA6IGUuY3VycmVudFRhcmdldCBpbnN0YW5jZW9mIFdpbmRvdyA/IGUuY3VycmVudFRhcmdldCA6IChlLnRhcmdldCBhcyBFbGVtZW50KS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3KTtcclxuICAgIHdpbmRvd3NGb2N1c2VkVXBkYXRlcnMuc2V0KHdpbmRvdywgdHJ1ZSk7XHJcbiAgICBmb3JFYWNoVXBkYXRlcih3aW5kb3csIHdpbmRvd0ZvY3VzZWRVcGRhdGVycywgdHJ1ZSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHdpbmRvd0JsdXIoZTogRm9jdXNFdmVudCkge1xyXG4gICAgY29uc3Qgd2luZG93ID0gKGUudGFyZ2V0IGluc3RhbmNlb2YgV2luZG93ID8gZS50YXJnZXQgOiBlLmN1cnJlbnRUYXJnZXQgaW5zdGFuY2VvZiBXaW5kb3cgPyBlLmN1cnJlbnRUYXJnZXQgOiAoZS50YXJnZXQgYXMgRWxlbWVudCkub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldyk7XHJcbiAgICB3aW5kb3dzRm9jdXNlZFVwZGF0ZXJzLnNldCh3aW5kb3csIGZhbHNlKTtcclxuICAgIGZvckVhY2hVcGRhdGVyKHdpbmRvdywgd2luZG93Rm9jdXNlZFVwZGF0ZXJzLCBmYWxzZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVXNlQWN0aXZlRWxlbWVudFBhcmFtZXRlcnM8VCBleHRlbmRzIE5vZGU+IHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENhbGxlZCBhbnkgdGltZSB0aGUgYWN0aXZlIGVsZW1lbnQgY2hhbmdlcy4gTXVzdCBiZSBzdGFibGUuXHJcbiAgICAgKi9cclxuICAgIG9uQWN0aXZlRWxlbWVudENoYW5nZT86IE9uUGFzc2l2ZVN0YXRlQ2hhbmdlPFQgfCBudWxsPjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENhbGxlZCBhbnkgdGltZSB0aGUgYWN0aXZlIGVsZW1lbnQgY2hhbmdlcyBhbmQgaXMgbm90IG51bGwuIFxyXG4gICAgICogTXVzdCBiZSBzdGFibGUuXHJcbiAgICAgKi9cclxuICAgIG9uTGFzdEFjdGl2ZUVsZW1lbnRDaGFuZ2U/OiBPblBhc3NpdmVTdGF0ZUNoYW5nZTxUPjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENhbGxlZCBhbnkgdGltZSB0aGUgd2luZG93IGdhaW5zL2xvc2VzIGZvY3VzLiBNdXN0IGJlIHN0YWJsZS5cclxuICAgICAqL1xyXG4gICAgb25XaW5kb3dGb2N1c2VkQ2hhbmdlPzogT25QYXNzaXZlU3RhdGVDaGFuZ2U8Ym9vbGVhbj47XHJcblxyXG4gICAgb25Nb3VudD86IFVzZVJlZkVsZW1lbnRQYXJhbWV0ZXJzPFQ+W1wib25Nb3VudFwiXTtcclxuICAgIG9uVW5tb3VudD86IFVzZVJlZkVsZW1lbnRQYXJhbWV0ZXJzPFQ+W1wib25Vbm1vdW50XCJdO1xyXG4gICAgb25Nb3VudENoYW5nZT86IFVzZVJlZkVsZW1lbnRQYXJhbWV0ZXJzPFQ+W1wib25FbGVtZW50Q2hhbmdlXCJdO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFVzZUFjdGl2ZUVsZW1lbnRSZXR1cm5UeXBlPFQgZXh0ZW5kcyBOb2RlPiBleHRlbmRzIE9taXQ8VXNlUmVmRWxlbWVudFJldHVyblR5cGU8VD4sIFwidXNlUmVmRWxlbWVudFByb3BzXCI+IHtcclxuICAgIC8qKiBSZXR1cm5zIHdoYXRldmVyIGVsZW1lbnQgaXMgY3VycmVudGx5IGZvY3VzZWQsIG9yIGBudWxsYCBpZiB0aGVyZSdzIG5vIGZvY3VzZWQgZWxlbWVudCAqL1xyXG4gICAgZ2V0QWN0aXZlRWxlbWVudDogKCkgPT4gVCB8IG51bGw7XHJcbiAgICAvKiogUmV0dXJucyB3aGF0ZXZlciBlbGVtZW50IGlzIGN1cnJlbnRseSBmb2N1c2VkLCBvciB3aGF0ZXZlciBlbGVtZW50IHdhcyBtb3N0IHJlY2VudGx5IGZvY3VzZWQgaWYgdGhlcmUncyBubyBmb2N1c2VkIGVsZW1lbnQgKi9cclxuICAgIGdldExhc3RBY3RpdmVFbGVtZW50OiAoKSA9PiBUO1xyXG4gICAgLyoqIFJldHVybnMgaWYgdGhlIHdpbmRvdyBpdHNlbGYgaGFzIGZvY3VzIG9yIG5vdCAqL1xyXG4gICAgZ2V0V2luZG93Rm9jdXNlZDogKCkgPT4gYm9vbGVhbjtcclxuXHJcbiAgICB1c2VBY3RpdmVFbGVtZW50UHJvcHM6IFVzZVJlZkVsZW1lbnRSZXR1cm5UeXBlPFQ+W1widXNlUmVmRWxlbWVudFByb3BzXCJdO1xyXG59XHJcblxyXG4vKipcclxuICogQWxsb3dzIHlvdSB0byBpbnNwZWN0IHdoaWNoIGVsZW1lbnQgaW4gdGhlIGBkb2N1bWVudGAgY3VycmVudGx5IGhhcyBmb2N1cywgd2hpY2ggd2FzIG1vc3QgcmVjZW50bHkgZm9jdXNlZCBpZiBub25lIGFyZSBjdXJyZW50bHksIGFuZCB3aGV0aGVyIG9yIG5vdCB0aGUgd2luZG93IGhhcyBmb2N1cyBieSByZXR1cm5pbmcgdGhlIGZvbGxvd2luZyBmdW5jdGlvbnM6XHJcbiAqICogYGdldEFjdGl2ZUVsZW1lbnQoKWBcclxuICogKiBgZ2V0TGFzdEFjdGl2ZUVsZW1lbnQoKWBcclxuICogKiBgZ2V0V2luZG93Rm9jdXNlZCgpYFxyXG4gKiBcclxuICogKFRoZSBkb2N1bWVudCdzIGJvZHkgcmVjZWl2aW5nIGZvY3VzLCBsaWtlIGl0IGRvZXMgd2hlbiB5b3UgY2xpY2sgb24gYW4gZW1wdHkgYXJlYSwgaXMgY291bnRlZCBhcyBubyBlbGVtZW50IGhhdmluZyBmb2N1cyBmb3IgYWxsIGludGVudHMgYW5kIHB1cnBvc2VzKVxyXG4gKiBcclxuICogVGhpcyBpcyBhIHBhc3NpdmUgaG9vaywgc28gYnkgZGVmYXVsdCBpdCByZXR1cm5zIGdldHRlciBmdW5jdGlvbnMgdGhhdCByZXBvcnQgdGhpcyBpbmZvcm1hdGlvbiBidXQgdGhlIGNvbXBvbmVudCB3aWxsIG5vdCByZS1yZW5kZXIgYnkgZGVmYXVsdCB3aGVuIHRoZSBhY3RpdmUgZWxlbWVudCBjaGFuZ2VzLlxyXG4gKiBcclxuICogSWYgeW91IG5lZWQgdGhlIGNvbXBvbmVudCB0byByZS1yZW5kZXIgd2hlbiB0aGUgYWN0aXZlIGVsZW1lbnQgY2hhbmdlcywgdXNlIHRoZSBgb24qQ2hhbmdlYCBhcmd1bWVudHMgdG8gc2V0IHNvbWUgc3RhdGUgb24geW91ciBlbmQuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gdXNlQWN0aXZlRWxlbWVudDxUIGV4dGVuZHMgTm9kZT4oeyBvbkFjdGl2ZUVsZW1lbnRDaGFuZ2UsIG9uTGFzdEFjdGl2ZUVsZW1lbnRDaGFuZ2UsIG9uV2luZG93Rm9jdXNlZENoYW5nZSwgb25Nb3VudCwgb25Vbm1vdW50LCBvbk1vdW50Q2hhbmdlIH06IFVzZUFjdGl2ZUVsZW1lbnRQYXJhbWV0ZXJzPFQ+KTogVXNlQWN0aXZlRWxlbWVudFJldHVyblR5cGU8VD4ge1xyXG5cclxuICAgIHVzZUVuc3VyZVN0YWJpbGl0eShcInVzZUFjdGl2ZUVsZW1lbnRcIiwgb25BY3RpdmVFbGVtZW50Q2hhbmdlLCBvbkxhc3RBY3RpdmVFbGVtZW50Q2hhbmdlLCBvbldpbmRvd0ZvY3VzZWRDaGFuZ2UsIG9uTW91bnRDaGFuZ2UsIG9uTW91bnQsIG9uVW5tb3VudCk7XHJcblxyXG4gICAgY29uc3QgeyBnZXRFbGVtZW50LCB1c2VSZWZFbGVtZW50UHJvcHMgfSA9IHVzZVJlZkVsZW1lbnQ8VD4oe1xyXG4gICAgICAgIG9uTW91bnQsIFxyXG4gICAgICAgIG9uVW5tb3VudCxcclxuICAgICAgICBvbkVsZW1lbnRDaGFuZ2U6IHVzZUNhbGxiYWNrKChlbGVtZW50OiBUIHwgbnVsbCwgcHJldlZhbHVlOiBUIHwgbnVsbCB8IHVuZGVmaW5lZCkgPT4ge1xyXG4gICAgICAgICAgICBvbk1vdW50Q2hhbmdlPy4oZWxlbWVudCwgcHJldlZhbHVlKTtcclxuICAgICAgICAgICAgaWYgKGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRvY3VtZW50ID0gZWxlbWVudC5vd25lckRvY3VtZW50O1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgd2luZG93ID0gZG9jdW1lbnQ/LmRlZmF1bHRWaWV3O1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICgoYWN0aXZlRWxlbWVudFVwZGF0ZXJzLmdldCh3aW5kb3cpPy5zaXplID8/IDApID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQ/LmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c2luXCIsIGZvY3VzaW4sIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcclxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudD8uYWRkRXZlbnRMaXN0ZW5lcihcImZvY3Vzb3V0XCIsIGZvY3Vzb3V0LCB7IHBhc3NpdmU6IHRydWUgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93Py5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNcIiwgd2luZG93Rm9jdXMsIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3c/LmFkZEV2ZW50TGlzdGVuZXIoXCJibHVyXCIsIHdpbmRvd0JsdXIsIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBBZGQgdGhlbSBldmVuIGlmIHRoZXkncmUgdW5kZWZpbmVkIHRvIG1vcmUgZWFzaWx5XHJcbiAgICAgICAgICAgICAgICAvLyBtYW5hZ2UgdGhlIFwiPjAgbWVhbnMgZG9uJ3QgYWRkIGhhbmRsZXJzXCIgbG9naWMuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbEFjdGl2ZUVsZW1lbnRVcGRhdGVycyA9IGFjdGl2ZUVsZW1lbnRVcGRhdGVycy5nZXQod2luZG93KSA/PyBuZXcgU2V0KCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbExhc3RBY3RpdmVFbGVtZW50VXBkYXRlcnMgPSBsYXN0QWN0aXZlRWxlbWVudFVwZGF0ZXJzLmdldCh3aW5kb3cpID8/IG5ldyBTZXQoKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxvY2FsV2luZG93Rm9jdXNlZFVwZGF0ZXJzID0gd2luZG93Rm9jdXNlZFVwZGF0ZXJzLmdldCh3aW5kb3cpID8/IG5ldyBTZXQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBsb2NhbEFjdGl2ZUVsZW1lbnRVcGRhdGVycy5hZGQoc2V0QWN0aXZlRWxlbWVudCBhcyBTdGF0ZVVwZGF0ZXI8Tm9kZSB8IG51bGw+KTtcclxuICAgICAgICAgICAgICAgIGxvY2FsTGFzdEFjdGl2ZUVsZW1lbnRVcGRhdGVycy5hZGQoc2V0TGFzdEFjdGl2ZUVsZW1lbnQgYXMgU3RhdGVVcGRhdGVyPE5vZGU+KTtcclxuICAgICAgICAgICAgICAgIGxvY2FsV2luZG93Rm9jdXNlZFVwZGF0ZXJzLmFkZChzZXRXaW5kb3dGb2N1c2VkKTtcclxuXHJcbiAgICAgICAgICAgICAgICBhY3RpdmVFbGVtZW50VXBkYXRlcnMuc2V0KHdpbmRvdywgbG9jYWxBY3RpdmVFbGVtZW50VXBkYXRlcnMpO1xyXG4gICAgICAgICAgICAgICAgbGFzdEFjdGl2ZUVsZW1lbnRVcGRhdGVycy5zZXQod2luZG93LCBsb2NhbExhc3RBY3RpdmVFbGVtZW50VXBkYXRlcnMpO1xyXG4gICAgICAgICAgICAgICAgd2luZG93Rm9jdXNlZFVwZGF0ZXJzLnNldCh3aW5kb3csIGxvY2FsV2luZG93Rm9jdXNlZFVwZGF0ZXJzKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZUVsZW1lbnRVcGRhdGVycy5nZXQod2luZG93KSEuZGVsZXRlKHNldEFjdGl2ZUVsZW1lbnQgYXMgU3RhdGVVcGRhdGVyPE5vZGUgfCBudWxsPik7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFzdEFjdGl2ZUVsZW1lbnRVcGRhdGVycy5nZXQod2luZG93KSEuZGVsZXRlKHNldExhc3RBY3RpdmVFbGVtZW50IGFzIFN0YXRlVXBkYXRlcjxOb2RlPik7XHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93Rm9jdXNlZFVwZGF0ZXJzLmdldCh3aW5kb3cpIS5kZWxldGUoc2V0V2luZG93Rm9jdXNlZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhY3RpdmVFbGVtZW50VXBkYXRlcnMuc2l6ZSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudD8ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImZvY3VzaW5cIiwgZm9jdXNpbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50Py5yZW1vdmVFdmVudExpc3RlbmVyKFwiZm9jdXNvdXRcIiwgZm9jdXNvdXQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3c/LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJmb2N1c1wiLCB3aW5kb3dGb2N1cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdz8ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImJsdXJcIiwgd2luZG93Qmx1cik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgW10pXHJcbiAgICB9KVxyXG5cclxuICAgIGNvbnN0IFtnZXRBY3RpdmVFbGVtZW50LCBzZXRBY3RpdmVFbGVtZW50XSA9IHVzZVBhc3NpdmVTdGF0ZTxUIHwgbnVsbD4ob25BY3RpdmVFbGVtZW50Q2hhbmdlLCByZXR1cm5OdWxsKTtcclxuICAgIGNvbnN0IFtnZXRMYXN0QWN0aXZlRWxlbWVudCwgc2V0TGFzdEFjdGl2ZUVsZW1lbnRdID0gdXNlUGFzc2l2ZVN0YXRlPFQ+KG9uTGFzdEFjdGl2ZUVsZW1lbnRDaGFuZ2UsIHJldHVybk51bGwgYXMgKCkgPT4gbmV2ZXIpO1xyXG4gICAgY29uc3QgW2dldFdpbmRvd0ZvY3VzZWQsIHNldFdpbmRvd0ZvY3VzZWRdID0gdXNlUGFzc2l2ZVN0YXRlPGJvb2xlYW4+KG9uV2luZG93Rm9jdXNlZENoYW5nZSwgcmV0dXJuVHJ1ZSk7XHJcblxyXG4gICAgcmV0dXJuIHsgZ2V0RWxlbWVudCwgdXNlQWN0aXZlRWxlbWVudFByb3BzOiB1c2VSZWZFbGVtZW50UHJvcHMsIGdldEFjdGl2ZUVsZW1lbnQsIGdldExhc3RBY3RpdmVFbGVtZW50LCBnZXRXaW5kb3dGb2N1c2VkIH07XHJcbn1cclxuIiwiXHJcbmltcG9ydCB7IGggfSBmcm9tIFwicHJlYWN0XCI7XHJcbmltcG9ydCB7IHVzZUNhbGxiYWNrIH0gZnJvbSBcInByZWFjdC9ob29rc1wiO1xyXG5pbXBvcnQgeyB1c2VBY3RpdmVFbGVtZW50LCBVc2VBY3RpdmVFbGVtZW50UGFyYW1ldGVycywgVXNlQWN0aXZlRWxlbWVudFJldHVyblR5cGUgfSBmcm9tIFwiLi91c2UtYWN0aXZlLWVsZW1lbnRcIjtcclxuaW1wb3J0IHsgTWVyZ2VkUHJvcHMgfSBmcm9tIFwiLi91c2UtbWVyZ2VkLXByb3BzXCI7XHJcbmltcG9ydCB7IHJldHVybkZhbHNlLCB1c2VFbnN1cmVTdGFiaWxpdHksIHVzZVBhc3NpdmVTdGF0ZSB9IGZyb20gXCIuL3VzZS1wYXNzaXZlLXN0YXRlXCI7XHJcbmltcG9ydCB7IFVzZVJlZkVsZW1lbnRQcm9wc1JldHVyblR5cGUsIFVzZVJlZkVsZW1lbnRSZXR1cm5UeXBlIH0gZnJvbSBcIi4vdXNlLXJlZi1lbGVtZW50XCI7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFVzZUZvY3VzUGFyYW1ldGVyczxUIGV4dGVuZHMgTm9kZT4gZXh0ZW5kcyBVc2VBY3RpdmVFbGVtZW50UGFyYW1ldGVyczxUPiB7XHJcbiAgICAvKipcclxuICAgICAqIFdoZXRoZXIgdGhlIGVsZW1lbnQgaXRzZWxmIGN1cnJlbnRseSBoYXMgZm9jdXMuXHJcbiAgICAgKi9cclxuICAgIG9uRm9jdXNlZENoYW5nZWQ/KGZvY3VzZWQ6IGJvb2xlYW4pOiB2b2lkO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogTGlrZSBgZm9jdXNlZGAsIGJ1dCBhbHNvICphZGRpdGlvbmFsbHkqIGlmIGFueSBjaGlsZCBlbGVtZW50cyBhcmUgZm9jdXNlZC5cclxuICAgICAqIFxyXG4gICAgICogQHNlZSBzZXRGb2N1c2VkXHJcbiAgICAgKi9cclxuICAgIG9uRm9jdXNlZElubmVyQ2hhbmdlZD8oZm9jdXNlZDogYm9vbGVhbik6IHZvaWQ7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTaW1pbGFyIHRvIGBzZXRGb2N1c2VkYCwgYnV0IGlmIHRoZXJlIGlzIG5vIGN1cnJlbnRseSBmb2N1c2VkIGVsZW1lbnQsIGlzIGB0cnVlYCBpZiB0aGlzIGVsZW1lbnQgdGhhdCAqZGlkKiBoYXZlIGZvY3VzIGxhc3QuXHJcbiAgICAgKiBcclxuICAgICAqIFRoaXMgaXMgYWx3YXlzIGB0cnVlYCB3aGlsZSBgZm9jdXNlZGAgaXMgYHRydWVgLiBJZiBgZm9jdXNlZGAgaXMgYGZhbHNlYCwgdGhpcyBtYXkgYmUgYHRydWVgIG9yIGBmYWxzZWAuXHJcbiAgICAgKi9cclxuICAgIG9uTGFzdEZvY3VzZWRDaGFuZ2VkPyhmb2N1c2VkOiBib29sZWFuKTogdm9pZDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENvbWJpbmVzIHRoZSBpbXBsaWNhdGlvbnMgb2YgYHNldExhc3RGb2N1c2VkYCBhbmQgYHNldEZvY3VzZWRJbm5lcmAuXHJcbiAgICAgKi9cclxuICAgIG9uTGFzdEZvY3VzZWRJbm5lckNoYW5nZWQ/KGZvY3VzZWQ6IGJvb2xlYW4pOiB2b2lkO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFVzZUhhc0ZvY3VzUHJvcHNQYXJhbWV0ZXJzPFQgZXh0ZW5kcyBFdmVudFRhcmdldD4gZXh0ZW5kcyBoLkpTWC5IVE1MQXR0cmlidXRlczxUPiB7IH1cclxuXHJcbmV4cG9ydCB0eXBlIFVzZUhhc0ZvY3VzUHJvcHNSZXR1cm5UeXBlPFQgZXh0ZW5kcyBFdmVudFRhcmdldCwgUCBleHRlbmRzIFVzZUhhc0ZvY3VzUHJvcHNQYXJhbWV0ZXJzPFQ+PiA9IE1lcmdlZFByb3BzPFQsIFVzZVJlZkVsZW1lbnRQcm9wc1JldHVyblR5cGU8VCwgeyBvbkZvY3VzOiAoZTogRm9jdXNFdmVudCkgPT4gdm9pZDsgb25CbHVyOiAoZTogRm9jdXNFdmVudCkgPT4gdm9pZDsgfT4sIFA+O1xyXG4vKlxyXG5pbnRlcmZhY2UgVXNlRm9jdXNSZXN1bHQ8VCBleHRlbmRzIEV2ZW50VGFyZ2V0PiB7XHJcbiAgICB1c2VGb2N1c1Byb3BzOiA8UCBleHRlbmRzIFVzZUZvY3VzUHJvcHM8VD4+KHByb3BzOiBQKSA9PiBNZXJnZWRQcm9wczxGb2N1c1Byb3BzLCBQPlxyXG59Ki9cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVXNlSGFzRm9jdXNSZXR1cm5UeXBlPFQgZXh0ZW5kcyBOb2RlPiBleHRlbmRzIE9taXQ8VXNlUmVmRWxlbWVudFJldHVyblR5cGU8VD4sIFwidXNlUmVmRWxlbWVudFByb3BzXCI+LCBPbWl0PFVzZUFjdGl2ZUVsZW1lbnRSZXR1cm5UeXBlPFQ+LCBcInVzZUFjdGl2ZUVsZW1lbnRQcm9wc1wiPiB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNb2RpZmllcyB0aGUgZWxlbWVudCB0byBiZSBhYmxlIHRvIHRyYWNrIGl0cyBvd24gZm9jdXMgc3RhdGVcclxuICAgICAqL1xyXG4gICAgdXNlSGFzRm9jdXNQcm9wczogPFAgZXh0ZW5kcyBVc2VIYXNGb2N1c1Byb3BzUGFyYW1ldGVyczxUPj4ocHJvcHM6IFApID0+IFVzZUhhc0ZvY3VzUHJvcHNSZXR1cm5UeXBlPFQsIFA+O1xyXG5cclxuICAgIGdldEZvY3VzZWQoKTogYm9vbGVhbjtcclxuICAgIGdldEZvY3VzZWRJbm5lcigpOiBib29sZWFuO1xyXG4gICAgZ2V0TGFzdEZvY3VzZWQoKTogYm9vbGVhbjtcclxuICAgIGdldExhc3RGb2N1c2VkSW5uZXIoKTogYm9vbGVhbjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHVzZUhhc0ZvY3VzPFQgZXh0ZW5kcyBOb2RlPih7IG9uRm9jdXNlZENoYW5nZWQsIG9uRm9jdXNlZElubmVyQ2hhbmdlZCwgb25MYXN0Rm9jdXNlZENoYW5nZWQsIG9uTGFzdEZvY3VzZWRJbm5lckNoYW5nZWQsIG9uTGFzdEFjdGl2ZUVsZW1lbnRDaGFuZ2UsIG9uQWN0aXZlRWxlbWVudENoYW5nZSwgb25XaW5kb3dGb2N1c2VkQ2hhbmdlIH06IFVzZUZvY3VzUGFyYW1ldGVyczxUPik6IFVzZUhhc0ZvY3VzUmV0dXJuVHlwZTxUPiB7XHJcblxyXG4gICAgdXNlRW5zdXJlU3RhYmlsaXR5KFwidXNlSGFzRm9jdXNcIiwgb25Gb2N1c2VkQ2hhbmdlZCwgb25Gb2N1c2VkSW5uZXJDaGFuZ2VkLCBvbkxhc3RGb2N1c2VkQ2hhbmdlZCwgb25MYXN0Rm9jdXNlZElubmVyQ2hhbmdlZCwgb25MYXN0QWN0aXZlRWxlbWVudENoYW5nZSwgb25BY3RpdmVFbGVtZW50Q2hhbmdlLCBvbldpbmRvd0ZvY3VzZWRDaGFuZ2UpO1xyXG5cclxuICAgIGNvbnN0IFtnZXRGb2N1c2VkLCBzZXRGb2N1c2VkXSA9IHVzZVBhc3NpdmVTdGF0ZTxib29sZWFuPihvbkZvY3VzZWRDaGFuZ2VkLCByZXR1cm5GYWxzZSk7XHJcbiAgICBjb25zdCBbZ2V0Rm9jdXNlZElubmVyLCBzZXRGb2N1c2VkSW5uZXJdID0gdXNlUGFzc2l2ZVN0YXRlPGJvb2xlYW4+KG9uRm9jdXNlZElubmVyQ2hhbmdlZCwgcmV0dXJuRmFsc2UpO1xyXG4gICAgY29uc3QgW2dldExhc3RGb2N1c2VkLCBzZXRMYXN0Rm9jdXNlZF0gPSB1c2VQYXNzaXZlU3RhdGU8Ym9vbGVhbj4ob25MYXN0Rm9jdXNlZENoYW5nZWQsIHJldHVybkZhbHNlKTtcclxuICAgIGNvbnN0IFtnZXRMYXN0Rm9jdXNlZElubmVyLCBzZXRMYXN0Rm9jdXNlZElubmVyXSA9IHVzZVBhc3NpdmVTdGF0ZTxib29sZWFuPihvbkxhc3RGb2N1c2VkSW5uZXJDaGFuZ2VkLCByZXR1cm5GYWxzZSk7XHJcblxyXG4gICAgY29uc3QgeyBnZXRBY3RpdmVFbGVtZW50LCBnZXRMYXN0QWN0aXZlRWxlbWVudCwgZ2V0V2luZG93Rm9jdXNlZCwgdXNlQWN0aXZlRWxlbWVudFByb3BzLCBnZXRFbGVtZW50IH0gPSB1c2VBY3RpdmVFbGVtZW50PFQ+KHtcclxuICAgICAgICBvbkFjdGl2ZUVsZW1lbnRDaGFuZ2U6IHVzZUNhbGxiYWNrPE5vbk51bGxhYmxlPFVzZUFjdGl2ZUVsZW1lbnRQYXJhbWV0ZXJzPFQ+W1wib25BY3RpdmVFbGVtZW50Q2hhbmdlXCJdPj4oKGFjdGl2ZUVsZW1lbnQsIHByZXZBY3RpdmVFbGVtZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNlbGZFbGVtZW50ID0gZ2V0RWxlbWVudCgpO1xyXG4gICAgICAgICAgICBjb25zdCBmb2N1c2VkID0gKHNlbGZFbGVtZW50ICE9IG51bGwgJiYgKHNlbGZFbGVtZW50ID09IGFjdGl2ZUVsZW1lbnQgYXMgTm9kZSB8IG51bGwpKTtcclxuICAgICAgICAgICAgY29uc3QgZm9jdXNlZElubmVyID0gKCEhc2VsZkVsZW1lbnQ/LmNvbnRhaW5zKGFjdGl2ZUVsZW1lbnQgYXMgTm9kZSB8IG51bGwpKTtcclxuICAgICAgICAgICAgc2V0Rm9jdXNlZChmb2N1c2VkKTtcclxuICAgICAgICAgICAgc2V0Rm9jdXNlZElubmVyKGZvY3VzZWRJbm5lcik7XHJcbiAgICAgICAgICAgIG9uQWN0aXZlRWxlbWVudENoYW5nZT8uKGFjdGl2ZUVsZW1lbnQsIHByZXZBY3RpdmVFbGVtZW50KTtcclxuICAgICAgICB9LCBbXSksXHJcbiAgICAgICAgb25MYXN0QWN0aXZlRWxlbWVudENoYW5nZTogdXNlQ2FsbGJhY2s8Tm9uTnVsbGFibGU8VXNlQWN0aXZlRWxlbWVudFBhcmFtZXRlcnM8VD5bXCJvbkxhc3RBY3RpdmVFbGVtZW50Q2hhbmdlXCJdPj4oKGxhc3RBY3RpdmVFbGVtZW50LCBwcmV2TGFzdEFjdGl2ZUVsZW1lbnQpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgc2VsZkVsZW1lbnQgPSBnZXRFbGVtZW50KCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGZvY3VzZWQgPSAoc2VsZkVsZW1lbnQgIT0gbnVsbCAmJiAoc2VsZkVsZW1lbnQgPT0gbGFzdEFjdGl2ZUVsZW1lbnQgYXMgTm9kZSB8IG51bGwpKTtcclxuICAgICAgICAgICAgY29uc3QgZm9jdXNlZElubmVyID0gKCEhc2VsZkVsZW1lbnQ/LmNvbnRhaW5zKGxhc3RBY3RpdmVFbGVtZW50IGFzIE5vZGUgfCBudWxsKSk7XHJcbiAgICAgICAgICAgIHNldExhc3RGb2N1c2VkKGZvY3VzZWQpO1xyXG4gICAgICAgICAgICBzZXRMYXN0Rm9jdXNlZElubmVyKGZvY3VzZWRJbm5lcik7XHJcbiAgICAgICAgICAgIG9uTGFzdEFjdGl2ZUVsZW1lbnRDaGFuZ2U/LihsYXN0QWN0aXZlRWxlbWVudCwgcHJldkxhc3RBY3RpdmVFbGVtZW50KTtcclxuICAgICAgICB9LCBbXSksXHJcbiAgICAgICAgb25XaW5kb3dGb2N1c2VkQ2hhbmdlXHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCB1c2VIYXNGb2N1c1Byb3BzID0gdXNlQ2FsbGJhY2soPFAgZXh0ZW5kcyBVc2VIYXNGb2N1c1Byb3BzUGFyYW1ldGVyczxUPj4ocHJvcHM6IFApID0+IHsgcmV0dXJuIHVzZUFjdGl2ZUVsZW1lbnRQcm9wcyhwcm9wcyk7IH0sIFt1c2VBY3RpdmVFbGVtZW50UHJvcHNdKTtcclxuXHJcblxyXG4gICAgcmV0dXJuIHsgdXNlSGFzRm9jdXNQcm9wcywgZ2V0RWxlbWVudCwgZ2V0Rm9jdXNlZCwgZ2V0Rm9jdXNlZElubmVyLCBnZXRMYXN0Rm9jdXNlZCwgZ2V0TGFzdEZvY3VzZWRJbm5lciwgZ2V0QWN0aXZlRWxlbWVudCwgZ2V0TGFzdEFjdGl2ZUVsZW1lbnQsIGdldFdpbmRvd0ZvY3VzZWQgfTtcclxufVxyXG4iLCJpbXBvcnQgeyB1c2VFZmZlY3QgfSBmcm9tIFwicHJlYWN0L2hvb2tzXCI7XHJcbmltcG9ydCB7IHVzZVN0YWJsZUNhbGxiYWNrIH0gZnJvbSBcIi4vdXNlLXN0YWJsZS1jYWxsYmFja1wiO1xyXG5pbXBvcnQgeyB1c2VTdGFibGVHZXR0ZXIgfSBmcm9tIFwiLi91c2Utc3RhYmxlLWdldHRlclwiO1xyXG5cclxuXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFVzZUludGVydmFsIHtcclxuICAgIC8qKlxyXG4gICAgICogVGhlIG51bWJlciBvZiBtcyB0byB3YWl0IGJlZm9yZSBpbnZva2luZyBgY2FsbGJhY2tgLlxyXG4gICAgICovXHJcbiAgICBpbnRlcnZhbDogbnVtYmVyIHwgbnVsbDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENhbGxlZCBgdGltZW91dGAgbXMgYWZ0ZXIgbW91bnQsIG9yIHRoZSBsYXN0IGNoYW5nZSB0byBgdHJpZ2dlckluZGV4YC5cclxuICAgICAqL1xyXG4gICAgY2FsbGJhY2s6ICgpID0+IHZvaWQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB1c2VJbnRlcnZhbCh7IGludGVydmFsLCBjYWxsYmFjayB9OiBVc2VJbnRlcnZhbCkge1xyXG4gICAgLy8gR2V0IGEgd3JhcHBlciBhcm91bmQgdGhlIGdpdmVuIGNhbGxiYWNrIHRoYXQncyBzdGFibGVcclxuICAgIGNvbnN0IHN0YWJsZUNhbGxiYWNrID0gdXNlU3RhYmxlQ2FsbGJhY2soY2FsbGJhY2spO1xyXG4gICAgY29uc3QgZ2V0SW50ZXJ2YWwgPSB1c2VTdGFibGVHZXR0ZXIoaW50ZXJ2YWwpO1xyXG5cclxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgaW50ZXJ2YWwgPSBnZXRJbnRlcnZhbCgpO1xyXG4gICAgICAgIGxldCBsYXN0RGVsYXlVc2VkID0gaW50ZXJ2YWw7XHJcblxyXG4gICAgICAgIGlmIChpbnRlcnZhbCA9PSBudWxsKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcblxyXG5cclxuICAgICAgICAvLyBHZXQgYSB3cmFwcGVyIGFyb3VuZCB0aGUgd3JhcHBlciBhcm91bmQgdGhlIGNhbGxiYWNrXHJcbiAgICAgICAgLy8gdGhhdCBjbGVhcnMgYW5kIHJlc2V0cyB0aGUgaW50ZXJ2YWwgaWYgaXQgY2hhbmdlcy5cclxuICAgICAgICBjb25zdCBhZGp1c3RhYmxlQ2FsbGJhY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHN0YWJsZUNhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRJbnRlcnZhbCA9IGdldEludGVydmFsKCk7XHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50SW50ZXJ2YWwgIT0gbGFzdERlbGF5VXNlZCkge1xyXG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChoYW5kbGUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRJbnRlcnZhbCAhPSBudWxsKVxyXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZSA9IHNldEludGVydmFsKGFkanVzdGFibGVDYWxsYmFjaywgbGFzdERlbGF5VXNlZCA9IGN1cnJlbnRJbnRlcnZhbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGhhbmRsZSA9IHNldEludGVydmFsKGFkanVzdGFibGVDYWxsYmFjaywgaW50ZXJ2YWwpO1xyXG4gICAgICAgIHJldHVybiAoKSA9PiBjbGVhckludGVydmFsKGhhbmRsZSk7XHJcbiAgICB9LCBbXSk7XHJcbn1cclxuXHJcbiIsImNvbnN0IGNhbmRpZGF0ZVNlbGVjdG9ycyA9IFtcbiAgJ2lucHV0JyxcbiAgJ3NlbGVjdCcsXG4gICd0ZXh0YXJlYScsXG4gICdhW2hyZWZdJyxcbiAgJ2J1dHRvbicsXG4gICdbdGFiaW5kZXhdOm5vdChzbG90KScsXG4gICdhdWRpb1tjb250cm9sc10nLFxuICAndmlkZW9bY29udHJvbHNdJyxcbiAgJ1tjb250ZW50ZWRpdGFibGVdOm5vdChbY29udGVudGVkaXRhYmxlPVwiZmFsc2VcIl0pJyxcbiAgJ2RldGFpbHM+c3VtbWFyeTpmaXJzdC1vZi10eXBlJyxcbiAgJ2RldGFpbHMnLFxuXTtcbmNvbnN0IGNhbmRpZGF0ZVNlbGVjdG9yID0gLyogI19fUFVSRV9fICovIGNhbmRpZGF0ZVNlbGVjdG9ycy5qb2luKCcsJyk7XG5cbmNvbnN0IE5vRWxlbWVudCA9IHR5cGVvZiBFbGVtZW50ID09PSAndW5kZWZpbmVkJztcblxuY29uc3QgbWF0Y2hlcyA9IE5vRWxlbWVudFxuICA/IGZ1bmN0aW9uICgpIHt9XG4gIDogRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlcyB8fFxuICAgIEVsZW1lbnQucHJvdG90eXBlLm1zTWF0Y2hlc1NlbGVjdG9yIHx8XG4gICAgRWxlbWVudC5wcm90b3R5cGUud2Via2l0TWF0Y2hlc1NlbGVjdG9yO1xuXG5jb25zdCBnZXRSb290Tm9kZSA9XG4gICFOb0VsZW1lbnQgJiYgRWxlbWVudC5wcm90b3R5cGUuZ2V0Um9vdE5vZGVcbiAgICA/IChlbGVtZW50KSA9PiBlbGVtZW50LmdldFJvb3ROb2RlKClcbiAgICA6IChlbGVtZW50KSA9PiBlbGVtZW50Lm93bmVyRG9jdW1lbnQ7XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbCBjb250YWluZXIgdG8gY2hlY2sgaW5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaW5jbHVkZUNvbnRhaW5lciBhZGQgY29udGFpbmVyIHRvIGNoZWNrXG4gKiBAcGFyYW0geyhub2RlOiBFbGVtZW50KSA9PiBib29sZWFufSBmaWx0ZXIgZmlsdGVyIGNhbmRpZGF0ZXNcbiAqIEByZXR1cm5zIHtFbGVtZW50W119XG4gKi9cbmNvbnN0IGdldENhbmRpZGF0ZXMgPSBmdW5jdGlvbiAoZWwsIGluY2x1ZGVDb250YWluZXIsIGZpbHRlcikge1xuICBsZXQgY2FuZGlkYXRlcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5hcHBseShcbiAgICBlbC5xdWVyeVNlbGVjdG9yQWxsKGNhbmRpZGF0ZVNlbGVjdG9yKVxuICApO1xuICBpZiAoaW5jbHVkZUNvbnRhaW5lciAmJiBtYXRjaGVzLmNhbGwoZWwsIGNhbmRpZGF0ZVNlbGVjdG9yKSkge1xuICAgIGNhbmRpZGF0ZXMudW5zaGlmdChlbCk7XG4gIH1cbiAgY2FuZGlkYXRlcyA9IGNhbmRpZGF0ZXMuZmlsdGVyKGZpbHRlcik7XG4gIHJldHVybiBjYW5kaWRhdGVzO1xufTtcblxuLyoqXG4gKiBAY2FsbGJhY2sgR2V0U2hhZG93Um9vdFxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50IHRvIGNoZWNrIGZvciBzaGFkb3cgcm9vdFxuICogQHJldHVybnMge1NoYWRvd1Jvb3R8Ym9vbGVhbn0gU2hhZG93Um9vdCBpZiBhdmFpbGFibGUgb3IgYm9vbGVhbiBpbmRpY2F0aW5nIGlmIGEgc2hhZG93Um9vdCBpcyBhdHRhY2hlZCBidXQgbm90IGF2YWlsYWJsZS5cbiAqL1xuXG4vKipcbiAqIEBjYWxsYmFjayBTaGFkb3dSb290RmlsdGVyXG4gKiBAcGFyYW0ge0VsZW1lbnR9IHNoYWRvd0hvc3ROb2RlIHRoZSBlbGVtZW50IHdoaWNoIGNvbnRhaW5zIHNoYWRvdyBjb250ZW50XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpZiBhIHNoYWRvdyByb290IGNvdWxkIHBvdGVudGlhbGx5IGNvbnRhaW4gdmFsaWQgY2FuZGlkYXRlcy5cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IENhbmRpZGF0ZXNTY29wZVxuICogQHByb3BlcnR5IHtFbGVtZW50fSBzY29wZSBjb250YWlucyBpbm5lciBjYW5kaWRhdGVzXG4gKiBAcHJvcGVydHkge0VsZW1lbnRbXX0gY2FuZGlkYXRlc1xuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gSXRlcmF0aXZlT3B0aW9uc1xuICogQHByb3BlcnR5IHtHZXRTaGFkb3dSb290fGJvb2xlYW59IGdldFNoYWRvd1Jvb3QgdHJ1ZSBpZiBzaGFkb3cgc3VwcG9ydCBpcyBlbmFibGVkOyBmYWxzeSBpZiBub3Q7XG4gKiAgaWYgYSBmdW5jdGlvbiwgaW1wbGllcyBzaGFkb3cgc3VwcG9ydCBpcyBlbmFibGVkIGFuZCBlaXRoZXIgcmV0dXJucyB0aGUgc2hhZG93IHJvb3Qgb2YgYW4gZWxlbWVudFxuICogIG9yIGEgYm9vbGVhbiBzdGF0aW5nIGlmIGl0IGhhcyBhbiB1bmRpc2Nsb3NlZCBzaGFkb3cgcm9vdFxuICogQHByb3BlcnR5IHsobm9kZTogRWxlbWVudCkgPT4gYm9vbGVhbn0gZmlsdGVyIGZpbHRlciBjYW5kaWRhdGVzXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IGZsYXR0ZW4gaWYgdHJ1ZSB0aGVuIHJlc3VsdCB3aWxsIGZsYXR0ZW4gYW55IENhbmRpZGF0ZXNTY29wZSBpbnRvIHRoZSByZXR1cm5lZCBsaXN0XG4gKiBAcHJvcGVydHkge1NoYWRvd1Jvb3RGaWx0ZXJ9IHNoYWRvd1Jvb3RGaWx0ZXIgZmlsdGVyIHNoYWRvdyByb290cztcbiAqL1xuXG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudFtdfSBlbGVtZW50cyBsaXN0IG9mIGVsZW1lbnQgY29udGFpbmVycyB0byBtYXRjaCBjYW5kaWRhdGVzIGZyb21cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaW5jbHVkZUNvbnRhaW5lciBhZGQgY29udGFpbmVyIGxpc3QgdG8gY2hlY2tcbiAqIEBwYXJhbSB7SXRlcmF0aXZlT3B0aW9uc30gb3B0aW9uc1xuICogQHJldHVybnMge0FycmF5LjxFbGVtZW50fENhbmRpZGF0ZXNTY29wZT59XG4gKi9cbmNvbnN0IGdldENhbmRpZGF0ZXNJdGVyYXRpdmVseSA9IGZ1bmN0aW9uIChcbiAgZWxlbWVudHMsXG4gIGluY2x1ZGVDb250YWluZXIsXG4gIG9wdGlvbnNcbikge1xuICBjb25zdCBjYW5kaWRhdGVzID0gW107XG4gIGNvbnN0IGVsZW1lbnRzVG9DaGVjayA9IEFycmF5LmZyb20oZWxlbWVudHMpO1xuICB3aGlsZSAoZWxlbWVudHNUb0NoZWNrLmxlbmd0aCkge1xuICAgIGNvbnN0IGVsZW1lbnQgPSBlbGVtZW50c1RvQ2hlY2suc2hpZnQoKTtcbiAgICBpZiAoZWxlbWVudC50YWdOYW1lID09PSAnU0xPVCcpIHtcbiAgICAgIC8vIGFkZCBzaGFkb3cgZG9tIHNsb3Qgc2NvcGUgKHNsb3QgaXRzZWxmIGNhbm5vdCBiZSBmb2N1c2FibGUpXG4gICAgICBjb25zdCBhc3NpZ25lZCA9IGVsZW1lbnQuYXNzaWduZWRFbGVtZW50cygpO1xuICAgICAgY29uc3QgY29udGVudCA9IGFzc2lnbmVkLmxlbmd0aCA/IGFzc2lnbmVkIDogZWxlbWVudC5jaGlsZHJlbjtcbiAgICAgIGNvbnN0IG5lc3RlZENhbmRpZGF0ZXMgPSBnZXRDYW5kaWRhdGVzSXRlcmF0aXZlbHkoY29udGVudCwgdHJ1ZSwgb3B0aW9ucyk7XG4gICAgICBpZiAob3B0aW9ucy5mbGF0dGVuKSB7XG4gICAgICAgIGNhbmRpZGF0ZXMucHVzaCguLi5uZXN0ZWRDYW5kaWRhdGVzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhbmRpZGF0ZXMucHVzaCh7XG4gICAgICAgICAgc2NvcGU6IGVsZW1lbnQsXG4gICAgICAgICAgY2FuZGlkYXRlczogbmVzdGVkQ2FuZGlkYXRlcyxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGNoZWNrIGNhbmRpZGF0ZSBlbGVtZW50XG4gICAgICBjb25zdCB2YWxpZENhbmRpZGF0ZSA9IG1hdGNoZXMuY2FsbChlbGVtZW50LCBjYW5kaWRhdGVTZWxlY3Rvcik7XG4gICAgICBpZiAoXG4gICAgICAgIHZhbGlkQ2FuZGlkYXRlICYmXG4gICAgICAgIG9wdGlvbnMuZmlsdGVyKGVsZW1lbnQpICYmXG4gICAgICAgIChpbmNsdWRlQ29udGFpbmVyIHx8ICFlbGVtZW50cy5pbmNsdWRlcyhlbGVtZW50KSlcbiAgICAgICkge1xuICAgICAgICBjYW5kaWRhdGVzLnB1c2goZWxlbWVudCk7XG4gICAgICB9XG5cbiAgICAgIC8vIGl0ZXJhdGUgb3ZlciBzaGFkb3cgY29udGVudCBpZiBwb3NzaWJsZVxuICAgICAgY29uc3Qgc2hhZG93Um9vdCA9XG4gICAgICAgIGVsZW1lbnQuc2hhZG93Um9vdCB8fFxuICAgICAgICAvLyBjaGVjayBmb3IgYW4gdW5kaXNjbG9zZWQgc2hhZG93XG4gICAgICAgICh0eXBlb2Ygb3B0aW9ucy5nZXRTaGFkb3dSb290ID09PSAnZnVuY3Rpb24nICYmXG4gICAgICAgICAgb3B0aW9ucy5nZXRTaGFkb3dSb290KGVsZW1lbnQpKTtcblxuICAgICAgY29uc3QgdmFsaWRTaGFkb3dSb290ID1cbiAgICAgICAgIW9wdGlvbnMuc2hhZG93Um9vdEZpbHRlciB8fCBvcHRpb25zLnNoYWRvd1Jvb3RGaWx0ZXIoZWxlbWVudCk7XG5cbiAgICAgIGlmIChzaGFkb3dSb290ICYmIHZhbGlkU2hhZG93Um9vdCkge1xuICAgICAgICAvLyBhZGQgc2hhZG93IGRvbSBzY29wZSBJSUYgYSBzaGFkb3cgcm9vdCBub2RlIHdhcyBnaXZlbjsgb3RoZXJ3aXNlLCBhbiB1bmRpc2Nsb3NlZFxuICAgICAgICAvLyAgc2hhZG93IGV4aXN0cywgc28gbG9vayBhdCBsaWdodCBkb20gY2hpbGRyZW4gYXMgZmFsbGJhY2sgQlVUIGNyZWF0ZSBhIHNjb3BlIGZvciBhbnlcbiAgICAgICAgLy8gIGNoaWxkIGNhbmRpZGF0ZXMgZm91bmQgYmVjYXVzZSB0aGV5J3JlIGxpa2VseSBzbG90dGVkIGVsZW1lbnRzIChlbGVtZW50cyB0aGF0IGFyZVxuICAgICAgICAvLyAgY2hpbGRyZW4gb2YgdGhlIHdlYiBjb21wb25lbnQgZWxlbWVudCAod2hpY2ggaGFzIHRoZSBzaGFkb3cpLCBpbiB0aGUgbGlnaHQgZG9tLCBidXRcbiAgICAgICAgLy8gIHNsb3R0ZWQgc29tZXdoZXJlIF9pbnNpZGVfIHRoZSB1bmRpc2Nsb3NlZCBzaGFkb3cpIC0tIHRoZSBzY29wZSBpcyBjcmVhdGVkIGJlbG93LFxuICAgICAgICAvLyAgX2FmdGVyXyB3ZSByZXR1cm4gZnJvbSB0aGlzIHJlY3Vyc2l2ZSBjYWxsXG4gICAgICAgIGNvbnN0IG5lc3RlZENhbmRpZGF0ZXMgPSBnZXRDYW5kaWRhdGVzSXRlcmF0aXZlbHkoXG4gICAgICAgICAgc2hhZG93Um9vdCA9PT0gdHJ1ZSA/IGVsZW1lbnQuY2hpbGRyZW4gOiBzaGFkb3dSb290LmNoaWxkcmVuLFxuICAgICAgICAgIHRydWUsXG4gICAgICAgICAgb3B0aW9uc1xuICAgICAgICApO1xuXG4gICAgICAgIGlmIChvcHRpb25zLmZsYXR0ZW4pIHtcbiAgICAgICAgICBjYW5kaWRhdGVzLnB1c2goLi4ubmVzdGVkQ2FuZGlkYXRlcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2FuZGlkYXRlcy5wdXNoKHtcbiAgICAgICAgICAgIHNjb3BlOiBlbGVtZW50LFxuICAgICAgICAgICAgY2FuZGlkYXRlczogbmVzdGVkQ2FuZGlkYXRlcyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gdGhlcmUncyBub3Qgc2hhZG93IHNvIGp1c3QgZGlnIGludG8gdGhlIGVsZW1lbnQncyAobGlnaHQgZG9tKSBjaGlsZHJlblxuICAgICAgICAvLyAgX193aXRob3V0X18gZ2l2aW5nIHRoZSBlbGVtZW50IHNwZWNpYWwgc2NvcGUgdHJlYXRtZW50XG4gICAgICAgIGVsZW1lbnRzVG9DaGVjay51bnNoaWZ0KC4uLmVsZW1lbnQuY2hpbGRyZW4pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gY2FuZGlkYXRlcztcbn07XG5cbmNvbnN0IGdldFRhYmluZGV4ID0gZnVuY3Rpb24gKG5vZGUsIGlzU2NvcGUpIHtcbiAgaWYgKG5vZGUudGFiSW5kZXggPCAwKSB7XG4gICAgLy8gaW4gQ2hyb21lLCA8ZGV0YWlscy8+LCA8YXVkaW8gY29udHJvbHMvPiBhbmQgPHZpZGVvIGNvbnRyb2xzLz4gZWxlbWVudHMgZ2V0IGEgZGVmYXVsdFxuICAgIC8vIGB0YWJJbmRleGAgb2YgLTEgd2hlbiB0aGUgJ3RhYmluZGV4JyBhdHRyaWJ1dGUgaXNuJ3Qgc3BlY2lmaWVkIGluIHRoZSBET00sXG4gICAgLy8geWV0IHRoZXkgYXJlIHN0aWxsIHBhcnQgb2YgdGhlIHJlZ3VsYXIgdGFiIG9yZGVyOyBpbiBGRiwgdGhleSBnZXQgYSBkZWZhdWx0XG4gICAgLy8gYHRhYkluZGV4YCBvZiAwOyBzaW5jZSBDaHJvbWUgc3RpbGwgcHV0cyB0aG9zZSBlbGVtZW50cyBpbiB0aGUgcmVndWxhciB0YWJcbiAgICAvLyBvcmRlciwgY29uc2lkZXIgdGhlaXIgdGFiIGluZGV4IHRvIGJlIDAuXG4gICAgLy8gQWxzbyBicm93c2VycyBkbyBub3QgcmV0dXJuIGB0YWJJbmRleGAgY29ycmVjdGx5IGZvciBjb250ZW50RWRpdGFibGUgbm9kZXM7XG4gICAgLy8gc28gaWYgdGhleSBkb24ndCBoYXZlIGEgdGFiaW5kZXggYXR0cmlidXRlIHNwZWNpZmljYWxseSBzZXQsIGFzc3VtZSBpdCdzIDAuXG4gICAgLy9cbiAgICAvLyBpc1Njb3BlIGlzIHBvc2l0aXZlIGZvciBjdXN0b20gZWxlbWVudCB3aXRoIHNoYWRvdyByb290IG9yIHNsb3QgdGhhdCBieSBkZWZhdWx0XG4gICAgLy8gaGF2ZSB0YWJJbmRleCAtMSwgYnV0IG5lZWQgdG8gYmUgc29ydGVkIGJ5IGRvY3VtZW50IG9yZGVyIGluIG9yZGVyIGZvciB0aGVpclxuICAgIC8vIGNvbnRlbnQgdG8gYmUgaW5zZXJ0ZWQgaW4gdGhlIGNvcnJlY3QgcG9zaXRpb25cbiAgICBpZiAoXG4gICAgICAoaXNTY29wZSB8fFxuICAgICAgICAvXihBVURJT3xWSURFT3xERVRBSUxTKSQvLnRlc3Qobm9kZS50YWdOYW1lKSB8fFxuICAgICAgICBub2RlLmlzQ29udGVudEVkaXRhYmxlKSAmJlxuICAgICAgaXNOYU4ocGFyc2VJbnQobm9kZS5nZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JyksIDEwKSlcbiAgICApIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBub2RlLnRhYkluZGV4O1xufTtcblxuY29uc3Qgc29ydE9yZGVyZWRUYWJiYWJsZXMgPSBmdW5jdGlvbiAoYSwgYikge1xuICByZXR1cm4gYS50YWJJbmRleCA9PT0gYi50YWJJbmRleFxuICAgID8gYS5kb2N1bWVudE9yZGVyIC0gYi5kb2N1bWVudE9yZGVyXG4gICAgOiBhLnRhYkluZGV4IC0gYi50YWJJbmRleDtcbn07XG5cbmNvbnN0IGlzSW5wdXQgPSBmdW5jdGlvbiAobm9kZSkge1xuICByZXR1cm4gbm9kZS50YWdOYW1lID09PSAnSU5QVVQnO1xufTtcblxuY29uc3QgaXNIaWRkZW5JbnB1dCA9IGZ1bmN0aW9uIChub2RlKSB7XG4gIHJldHVybiBpc0lucHV0KG5vZGUpICYmIG5vZGUudHlwZSA9PT0gJ2hpZGRlbic7XG59O1xuXG5jb25zdCBpc0RldGFpbHNXaXRoU3VtbWFyeSA9IGZ1bmN0aW9uIChub2RlKSB7XG4gIGNvbnN0IHIgPVxuICAgIG5vZGUudGFnTmFtZSA9PT0gJ0RFVEFJTFMnICYmXG4gICAgQXJyYXkucHJvdG90eXBlLnNsaWNlXG4gICAgICAuYXBwbHkobm9kZS5jaGlsZHJlbilcbiAgICAgIC5zb21lKChjaGlsZCkgPT4gY2hpbGQudGFnTmFtZSA9PT0gJ1NVTU1BUlknKTtcbiAgcmV0dXJuIHI7XG59O1xuXG5jb25zdCBnZXRDaGVja2VkUmFkaW8gPSBmdW5jdGlvbiAobm9kZXMsIGZvcm0pIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykge1xuICAgIGlmIChub2Rlc1tpXS5jaGVja2VkICYmIG5vZGVzW2ldLmZvcm0gPT09IGZvcm0pIHtcbiAgICAgIHJldHVybiBub2Rlc1tpXTtcbiAgICB9XG4gIH1cbn07XG5cbmNvbnN0IGlzVGFiYmFibGVSYWRpbyA9IGZ1bmN0aW9uIChub2RlKSB7XG4gIGlmICghbm9kZS5uYW1lKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgY29uc3QgcmFkaW9TY29wZSA9IG5vZGUuZm9ybSB8fCBnZXRSb290Tm9kZShub2RlKTtcbiAgY29uc3QgcXVlcnlSYWRpb3MgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHJldHVybiByYWRpb1Njb3BlLnF1ZXJ5U2VsZWN0b3JBbGwoXG4gICAgICAnaW5wdXRbdHlwZT1cInJhZGlvXCJdW25hbWU9XCInICsgbmFtZSArICdcIl0nXG4gICAgKTtcbiAgfTtcblxuICBsZXQgcmFkaW9TZXQ7XG4gIGlmIChcbiAgICB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIHR5cGVvZiB3aW5kb3cuQ1NTICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIHR5cGVvZiB3aW5kb3cuQ1NTLmVzY2FwZSA9PT0gJ2Z1bmN0aW9uJ1xuICApIHtcbiAgICByYWRpb1NldCA9IHF1ZXJ5UmFkaW9zKHdpbmRvdy5DU1MuZXNjYXBlKG5vZGUubmFtZSkpO1xuICB9IGVsc2Uge1xuICAgIHRyeSB7XG4gICAgICByYWRpb1NldCA9IHF1ZXJ5UmFkaW9zKG5vZGUubmFtZSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgJ0xvb2tzIGxpa2UgeW91IGhhdmUgYSByYWRpbyBidXR0b24gd2l0aCBhIG5hbWUgYXR0cmlidXRlIGNvbnRhaW5pbmcgaW52YWxpZCBDU1Mgc2VsZWN0b3IgY2hhcmFjdGVycyBhbmQgbmVlZCB0aGUgQ1NTLmVzY2FwZSBwb2x5ZmlsbDogJXMnLFxuICAgICAgICBlcnIubWVzc2FnZVxuICAgICAgKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBjaGVja2VkID0gZ2V0Q2hlY2tlZFJhZGlvKHJhZGlvU2V0LCBub2RlLmZvcm0pO1xuICByZXR1cm4gIWNoZWNrZWQgfHwgY2hlY2tlZCA9PT0gbm9kZTtcbn07XG5cbmNvbnN0IGlzUmFkaW8gPSBmdW5jdGlvbiAobm9kZSkge1xuICByZXR1cm4gaXNJbnB1dChub2RlKSAmJiBub2RlLnR5cGUgPT09ICdyYWRpbyc7XG59O1xuXG5jb25zdCBpc05vblRhYmJhYmxlUmFkaW8gPSBmdW5jdGlvbiAobm9kZSkge1xuICByZXR1cm4gaXNSYWRpbyhub2RlKSAmJiAhaXNUYWJiYWJsZVJhZGlvKG5vZGUpO1xufTtcblxuY29uc3QgaXNaZXJvQXJlYSA9IGZ1bmN0aW9uIChub2RlKSB7XG4gIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gbm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgcmV0dXJuIHdpZHRoID09PSAwICYmIGhlaWdodCA9PT0gMDtcbn07XG5jb25zdCBpc0hpZGRlbiA9IGZ1bmN0aW9uIChub2RlLCB7IGRpc3BsYXlDaGVjaywgZ2V0U2hhZG93Um9vdCB9KSB7XG4gIC8vIE5PVEU6IHZpc2liaWxpdHkgd2lsbCBiZSBgdW5kZWZpbmVkYCBpZiBub2RlIGlzIGRldGFjaGVkIGZyb20gdGhlIGRvY3VtZW50XG4gIC8vICAoc2VlIG5vdGVzIGFib3V0IHRoaXMgZnVydGhlciBkb3duKSwgd2hpY2ggbWVhbnMgd2Ugd2lsbCBjb25zaWRlciBpdCB2aXNpYmxlXG4gIC8vICAodGhpcyBpcyBsZWdhY3kgYmVoYXZpb3IgZnJvbSBhIHZlcnkgbG9uZyB3YXkgYmFjaylcbiAgLy8gTk9URTogd2UgY2hlY2sgdGhpcyByZWdhcmRsZXNzIG9mIGBkaXNwbGF5Q2hlY2s9XCJub25lXCJgIGJlY2F1c2UgdGhpcyBpcyBhXG4gIC8vICBfdmlzaWJpbGl0eV8gY2hlY2ssIG5vdCBhIF9kaXNwbGF5XyBjaGVja1xuICBpZiAoZ2V0Q29tcHV0ZWRTdHlsZShub2RlKS52aXNpYmlsaXR5ID09PSAnaGlkZGVuJykge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgY29uc3QgaXNEaXJlY3RTdW1tYXJ5ID0gbWF0Y2hlcy5jYWxsKG5vZGUsICdkZXRhaWxzPnN1bW1hcnk6Zmlyc3Qtb2YtdHlwZScpO1xuICBjb25zdCBub2RlVW5kZXJEZXRhaWxzID0gaXNEaXJlY3RTdW1tYXJ5ID8gbm9kZS5wYXJlbnRFbGVtZW50IDogbm9kZTtcbiAgaWYgKG1hdGNoZXMuY2FsbChub2RlVW5kZXJEZXRhaWxzLCAnZGV0YWlsczpub3QoW29wZW5dKSAqJykpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIFRoZSByb290IG5vZGUgaXMgdGhlIHNoYWRvdyByb290IGlmIHRoZSBub2RlIGlzIGluIGEgc2hhZG93IERPTTsgc29tZSBkb2N1bWVudCBvdGhlcndpc2VcbiAgLy8gIChidXQgTk9UIF90aGVfIGRvY3VtZW50OyBzZWUgc2Vjb25kICdJZicgY29tbWVudCBiZWxvdyBmb3IgbW9yZSkuXG4gIC8vIElmIHJvb3ROb2RlIGlzIHNoYWRvdyByb290LCBpdCdsbCBoYXZlIGEgaG9zdCwgd2hpY2ggaXMgdGhlIGVsZW1lbnQgdG8gd2hpY2ggdGhlIHNoYWRvd1xuICAvLyAgaXMgYXR0YWNoZWQsIGFuZCB0aGUgb25lIHdlIG5lZWQgdG8gY2hlY2sgaWYgaXQncyBpbiB0aGUgZG9jdW1lbnQgb3Igbm90IChiZWNhdXNlIHRoZVxuICAvLyAgc2hhZG93LCBhbmQgYWxsIG5vZGVzIGl0IGNvbnRhaW5zLCBpcyBuZXZlciBjb25zaWRlcmVkIGluIHRoZSBkb2N1bWVudCBzaW5jZSBzaGFkb3dzXG4gIC8vICBiZWhhdmUgbGlrZSBzZWxmLWNvbnRhaW5lZCBET01zOyBidXQgaWYgdGhlIHNoYWRvdydzIEhPU1QsIHdoaWNoIGlzIHBhcnQgb2YgdGhlIGRvY3VtZW50LFxuICAvLyAgaXMgaGlkZGVuLCBvciBpcyBub3QgaW4gdGhlIGRvY3VtZW50IGl0c2VsZiBidXQgaXMgZGV0YWNoZWQsIGl0IHdpbGwgYWZmZWN0IHRoZSBzaGFkb3cnc1xuICAvLyAgdmlzaWJpbGl0eSwgaW5jbHVkaW5nIGFsbCB0aGUgbm9kZXMgaXQgY29udGFpbnMpLiBUaGUgaG9zdCBjb3VsZCBiZSBhbnkgbm9ybWFsIG5vZGUsXG4gIC8vICBvciBhIGN1c3RvbSBlbGVtZW50IChpLmUuIHdlYiBjb21wb25lbnQpLiBFaXRoZXIgd2F5LCB0aGF0J3MgdGhlIG9uZSB0aGF0IGlzIGNvbnNpZGVyZWRcbiAgLy8gIHBhcnQgb2YgdGhlIGRvY3VtZW50LCBub3QgdGhlIHNoYWRvdyByb290LCBub3IgYW55IG9mIGl0cyBjaGlsZHJlbiAoaS5lLiB0aGUgbm9kZSBiZWluZ1xuICAvLyAgdGVzdGVkKS5cbiAgLy8gSWYgcm9vdE5vZGUgaXMgbm90IGEgc2hhZG93IHJvb3QsIGl0IHdvbid0IGhhdmUgYSBob3N0LCBhbmQgc28gcm9vdE5vZGUgc2hvdWxkIGJlIHRoZVxuICAvLyAgZG9jdW1lbnQgKHBlciB0aGUgZG9jcykgYW5kIHdoaWxlIGl0J3MgYSBEb2N1bWVudC10eXBlIG9iamVjdCwgdGhhdCBkb2N1bWVudCBkb2VzIG5vdFxuICAvLyAgYXBwZWFyIHRvIGJlIHRoZSBzYW1lIGFzIHRoZSBub2RlJ3MgYG93bmVyRG9jdW1lbnRgIGZvciBzb21lIHJlYXNvbiwgc28gaXQncyBzYWZlclxuICAvLyAgdG8gaWdub3JlIHRoZSByb290Tm9kZSBhdCB0aGlzIHBvaW50LCBhbmQgdXNlIGBub2RlLm93bmVyRG9jdW1lbnRgLiBPdGhlcndpc2UsXG4gIC8vICB1c2luZyBgcm9vdE5vZGUuY29udGFpbnMobm9kZSlgIHdpbGwgX2Fsd2F5c18gYmUgdHJ1ZSB3ZSdsbCBnZXQgZmFsc2UtcG9zaXRpdmVzIHdoZW5cbiAgLy8gIG5vZGUgaXMgYWN0dWFsbHkgZGV0YWNoZWQuXG4gIGNvbnN0IG5vZGVSb290SG9zdCA9IGdldFJvb3ROb2RlKG5vZGUpLmhvc3Q7XG4gIGNvbnN0IG5vZGVJc0F0dGFjaGVkID1cbiAgICBub2RlUm9vdEhvc3Q/Lm93bmVyRG9jdW1lbnQuY29udGFpbnMobm9kZVJvb3RIb3N0KSB8fFxuICAgIG5vZGUub3duZXJEb2N1bWVudC5jb250YWlucyhub2RlKTtcblxuICBpZiAoIWRpc3BsYXlDaGVjayB8fCBkaXNwbGF5Q2hlY2sgPT09ICdmdWxsJykge1xuICAgIGlmICh0eXBlb2YgZ2V0U2hhZG93Um9vdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgLy8gZmlndXJlIG91dCBpZiB3ZSBzaG91bGQgY29uc2lkZXIgdGhlIG5vZGUgdG8gYmUgaW4gYW4gdW5kaXNjbG9zZWQgc2hhZG93IGFuZCB1c2UgdGhlXG4gICAgICAvLyAgJ25vbi16ZXJvLWFyZWEnIGZhbGxiYWNrXG4gICAgICBjb25zdCBvcmlnaW5hbE5vZGUgPSBub2RlO1xuICAgICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgICAgY29uc3QgcGFyZW50RWxlbWVudCA9IG5vZGUucGFyZW50RWxlbWVudDtcbiAgICAgICAgY29uc3Qgcm9vdE5vZGUgPSBnZXRSb290Tm9kZShub2RlKTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHBhcmVudEVsZW1lbnQgJiZcbiAgICAgICAgICAhcGFyZW50RWxlbWVudC5zaGFkb3dSb290ICYmXG4gICAgICAgICAgZ2V0U2hhZG93Um9vdChwYXJlbnRFbGVtZW50KSA9PT0gdHJ1ZSAvLyBjaGVjayBpZiB0aGVyZSdzIGFuIHVuZGlzY2xvc2VkIHNoYWRvd1xuICAgICAgICApIHtcbiAgICAgICAgICAvLyBub2RlIGhhcyBhbiB1bmRpc2Nsb3NlZCBzaGFkb3cgd2hpY2ggbWVhbnMgd2UgY2FuIG9ubHkgdHJlYXQgaXQgYXMgYSBibGFjayBib3gsIHNvIHdlXG4gICAgICAgICAgLy8gIGZhbGwgYmFjayB0byBhIG5vbi16ZXJvLWFyZWEgdGVzdFxuICAgICAgICAgIHJldHVybiBpc1plcm9BcmVhKG5vZGUpO1xuICAgICAgICB9IGVsc2UgaWYgKG5vZGUuYXNzaWduZWRTbG90KSB7XG4gICAgICAgICAgLy8gaXRlcmF0ZSB1cCBzbG90XG4gICAgICAgICAgbm9kZSA9IG5vZGUuYXNzaWduZWRTbG90O1xuICAgICAgICB9IGVsc2UgaWYgKCFwYXJlbnRFbGVtZW50ICYmIHJvb3ROb2RlICE9PSBub2RlLm93bmVyRG9jdW1lbnQpIHtcbiAgICAgICAgICAvLyBjcm9zcyBzaGFkb3cgYm91bmRhcnlcbiAgICAgICAgICBub2RlID0gcm9vdE5vZGUuaG9zdDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBpdGVyYXRlIHVwIG5vcm1hbCBkb21cbiAgICAgICAgICBub2RlID0gcGFyZW50RWxlbWVudDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBub2RlID0gb3JpZ2luYWxOb2RlO1xuICAgIH1cbiAgICAvLyBlbHNlLCBgZ2V0U2hhZG93Um9vdGAgbWlnaHQgYmUgdHJ1ZSwgYnV0IGFsbCB0aGF0IGRvZXMgaXMgZW5hYmxlIHNoYWRvdyBET00gc3VwcG9ydFxuICAgIC8vICAoaS5lLiBpdCBkb2VzIG5vdCBhbHNvIHByZXN1bWUgdGhhdCBhbGwgbm9kZXMgbWlnaHQgaGF2ZSB1bmRpc2Nsb3NlZCBzaGFkb3dzKTsgb3JcbiAgICAvLyAgaXQgbWlnaHQgYmUgYSBmYWxzeSB2YWx1ZSwgd2hpY2ggbWVhbnMgc2hhZG93IERPTSBzdXBwb3J0IGlzIGRpc2FibGVkXG5cbiAgICAvLyBTaW5jZSB3ZSBkaWRuJ3QgZmluZCBpdCBzaXR0aW5nIGluIGFuIHVuZGlzY2xvc2VkIHNoYWRvdyAob3Igc2hhZG93cyBhcmUgZGlzYWJsZWQpXG4gICAgLy8gIG5vdyB3ZSBjYW4ganVzdCB0ZXN0IHRvIHNlZSBpZiBpdCB3b3VsZCBub3JtYWxseSBiZSB2aXNpYmxlIG9yIG5vdCwgcHJvdmlkZWQgaXQnc1xuICAgIC8vICBhdHRhY2hlZCB0byB0aGUgbWFpbiBkb2N1bWVudC5cbiAgICAvLyBOT1RFOiBXZSBtdXN0IGNvbnNpZGVyIGNhc2Ugd2hlcmUgbm9kZSBpcyBpbnNpZGUgYSBzaGFkb3cgRE9NIGFuZCBnaXZlbiBkaXJlY3RseSB0b1xuICAgIC8vICBgaXNUYWJiYWJsZSgpYCBvciBgaXNGb2N1c2FibGUoKWAgLS0gcmVnYXJkbGVzcyBvZiBgZ2V0U2hhZG93Um9vdGAgb3B0aW9uIHNldHRpbmcuXG5cbiAgICBpZiAobm9kZUlzQXR0YWNoZWQpIHtcbiAgICAgIC8vIHRoaXMgd29ya3Mgd2hlcmV2ZXIgdGhlIG5vZGUgaXM6IGlmIHRoZXJlJ3MgYXQgbGVhc3Qgb25lIGNsaWVudCByZWN0LCBpdCdzXG4gICAgICAvLyAgc29tZWhvdyBkaXNwbGF5ZWQ7IGl0IGFsc28gY292ZXJzIHRoZSBDU1MgJ2Rpc3BsYXk6IGNvbnRlbnRzJyBjYXNlIHdoZXJlIHRoZVxuICAgICAgLy8gIG5vZGUgaXRzZWxmIGlzIGhpZGRlbiBpbiBwbGFjZSBvZiBpdHMgY29udGVudHM7IGFuZCB0aGVyZSdzIG5vIG5lZWQgdG8gc2VhcmNoXG4gICAgICAvLyAgdXAgdGhlIGhpZXJhcmNoeSBlaXRoZXJcbiAgICAgIHJldHVybiAhbm9kZS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aDtcbiAgICB9XG5cbiAgICAvLyBFbHNlLCB0aGUgbm9kZSBpc24ndCBhdHRhY2hlZCB0byB0aGUgZG9jdW1lbnQsIHdoaWNoIG1lYW5zIHRoZSBgZ2V0Q2xpZW50UmVjdHMoKWBcbiAgICAvLyAgQVBJIHdpbGwgX19hbHdheXNfXyByZXR1cm4gemVybyByZWN0cyAodGhpcyBjYW4gaGFwcGVuLCBmb3IgZXhhbXBsZSwgaWYgUmVhY3RcbiAgICAvLyAgaXMgdXNlZCB0byByZW5kZXIgbm9kZXMgb250byBhIGRldGFjaGVkIHRyZWUsIGFzIGNvbmZpcm1lZCBpbiB0aGlzIHRocmVhZDpcbiAgICAvLyAgaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2lzc3Vlcy85MTE3I2lzc3VlY29tbWVudC0yODQyMjg4NzApXG4gICAgLy9cbiAgICAvLyBJdCBhbHNvIG1lYW5zIHRoYXQgZXZlbiB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShub2RlKS5kaXNwbGF5IHdpbGwgcmV0dXJuIGB1bmRlZmluZWRgXG4gICAgLy8gIGJlY2F1c2Ugc3R5bGVzIGFyZSBvbmx5IGNvbXB1dGVkIGZvciBub2RlcyB0aGF0IGFyZSBpbiB0aGUgZG9jdW1lbnQuXG4gICAgLy9cbiAgICAvLyBOT1RFOiBUSElTIEhBUyBCRUVOIFRIRSBDQVNFIEZPUiBZRUFSUy4gSXQgaXMgbm90IG5ldywgbm9yIGlzIGl0IGNhdXNlZCBieSB0YWJiYWJsZVxuICAgIC8vICBzb21laG93LiBUaG91Z2ggaXQgd2FzIG5ldmVyIHN0YXRlZCBvZmZpY2lhbGx5LCBhbnlvbmUgd2hvIGhhcyBldmVyIHVzZWQgdGFiYmFibGVcbiAgICAvLyAgQVBJcyBvbiBub2RlcyBpbiBkZXRhY2hlZCBjb250YWluZXJzIGhhcyBhY3R1YWxseSBpbXBsaWNpdGx5IHVzZWQgdGFiYmFibGUgaW4gd2hhdFxuICAgIC8vICB3YXMgbGF0ZXIgKGFzIG9mIHY1LjIuMCBvbiBBcHIgOSwgMjAyMSkgY2FsbGVkIGBkaXNwbGF5Q2hlY2s9XCJub25lXCJgIG1vZGUgLS0gZXNzZW50aWFsbHlcbiAgICAvLyAgY29uc2lkZXJpbmcgX19ldmVyeXRoaW5nX18gdG8gYmUgdmlzaWJsZSBiZWNhdXNlIG9mIHRoZSBpbm5hYmlsaXR5IHRvIGRldGVybWluZSBzdHlsZXMuXG4gIH0gZWxzZSBpZiAoZGlzcGxheUNoZWNrID09PSAnbm9uLXplcm8tYXJlYScpIHtcbiAgICAvLyBOT1RFOiBFdmVuIHRob3VnaCB0aGlzIHRlc3RzIHRoYXQgdGhlIG5vZGUncyBjbGllbnQgcmVjdCBpcyBub24temVybyB0byBkZXRlcm1pbmVcbiAgICAvLyAgd2hldGhlciBpdCdzIGRpc3BsYXllZCwgYW5kIHRoYXQgYSBkZXRhY2hlZCBub2RlIHdpbGwgX19hbHdheXNfXyBoYXZlIGEgemVyby1hcmVhXG4gICAgLy8gIGNsaWVudCByZWN0LCB3ZSBkb24ndCBzcGVjaWFsLWNhc2UgZm9yIHdoZXRoZXIgdGhlIG5vZGUgaXMgYXR0YWNoZWQgb3Igbm90LiBJblxuICAgIC8vICB0aGlzIG1vZGUsIHdlIGRvIHdhbnQgdG8gY29uc2lkZXIgbm9kZXMgdGhhdCBoYXZlIGEgemVybyBhcmVhIHRvIGJlIGhpZGRlbiBhdCBhbGxcbiAgICAvLyAgdGltZXMsIGFuZCB0aGF0IGluY2x1ZGVzIGF0dGFjaGVkIG9yIG5vdC5cbiAgICByZXR1cm4gaXNaZXJvQXJlYShub2RlKTtcbiAgfVxuXG4gIC8vIHZpc2libGUsIGFzIGZhciBhcyB3ZSBjYW4gdGVsbCwgb3IgcGVyIGN1cnJlbnQgYGRpc3BsYXlDaGVja2AgbW9kZVxuICByZXR1cm4gZmFsc2U7XG59O1xuXG4vLyBmb3JtIGZpZWxkcyAobmVzdGVkKSBpbnNpZGUgYSBkaXNhYmxlZCBmaWVsZHNldCBhcmUgbm90IGZvY3VzYWJsZS90YWJiYWJsZVxuLy8gIHVubGVzcyB0aGV5IGFyZSBpbiB0aGUgX2ZpcnN0XyA8bGVnZW5kPiBlbGVtZW50IG9mIHRoZSB0b3AtbW9zdCBkaXNhYmxlZFxuLy8gIGZpZWxkc2V0XG5jb25zdCBpc0Rpc2FibGVkRnJvbUZpZWxkc2V0ID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgaWYgKC9eKElOUFVUfEJVVFRPTnxTRUxFQ1R8VEVYVEFSRUEpJC8udGVzdChub2RlLnRhZ05hbWUpKSB7XG4gICAgbGV0IHBhcmVudE5vZGUgPSBub2RlLnBhcmVudEVsZW1lbnQ7XG4gICAgLy8gY2hlY2sgaWYgYG5vZGVgIGlzIGNvbnRhaW5lZCBpbiBhIGRpc2FibGVkIDxmaWVsZHNldD5cbiAgICB3aGlsZSAocGFyZW50Tm9kZSkge1xuICAgICAgaWYgKHBhcmVudE5vZGUudGFnTmFtZSA9PT0gJ0ZJRUxEU0VUJyAmJiBwYXJlbnROb2RlLmRpc2FibGVkKSB7XG4gICAgICAgIC8vIGxvb2sgZm9yIHRoZSBmaXJzdCA8bGVnZW5kPiBhbW9uZyB0aGUgY2hpbGRyZW4gb2YgdGhlIGRpc2FibGVkIDxmaWVsZHNldD5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJlbnROb2RlLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgY29uc3QgY2hpbGQgPSBwYXJlbnROb2RlLmNoaWxkcmVuLml0ZW0oaSk7XG4gICAgICAgICAgLy8gd2hlbiB0aGUgZmlyc3QgPGxlZ2VuZD4gKGluIGRvY3VtZW50IG9yZGVyKSBpcyBmb3VuZFxuICAgICAgICAgIGlmIChjaGlsZC50YWdOYW1lID09PSAnTEVHRU5EJykge1xuICAgICAgICAgICAgLy8gaWYgaXRzIHBhcmVudCA8ZmllbGRzZXQ+IGlzIG5vdCBuZXN0ZWQgaW4gYW5vdGhlciBkaXNhYmxlZCA8ZmllbGRzZXQ+LFxuICAgICAgICAgICAgLy8gcmV0dXJuIHdoZXRoZXIgYG5vZGVgIGlzIGEgZGVzY2VuZGFudCBvZiBpdHMgZmlyc3QgPGxlZ2VuZD5cbiAgICAgICAgICAgIHJldHVybiBtYXRjaGVzLmNhbGwocGFyZW50Tm9kZSwgJ2ZpZWxkc2V0W2Rpc2FibGVkXSAqJylcbiAgICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICAgIDogIWNoaWxkLmNvbnRhaW5zKG5vZGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyB0aGUgZGlzYWJsZWQgPGZpZWxkc2V0PiBjb250YWluaW5nIGBub2RlYCBoYXMgbm8gPGxlZ2VuZD5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBwYXJlbnROb2RlID0gcGFyZW50Tm9kZS5wYXJlbnRFbGVtZW50O1xuICAgIH1cbiAgfVxuXG4gIC8vIGVsc2UsIG5vZGUncyB0YWJiYWJsZS9mb2N1c2FibGUgc3RhdGUgc2hvdWxkIG5vdCBiZSBhZmZlY3RlZCBieSBhIGZpZWxkc2V0J3NcbiAgLy8gIGVuYWJsZWQvZGlzYWJsZWQgc3RhdGVcbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuY29uc3QgaXNOb2RlTWF0Y2hpbmdTZWxlY3RvckZvY3VzYWJsZSA9IGZ1bmN0aW9uIChvcHRpb25zLCBub2RlKSB7XG4gIGlmIChcbiAgICBub2RlLmRpc2FibGVkIHx8XG4gICAgaXNIaWRkZW5JbnB1dChub2RlKSB8fFxuICAgIGlzSGlkZGVuKG5vZGUsIG9wdGlvbnMpIHx8XG4gICAgLy8gRm9yIGEgZGV0YWlscyBlbGVtZW50IHdpdGggYSBzdW1tYXJ5LCB0aGUgc3VtbWFyeSBlbGVtZW50IGdldHMgdGhlIGZvY3VzXG4gICAgaXNEZXRhaWxzV2l0aFN1bW1hcnkobm9kZSkgfHxcbiAgICBpc0Rpc2FibGVkRnJvbUZpZWxkc2V0KG5vZGUpXG4gICkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbmNvbnN0IGlzTm9kZU1hdGNoaW5nU2VsZWN0b3JUYWJiYWJsZSA9IGZ1bmN0aW9uIChvcHRpb25zLCBub2RlKSB7XG4gIGlmIChcbiAgICBpc05vblRhYmJhYmxlUmFkaW8obm9kZSkgfHxcbiAgICBnZXRUYWJpbmRleChub2RlKSA8IDAgfHxcbiAgICAhaXNOb2RlTWF0Y2hpbmdTZWxlY3RvckZvY3VzYWJsZShvcHRpb25zLCBub2RlKVxuICApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5jb25zdCBpc1ZhbGlkU2hhZG93Um9vdFRhYmJhYmxlID0gZnVuY3Rpb24gKHNoYWRvd0hvc3ROb2RlKSB7XG4gIGNvbnN0IHRhYkluZGV4ID0gcGFyc2VJbnQoc2hhZG93SG9zdE5vZGUuZ2V0QXR0cmlidXRlKCd0YWJpbmRleCcpLCAxMCk7XG4gIGlmIChpc05hTih0YWJJbmRleCkgfHwgdGFiSW5kZXggPj0gMCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIC8vIElmIGEgY3VzdG9tIGVsZW1lbnQgaGFzIGFuIGV4cGxpY2l0IG5lZ2F0aXZlIHRhYmluZGV4LFxuICAvLyBicm93c2VycyB3aWxsIG5vdCBhbGxvdyB0YWIgdGFyZ2V0aW5nIHNhaWQgZWxlbWVudCdzIGNoaWxkcmVuLlxuICByZXR1cm4gZmFsc2U7XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXkuPEVsZW1lbnR8Q2FuZGlkYXRlc1Njb3BlPn0gY2FuZGlkYXRlc1xuICogQHJldHVybnMgRWxlbWVudFtdXG4gKi9cbmNvbnN0IHNvcnRCeU9yZGVyID0gZnVuY3Rpb24gKGNhbmRpZGF0ZXMpIHtcbiAgY29uc3QgcmVndWxhclRhYmJhYmxlcyA9IFtdO1xuICBjb25zdCBvcmRlcmVkVGFiYmFibGVzID0gW107XG4gIGNhbmRpZGF0ZXMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaSkge1xuICAgIGNvbnN0IGlzU2NvcGUgPSAhIWl0ZW0uc2NvcGU7XG4gICAgY29uc3QgZWxlbWVudCA9IGlzU2NvcGUgPyBpdGVtLnNjb3BlIDogaXRlbTtcbiAgICBjb25zdCBjYW5kaWRhdGVUYWJpbmRleCA9IGdldFRhYmluZGV4KGVsZW1lbnQsIGlzU2NvcGUpO1xuICAgIGNvbnN0IGVsZW1lbnRzID0gaXNTY29wZSA/IHNvcnRCeU9yZGVyKGl0ZW0uY2FuZGlkYXRlcykgOiBlbGVtZW50O1xuICAgIGlmIChjYW5kaWRhdGVUYWJpbmRleCA9PT0gMCkge1xuICAgICAgaXNTY29wZVxuICAgICAgICA/IHJlZ3VsYXJUYWJiYWJsZXMucHVzaCguLi5lbGVtZW50cylcbiAgICAgICAgOiByZWd1bGFyVGFiYmFibGVzLnB1c2goZWxlbWVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9yZGVyZWRUYWJiYWJsZXMucHVzaCh7XG4gICAgICAgIGRvY3VtZW50T3JkZXI6IGksXG4gICAgICAgIHRhYkluZGV4OiBjYW5kaWRhdGVUYWJpbmRleCxcbiAgICAgICAgaXRlbTogaXRlbSxcbiAgICAgICAgaXNTY29wZTogaXNTY29wZSxcbiAgICAgICAgY29udGVudDogZWxlbWVudHMsXG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBvcmRlcmVkVGFiYmFibGVzXG4gICAgLnNvcnQoc29ydE9yZGVyZWRUYWJiYWJsZXMpXG4gICAgLnJlZHVjZSgoYWNjLCBzb3J0YWJsZSkgPT4ge1xuICAgICAgc29ydGFibGUuaXNTY29wZVxuICAgICAgICA/IGFjYy5wdXNoKC4uLnNvcnRhYmxlLmNvbnRlbnQpXG4gICAgICAgIDogYWNjLnB1c2goc29ydGFibGUuY29udGVudCk7XG4gICAgICByZXR1cm4gYWNjO1xuICAgIH0sIFtdKVxuICAgIC5jb25jYXQocmVndWxhclRhYmJhYmxlcyk7XG59O1xuXG5jb25zdCB0YWJiYWJsZSA9IGZ1bmN0aW9uIChlbCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICBsZXQgY2FuZGlkYXRlcztcbiAgaWYgKG9wdGlvbnMuZ2V0U2hhZG93Um9vdCkge1xuICAgIGNhbmRpZGF0ZXMgPSBnZXRDYW5kaWRhdGVzSXRlcmF0aXZlbHkoW2VsXSwgb3B0aW9ucy5pbmNsdWRlQ29udGFpbmVyLCB7XG4gICAgICBmaWx0ZXI6IGlzTm9kZU1hdGNoaW5nU2VsZWN0b3JUYWJiYWJsZS5iaW5kKG51bGwsIG9wdGlvbnMpLFxuICAgICAgZmxhdHRlbjogZmFsc2UsXG4gICAgICBnZXRTaGFkb3dSb290OiBvcHRpb25zLmdldFNoYWRvd1Jvb3QsXG4gICAgICBzaGFkb3dSb290RmlsdGVyOiBpc1ZhbGlkU2hhZG93Um9vdFRhYmJhYmxlLFxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIGNhbmRpZGF0ZXMgPSBnZXRDYW5kaWRhdGVzKFxuICAgICAgZWwsXG4gICAgICBvcHRpb25zLmluY2x1ZGVDb250YWluZXIsXG4gICAgICBpc05vZGVNYXRjaGluZ1NlbGVjdG9yVGFiYmFibGUuYmluZChudWxsLCBvcHRpb25zKVxuICAgICk7XG4gIH1cbiAgcmV0dXJuIHNvcnRCeU9yZGVyKGNhbmRpZGF0ZXMpO1xufTtcblxuY29uc3QgZm9jdXNhYmxlID0gZnVuY3Rpb24gKGVsLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gIGxldCBjYW5kaWRhdGVzO1xuICBpZiAob3B0aW9ucy5nZXRTaGFkb3dSb290KSB7XG4gICAgY2FuZGlkYXRlcyA9IGdldENhbmRpZGF0ZXNJdGVyYXRpdmVseShbZWxdLCBvcHRpb25zLmluY2x1ZGVDb250YWluZXIsIHtcbiAgICAgIGZpbHRlcjogaXNOb2RlTWF0Y2hpbmdTZWxlY3RvckZvY3VzYWJsZS5iaW5kKG51bGwsIG9wdGlvbnMpLFxuICAgICAgZmxhdHRlbjogdHJ1ZSxcbiAgICAgIGdldFNoYWRvd1Jvb3Q6IG9wdGlvbnMuZ2V0U2hhZG93Um9vdCxcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBjYW5kaWRhdGVzID0gZ2V0Q2FuZGlkYXRlcyhcbiAgICAgIGVsLFxuICAgICAgb3B0aW9ucy5pbmNsdWRlQ29udGFpbmVyLFxuICAgICAgaXNOb2RlTWF0Y2hpbmdTZWxlY3RvckZvY3VzYWJsZS5iaW5kKG51bGwsIG9wdGlvbnMpXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiBjYW5kaWRhdGVzO1xufTtcblxuY29uc3QgaXNUYWJiYWJsZSA9IGZ1bmN0aW9uIChub2RlLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBpZiAoIW5vZGUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIG5vZGUgcHJvdmlkZWQnKTtcbiAgfVxuICBpZiAobWF0Y2hlcy5jYWxsKG5vZGUsIGNhbmRpZGF0ZVNlbGVjdG9yKSA9PT0gZmFsc2UpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIGlzTm9kZU1hdGNoaW5nU2VsZWN0b3JUYWJiYWJsZShvcHRpb25zLCBub2RlKTtcbn07XG5cbmNvbnN0IGZvY3VzYWJsZUNhbmRpZGF0ZVNlbGVjdG9yID0gLyogI19fUFVSRV9fICovIGNhbmRpZGF0ZVNlbGVjdG9yc1xuICAuY29uY2F0KCdpZnJhbWUnKVxuICAuam9pbignLCcpO1xuXG5jb25zdCBpc0ZvY3VzYWJsZSA9IGZ1bmN0aW9uIChub2RlLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBpZiAoIW5vZGUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIG5vZGUgcHJvdmlkZWQnKTtcbiAgfVxuICBpZiAobWF0Y2hlcy5jYWxsKG5vZGUsIGZvY3VzYWJsZUNhbmRpZGF0ZVNlbGVjdG9yKSA9PT0gZmFsc2UpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIGlzTm9kZU1hdGNoaW5nU2VsZWN0b3JGb2N1c2FibGUob3B0aW9ucywgbm9kZSk7XG59O1xuXG5leHBvcnQgeyB0YWJiYWJsZSwgZm9jdXNhYmxlLCBpc1RhYmJhYmxlLCBpc0ZvY3VzYWJsZSB9O1xuIiwiKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnID8gZmFjdG9yeSgpIDpcbiAgdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKCdpbmVydCcsIGZhY3RvcnkpIDpcbiAgKGZhY3RvcnkoKSk7XG59KHRoaXMsIChmdW5jdGlvbiAoKSB7ICd1c2Ugc3RyaWN0JztcblxuICB2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG4gIGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbiAgLyoqXG4gICAqIFRoaXMgd29yayBpcyBsaWNlbnNlZCB1bmRlciB0aGUgVzNDIFNvZnR3YXJlIGFuZCBEb2N1bWVudCBMaWNlbnNlXG4gICAqIChodHRwOi8vd3d3LnczLm9yZy9Db25zb3J0aXVtL0xlZ2FsLzIwMTUvY29weXJpZ2h0LXNvZnR3YXJlLWFuZC1kb2N1bWVudCkuXG4gICAqL1xuXG4gIChmdW5jdGlvbiAoKSB7XG4gICAgLy8gUmV0dXJuIGVhcmx5IGlmIHdlJ3JlIG5vdCBydW5uaW5nIGluc2lkZSBvZiB0aGUgYnJvd3Nlci5cbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBDb252ZW5pZW5jZSBmdW5jdGlvbiBmb3IgY29udmVydGluZyBOb2RlTGlzdHMuXG4gICAgLyoqIEB0eXBlIHt0eXBlb2YgQXJyYXkucHJvdG90eXBlLnNsaWNlfSAqL1xuICAgIHZhciBzbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcblxuICAgIC8qKlxuICAgICAqIElFIGhhcyBhIG5vbi1zdGFuZGFyZCBuYW1lIGZvciBcIm1hdGNoZXNcIi5cbiAgICAgKiBAdHlwZSB7dHlwZW9mIEVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXN9XG4gICAgICovXG4gICAgdmFyIG1hdGNoZXMgPSBFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzIHx8IEVsZW1lbnQucHJvdG90eXBlLm1zTWF0Y2hlc1NlbGVjdG9yO1xuXG4gICAgLyoqIEB0eXBlIHtzdHJpbmd9ICovXG4gICAgdmFyIF9mb2N1c2FibGVFbGVtZW50c1N0cmluZyA9IFsnYVtocmVmXScsICdhcmVhW2hyZWZdJywgJ2lucHV0Om5vdChbZGlzYWJsZWRdKScsICdzZWxlY3Q6bm90KFtkaXNhYmxlZF0pJywgJ3RleHRhcmVhOm5vdChbZGlzYWJsZWRdKScsICdidXR0b246bm90KFtkaXNhYmxlZF0pJywgJ2RldGFpbHMnLCAnc3VtbWFyeScsICdpZnJhbWUnLCAnb2JqZWN0JywgJ2VtYmVkJywgJ1tjb250ZW50ZWRpdGFibGVdJ10uam9pbignLCcpO1xuXG4gICAgLyoqXG4gICAgICogYEluZXJ0Um9vdGAgbWFuYWdlcyBhIHNpbmdsZSBpbmVydCBzdWJ0cmVlLCBpLmUuIGEgRE9NIHN1YnRyZWUgd2hvc2Ugcm9vdCBlbGVtZW50IGhhcyBhbiBgaW5lcnRgXG4gICAgICogYXR0cmlidXRlLlxuICAgICAqXG4gICAgICogSXRzIG1haW4gZnVuY3Rpb25zIGFyZTpcbiAgICAgKlxuICAgICAqIC0gdG8gY3JlYXRlIGFuZCBtYWludGFpbiBhIHNldCBvZiBtYW5hZ2VkIGBJbmVydE5vZGVgcywgaW5jbHVkaW5nIHdoZW4gbXV0YXRpb25zIG9jY3VyIGluIHRoZVxuICAgICAqICAgc3VidHJlZS4gVGhlIGBtYWtlU3VidHJlZVVuZm9jdXNhYmxlKClgIG1ldGhvZCBoYW5kbGVzIGNvbGxlY3RpbmcgYEluZXJ0Tm9kZWBzIHZpYSByZWdpc3RlcmluZ1xuICAgICAqICAgZWFjaCBmb2N1c2FibGUgbm9kZSBpbiB0aGUgc3VidHJlZSB3aXRoIHRoZSBzaW5nbGV0b24gYEluZXJ0TWFuYWdlcmAgd2hpY2ggbWFuYWdlcyBhbGwga25vd25cbiAgICAgKiAgIGZvY3VzYWJsZSBub2RlcyB3aXRoaW4gaW5lcnQgc3VidHJlZXMuIGBJbmVydE1hbmFnZXJgIGVuc3VyZXMgdGhhdCBhIHNpbmdsZSBgSW5lcnROb2RlYFxuICAgICAqICAgaW5zdGFuY2UgZXhpc3RzIGZvciBlYWNoIGZvY3VzYWJsZSBub2RlIHdoaWNoIGhhcyBhdCBsZWFzdCBvbmUgaW5lcnQgcm9vdCBhcyBhbiBhbmNlc3Rvci5cbiAgICAgKlxuICAgICAqIC0gdG8gbm90aWZ5IGFsbCBtYW5hZ2VkIGBJbmVydE5vZGVgcyB3aGVuIHRoaXMgc3VidHJlZSBzdG9wcyBiZWluZyBpbmVydCAoaS5lLiB3aGVuIHRoZSBgaW5lcnRgXG4gICAgICogICBhdHRyaWJ1dGUgaXMgcmVtb3ZlZCBmcm9tIHRoZSByb290IG5vZGUpLiBUaGlzIGlzIGhhbmRsZWQgaW4gdGhlIGRlc3RydWN0b3IsIHdoaWNoIGNhbGxzIHRoZVxuICAgICAqICAgYGRlcmVnaXN0ZXJgIG1ldGhvZCBvbiBgSW5lcnRNYW5hZ2VyYCBmb3IgZWFjaCBtYW5hZ2VkIGluZXJ0IG5vZGUuXG4gICAgICovXG5cbiAgICB2YXIgSW5lcnRSb290ID0gZnVuY3Rpb24gKCkge1xuICAgICAgLyoqXG4gICAgICAgKiBAcGFyYW0geyFIVE1MRWxlbWVudH0gcm9vdEVsZW1lbnQgVGhlIEhUTUxFbGVtZW50IGF0IHRoZSByb290IG9mIHRoZSBpbmVydCBzdWJ0cmVlLlxuICAgICAgICogQHBhcmFtIHshSW5lcnRNYW5hZ2VyfSBpbmVydE1hbmFnZXIgVGhlIGdsb2JhbCBzaW5nbGV0b24gSW5lcnRNYW5hZ2VyIG9iamVjdC5cbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24gSW5lcnRSb290KHJvb3RFbGVtZW50LCBpbmVydE1hbmFnZXIpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEluZXJ0Um9vdCk7XG5cbiAgICAgICAgLyoqIEB0eXBlIHshSW5lcnRNYW5hZ2VyfSAqL1xuICAgICAgICB0aGlzLl9pbmVydE1hbmFnZXIgPSBpbmVydE1hbmFnZXI7XG5cbiAgICAgICAgLyoqIEB0eXBlIHshSFRNTEVsZW1lbnR9ICovXG4gICAgICAgIHRoaXMuX3Jvb3RFbGVtZW50ID0gcm9vdEVsZW1lbnQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHshU2V0PCFJbmVydE5vZGU+fVxuICAgICAgICAgKiBBbGwgbWFuYWdlZCBmb2N1c2FibGUgbm9kZXMgaW4gdGhpcyBJbmVydFJvb3QncyBzdWJ0cmVlLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbWFuYWdlZE5vZGVzID0gbmV3IFNldCgpO1xuXG4gICAgICAgIC8vIE1ha2UgdGhlIHN1YnRyZWUgaGlkZGVuIGZyb20gYXNzaXN0aXZlIHRlY2hub2xvZ3lcbiAgICAgICAgaWYgKHRoaXMuX3Jvb3RFbGVtZW50Lmhhc0F0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nKSkge1xuICAgICAgICAgIC8qKiBAdHlwZSB7P3N0cmluZ30gKi9cbiAgICAgICAgICB0aGlzLl9zYXZlZEFyaWFIaWRkZW4gPSB0aGlzLl9yb290RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5fc2F2ZWRBcmlhSGlkZGVuID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9yb290RWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcblxuICAgICAgICAvLyBNYWtlIGFsbCBmb2N1c2FibGUgZWxlbWVudHMgaW4gdGhlIHN1YnRyZWUgdW5mb2N1c2FibGUgYW5kIGFkZCB0aGVtIHRvIF9tYW5hZ2VkTm9kZXNcbiAgICAgICAgdGhpcy5fbWFrZVN1YnRyZWVVbmZvY3VzYWJsZSh0aGlzLl9yb290RWxlbWVudCk7XG5cbiAgICAgICAgLy8gV2F0Y2ggZm9yOlxuICAgICAgICAvLyAtIGFueSBhZGRpdGlvbnMgaW4gdGhlIHN1YnRyZWU6IG1ha2UgdGhlbSB1bmZvY3VzYWJsZSB0b29cbiAgICAgICAgLy8gLSBhbnkgcmVtb3ZhbHMgZnJvbSB0aGUgc3VidHJlZTogcmVtb3ZlIHRoZW0gZnJvbSB0aGlzIGluZXJ0IHJvb3QncyBtYW5hZ2VkIG5vZGVzXG4gICAgICAgIC8vIC0gYXR0cmlidXRlIGNoYW5nZXM6IGlmIGB0YWJpbmRleGAgaXMgYWRkZWQsIG9yIHJlbW92ZWQgZnJvbSBhbiBpbnRyaW5zaWNhbGx5IGZvY3VzYWJsZVxuICAgICAgICAvLyAgIGVsZW1lbnQsIG1ha2UgdGhhdCBub2RlIGEgbWFuYWdlZCBub2RlLlxuICAgICAgICB0aGlzLl9vYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKHRoaXMuX29uTXV0YXRpb24uYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuX29ic2VydmVyLm9ic2VydmUodGhpcy5fcm9vdEVsZW1lbnQsIHsgYXR0cmlidXRlczogdHJ1ZSwgY2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlIH0pO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIENhbGwgdGhpcyB3aGVuZXZlciB0aGlzIG9iamVjdCBpcyBhYm91dCB0byBiZWNvbWUgb2Jzb2xldGUuICBUaGlzIHVud2luZHMgYWxsIG9mIHRoZSBzdGF0ZVxuICAgICAgICogc3RvcmVkIGluIHRoaXMgb2JqZWN0IGFuZCB1cGRhdGVzIHRoZSBzdGF0ZSBvZiBhbGwgb2YgdGhlIG1hbmFnZWQgbm9kZXMuXG4gICAgICAgKi9cblxuXG4gICAgICBfY3JlYXRlQ2xhc3MoSW5lcnRSb290LCBbe1xuICAgICAgICBrZXk6ICdkZXN0cnVjdG9yJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRlc3RydWN0b3IoKSB7XG4gICAgICAgICAgdGhpcy5fb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuXG4gICAgICAgICAgaWYgKHRoaXMuX3Jvb3RFbGVtZW50KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fc2F2ZWRBcmlhSGlkZGVuICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgIHRoaXMuX3Jvb3RFbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCB0aGlzLl9zYXZlZEFyaWFIaWRkZW4pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhpcy5fcm9vdEVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWhpZGRlbicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHRoaXMuX21hbmFnZWROb2Rlcy5mb3JFYWNoKGZ1bmN0aW9uIChpbmVydE5vZGUpIHtcbiAgICAgICAgICAgIHRoaXMuX3VubWFuYWdlTm9kZShpbmVydE5vZGUubm9kZSk7XG4gICAgICAgICAgfSwgdGhpcyk7XG5cbiAgICAgICAgICAvLyBOb3RlIHdlIGNhc3QgdGhlIG51bGxzIHRvIHRoZSBBTlkgdHlwZSBoZXJlIGJlY2F1c2U6XG4gICAgICAgICAgLy8gMSkgV2Ugd2FudCB0aGUgY2xhc3MgcHJvcGVydGllcyB0byBiZSBkZWNsYXJlZCBhcyBub24tbnVsbCwgb3IgZWxzZSB3ZVxuICAgICAgICAgIC8vICAgIG5lZWQgZXZlbiBtb3JlIGNhc3RzIHRocm91Z2hvdXQgdGhpcyBjb2RlLiBBbGwgYmV0cyBhcmUgb2ZmIGlmIGFuXG4gICAgICAgICAgLy8gICAgaW5zdGFuY2UgaGFzIGJlZW4gZGVzdHJveWVkIGFuZCBhIG1ldGhvZCBpcyBjYWxsZWQuXG4gICAgICAgICAgLy8gMikgV2UgZG9uJ3Qgd2FudCB0byBjYXN0IFwidGhpc1wiLCBiZWNhdXNlIHdlIHdhbnQgdHlwZS1hd2FyZSBvcHRpbWl6YXRpb25zXG4gICAgICAgICAgLy8gICAgdG8ga25vdyB3aGljaCBwcm9wZXJ0aWVzIHdlJ3JlIHNldHRpbmcuXG4gICAgICAgICAgdGhpcy5fb2JzZXJ2ZXIgPSAvKiogQHR5cGUgez99ICovbnVsbDtcbiAgICAgICAgICB0aGlzLl9yb290RWxlbWVudCA9IC8qKiBAdHlwZSB7P30gKi9udWxsO1xuICAgICAgICAgIHRoaXMuX21hbmFnZWROb2RlcyA9IC8qKiBAdHlwZSB7P30gKi9udWxsO1xuICAgICAgICAgIHRoaXMuX2luZXJ0TWFuYWdlciA9IC8qKiBAdHlwZSB7P30gKi9udWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm4geyFTZXQ8IUluZXJ0Tm9kZT59IEEgY29weSBvZiB0aGlzIEluZXJ0Um9vdCdzIG1hbmFnZWQgbm9kZXMgc2V0LlxuICAgICAgICAgKi9cblxuICAgICAgfSwge1xuICAgICAgICBrZXk6ICdfbWFrZVN1YnRyZWVVbmZvY3VzYWJsZScsXG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHshTm9kZX0gc3RhcnROb2RlXG4gICAgICAgICAqL1xuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX21ha2VTdWJ0cmVlVW5mb2N1c2FibGUoc3RhcnROb2RlKSB7XG4gICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICBjb21wb3NlZFRyZWVXYWxrKHN0YXJ0Tm9kZSwgZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpczIuX3Zpc2l0Tm9kZShub2RlKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHZhciBhY3RpdmVFbGVtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcblxuICAgICAgICAgIGlmICghZG9jdW1lbnQuYm9keS5jb250YWlucyhzdGFydE5vZGUpKSB7XG4gICAgICAgICAgICAvLyBzdGFydE5vZGUgbWF5IGJlIGluIHNoYWRvdyBET00sIHNvIGZpbmQgaXRzIG5lYXJlc3Qgc2hhZG93Um9vdCB0byBnZXQgdGhlIGFjdGl2ZUVsZW1lbnQuXG4gICAgICAgICAgICB2YXIgbm9kZSA9IHN0YXJ0Tm9kZTtcbiAgICAgICAgICAgIC8qKiBAdHlwZSB7IVNoYWRvd1Jvb3R8dW5kZWZpbmVkfSAqL1xuICAgICAgICAgICAgdmFyIHJvb3QgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB3aGlsZSAobm9kZSkge1xuICAgICAgICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gTm9kZS5ET0NVTUVOVF9GUkFHTUVOVF9OT0RFKSB7XG4gICAgICAgICAgICAgICAgcm9vdCA9IC8qKiBAdHlwZSB7IVNoYWRvd1Jvb3R9ICovbm9kZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJvb3QpIHtcbiAgICAgICAgICAgICAgYWN0aXZlRWxlbWVudCA9IHJvb3QuYWN0aXZlRWxlbWVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHN0YXJ0Tm9kZS5jb250YWlucyhhY3RpdmVFbGVtZW50KSkge1xuICAgICAgICAgICAgYWN0aXZlRWxlbWVudC5ibHVyKCk7XG4gICAgICAgICAgICAvLyBJbiBJRTExLCBpZiBhbiBlbGVtZW50IGlzIGFscmVhZHkgZm9jdXNlZCwgYW5kIHRoZW4gc2V0IHRvIHRhYmluZGV4PS0xXG4gICAgICAgICAgICAvLyBjYWxsaW5nIGJsdXIoKSB3aWxsIG5vdCBhY3R1YWxseSBtb3ZlIHRoZSBmb2N1cy5cbiAgICAgICAgICAgIC8vIFRvIHdvcmsgYXJvdW5kIHRoaXMgd2UgY2FsbCBmb2N1cygpIG9uIHRoZSBib2R5IGluc3RlYWQuXG4gICAgICAgICAgICBpZiAoYWN0aXZlRWxlbWVudCA9PT0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkge1xuICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmZvY3VzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7IU5vZGV9IG5vZGVcbiAgICAgICAgICovXG5cbiAgICAgIH0sIHtcbiAgICAgICAga2V5OiAnX3Zpc2l0Tm9kZScsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfdmlzaXROb2RlKG5vZGUpIHtcbiAgICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSAhPT0gTm9kZS5FTEVNRU5UX05PREUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIGVsZW1lbnQgPSAvKiogQHR5cGUgeyFIVE1MRWxlbWVudH0gKi9ub2RlO1xuXG4gICAgICAgICAgLy8gSWYgYSBkZXNjZW5kYW50IGluZXJ0IHJvb3QgYmVjb21lcyB1bi1pbmVydCwgaXRzIGRlc2NlbmRhbnRzIHdpbGwgc3RpbGwgYmUgaW5lcnQgYmVjYXVzZSBvZlxuICAgICAgICAgIC8vIHRoaXMgaW5lcnQgcm9vdCwgc28gYWxsIG9mIGl0cyBtYW5hZ2VkIG5vZGVzIG5lZWQgdG8gYmUgYWRvcHRlZCBieSB0aGlzIEluZXJ0Um9vdC5cbiAgICAgICAgICBpZiAoZWxlbWVudCAhPT0gdGhpcy5fcm9vdEVsZW1lbnQgJiYgZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ2luZXJ0JykpIHtcbiAgICAgICAgICAgIHRoaXMuX2Fkb3B0SW5lcnRSb290KGVsZW1lbnQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChtYXRjaGVzLmNhbGwoZWxlbWVudCwgX2ZvY3VzYWJsZUVsZW1lbnRzU3RyaW5nKSB8fCBlbGVtZW50Lmhhc0F0dHJpYnV0ZSgndGFiaW5kZXgnKSkge1xuICAgICAgICAgICAgdGhpcy5fbWFuYWdlTm9kZShlbGVtZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVnaXN0ZXIgdGhlIGdpdmVuIG5vZGUgd2l0aCB0aGlzIEluZXJ0Um9vdCBhbmQgd2l0aCBJbmVydE1hbmFnZXIuXG4gICAgICAgICAqIEBwYXJhbSB7IU5vZGV9IG5vZGVcbiAgICAgICAgICovXG5cbiAgICAgIH0sIHtcbiAgICAgICAga2V5OiAnX21hbmFnZU5vZGUnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX21hbmFnZU5vZGUobm9kZSkge1xuICAgICAgICAgIHZhciBpbmVydE5vZGUgPSB0aGlzLl9pbmVydE1hbmFnZXIucmVnaXN0ZXIobm9kZSwgdGhpcyk7XG4gICAgICAgICAgdGhpcy5fbWFuYWdlZE5vZGVzLmFkZChpbmVydE5vZGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVucmVnaXN0ZXIgdGhlIGdpdmVuIG5vZGUgd2l0aCB0aGlzIEluZXJ0Um9vdCBhbmQgd2l0aCBJbmVydE1hbmFnZXIuXG4gICAgICAgICAqIEBwYXJhbSB7IU5vZGV9IG5vZGVcbiAgICAgICAgICovXG5cbiAgICAgIH0sIHtcbiAgICAgICAga2V5OiAnX3VubWFuYWdlTm9kZScsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfdW5tYW5hZ2VOb2RlKG5vZGUpIHtcbiAgICAgICAgICB2YXIgaW5lcnROb2RlID0gdGhpcy5faW5lcnRNYW5hZ2VyLmRlcmVnaXN0ZXIobm9kZSwgdGhpcyk7XG4gICAgICAgICAgaWYgKGluZXJ0Tm9kZSkge1xuICAgICAgICAgICAgdGhpcy5fbWFuYWdlZE5vZGVzWydkZWxldGUnXShpbmVydE5vZGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVbnJlZ2lzdGVyIHRoZSBlbnRpcmUgc3VidHJlZSBzdGFydGluZyBhdCBgc3RhcnROb2RlYC5cbiAgICAgICAgICogQHBhcmFtIHshTm9kZX0gc3RhcnROb2RlXG4gICAgICAgICAqL1xuXG4gICAgICB9LCB7XG4gICAgICAgIGtleTogJ191bm1hbmFnZVN1YnRyZWUnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX3VubWFuYWdlU3VidHJlZShzdGFydE5vZGUpIHtcbiAgICAgICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgICAgIGNvbXBvc2VkVHJlZVdhbGsoc3RhcnROb2RlLCBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5fdW5tYW5hZ2VOb2RlKG5vZGUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIGEgZGVzY2VuZGFudCBub2RlIGlzIGZvdW5kIHdpdGggYW4gYGluZXJ0YCBhdHRyaWJ1dGUsIGFkb3B0IGl0cyBtYW5hZ2VkIG5vZGVzLlxuICAgICAgICAgKiBAcGFyYW0geyFIVE1MRWxlbWVudH0gbm9kZVxuICAgICAgICAgKi9cblxuICAgICAgfSwge1xuICAgICAgICBrZXk6ICdfYWRvcHRJbmVydFJvb3QnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX2Fkb3B0SW5lcnRSb290KG5vZGUpIHtcbiAgICAgICAgICB2YXIgaW5lcnRTdWJyb290ID0gdGhpcy5faW5lcnRNYW5hZ2VyLmdldEluZXJ0Um9vdChub2RlKTtcblxuICAgICAgICAgIC8vIER1cmluZyBpbml0aWFsaXNhdGlvbiB0aGlzIGluZXJ0IHJvb3QgbWF5IG5vdCBoYXZlIGJlZW4gcmVnaXN0ZXJlZCB5ZXQsXG4gICAgICAgICAgLy8gc28gcmVnaXN0ZXIgaXQgbm93IGlmIG5lZWQgYmUuXG4gICAgICAgICAgaWYgKCFpbmVydFN1YnJvb3QpIHtcbiAgICAgICAgICAgIHRoaXMuX2luZXJ0TWFuYWdlci5zZXRJbmVydChub2RlLCB0cnVlKTtcbiAgICAgICAgICAgIGluZXJ0U3Vicm9vdCA9IHRoaXMuX2luZXJ0TWFuYWdlci5nZXRJbmVydFJvb3Qobm9kZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaW5lcnRTdWJyb290Lm1hbmFnZWROb2Rlcy5mb3JFYWNoKGZ1bmN0aW9uIChzYXZlZEluZXJ0Tm9kZSkge1xuICAgICAgICAgICAgdGhpcy5fbWFuYWdlTm9kZShzYXZlZEluZXJ0Tm9kZS5ub2RlKTtcbiAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWxsYmFjayB1c2VkIHdoZW4gbXV0YXRpb24gb2JzZXJ2ZXIgZGV0ZWN0cyBzdWJ0cmVlIGFkZGl0aW9ucywgcmVtb3ZhbHMsIG9yIGF0dHJpYnV0ZSBjaGFuZ2VzLlxuICAgICAgICAgKiBAcGFyYW0geyFBcnJheTwhTXV0YXRpb25SZWNvcmQ+fSByZWNvcmRzXG4gICAgICAgICAqIEBwYXJhbSB7IU11dGF0aW9uT2JzZXJ2ZXJ9IHNlbGZcbiAgICAgICAgICovXG5cbiAgICAgIH0sIHtcbiAgICAgICAga2V5OiAnX29uTXV0YXRpb24nLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX29uTXV0YXRpb24ocmVjb3Jkcywgc2VsZikge1xuICAgICAgICAgIHJlY29yZHMuZm9yRWFjaChmdW5jdGlvbiAocmVjb3JkKSB7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0ID0gLyoqIEB0eXBlIHshSFRNTEVsZW1lbnR9ICovcmVjb3JkLnRhcmdldDtcbiAgICAgICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gJ2NoaWxkTGlzdCcpIHtcbiAgICAgICAgICAgICAgLy8gTWFuYWdlIGFkZGVkIG5vZGVzXG4gICAgICAgICAgICAgIHNsaWNlLmNhbGwocmVjb3JkLmFkZGVkTm9kZXMpLmZvckVhY2goZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9tYWtlU3VidHJlZVVuZm9jdXNhYmxlKG5vZGUpO1xuICAgICAgICAgICAgICB9LCB0aGlzKTtcblxuICAgICAgICAgICAgICAvLyBVbi1tYW5hZ2UgcmVtb3ZlZCBub2Rlc1xuICAgICAgICAgICAgICBzbGljZS5jYWxsKHJlY29yZC5yZW1vdmVkTm9kZXMpLmZvckVhY2goZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl91bm1hbmFnZVN1YnRyZWUobm9kZSk7XG4gICAgICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gJ2F0dHJpYnV0ZXMnKSB7XG4gICAgICAgICAgICAgIGlmIChyZWNvcmQuYXR0cmlidXRlTmFtZSA9PT0gJ3RhYmluZGV4Jykge1xuICAgICAgICAgICAgICAgIC8vIFJlLWluaXRpYWxpc2UgaW5lcnQgbm9kZSBpZiB0YWJpbmRleCBjaGFuZ2VzXG4gICAgICAgICAgICAgICAgdGhpcy5fbWFuYWdlTm9kZSh0YXJnZXQpO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhcmdldCAhPT0gdGhpcy5fcm9vdEVsZW1lbnQgJiYgcmVjb3JkLmF0dHJpYnV0ZU5hbWUgPT09ICdpbmVydCcgJiYgdGFyZ2V0Lmhhc0F0dHJpYnV0ZSgnaW5lcnQnKSkge1xuICAgICAgICAgICAgICAgIC8vIElmIGEgbmV3IGluZXJ0IHJvb3QgaXMgYWRkZWQsIGFkb3B0IGl0cyBtYW5hZ2VkIG5vZGVzIGFuZCBtYWtlIHN1cmUgaXQga25vd3MgYWJvdXQgdGhlXG4gICAgICAgICAgICAgICAgLy8gYWxyZWFkeSBtYW5hZ2VkIG5vZGVzIGZyb20gdGhpcyBpbmVydCBzdWJyb290LlxuICAgICAgICAgICAgICAgIHRoaXMuX2Fkb3B0SW5lcnRSb290KHRhcmdldCk7XG4gICAgICAgICAgICAgICAgdmFyIGluZXJ0U3Vicm9vdCA9IHRoaXMuX2luZXJ0TWFuYWdlci5nZXRJbmVydFJvb3QodGFyZ2V0KTtcbiAgICAgICAgICAgICAgICB0aGlzLl9tYW5hZ2VkTm9kZXMuZm9yRWFjaChmdW5jdGlvbiAobWFuYWdlZE5vZGUpIHtcbiAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXQuY29udGFpbnMobWFuYWdlZE5vZGUubm9kZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5lcnRTdWJyb290Ll9tYW5hZ2VOb2RlKG1hbmFnZWROb2RlLm5vZGUpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAga2V5OiAnbWFuYWdlZE5vZGVzJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBTZXQodGhpcy5fbWFuYWdlZE5vZGVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKiBAcmV0dXJuIHtib29sZWFufSAqL1xuXG4gICAgICB9LCB7XG4gICAgICAgIGtleTogJ2hhc1NhdmVkQXJpYUhpZGRlbicsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9zYXZlZEFyaWFIaWRkZW4gIT09IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvKiogQHBhcmFtIHs/c3RyaW5nfSBhcmlhSGlkZGVuICovXG5cbiAgICAgIH0sIHtcbiAgICAgICAga2V5OiAnc2F2ZWRBcmlhSGlkZGVuJyxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoYXJpYUhpZGRlbikge1xuICAgICAgICAgIHRoaXMuX3NhdmVkQXJpYUhpZGRlbiA9IGFyaWFIaWRkZW47XG4gICAgICAgIH1cblxuICAgICAgICAvKiogQHJldHVybiB7P3N0cmluZ30gKi9cbiAgICAgICAgLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fc2F2ZWRBcmlhSGlkZGVuO1xuICAgICAgICB9XG4gICAgICB9XSk7XG5cbiAgICAgIHJldHVybiBJbmVydFJvb3Q7XG4gICAgfSgpO1xuXG4gICAgLyoqXG4gICAgICogYEluZXJ0Tm9kZWAgaW5pdGlhbGlzZXMgYW5kIG1hbmFnZXMgYSBzaW5nbGUgaW5lcnQgbm9kZS5cbiAgICAgKiBBIG5vZGUgaXMgaW5lcnQgaWYgaXQgaXMgYSBkZXNjZW5kYW50IG9mIG9uZSBvciBtb3JlIGluZXJ0IHJvb3QgZWxlbWVudHMuXG4gICAgICpcbiAgICAgKiBPbiBjb25zdHJ1Y3Rpb24sIGBJbmVydE5vZGVgIHNhdmVzIHRoZSBleGlzdGluZyBgdGFiaW5kZXhgIHZhbHVlIGZvciB0aGUgbm9kZSwgaWYgYW55LCBhbmRcbiAgICAgKiBlaXRoZXIgcmVtb3ZlcyB0aGUgYHRhYmluZGV4YCBhdHRyaWJ1dGUgb3Igc2V0cyBpdCB0byBgLTFgLCBkZXBlbmRpbmcgb24gd2hldGhlciB0aGUgZWxlbWVudFxuICAgICAqIGlzIGludHJpbnNpY2FsbHkgZm9jdXNhYmxlIG9yIG5vdC5cbiAgICAgKlxuICAgICAqIGBJbmVydE5vZGVgIG1haW50YWlucyBhIHNldCBvZiBgSW5lcnRSb290YHMgd2hpY2ggYXJlIGRlc2NlbmRhbnRzIG9mIHRoaXMgYEluZXJ0Tm9kZWAuIFdoZW4gYW5cbiAgICAgKiBgSW5lcnRSb290YCBpcyBkZXN0cm95ZWQsIGFuZCBjYWxscyBgSW5lcnRNYW5hZ2VyLmRlcmVnaXN0ZXIoKWAsIHRoZSBgSW5lcnRNYW5hZ2VyYCBub3RpZmllcyB0aGVcbiAgICAgKiBgSW5lcnROb2RlYCB2aWEgYHJlbW92ZUluZXJ0Um9vdCgpYCwgd2hpY2ggaW4gdHVybiBkZXN0cm95cyB0aGUgYEluZXJ0Tm9kZWAgaWYgbm8gYEluZXJ0Um9vdGBzXG4gICAgICogcmVtYWluIGluIHRoZSBzZXQuIE9uIGRlc3RydWN0aW9uLCBgSW5lcnROb2RlYCByZWluc3RhdGVzIHRoZSBzdG9yZWQgYHRhYmluZGV4YCBpZiBvbmUgZXhpc3RzLFxuICAgICAqIG9yIHJlbW92ZXMgdGhlIGB0YWJpbmRleGAgYXR0cmlidXRlIGlmIHRoZSBlbGVtZW50IGlzIGludHJpbnNpY2FsbHkgZm9jdXNhYmxlLlxuICAgICAqL1xuXG5cbiAgICB2YXIgSW5lcnROb2RlID0gZnVuY3Rpb24gKCkge1xuICAgICAgLyoqXG4gICAgICAgKiBAcGFyYW0geyFOb2RlfSBub2RlIEEgZm9jdXNhYmxlIGVsZW1lbnQgdG8gYmUgbWFkZSBpbmVydC5cbiAgICAgICAqIEBwYXJhbSB7IUluZXJ0Um9vdH0gaW5lcnRSb290IFRoZSBpbmVydCByb290IGVsZW1lbnQgYXNzb2NpYXRlZCB3aXRoIHRoaXMgaW5lcnQgbm9kZS5cbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24gSW5lcnROb2RlKG5vZGUsIGluZXJ0Um9vdCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSW5lcnROb2RlKTtcblxuICAgICAgICAvKiogQHR5cGUgeyFOb2RlfSAqL1xuICAgICAgICB0aGlzLl9ub2RlID0gbm9kZTtcblxuICAgICAgICAvKiogQHR5cGUge2Jvb2xlYW59ICovXG4gICAgICAgIHRoaXMuX292ZXJyb2RlRm9jdXNNZXRob2QgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUgeyFTZXQ8IUluZXJ0Um9vdD59IFRoZSBzZXQgb2YgZGVzY2VuZGFudCBpbmVydCByb290cy5cbiAgICAgICAgICogICAgSWYgYW5kIG9ubHkgaWYgdGhpcyBzZXQgYmVjb21lcyBlbXB0eSwgdGhpcyBub2RlIGlzIG5vIGxvbmdlciBpbmVydC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2luZXJ0Um9vdHMgPSBuZXcgU2V0KFtpbmVydFJvb3RdKTtcblxuICAgICAgICAvKiogQHR5cGUgez9udW1iZXJ9ICovXG4gICAgICAgIHRoaXMuX3NhdmVkVGFiSW5kZXggPSBudWxsO1xuXG4gICAgICAgIC8qKiBAdHlwZSB7Ym9vbGVhbn0gKi9cbiAgICAgICAgdGhpcy5fZGVzdHJveWVkID0gZmFsc2U7XG5cbiAgICAgICAgLy8gU2F2ZSBhbnkgcHJpb3IgdGFiaW5kZXggaW5mbyBhbmQgbWFrZSB0aGlzIG5vZGUgdW50YWJiYWJsZVxuICAgICAgICB0aGlzLmVuc3VyZVVudGFiYmFibGUoKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBDYWxsIHRoaXMgd2hlbmV2ZXIgdGhpcyBvYmplY3QgaXMgYWJvdXQgdG8gYmVjb21lIG9ic29sZXRlLlxuICAgICAgICogVGhpcyBtYWtlcyB0aGUgbWFuYWdlZCBub2RlIGZvY3VzYWJsZSBhZ2FpbiBhbmQgZGVsZXRlcyBhbGwgb2YgdGhlIHByZXZpb3VzbHkgc3RvcmVkIHN0YXRlLlxuICAgICAgICovXG5cblxuICAgICAgX2NyZWF0ZUNsYXNzKEluZXJ0Tm9kZSwgW3tcbiAgICAgICAga2V5OiAnZGVzdHJ1Y3RvcicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBkZXN0cnVjdG9yKCkge1xuICAgICAgICAgIHRoaXMuX3Rocm93SWZEZXN0cm95ZWQoKTtcblxuICAgICAgICAgIGlmICh0aGlzLl9ub2RlICYmIHRoaXMuX25vZGUubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFKSB7XG4gICAgICAgICAgICB2YXIgZWxlbWVudCA9IC8qKiBAdHlwZSB7IUhUTUxFbGVtZW50fSAqL3RoaXMuX25vZGU7XG4gICAgICAgICAgICBpZiAodGhpcy5fc2F2ZWRUYWJJbmRleCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCB0aGlzLl9zYXZlZFRhYkluZGV4KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCd0YWJpbmRleCcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBVc2UgYGRlbGV0ZWAgdG8gcmVzdG9yZSBuYXRpdmUgZm9jdXMgbWV0aG9kLlxuICAgICAgICAgICAgaWYgKHRoaXMuX292ZXJyb2RlRm9jdXNNZXRob2QpIHtcbiAgICAgICAgICAgICAgZGVsZXRlIGVsZW1lbnQuZm9jdXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gU2VlIG5vdGUgaW4gSW5lcnRSb290LmRlc3RydWN0b3IgZm9yIHdoeSB3ZSBjYXN0IHRoZXNlIG51bGxzIHRvIEFOWS5cbiAgICAgICAgICB0aGlzLl9ub2RlID0gLyoqIEB0eXBlIHs/fSAqL251bGw7XG4gICAgICAgICAgdGhpcy5faW5lcnRSb290cyA9IC8qKiBAdHlwZSB7P30gKi9udWxsO1xuICAgICAgICAgIHRoaXMuX2Rlc3Ryb3llZCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59IFdoZXRoZXIgdGhpcyBvYmplY3QgaXMgb2Jzb2xldGUgYmVjYXVzZSB0aGUgbWFuYWdlZCBub2RlIGlzIG5vIGxvbmdlciBpbmVydC5cbiAgICAgICAgICogSWYgdGhlIG9iamVjdCBoYXMgYmVlbiBkZXN0cm95ZWQsIGFueSBhdHRlbXB0IHRvIGFjY2VzcyBpdCB3aWxsIGNhdXNlIGFuIGV4Y2VwdGlvbi5cbiAgICAgICAgICovXG5cbiAgICAgIH0sIHtcbiAgICAgICAga2V5OiAnX3Rocm93SWZEZXN0cm95ZWQnLFxuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRocm93IGlmIHVzZXIgdHJpZXMgdG8gYWNjZXNzIGRlc3Ryb3llZCBJbmVydE5vZGUuXG4gICAgICAgICAqL1xuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX3Rocm93SWZEZXN0cm95ZWQoKSB7XG4gICAgICAgICAgaWYgKHRoaXMuZGVzdHJveWVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RyeWluZyB0byBhY2Nlc3MgZGVzdHJveWVkIEluZXJ0Tm9kZScpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKiBAcmV0dXJuIHtib29sZWFufSAqL1xuXG4gICAgICB9LCB7XG4gICAgICAgIGtleTogJ2Vuc3VyZVVudGFiYmFibGUnLFxuXG5cbiAgICAgICAgLyoqIFNhdmUgdGhlIGV4aXN0aW5nIHRhYmluZGV4IHZhbHVlIGFuZCBtYWtlIHRoZSBub2RlIHVudGFiYmFibGUgYW5kIHVuZm9jdXNhYmxlICovXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBlbnN1cmVVbnRhYmJhYmxlKCkge1xuICAgICAgICAgIGlmICh0aGlzLm5vZGUubm9kZVR5cGUgIT09IE5vZGUuRUxFTUVOVF9OT0RFKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBlbGVtZW50ID0gLyoqIEB0eXBlIHshSFRNTEVsZW1lbnR9ICovdGhpcy5ub2RlO1xuICAgICAgICAgIGlmIChtYXRjaGVzLmNhbGwoZWxlbWVudCwgX2ZvY3VzYWJsZUVsZW1lbnRzU3RyaW5nKSkge1xuICAgICAgICAgICAgaWYgKCAvKiogQHR5cGUgeyFIVE1MRWxlbWVudH0gKi9lbGVtZW50LnRhYkluZGV4ID09PSAtMSAmJiB0aGlzLmhhc1NhdmVkVGFiSW5kZXgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ3RhYmluZGV4JykpIHtcbiAgICAgICAgICAgICAgdGhpcy5fc2F2ZWRUYWJJbmRleCA9IC8qKiBAdHlwZSB7IUhUTUxFbGVtZW50fSAqL2VsZW1lbnQudGFiSW5kZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnLTEnKTtcbiAgICAgICAgICAgIGlmIChlbGVtZW50Lm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSkge1xuICAgICAgICAgICAgICBlbGVtZW50LmZvY3VzID0gZnVuY3Rpb24gKCkge307XG4gICAgICAgICAgICAgIHRoaXMuX292ZXJyb2RlRm9jdXNNZXRob2QgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ3RhYmluZGV4JykpIHtcbiAgICAgICAgICAgIHRoaXMuX3NhdmVkVGFiSW5kZXggPSAvKiogQHR5cGUgeyFIVE1MRWxlbWVudH0gKi9lbGVtZW50LnRhYkluZGV4O1xuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ3RhYmluZGV4Jyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFkZCBhbm90aGVyIGluZXJ0IHJvb3QgdG8gdGhpcyBpbmVydCBub2RlJ3Mgc2V0IG9mIG1hbmFnaW5nIGluZXJ0IHJvb3RzLlxuICAgICAgICAgKiBAcGFyYW0geyFJbmVydFJvb3R9IGluZXJ0Um9vdFxuICAgICAgICAgKi9cblxuICAgICAgfSwge1xuICAgICAgICBrZXk6ICdhZGRJbmVydFJvb3QnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYWRkSW5lcnRSb290KGluZXJ0Um9vdCkge1xuICAgICAgICAgIHRoaXMuX3Rocm93SWZEZXN0cm95ZWQoKTtcbiAgICAgICAgICB0aGlzLl9pbmVydFJvb3RzLmFkZChpbmVydFJvb3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlbW92ZSB0aGUgZ2l2ZW4gaW5lcnQgcm9vdCBmcm9tIHRoaXMgaW5lcnQgbm9kZSdzIHNldCBvZiBtYW5hZ2luZyBpbmVydCByb290cy5cbiAgICAgICAgICogSWYgdGhlIHNldCBvZiBtYW5hZ2luZyBpbmVydCByb290cyBiZWNvbWVzIGVtcHR5LCB0aGlzIG5vZGUgaXMgbm8gbG9uZ2VyIGluZXJ0LFxuICAgICAgICAgKiBzbyB0aGUgb2JqZWN0IHNob3VsZCBiZSBkZXN0cm95ZWQuXG4gICAgICAgICAqIEBwYXJhbSB7IUluZXJ0Um9vdH0gaW5lcnRSb290XG4gICAgICAgICAqL1xuXG4gICAgICB9LCB7XG4gICAgICAgIGtleTogJ3JlbW92ZUluZXJ0Um9vdCcsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVJbmVydFJvb3QoaW5lcnRSb290KSB7XG4gICAgICAgICAgdGhpcy5fdGhyb3dJZkRlc3Ryb3llZCgpO1xuICAgICAgICAgIHRoaXMuX2luZXJ0Um9vdHNbJ2RlbGV0ZSddKGluZXJ0Um9vdCk7XG4gICAgICAgICAgaWYgKHRoaXMuX2luZXJ0Um9vdHMuc2l6ZSA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5kZXN0cnVjdG9yKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGtleTogJ2Rlc3Ryb3llZCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiAoLyoqIEB0eXBlIHshSW5lcnROb2RlfSAqL3RoaXMuX2Rlc3Ryb3llZFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAga2V5OiAnaGFzU2F2ZWRUYWJJbmRleCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9zYXZlZFRhYkluZGV4ICE9PSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqIEByZXR1cm4geyFOb2RlfSAqL1xuXG4gICAgICB9LCB7XG4gICAgICAgIGtleTogJ25vZGUnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICB0aGlzLl90aHJvd0lmRGVzdHJveWVkKCk7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX25vZGU7XG4gICAgICAgIH1cblxuICAgICAgICAvKiogQHBhcmFtIHs/bnVtYmVyfSB0YWJJbmRleCAqL1xuXG4gICAgICB9LCB7XG4gICAgICAgIGtleTogJ3NhdmVkVGFiSW5kZXgnLFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh0YWJJbmRleCkge1xuICAgICAgICAgIHRoaXMuX3Rocm93SWZEZXN0cm95ZWQoKTtcbiAgICAgICAgICB0aGlzLl9zYXZlZFRhYkluZGV4ID0gdGFiSW5kZXg7XG4gICAgICAgIH1cblxuICAgICAgICAvKiogQHJldHVybiB7P251bWJlcn0gKi9cbiAgICAgICAgLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICB0aGlzLl90aHJvd0lmRGVzdHJveWVkKCk7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX3NhdmVkVGFiSW5kZXg7XG4gICAgICAgIH1cbiAgICAgIH1dKTtcblxuICAgICAgcmV0dXJuIEluZXJ0Tm9kZTtcbiAgICB9KCk7XG5cbiAgICAvKipcbiAgICAgKiBJbmVydE1hbmFnZXIgaXMgYSBwZXItZG9jdW1lbnQgc2luZ2xldG9uIG9iamVjdCB3aGljaCBtYW5hZ2VzIGFsbCBpbmVydCByb290cyBhbmQgbm9kZXMuXG4gICAgICpcbiAgICAgKiBXaGVuIGFuIGVsZW1lbnQgYmVjb21lcyBhbiBpbmVydCByb290IGJ5IGhhdmluZyBhbiBgaW5lcnRgIGF0dHJpYnV0ZSBzZXQgYW5kL29yIGl0cyBgaW5lcnRgXG4gICAgICogcHJvcGVydHkgc2V0IHRvIGB0cnVlYCwgdGhlIGBzZXRJbmVydGAgbWV0aG9kIGNyZWF0ZXMgYW4gYEluZXJ0Um9vdGAgb2JqZWN0IGZvciB0aGUgZWxlbWVudC5cbiAgICAgKiBUaGUgYEluZXJ0Um9vdGAgaW4gdHVybiByZWdpc3RlcnMgaXRzZWxmIGFzIG1hbmFnaW5nIGFsbCBvZiB0aGUgZWxlbWVudCdzIGZvY3VzYWJsZSBkZXNjZW5kYW50XG4gICAgICogbm9kZXMgdmlhIHRoZSBgcmVnaXN0ZXIoKWAgbWV0aG9kLiBUaGUgYEluZXJ0TWFuYWdlcmAgZW5zdXJlcyB0aGF0IGEgc2luZ2xlIGBJbmVydE5vZGVgIGluc3RhbmNlXG4gICAgICogaXMgY3JlYXRlZCBmb3IgZWFjaCBzdWNoIG5vZGUsIHZpYSB0aGUgYF9tYW5hZ2VkTm9kZXNgIG1hcC5cbiAgICAgKi9cblxuXG4gICAgdmFyIEluZXJ0TWFuYWdlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIC8qKlxuICAgICAgICogQHBhcmFtIHshRG9jdW1lbnR9IGRvY3VtZW50XG4gICAgICAgKi9cbiAgICAgIGZ1bmN0aW9uIEluZXJ0TWFuYWdlcihkb2N1bWVudCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSW5lcnRNYW5hZ2VyKTtcblxuICAgICAgICBpZiAoIWRvY3VtZW50KSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkIGFyZ3VtZW50OyBJbmVydE1hbmFnZXIgbmVlZHMgdG8gd3JhcCBhIGRvY3VtZW50LicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqIEB0eXBlIHshRG9jdW1lbnR9ICovXG4gICAgICAgIHRoaXMuX2RvY3VtZW50ID0gZG9jdW1lbnQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFsbCBtYW5hZ2VkIG5vZGVzIGtub3duIHRvIHRoaXMgSW5lcnRNYW5hZ2VyLiBJbiBhIG1hcCB0byBhbGxvdyBsb29raW5nIHVwIGJ5IE5vZGUuXG4gICAgICAgICAqIEB0eXBlIHshTWFwPCFOb2RlLCAhSW5lcnROb2RlPn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX21hbmFnZWROb2RlcyA9IG5ldyBNYXAoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQWxsIGluZXJ0IHJvb3RzIGtub3duIHRvIHRoaXMgSW5lcnRNYW5hZ2VyLiBJbiBhIG1hcCB0byBhbGxvdyBsb29raW5nIHVwIGJ5IE5vZGUuXG4gICAgICAgICAqIEB0eXBlIHshTWFwPCFOb2RlLCAhSW5lcnRSb290Pn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2luZXJ0Um9vdHMgPSBuZXcgTWFwKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE9ic2VydmVyIGZvciBtdXRhdGlvbnMgb24gYGRvY3VtZW50LmJvZHlgLlxuICAgICAgICAgKiBAdHlwZSB7IU11dGF0aW9uT2JzZXJ2ZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9vYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKHRoaXMuX3dhdGNoRm9ySW5lcnQuYmluZCh0aGlzKSk7XG5cbiAgICAgICAgLy8gQWRkIGluZXJ0IHN0eWxlLlxuICAgICAgICBhZGRJbmVydFN0eWxlKGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuYm9keSB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpO1xuXG4gICAgICAgIC8vIFdhaXQgZm9yIGRvY3VtZW50IHRvIGJlIGxvYWRlZC5cbiAgICAgICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdsb2FkaW5nJykge1xuICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCB0aGlzLl9vbkRvY3VtZW50TG9hZGVkLmJpbmQodGhpcykpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuX29uRG9jdW1lbnRMb2FkZWQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFNldCB3aGV0aGVyIHRoZSBnaXZlbiBlbGVtZW50IHNob3VsZCBiZSBhbiBpbmVydCByb290IG9yIG5vdC5cbiAgICAgICAqIEBwYXJhbSB7IUhUTUxFbGVtZW50fSByb290XG4gICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGluZXJ0XG4gICAgICAgKi9cblxuXG4gICAgICBfY3JlYXRlQ2xhc3MoSW5lcnRNYW5hZ2VyLCBbe1xuICAgICAgICBrZXk6ICdzZXRJbmVydCcsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRJbmVydChyb290LCBpbmVydCkge1xuICAgICAgICAgIGlmIChpbmVydCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2luZXJ0Um9vdHMuaGFzKHJvb3QpKSB7XG4gICAgICAgICAgICAgIC8vIGVsZW1lbnQgaXMgYWxyZWFkeSBpbmVydFxuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBpbmVydFJvb3QgPSBuZXcgSW5lcnRSb290KHJvb3QsIHRoaXMpO1xuICAgICAgICAgICAgcm9vdC5zZXRBdHRyaWJ1dGUoJ2luZXJ0JywgJycpO1xuICAgICAgICAgICAgdGhpcy5faW5lcnRSb290cy5zZXQocm9vdCwgaW5lcnRSb290KTtcbiAgICAgICAgICAgIC8vIElmIG5vdCBjb250YWluZWQgaW4gdGhlIGRvY3VtZW50LCBpdCBtdXN0IGJlIGluIGEgc2hhZG93Um9vdC5cbiAgICAgICAgICAgIC8vIEVuc3VyZSBpbmVydCBzdHlsZXMgYXJlIGFkZGVkIHRoZXJlLlxuICAgICAgICAgICAgaWYgKCF0aGlzLl9kb2N1bWVudC5ib2R5LmNvbnRhaW5zKHJvb3QpKSB7XG4gICAgICAgICAgICAgIHZhciBwYXJlbnQgPSByb290LnBhcmVudE5vZGU7XG4gICAgICAgICAgICAgIHdoaWxlIChwYXJlbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50Lm5vZGVUeXBlID09PSAxMSkge1xuICAgICAgICAgICAgICAgICAgYWRkSW5lcnRTdHlsZShwYXJlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50Tm9kZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2luZXJ0Um9vdHMuaGFzKHJvb3QpKSB7XG4gICAgICAgICAgICAgIC8vIGVsZW1lbnQgaXMgYWxyZWFkeSBub24taW5lcnRcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgX2luZXJ0Um9vdCA9IHRoaXMuX2luZXJ0Um9vdHMuZ2V0KHJvb3QpO1xuICAgICAgICAgICAgX2luZXJ0Um9vdC5kZXN0cnVjdG9yKCk7XG4gICAgICAgICAgICB0aGlzLl9pbmVydFJvb3RzWydkZWxldGUnXShyb290KTtcbiAgICAgICAgICAgIHJvb3QucmVtb3ZlQXR0cmlidXRlKCdpbmVydCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgdGhlIEluZXJ0Um9vdCBvYmplY3QgY29ycmVzcG9uZGluZyB0byB0aGUgZ2l2ZW4gaW5lcnQgcm9vdCBlbGVtZW50LCBpZiBhbnkuXG4gICAgICAgICAqIEBwYXJhbSB7IU5vZGV9IGVsZW1lbnRcbiAgICAgICAgICogQHJldHVybiB7IUluZXJ0Um9vdHx1bmRlZmluZWR9XG4gICAgICAgICAqL1xuXG4gICAgICB9LCB7XG4gICAgICAgIGtleTogJ2dldEluZXJ0Um9vdCcsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJbmVydFJvb3QoZWxlbWVudCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9pbmVydFJvb3RzLmdldChlbGVtZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWdpc3RlciB0aGUgZ2l2ZW4gSW5lcnRSb290IGFzIG1hbmFnaW5nIHRoZSBnaXZlbiBub2RlLlxuICAgICAgICAgKiBJbiB0aGUgY2FzZSB3aGVyZSB0aGUgbm9kZSBoYXMgYSBwcmV2aW91c2x5IGV4aXN0aW5nIGluZXJ0IHJvb3QsIHRoaXMgaW5lcnQgcm9vdCB3aWxsXG4gICAgICAgICAqIGJlIGFkZGVkIHRvIGl0cyBzZXQgb2YgaW5lcnQgcm9vdHMuXG4gICAgICAgICAqIEBwYXJhbSB7IU5vZGV9IG5vZGVcbiAgICAgICAgICogQHBhcmFtIHshSW5lcnRSb290fSBpbmVydFJvb3RcbiAgICAgICAgICogQHJldHVybiB7IUluZXJ0Tm9kZX0gaW5lcnROb2RlXG4gICAgICAgICAqL1xuXG4gICAgICB9LCB7XG4gICAgICAgIGtleTogJ3JlZ2lzdGVyJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlZ2lzdGVyKG5vZGUsIGluZXJ0Um9vdCkge1xuICAgICAgICAgIHZhciBpbmVydE5vZGUgPSB0aGlzLl9tYW5hZ2VkTm9kZXMuZ2V0KG5vZGUpO1xuICAgICAgICAgIGlmIChpbmVydE5vZGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gbm9kZSB3YXMgYWxyZWFkeSBpbiBhbiBpbmVydCBzdWJ0cmVlXG4gICAgICAgICAgICBpbmVydE5vZGUuYWRkSW5lcnRSb290KGluZXJ0Um9vdCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGluZXJ0Tm9kZSA9IG5ldyBJbmVydE5vZGUobm9kZSwgaW5lcnRSb290KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aGlzLl9tYW5hZ2VkTm9kZXMuc2V0KG5vZGUsIGluZXJ0Tm9kZSk7XG5cbiAgICAgICAgICByZXR1cm4gaW5lcnROb2RlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlLXJlZ2lzdGVyIHRoZSBnaXZlbiBJbmVydFJvb3QgYXMgbWFuYWdpbmcgdGhlIGdpdmVuIGluZXJ0IG5vZGUuXG4gICAgICAgICAqIFJlbW92ZXMgdGhlIGluZXJ0IHJvb3QgZnJvbSB0aGUgSW5lcnROb2RlJ3Mgc2V0IG9mIG1hbmFnaW5nIGluZXJ0IHJvb3RzLCBhbmQgcmVtb3ZlIHRoZSBpbmVydFxuICAgICAgICAgKiBub2RlIGZyb20gdGhlIEluZXJ0TWFuYWdlcidzIHNldCBvZiBtYW5hZ2VkIG5vZGVzIGlmIGl0IGlzIGRlc3Ryb3llZC5cbiAgICAgICAgICogSWYgdGhlIG5vZGUgaXMgbm90IGN1cnJlbnRseSBtYW5hZ2VkLCB0aGlzIGlzIGVzc2VudGlhbGx5IGEgbm8tb3AuXG4gICAgICAgICAqIEBwYXJhbSB7IU5vZGV9IG5vZGVcbiAgICAgICAgICogQHBhcmFtIHshSW5lcnRSb290fSBpbmVydFJvb3RcbiAgICAgICAgICogQHJldHVybiB7P0luZXJ0Tm9kZX0gVGhlIHBvdGVudGlhbGx5IGRlc3Ryb3llZCBJbmVydE5vZGUgYXNzb2NpYXRlZCB3aXRoIHRoaXMgbm9kZSwgaWYgYW55LlxuICAgICAgICAgKi9cblxuICAgICAgfSwge1xuICAgICAgICBrZXk6ICdkZXJlZ2lzdGVyJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRlcmVnaXN0ZXIobm9kZSwgaW5lcnRSb290KSB7XG4gICAgICAgICAgdmFyIGluZXJ0Tm9kZSA9IHRoaXMuX21hbmFnZWROb2Rlcy5nZXQobm9kZSk7XG4gICAgICAgICAgaWYgKCFpbmVydE5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGluZXJ0Tm9kZS5yZW1vdmVJbmVydFJvb3QoaW5lcnRSb290KTtcbiAgICAgICAgICBpZiAoaW5lcnROb2RlLmRlc3Ryb3llZCkge1xuICAgICAgICAgICAgdGhpcy5fbWFuYWdlZE5vZGVzWydkZWxldGUnXShub2RlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gaW5lcnROb2RlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhbGxiYWNrIHVzZWQgd2hlbiBkb2N1bWVudCBoYXMgZmluaXNoZWQgbG9hZGluZy5cbiAgICAgICAgICovXG5cbiAgICAgIH0sIHtcbiAgICAgICAga2V5OiAnX29uRG9jdW1lbnRMb2FkZWQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX29uRG9jdW1lbnRMb2FkZWQoKSB7XG4gICAgICAgICAgLy8gRmluZCBhbGwgaW5lcnQgcm9vdHMgaW4gZG9jdW1lbnQgYW5kIG1ha2UgdGhlbSBhY3R1YWxseSBpbmVydC5cbiAgICAgICAgICB2YXIgaW5lcnRFbGVtZW50cyA9IHNsaWNlLmNhbGwodGhpcy5fZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2luZXJ0XScpKTtcbiAgICAgICAgICBpbmVydEVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKGluZXJ0RWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5zZXRJbmVydChpbmVydEVsZW1lbnQsIHRydWUpO1xuICAgICAgICAgIH0sIHRoaXMpO1xuXG4gICAgICAgICAgLy8gQ29tbWVudCB0aGlzIG91dCB0byB1c2UgcHJvZ3JhbW1hdGljIEFQSSBvbmx5LlxuICAgICAgICAgIHRoaXMuX29ic2VydmVyLm9ic2VydmUodGhpcy5fZG9jdW1lbnQuYm9keSB8fCB0aGlzLl9kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIHsgYXR0cmlidXRlczogdHJ1ZSwgc3VidHJlZTogdHJ1ZSwgY2hpbGRMaXN0OiB0cnVlIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhbGxiYWNrIHVzZWQgd2hlbiBtdXRhdGlvbiBvYnNlcnZlciBkZXRlY3RzIGF0dHJpYnV0ZSBjaGFuZ2VzLlxuICAgICAgICAgKiBAcGFyYW0geyFBcnJheTwhTXV0YXRpb25SZWNvcmQ+fSByZWNvcmRzXG4gICAgICAgICAqIEBwYXJhbSB7IU11dGF0aW9uT2JzZXJ2ZXJ9IHNlbGZcbiAgICAgICAgICovXG5cbiAgICAgIH0sIHtcbiAgICAgICAga2V5OiAnX3dhdGNoRm9ySW5lcnQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX3dhdGNoRm9ySW5lcnQocmVjb3Jkcywgc2VsZikge1xuICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgcmVjb3Jkcy5mb3JFYWNoKGZ1bmN0aW9uIChyZWNvcmQpIHtcbiAgICAgICAgICAgIHN3aXRjaCAocmVjb3JkLnR5cGUpIHtcbiAgICAgICAgICAgICAgY2FzZSAnY2hpbGRMaXN0JzpcbiAgICAgICAgICAgICAgICBzbGljZS5jYWxsKHJlY29yZC5hZGRlZE5vZGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSAhPT0gTm9kZS5FTEVNRU5UX05PREUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgdmFyIGluZXJ0RWxlbWVudHMgPSBzbGljZS5jYWxsKG5vZGUucXVlcnlTZWxlY3RvckFsbCgnW2luZXJ0XScpKTtcbiAgICAgICAgICAgICAgICAgIGlmIChtYXRjaGVzLmNhbGwobm9kZSwgJ1tpbmVydF0nKSkge1xuICAgICAgICAgICAgICAgICAgICBpbmVydEVsZW1lbnRzLnVuc2hpZnQobm9kZSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBpbmVydEVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKGluZXJ0RWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEluZXJ0KGluZXJ0RWxlbWVudCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICB9LCBfdGhpcyk7XG4gICAgICAgICAgICAgICAgfSwgX3RoaXMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlICdhdHRyaWJ1dGVzJzpcbiAgICAgICAgICAgICAgICBpZiAocmVjb3JkLmF0dHJpYnV0ZU5hbWUgIT09ICdpbmVydCcpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIHRhcmdldCA9IC8qKiBAdHlwZSB7IUhUTUxFbGVtZW50fSAqL3JlY29yZC50YXJnZXQ7XG4gICAgICAgICAgICAgICAgdmFyIGluZXJ0ID0gdGFyZ2V0Lmhhc0F0dHJpYnV0ZSgnaW5lcnQnKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXRJbmVydCh0YXJnZXQsIGluZXJ0KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgfV0pO1xuXG4gICAgICByZXR1cm4gSW5lcnRNYW5hZ2VyO1xuICAgIH0oKTtcblxuICAgIC8qKlxuICAgICAqIFJlY3Vyc2l2ZWx5IHdhbGsgdGhlIGNvbXBvc2VkIHRyZWUgZnJvbSB8bm9kZXwuXG4gICAgICogQHBhcmFtIHshTm9kZX0gbm9kZVxuICAgICAqIEBwYXJhbSB7KGZ1bmN0aW9uICghSFRNTEVsZW1lbnQpKT19IGNhbGxiYWNrIENhbGxiYWNrIHRvIGJlIGNhbGxlZCBmb3IgZWFjaCBlbGVtZW50IHRyYXZlcnNlZCxcbiAgICAgKiAgICAgYmVmb3JlIGRlc2NlbmRpbmcgaW50byBjaGlsZCBub2Rlcy5cbiAgICAgKiBAcGFyYW0gez9TaGFkb3dSb290PX0gc2hhZG93Um9vdEFuY2VzdG9yIFRoZSBuZWFyZXN0IFNoYWRvd1Jvb3QgYW5jZXN0b3IsIGlmIGFueS5cbiAgICAgKi9cblxuXG4gICAgZnVuY3Rpb24gY29tcG9zZWRUcmVlV2Fsayhub2RlLCBjYWxsYmFjaywgc2hhZG93Um9vdEFuY2VzdG9yKSB7XG4gICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSBOb2RlLkVMRU1FTlRfTk9ERSkge1xuICAgICAgICB2YXIgZWxlbWVudCA9IC8qKiBAdHlwZSB7IUhUTUxFbGVtZW50fSAqL25vZGU7XG4gICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgIGNhbGxiYWNrKGVsZW1lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRGVzY2VuZCBpbnRvIG5vZGU6XG4gICAgICAgIC8vIElmIGl0IGhhcyBhIFNoYWRvd1Jvb3QsIGlnbm9yZSBhbGwgY2hpbGQgZWxlbWVudHMgLSB0aGVzZSB3aWxsIGJlIHBpY2tlZFxuICAgICAgICAvLyB1cCBieSB0aGUgPGNvbnRlbnQ+IG9yIDxzaGFkb3c+IGVsZW1lbnRzLiBEZXNjZW5kIHN0cmFpZ2h0IGludG8gdGhlXG4gICAgICAgIC8vIFNoYWRvd1Jvb3QuXG4gICAgICAgIHZhciBzaGFkb3dSb290ID0gLyoqIEB0eXBlIHshSFRNTEVsZW1lbnR9ICovZWxlbWVudC5zaGFkb3dSb290O1xuICAgICAgICBpZiAoc2hhZG93Um9vdCkge1xuICAgICAgICAgIGNvbXBvc2VkVHJlZVdhbGsoc2hhZG93Um9vdCwgY2FsbGJhY2ssIHNoYWRvd1Jvb3QpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIGl0IGlzIGEgPGNvbnRlbnQ+IGVsZW1lbnQsIGRlc2NlbmQgaW50byBkaXN0cmlidXRlZCBlbGVtZW50cyAtIHRoZXNlXG4gICAgICAgIC8vIGFyZSBlbGVtZW50cyBmcm9tIG91dHNpZGUgdGhlIHNoYWRvdyByb290IHdoaWNoIGFyZSByZW5kZXJlZCBpbnNpZGUgdGhlXG4gICAgICAgIC8vIHNoYWRvdyBET00uXG4gICAgICAgIGlmIChlbGVtZW50LmxvY2FsTmFtZSA9PSAnY29udGVudCcpIHtcbiAgICAgICAgICB2YXIgY29udGVudCA9IC8qKiBAdHlwZSB7IUhUTUxDb250ZW50RWxlbWVudH0gKi9lbGVtZW50O1xuICAgICAgICAgIC8vIFZlcmlmaWVzIGlmIFNoYWRvd0RvbSB2MCBpcyBzdXBwb3J0ZWQuXG4gICAgICAgICAgdmFyIGRpc3RyaWJ1dGVkTm9kZXMgPSBjb250ZW50LmdldERpc3RyaWJ1dGVkTm9kZXMgPyBjb250ZW50LmdldERpc3RyaWJ1dGVkTm9kZXMoKSA6IFtdO1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGlzdHJpYnV0ZWROb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29tcG9zZWRUcmVlV2FsayhkaXN0cmlidXRlZE5vZGVzW2ldLCBjYWxsYmFjaywgc2hhZG93Um9vdEFuY2VzdG9yKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgaXQgaXMgYSA8c2xvdD4gZWxlbWVudCwgZGVzY2VuZCBpbnRvIGFzc2lnbmVkIG5vZGVzIC0gdGhlc2VcbiAgICAgICAgLy8gYXJlIGVsZW1lbnRzIGZyb20gb3V0c2lkZSB0aGUgc2hhZG93IHJvb3Qgd2hpY2ggYXJlIHJlbmRlcmVkIGluc2lkZSB0aGVcbiAgICAgICAgLy8gc2hhZG93IERPTS5cbiAgICAgICAgaWYgKGVsZW1lbnQubG9jYWxOYW1lID09ICdzbG90Jykge1xuICAgICAgICAgIHZhciBzbG90ID0gLyoqIEB0eXBlIHshSFRNTFNsb3RFbGVtZW50fSAqL2VsZW1lbnQ7XG4gICAgICAgICAgLy8gVmVyaWZ5IGlmIFNoYWRvd0RvbSB2MSBpcyBzdXBwb3J0ZWQuXG4gICAgICAgICAgdmFyIF9kaXN0cmlidXRlZE5vZGVzID0gc2xvdC5hc3NpZ25lZE5vZGVzID8gc2xvdC5hc3NpZ25lZE5vZGVzKHsgZmxhdHRlbjogdHJ1ZSB9KSA6IFtdO1xuICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBfZGlzdHJpYnV0ZWROb2Rlcy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGNvbXBvc2VkVHJlZVdhbGsoX2Rpc3RyaWJ1dGVkTm9kZXNbX2ldLCBjYWxsYmFjaywgc2hhZG93Um9vdEFuY2VzdG9yKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIElmIGl0IGlzIG5laXRoZXIgdGhlIHBhcmVudCBvZiBhIFNoYWRvd1Jvb3QsIGEgPGNvbnRlbnQ+IGVsZW1lbnQsIGEgPHNsb3Q+XG4gICAgICAvLyBlbGVtZW50LCBub3IgYSA8c2hhZG93PiBlbGVtZW50IHJlY3Vyc2Ugbm9ybWFsbHkuXG4gICAgICB2YXIgY2hpbGQgPSBub2RlLmZpcnN0Q2hpbGQ7XG4gICAgICB3aGlsZSAoY2hpbGQgIT0gbnVsbCkge1xuICAgICAgICBjb21wb3NlZFRyZWVXYWxrKGNoaWxkLCBjYWxsYmFjaywgc2hhZG93Um9vdEFuY2VzdG9yKTtcbiAgICAgICAgY2hpbGQgPSBjaGlsZC5uZXh0U2libGluZztcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgc3R5bGUgZWxlbWVudCB0byB0aGUgbm9kZSBjb250YWluaW5nIHRoZSBpbmVydCBzcGVjaWZpYyBzdHlsZXNcbiAgICAgKiBAcGFyYW0geyFOb2RlfSBub2RlXG4gICAgICovXG4gICAgZnVuY3Rpb24gYWRkSW5lcnRTdHlsZShub2RlKSB7XG4gICAgICBpZiAobm9kZS5xdWVyeVNlbGVjdG9yKCdzdHlsZSNpbmVydC1zdHlsZSwgbGluayNpbmVydC1zdHlsZScpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoJ2lkJywgJ2luZXJ0LXN0eWxlJyk7XG4gICAgICBzdHlsZS50ZXh0Q29udGVudCA9ICdcXG4nICsgJ1tpbmVydF0ge1xcbicgKyAnICBwb2ludGVyLWV2ZW50czogbm9uZTtcXG4nICsgJyAgY3Vyc29yOiBkZWZhdWx0O1xcbicgKyAnfVxcbicgKyAnXFxuJyArICdbaW5lcnRdLCBbaW5lcnRdICoge1xcbicgKyAnICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xcbicgKyAnICAtbW96LXVzZXItc2VsZWN0OiBub25lO1xcbicgKyAnICAtbXMtdXNlci1zZWxlY3Q6IG5vbmU7XFxuJyArICcgIHVzZXItc2VsZWN0OiBub25lO1xcbicgKyAnfVxcbic7XG4gICAgICBub2RlLmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgICB9XG5cbiAgICBpZiAoIUhUTUxFbGVtZW50LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSgnaW5lcnQnKSkge1xuICAgICAgLyoqIEB0eXBlIHshSW5lcnRNYW5hZ2VyfSAqL1xuICAgICAgdmFyIGluZXJ0TWFuYWdlciA9IG5ldyBJbmVydE1hbmFnZXIoZG9jdW1lbnQpO1xuXG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSFRNTEVsZW1lbnQucHJvdG90eXBlLCAnaW5lcnQnLCB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIC8qKiBAdGhpcyB7IUhUTUxFbGVtZW50fSAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5oYXNBdHRyaWJ1dGUoJ2luZXJ0Jyk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKiBAdGhpcyB7IUhUTUxFbGVtZW50fSAqL1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChpbmVydCkge1xuICAgICAgICAgIGluZXJ0TWFuYWdlci5zZXRJbmVydCh0aGlzLCBpbmVydCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSkoKTtcblxufSkpKTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEdvb2dsZSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8qKlxuICogYEJsb2NraW5nRWxlbWVudHNgIG1hbmFnZXMgYSBzdGFjayBvZiBlbGVtZW50cyB0aGF0IGluZXJ0IHRoZSBpbnRlcmFjdGlvblxuICogb3V0c2lkZSB0aGVtLiBUaGUgdG9wIGVsZW1lbnQgaXMgdGhlIGludGVyYWN0aXZlIHBhcnQgb2YgdGhlIGRvY3VtZW50LlxuICogVGhlIHN0YWNrIGNhbiBiZSB1cGRhdGVkIHdpdGggdGhlIG1ldGhvZHMgYHB1c2gsIHJlbW92ZSwgcG9wYC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBCbG9ja2luZ0VsZW1lbnRzIHtcbiAgLyoqXG4gICAqIENhbGwgdGhpcyB3aGVuZXZlciB0aGlzIG9iamVjdCBpcyBhYm91dCB0byBiZWNvbWUgb2Jzb2xldGUuIFRoaXMgZW1wdGllc1xuICAgKiB0aGUgYmxvY2tpbmcgZWxlbWVudHNcbiAgICovXG4gIGRlc3RydWN0b3IoKTogdm9pZDtcblxuICAvKipcbiAgICogVGhlIHRvcCBibG9ja2luZyBlbGVtZW50LlxuICAgKi9cbiAgdG9wOiBIVE1MRWxlbWVudHxudWxsO1xuXG4gIC8qKlxuICAgKiBBZGRzIHRoZSBlbGVtZW50IHRvIHRoZSBibG9ja2luZyBlbGVtZW50cy5cbiAgICovXG4gIHB1c2goZWxlbWVudDogSFRNTEVsZW1lbnQpOiB2b2lkO1xuXG4gIC8qKlxuICAgKiBSZW1vdmVzIHRoZSBlbGVtZW50IGZyb20gdGhlIGJsb2NraW5nIGVsZW1lbnRzLiBSZXR1cm5zIHRydWUgaWYgdGhlXG4gICAqIGVsZW1lbnQgd2FzIHJlbW92ZWQuXG4gICAqL1xuICByZW1vdmUoZWxlbWVudDogSFRNTEVsZW1lbnQpOiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBSZW1vdmUgdGhlIHRvcCBibG9ja2luZyBlbGVtZW50IGFuZCByZXR1cm5zIGl0LlxuICAgKi9cbiAgcG9wKCk6IEhUTUxFbGVtZW50fG51bGw7XG5cbiAgLyoqXG4gICAqIFJldHVybnMgaWYgdGhlIGVsZW1lbnQgaXMgYSBibG9ja2luZyBlbGVtZW50LlxuICAgKi9cbiAgaGFzKGVsZW1lbnQ6IEhUTUxFbGVtZW50KTogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEb2N1bWVudFdpdGhCbG9ja2luZ0VsZW1lbnRzIGV4dGVuZHMgRG9jdW1lbnQge1xuICAkYmxvY2tpbmdFbGVtZW50czogQmxvY2tpbmdFbGVtZW50cztcbn1cblxuKCgpID0+IHtcbiAgLyogU3ltYm9scyBmb3IgcHJpdmF0ZSBwcm9wZXJ0aWVzICovXG4gIGNvbnN0IF9ibG9ja2luZ0VsZW1lbnRzID0gU3ltYm9sKCk7XG4gIGNvbnN0IF9hbHJlYWR5SW5lcnRFbGVtZW50cyA9IFN5bWJvbCgpO1xuICBjb25zdCBfdG9wRWxQYXJlbnRzID0gU3ltYm9sKCk7XG4gIGNvbnN0IF9zaWJsaW5nc1RvUmVzdG9yZSA9IFN5bWJvbCgpO1xuICBjb25zdCBfcGFyZW50TU8gPSBTeW1ib2woKTtcblxuICAvKiBTeW1ib2xzIGZvciBwcml2YXRlIHN0YXRpYyBtZXRob2RzICovXG4gIGNvbnN0IF90b3BDaGFuZ2VkID0gU3ltYm9sKCk7XG4gIGNvbnN0IF9zd2FwSW5lcnRlZFNpYmxpbmcgPSBTeW1ib2woKTtcbiAgY29uc3QgX2luZXJ0U2libGluZ3MgPSBTeW1ib2woKTtcbiAgY29uc3QgX3Jlc3RvcmVJbmVydGVkU2libGluZ3MgPSBTeW1ib2woKTtcbiAgY29uc3QgX2dldFBhcmVudHMgPSBTeW1ib2woKTtcbiAgY29uc3QgX2dldERpc3RyaWJ1dGVkQ2hpbGRyZW4gPSBTeW1ib2woKTtcbiAgY29uc3QgX2lzSW5lcnRhYmxlID0gU3ltYm9sKCk7XG4gIGNvbnN0IF9oYW5kbGVNdXRhdGlvbnMgPSBTeW1ib2woKTtcblxuICBpbnRlcmZhY2UgSW5lcnRhYmxlIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICAgIGluZXJ0PzogYm9vbGVhbjtcbiAgfVxuXG4gIGludGVyZmFjZSBJbnRlcm5hbFN0YXRlIHtcbiAgICBbX3NpYmxpbmdzVG9SZXN0b3JlXTogU2V0PE1heWJlSGFzSW50ZXJuYWxTdGF0ZT47XG4gICAgW19wYXJlbnRNT106IE11dGF0aW9uT2JzZXJ2ZXI7XG4gIH1cbiAgaW50ZXJmYWNlIEhhc0ludGVybmFsU3RhdGUgZXh0ZW5kcyBJbmVydGFibGUsIEludGVybmFsU3RhdGUge31cbiAgaW50ZXJmYWNlIE1heWJlSGFzSW50ZXJuYWxTdGF0ZSBleHRlbmRzIEluZXJ0YWJsZSwgUGFydGlhbDxJbnRlcm5hbFN0YXRlPiB7fVxuXG4gIC8qKlxuICAgKiBTaGFkeURPTSBzaGFkeSByb290cyBsb29rIGEgbG90IGxpa2UgcmVhbCBTaGFkb3dSb290cy4gVGhlIF9fc2hhZHkgcHJvcGVydHlcbiAgICogZ2l2ZXMgdGhlbSBhd2F5LCB0aG91Z2guXG4gICAqL1xuICBpbnRlcmZhY2UgTWF5YmVTaGFkeVJvb3QgZXh0ZW5kcyBFbGVtZW50IHtcbiAgICBfX3NoYWR5OiB1bmtub3duO1xuICAgIGhvc3Q6IEVsZW1lbnQ7XG4gIH1cblxuICBjbGFzcyBCbG9ja2luZ0VsZW1lbnRzSW1wbCBpbXBsZW1lbnRzIEJsb2NraW5nRWxlbWVudHMge1xuICAgIC8qKlxuICAgICAqIFRoZSBibG9ja2luZyBlbGVtZW50cy5cbiAgICAgKi9cbiAgICBwcml2YXRlW19ibG9ja2luZ0VsZW1lbnRzXTogTWF5YmVIYXNJbnRlcm5hbFN0YXRlW10gPSBbXTtcblxuICAgIC8qKlxuICAgICAqIFVzZWQgdG8ga2VlcCB0cmFjayBvZiB0aGUgcGFyZW50cyBvZiB0aGUgdG9wIGVsZW1lbnQsIGZyb20gdGhlIGVsZW1lbnRcbiAgICAgKiBpdHNlbGYgdXAgdG8gYm9keS4gV2hlbiB0b3AgY2hhbmdlcywgdGhlIG9sZCB0b3AgbWlnaHQgaGF2ZSBiZWVuIHJlbW92ZWRcbiAgICAgKiBmcm9tIHRoZSBkb2N1bWVudCwgc28gd2UgbmVlZCB0byBtZW1vaXplIHRoZSBpbmVydGVkIHBhcmVudHMnIHNpYmxpbmdzXG4gICAgICogaW4gb3JkZXIgdG8gcmVzdG9yZSB0aGVpciBpbmVydGVuZXNzIHdoZW4gdG9wIGNoYW5nZXMuXG4gICAgICovXG4gICAgcHJpdmF0ZVtfdG9wRWxQYXJlbnRzXTogSGFzSW50ZXJuYWxTdGF0ZVtdID0gW107XG5cbiAgICAvKipcbiAgICAgKiBFbGVtZW50cyB0aGF0IGFyZSBhbHJlYWR5IGluZXJ0IGJlZm9yZSB0aGUgZmlyc3QgYmxvY2tpbmcgZWxlbWVudCBpc1xuICAgICAqIHB1c2hlZC5cbiAgICAgKi9cbiAgICBwcml2YXRlW19hbHJlYWR5SW5lcnRFbGVtZW50c10gPSBuZXcgU2V0PE1heWJlSGFzSW50ZXJuYWxTdGF0ZT4oKTtcblxuICAgIGRlc3RydWN0b3IoKTogdm9pZCB7XG4gICAgICAvLyBSZXN0b3JlIG9yaWdpbmFsIGluZXJ0bmVzcy5cbiAgICAgIHRoaXNbX3Jlc3RvcmVJbmVydGVkU2libGluZ3NdKHRoaXNbX3RvcEVsUGFyZW50c10pO1xuICAgICAgLy8gTm90ZSB3ZSBkb24ndCB3YW50IHRvIG1ha2UgdGhlc2UgcHJvcGVydGllcyBudWxsYWJsZSBvbiB0aGUgY2xhc3MsXG4gICAgICAvLyBzaW5jZSB0aGVuIHdlJ2QgbmVlZCBub24tbnVsbCBjYXN0cyBpbiBtYW55IHBsYWNlcy4gQ2FsbGluZyBhIG1ldGhvZCBvblxuICAgICAgLy8gYSBCbG9ja2luZ0VsZW1lbnRzIGluc3RhbmNlIGFmdGVyIGNhbGxpbmcgZGVzdHJ1Y3RvciB3aWxsIHJlc3VsdCBpbiBhblxuICAgICAgLy8gZXhjZXB0aW9uLlxuICAgICAgY29uc3QgbnVsbGFibGUgPSB0aGlzIGFzIHVua25vd24gYXMge1xuICAgICAgICBbX2Jsb2NraW5nRWxlbWVudHNdOiBudWxsO1xuICAgICAgICBbX3RvcEVsUGFyZW50c106IG51bGw7XG4gICAgICAgIFtfYWxyZWFkeUluZXJ0RWxlbWVudHNdOiBudWxsO1xuICAgICAgfTtcbiAgICAgIG51bGxhYmxlW19ibG9ja2luZ0VsZW1lbnRzXSA9IG51bGw7XG4gICAgICBudWxsYWJsZVtfdG9wRWxQYXJlbnRzXSA9IG51bGw7XG4gICAgICBudWxsYWJsZVtfYWxyZWFkeUluZXJ0RWxlbWVudHNdID0gbnVsbDtcbiAgICB9XG5cbiAgICBnZXQgdG9wKCk6IEhUTUxFbGVtZW50fG51bGwge1xuICAgICAgY29uc3QgZWxlbXMgPSB0aGlzW19ibG9ja2luZ0VsZW1lbnRzXTtcbiAgICAgIHJldHVybiBlbGVtc1tlbGVtcy5sZW5ndGggLSAxXSB8fCBudWxsO1xuICAgIH1cblxuICAgIHB1c2goZWxlbWVudDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcbiAgICAgIGlmICghZWxlbWVudCB8fCBlbGVtZW50ID09PSB0aGlzLnRvcCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBSZW1vdmUgaXQgZnJvbSB0aGUgc3RhY2ssIHdlJ2xsIGJyaW5nIGl0IHRvIHRoZSB0b3AuXG4gICAgICB0aGlzLnJlbW92ZShlbGVtZW50KTtcbiAgICAgIHRoaXNbX3RvcENoYW5nZWRdKGVsZW1lbnQpO1xuICAgICAgdGhpc1tfYmxvY2tpbmdFbGVtZW50c10ucHVzaChlbGVtZW50KTtcbiAgICB9XG5cbiAgICByZW1vdmUoZWxlbWVudDogSFRNTEVsZW1lbnQpOiBib29sZWFuIHtcbiAgICAgIGNvbnN0IGkgPSB0aGlzW19ibG9ja2luZ0VsZW1lbnRzXS5pbmRleE9mKGVsZW1lbnQpO1xuICAgICAgaWYgKGkgPT09IC0xKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHRoaXNbX2Jsb2NraW5nRWxlbWVudHNdLnNwbGljZShpLCAxKTtcbiAgICAgIC8vIFRvcCBjaGFuZ2VkIG9ubHkgaWYgdGhlIHJlbW92ZWQgZWxlbWVudCB3YXMgdGhlIHRvcCBlbGVtZW50LlxuICAgICAgaWYgKGkgPT09IHRoaXNbX2Jsb2NraW5nRWxlbWVudHNdLmxlbmd0aCkge1xuICAgICAgICB0aGlzW190b3BDaGFuZ2VkXSh0aGlzLnRvcCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBwb3AoKTogSFRNTEVsZW1lbnR8bnVsbCB7XG4gICAgICBjb25zdCB0b3AgPSB0aGlzLnRvcDtcbiAgICAgIHRvcCAmJiB0aGlzLnJlbW92ZSh0b3ApO1xuICAgICAgcmV0dXJuIHRvcDtcbiAgICB9XG5cbiAgICBoYXMoZWxlbWVudDogSFRNTEVsZW1lbnQpOiBib29sZWFuIHtcbiAgICAgIHJldHVybiB0aGlzW19ibG9ja2luZ0VsZW1lbnRzXS5pbmRleE9mKGVsZW1lbnQpICE9PSAtMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIGBpbmVydGAgdG8gYWxsIGRvY3VtZW50IGVsZW1lbnRzIGV4Y2VwdCB0aGUgbmV3IHRvcCBlbGVtZW50LCBpdHNcbiAgICAgKiBwYXJlbnRzLCBhbmQgaXRzIGRpc3RyaWJ1dGVkIGNvbnRlbnQuXG4gICAgICovXG4gICAgcHJpdmF0ZVtfdG9wQ2hhbmdlZF0obmV3VG9wOiBNYXliZUhhc0ludGVybmFsU3RhdGV8bnVsbCk6IHZvaWQge1xuICAgICAgY29uc3QgdG9LZWVwSW5lcnQgPSB0aGlzW19hbHJlYWR5SW5lcnRFbGVtZW50c107XG4gICAgICBjb25zdCBvbGRQYXJlbnRzID0gdGhpc1tfdG9wRWxQYXJlbnRzXTtcbiAgICAgIC8vIE5vIG5ldyB0b3AsIHJlc2V0IG9sZCB0b3AgaWYgYW55LlxuICAgICAgaWYgKCFuZXdUb3ApIHtcbiAgICAgICAgdGhpc1tfcmVzdG9yZUluZXJ0ZWRTaWJsaW5nc10ob2xkUGFyZW50cyk7XG4gICAgICAgIHRvS2VlcEluZXJ0LmNsZWFyKCk7XG4gICAgICAgIHRoaXNbX3RvcEVsUGFyZW50c10gPSBbXTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBuZXdQYXJlbnRzID0gdGhpc1tfZ2V0UGFyZW50c10obmV3VG9wKTtcbiAgICAgIC8vIE5ldyB0b3AgaXMgbm90IGNvbnRhaW5lZCBpbiB0aGUgbWFpbiBkb2N1bWVudCFcbiAgICAgIGlmIChuZXdQYXJlbnRzW25ld1BhcmVudHMubGVuZ3RoIC0gMV0ucGFyZW50Tm9kZSAhPT0gZG9jdW1lbnQuYm9keSkge1xuICAgICAgICB0aHJvdyBFcnJvcignTm9uLWNvbm5lY3RlZCBlbGVtZW50IGNhbm5vdCBiZSBhIGJsb2NraW5nIGVsZW1lbnQnKTtcbiAgICAgIH1cbiAgICAgIC8vIENhc3QgaGVyZSBiZWNhdXNlIHdlIGtub3cgd2UnbGwgY2FsbCBfaW5lcnRTaWJsaW5ncyBvbiBuZXdQYXJlbnRzXG4gICAgICAvLyBiZWxvdy5cbiAgICAgIHRoaXNbX3RvcEVsUGFyZW50c10gPSBuZXdQYXJlbnRzIGFzIEFycmF5PEhhc0ludGVybmFsU3RhdGU+O1xuXG4gICAgICBjb25zdCB0b1NraXAgPSB0aGlzW19nZXREaXN0cmlidXRlZENoaWxkcmVuXShuZXdUb3ApO1xuXG4gICAgICAvLyBObyBwcmV2aW91cyB0b3AgZWxlbWVudC5cbiAgICAgIGlmICghb2xkUGFyZW50cy5sZW5ndGgpIHtcbiAgICAgICAgdGhpc1tfaW5lcnRTaWJsaW5nc10obmV3UGFyZW50cywgdG9Ta2lwLCB0b0tlZXBJbmVydCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgbGV0IGkgPSBvbGRQYXJlbnRzLmxlbmd0aCAtIDE7XG4gICAgICBsZXQgaiA9IG5ld1BhcmVudHMubGVuZ3RoIC0gMTtcbiAgICAgIC8vIEZpbmQgY29tbW9uIHBhcmVudC4gSW5kZXggMCBpcyB0aGUgZWxlbWVudCBpdHNlbGYgKHNvIHN0b3AgYmVmb3JlIGl0KS5cbiAgICAgIHdoaWxlIChpID4gMCAmJiBqID4gMCAmJiBvbGRQYXJlbnRzW2ldID09PSBuZXdQYXJlbnRzW2pdKSB7XG4gICAgICAgIGktLTtcbiAgICAgICAgai0tO1xuICAgICAgfVxuICAgICAgLy8gSWYgdXAgdGhlIHBhcmVudHMgdHJlZSB0aGVyZSBhcmUgMiBlbGVtZW50cyB0aGF0IGFyZSBzaWJsaW5ncywgc3dhcFxuICAgICAgLy8gdGhlIGluZXJ0ZWQgc2libGluZy5cbiAgICAgIGlmIChvbGRQYXJlbnRzW2ldICE9PSBuZXdQYXJlbnRzW2pdKSB7XG4gICAgICAgIHRoaXNbX3N3YXBJbmVydGVkU2libGluZ10ob2xkUGFyZW50c1tpXSwgbmV3UGFyZW50c1tqXSk7XG4gICAgICB9XG4gICAgICAvLyBSZXN0b3JlIG9sZCBwYXJlbnRzIHNpYmxpbmdzIGluZXJ0bmVzcy5cbiAgICAgIGkgPiAwICYmIHRoaXNbX3Jlc3RvcmVJbmVydGVkU2libGluZ3NdKG9sZFBhcmVudHMuc2xpY2UoMCwgaSkpO1xuICAgICAgLy8gTWFrZSBuZXcgcGFyZW50cyBzaWJsaW5ncyBpbmVydC5cbiAgICAgIGogPiAwICYmIHRoaXNbX2luZXJ0U2libGluZ3NdKG5ld1BhcmVudHMuc2xpY2UoMCwgaiksIHRvU2tpcCwgbnVsbCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3dhcHMgaW5lcnRuZXNzIGJldHdlZW4gdHdvIHNpYmxpbmcgZWxlbWVudHMuXG4gICAgICogU2V0cyB0aGUgcHJvcGVydHkgYGluZXJ0YCBvdmVyIHRoZSBhdHRyaWJ1dGUgc2luY2UgdGhlIGluZXJ0IHNwZWNcbiAgICAgKiBkb2Vzbid0IHNwZWNpZnkgaWYgaXQgc2hvdWxkIGJlIHJlZmxlY3RlZC5cbiAgICAgKiBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9pbnRlcmFjdGlvbi5odG1sI2luZXJ0XG4gICAgICovXG4gICAgcHJpdmF0ZVtfc3dhcEluZXJ0ZWRTaWJsaW5nXShcbiAgICAgICAgb2xkSW5lcnQ6IEhhc0ludGVybmFsU3RhdGUsIG5ld0luZXJ0OiBNYXliZUhhc0ludGVybmFsU3RhdGUpOiB2b2lkIHtcbiAgICAgIGNvbnN0IHNpYmxpbmdzVG9SZXN0b3JlID0gb2xkSW5lcnRbX3NpYmxpbmdzVG9SZXN0b3JlXTtcbiAgICAgIC8vIG9sZEluZXJ0IGlzIG5vdCBjb250YWluZWQgaW4gc2libGluZ3MgdG8gcmVzdG9yZSwgc28gd2UgaGF2ZSB0byBjaGVja1xuICAgICAgLy8gaWYgaXQncyBpbmVydGFibGUgYW5kIGlmIGFscmVhZHkgaW5lcnQuXG4gICAgICBpZiAodGhpc1tfaXNJbmVydGFibGVdKG9sZEluZXJ0KSAmJiAhb2xkSW5lcnQuaW5lcnQpIHtcbiAgICAgICAgb2xkSW5lcnQuaW5lcnQgPSB0cnVlO1xuICAgICAgICBzaWJsaW5nc1RvUmVzdG9yZS5hZGQob2xkSW5lcnQpO1xuICAgICAgfVxuICAgICAgLy8gSWYgbmV3SW5lcnQgd2FzIGFscmVhZHkgYmV0d2VlbiB0aGUgc2libGluZ3MgdG8gcmVzdG9yZSwgaXQgbWVhbnMgaXQgaXNcbiAgICAgIC8vIGluZXJ0YWJsZSBhbmQgbXVzdCBiZSByZXN0b3JlZC5cbiAgICAgIGlmIChzaWJsaW5nc1RvUmVzdG9yZS5oYXMobmV3SW5lcnQpKSB7XG4gICAgICAgIG5ld0luZXJ0LmluZXJ0ID0gZmFsc2U7XG4gICAgICAgIHNpYmxpbmdzVG9SZXN0b3JlLmRlbGV0ZShuZXdJbmVydCk7XG4gICAgICB9XG4gICAgICBuZXdJbmVydFtfcGFyZW50TU9dID0gb2xkSW5lcnRbX3BhcmVudE1PXTtcbiAgICAgIG5ld0luZXJ0W19zaWJsaW5nc1RvUmVzdG9yZV0gPSBzaWJsaW5nc1RvUmVzdG9yZTtcbiAgICAgIChvbGRJbmVydCBhcyBNYXliZUhhc0ludGVybmFsU3RhdGUpW19wYXJlbnRNT10gPSB1bmRlZmluZWQ7XG4gICAgICAob2xkSW5lcnQgYXMgTWF5YmVIYXNJbnRlcm5hbFN0YXRlKVtfc2libGluZ3NUb1Jlc3RvcmVdID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlc3RvcmVzIG9yaWdpbmFsIGluZXJ0bmVzcyB0byB0aGUgc2libGluZ3Mgb2YgdGhlIGVsZW1lbnRzLlxuICAgICAqIFNldHMgdGhlIHByb3BlcnR5IGBpbmVydGAgb3ZlciB0aGUgYXR0cmlidXRlIHNpbmNlIHRoZSBpbmVydCBzcGVjXG4gICAgICogZG9lc24ndCBzcGVjaWZ5IGlmIGl0IHNob3VsZCBiZSByZWZsZWN0ZWQuXG4gICAgICogaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvaW50ZXJhY3Rpb24uaHRtbCNpbmVydFxuICAgICAqL1xuICAgIHByaXZhdGVbX3Jlc3RvcmVJbmVydGVkU2libGluZ3NdKGVsZW1lbnRzOiBIYXNJbnRlcm5hbFN0YXRlW10pIHtcbiAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBlbGVtZW50cykge1xuICAgICAgICBjb25zdCBtbyA9IGVsZW1lbnRbX3BhcmVudE1PXTtcbiAgICAgICAgbW8uZGlzY29ubmVjdCgpO1xuICAgICAgICAoZWxlbWVudCBhcyBNYXliZUhhc0ludGVybmFsU3RhdGUpW19wYXJlbnRNT10gPSB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IHNpYmxpbmdzID0gZWxlbWVudFtfc2libGluZ3NUb1Jlc3RvcmVdO1xuICAgICAgICBmb3IgKGNvbnN0IHNpYmxpbmcgb2Ygc2libGluZ3MpIHtcbiAgICAgICAgICBzaWJsaW5nLmluZXJ0ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgKGVsZW1lbnQgYXMgTWF5YmVIYXNJbnRlcm5hbFN0YXRlKVtfc2libGluZ3NUb1Jlc3RvcmVdID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluZXJ0cyB0aGUgc2libGluZ3Mgb2YgdGhlIGVsZW1lbnRzIGV4Y2VwdCB0aGUgZWxlbWVudHMgdG8gc2tpcC4gU3RvcmVzXG4gICAgICogdGhlIGluZXJ0ZWQgc2libGluZ3MgaW50byB0aGUgZWxlbWVudCdzIHN5bWJvbCBgX3NpYmxpbmdzVG9SZXN0b3JlYC5cbiAgICAgKiBQYXNzIGB0b0tlZXBJbmVydGAgdG8gY29sbGVjdCB0aGUgYWxyZWFkeSBpbmVydCBlbGVtZW50cy5cbiAgICAgKiBTZXRzIHRoZSBwcm9wZXJ0eSBgaW5lcnRgIG92ZXIgdGhlIGF0dHJpYnV0ZSBzaW5jZSB0aGUgaW5lcnQgc3BlY1xuICAgICAqIGRvZXNuJ3Qgc3BlY2lmeSBpZiBpdCBzaG91bGQgYmUgcmVmbGVjdGVkLlxuICAgICAqIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2ludGVyYWN0aW9uLmh0bWwjaW5lcnRcbiAgICAgKi9cbiAgICBwcml2YXRlW19pbmVydFNpYmxpbmdzXShcbiAgICAgICAgZWxlbWVudHM6IE1heWJlSGFzSW50ZXJuYWxTdGF0ZVtdLCB0b1NraXA6IFNldDxIVE1MRWxlbWVudD58bnVsbCxcbiAgICAgICAgdG9LZWVwSW5lcnQ6IFNldDxIVE1MRWxlbWVudD58bnVsbCkge1xuICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIGVsZW1lbnRzKSB7XG4gICAgICAgIC8vIEFzc3VtZSBlbGVtZW50IGlzIG5vdCBhIERvY3VtZW50LCBzbyBpdCBtdXN0IGhhdmUgYSBwYXJlbnROb2RlLlxuICAgICAgICBjb25zdCBwYXJlbnQgPSBlbGVtZW50LnBhcmVudE5vZGUhO1xuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IHBhcmVudC5jaGlsZHJlbjtcbiAgICAgICAgY29uc3QgaW5lcnRlZFNpYmxpbmdzID0gbmV3IFNldDxIVE1MRWxlbWVudD4oKTtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBjaGlsZHJlbi5sZW5ndGg7IGorKykge1xuICAgICAgICAgIGNvbnN0IHNpYmxpbmcgPSBjaGlsZHJlbltqXSBhcyBNYXliZUhhc0ludGVybmFsU3RhdGU7XG4gICAgICAgICAgLy8gU2tpcCB0aGUgaW5wdXQgZWxlbWVudCwgaWYgbm90IGluZXJ0YWJsZSBvciB0byBiZSBza2lwcGVkLlxuICAgICAgICAgIGlmIChzaWJsaW5nID09PSBlbGVtZW50IHx8ICF0aGlzW19pc0luZXJ0YWJsZV0oc2libGluZykgfHxcbiAgICAgICAgICAgICAgKHRvU2tpcCAmJiB0b1NraXAuaGFzKHNpYmxpbmcpKSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIFNob3VsZCBiZSBjb2xsZWN0ZWQgc2luY2UgYWxyZWFkeSBpbmVydGVkLlxuICAgICAgICAgIGlmICh0b0tlZXBJbmVydCAmJiBzaWJsaW5nLmluZXJ0KSB7XG4gICAgICAgICAgICB0b0tlZXBJbmVydC5hZGQoc2libGluZyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNpYmxpbmcuaW5lcnQgPSB0cnVlO1xuICAgICAgICAgICAgaW5lcnRlZFNpYmxpbmdzLmFkZChzaWJsaW5nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gU3RvcmUgdGhlIHNpYmxpbmdzIHRoYXQgd2VyZSBpbmVydGVkLlxuICAgICAgICBlbGVtZW50W19zaWJsaW5nc1RvUmVzdG9yZV0gPSBpbmVydGVkU2libGluZ3M7XG4gICAgICAgIC8vIE9ic2VydmUgb25seSBpbW1lZGlhdGUgY2hpbGRyZW4gbXV0YXRpb25zIG9uIHRoZSBwYXJlbnQuXG4gICAgICAgIGNvbnN0IG1vID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIodGhpc1tfaGFuZGxlTXV0YXRpb25zXS5iaW5kKHRoaXMpKTtcbiAgICAgICAgZWxlbWVudFtfcGFyZW50TU9dID0gbW87XG4gICAgICAgIGxldCBwYXJlbnRUb09ic2VydmUgPSBwYXJlbnQ7XG4gICAgICAgIC8vIElmIHdlJ3JlIHVzaW5nIHRoZSBTaGFkeURPTSBwb2x5ZmlsbCwgdGhlbiBvdXIgcGFyZW50IGNvdWxkIGJlIGFcbiAgICAgICAgLy8gc2hhZHkgcm9vdCwgd2hpY2ggaXMgYW4gb2JqZWN0IHRoYXQgYWN0cyBsaWtlIGEgU2hhZG93Um9vdCwgYnV0IGlzbid0XG4gICAgICAgIC8vIGFjdHVhbGx5IGEgbm9kZSBpbiB0aGUgcmVhbCBET00uIE9ic2VydmUgdGhlIHJlYWwgRE9NIHBhcmVudCBpbnN0ZWFkLlxuICAgICAgICBjb25zdCBtYXliZVNoYWR5Um9vdCA9IHBhcmVudFRvT2JzZXJ2ZSBhcyBNYXliZVNoYWR5Um9vdDtcbiAgICAgICAgaWYgKG1heWJlU2hhZHlSb290Ll9fc2hhZHkgJiYgbWF5YmVTaGFkeVJvb3QuaG9zdCkge1xuICAgICAgICAgIHBhcmVudFRvT2JzZXJ2ZSA9IG1heWJlU2hhZHlSb290Lmhvc3Q7XG4gICAgICAgIH1cbiAgICAgICAgbW8ub2JzZXJ2ZShwYXJlbnRUb09ic2VydmUsIHtcbiAgICAgICAgICBjaGlsZExpc3Q6IHRydWUsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgbmV3bHkgYWRkZWQvcmVtb3ZlZCBub2RlcyBieSB0b2dnbGluZyB0aGVpciBpbmVydG5lc3MuXG4gICAgICogSXQgYWxzbyBjaGVja3MgaWYgdGhlIGN1cnJlbnQgdG9wIEJsb2NraW5nIEVsZW1lbnQgaGFzIGJlZW4gcmVtb3ZlZCxcbiAgICAgKiBub3RpZnlpbmcgYW5kIHJlbW92aW5nIGl0LlxuICAgICAqL1xuICAgIHByaXZhdGVbX2hhbmRsZU11dGF0aW9uc10obXV0YXRpb25zOiBNdXRhdGlvblJlY29yZFtdKTogdm9pZCB7XG4gICAgICBjb25zdCBwYXJlbnRzID0gdGhpc1tfdG9wRWxQYXJlbnRzXTtcbiAgICAgIGNvbnN0IHRvS2VlcEluZXJ0ID0gdGhpc1tfYWxyZWFkeUluZXJ0RWxlbWVudHNdO1xuICAgICAgZm9yIChjb25zdCBtdXRhdGlvbiBvZiBtdXRhdGlvbnMpIHtcbiAgICAgICAgLy8gSWYgdGhlIHRhcmdldCBpcyBhIHNoYWRvd1Jvb3QsIGdldCBpdHMgaG9zdCBhcyB3ZSBza2lwIHNoYWRvd1Jvb3RzIHdoZW5cbiAgICAgICAgLy8gY29tcHV0aW5nIF90b3BFbFBhcmVudHMuXG4gICAgICAgIGNvbnN0IHRhcmdldCA9IChtdXRhdGlvbi50YXJnZXQgYXMgU2hhZG93Um9vdCkuaG9zdCB8fCBtdXRhdGlvbi50YXJnZXQ7XG4gICAgICAgIGNvbnN0IGlkeCA9IHRhcmdldCA9PT0gZG9jdW1lbnQuYm9keSA/XG4gICAgICAgICAgICBwYXJlbnRzLmxlbmd0aCA6XG4gICAgICAgICAgICBwYXJlbnRzLmluZGV4T2YodGFyZ2V0IGFzIEhhc0ludGVybmFsU3RhdGUpO1xuICAgICAgICBjb25zdCBpbmVydGVkQ2hpbGQgPSBwYXJlbnRzW2lkeCAtIDFdO1xuICAgICAgICBjb25zdCBpbmVydGVkU2libGluZ3MgPSBpbmVydGVkQ2hpbGRbX3NpYmxpbmdzVG9SZXN0b3JlXTtcblxuICAgICAgICAvLyBUbyByZXN0b3JlLlxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG11dGF0aW9uLnJlbW92ZWROb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNvbnN0IHNpYmxpbmcgPSBtdXRhdGlvbi5yZW1vdmVkTm9kZXNbaV0gYXMgTWF5YmVIYXNJbnRlcm5hbFN0YXRlO1xuICAgICAgICAgIGlmIChzaWJsaW5nID09PSBpbmVydGVkQ2hpbGQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnRGV0ZWN0ZWQgcmVtb3ZhbCBvZiB0aGUgdG9wIEJsb2NraW5nIEVsZW1lbnQuJyk7XG4gICAgICAgICAgICB0aGlzLnBvcCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaW5lcnRlZFNpYmxpbmdzLmhhcyhzaWJsaW5nKSkge1xuICAgICAgICAgICAgc2libGluZy5pbmVydCA9IGZhbHNlO1xuICAgICAgICAgICAgaW5lcnRlZFNpYmxpbmdzLmRlbGV0ZShzaWJsaW5nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUbyBpbmVydC5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtdXRhdGlvbi5hZGRlZE5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgY29uc3Qgc2libGluZyA9IG11dGF0aW9uLmFkZGVkTm9kZXNbaV0gYXMgTWF5YmVIYXNJbnRlcm5hbFN0YXRlO1xuICAgICAgICAgIGlmICghdGhpc1tfaXNJbmVydGFibGVdKHNpYmxpbmcpKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHRvS2VlcEluZXJ0ICYmIHNpYmxpbmcuaW5lcnQpIHtcbiAgICAgICAgICAgIHRvS2VlcEluZXJ0LmFkZChzaWJsaW5nKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2libGluZy5pbmVydCA9IHRydWU7XG4gICAgICAgICAgICBpbmVydGVkU2libGluZ3MuYWRkKHNpYmxpbmcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgaWYgdGhlIGVsZW1lbnQgaXMgaW5lcnRhYmxlLlxuICAgICAqL1xuICAgIHByaXZhdGVbX2lzSW5lcnRhYmxlXShlbGVtZW50OiBIVE1MRWxlbWVudCk6IGJvb2xlYW4ge1xuICAgICAgcmV0dXJuIGZhbHNlID09PSAvXihzdHlsZXx0ZW1wbGF0ZXxzY3JpcHQpJC8udGVzdChlbGVtZW50LmxvY2FsTmFtZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbGlzdCBvZiBuZXdQYXJlbnRzIG9mIGFuIGVsZW1lbnQsIHN0YXJ0aW5nIGZyb20gZWxlbWVudFxuICAgICAqIChpbmNsdWRlZCkgdXAgdG8gYGRvY3VtZW50LmJvZHlgIChleGNsdWRlZCkuXG4gICAgICovXG4gICAgcHJpdmF0ZVtfZ2V0UGFyZW50c10oZWxlbWVudDogSFRNTEVsZW1lbnQpOiBBcnJheTxIVE1MRWxlbWVudD4ge1xuICAgICAgY29uc3QgcGFyZW50cyA9IFtdO1xuICAgICAgbGV0IGN1cnJlbnQ6IEhUTUxFbGVtZW50fG51bGx8dW5kZWZpbmVkID0gZWxlbWVudDtcbiAgICAgIC8vIFN0b3AgdG8gYm9keS5cbiAgICAgIHdoaWxlIChjdXJyZW50ICYmIGN1cnJlbnQgIT09IGRvY3VtZW50LmJvZHkpIHtcbiAgICAgICAgLy8gU2tpcCBzaGFkb3cgcm9vdHMuXG4gICAgICAgIGlmIChjdXJyZW50Lm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSkge1xuICAgICAgICAgIHBhcmVudHMucHVzaChjdXJyZW50KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTaGFkb3dEb20gdjFcbiAgICAgICAgaWYgKGN1cnJlbnQuYXNzaWduZWRTbG90KSB7XG4gICAgICAgICAgLy8gQ29sbGVjdCBzbG90cyBmcm9tIGRlZXBlc3Qgc2xvdCB0byB0b3AuXG4gICAgICAgICAgd2hpbGUgKGN1cnJlbnQgPSBjdXJyZW50LmFzc2lnbmVkU2xvdCkge1xuICAgICAgICAgICAgcGFyZW50cy5wdXNoKGN1cnJlbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBDb250aW51ZSB0aGUgc2VhcmNoIG9uIHRoZSB0b3Agc2xvdC5cbiAgICAgICAgICBjdXJyZW50ID0gcGFyZW50cy5wb3AoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50ID0gY3VycmVudC5wYXJlbnROb2RlIGFzIEhUTUxFbGVtZW50IHx8XG4gICAgICAgICAgICAoY3VycmVudCBhcyBOb2RlIGFzIFNoYWRvd1Jvb3QpLmhvc3Q7XG4gICAgICB9XG4gICAgICByZXR1cm4gcGFyZW50cztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBkaXN0cmlidXRlZCBjaGlsZHJlbiBvZiB0aGUgZWxlbWVudCdzIHNoYWRvdyByb290LlxuICAgICAqIFJldHVybnMgbnVsbCBpZiB0aGUgZWxlbWVudCBkb2Vzbid0IGhhdmUgYSBzaGFkb3cgcm9vdC5cbiAgICAgKi9cbiAgICBwcml2YXRlW19nZXREaXN0cmlidXRlZENoaWxkcmVuXShlbGVtZW50OiBIVE1MRWxlbWVudCk6XG4gICAgICAgIFNldDxIVE1MRWxlbWVudD58bnVsbCB7XG4gICAgICBjb25zdCBzaGFkb3dSb290ID0gZWxlbWVudC5zaGFkb3dSb290O1xuICAgICAgaWYgKCFzaGFkb3dSb290KSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzdWx0ID0gbmV3IFNldDxIVE1MRWxlbWVudD4oKTtcbiAgICAgIGxldCBpO1xuICAgICAgbGV0IGo7XG4gICAgICBsZXQgbm9kZXM7XG4gICAgICBjb25zdCBzbG90cyA9IHNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvckFsbCgnc2xvdCcpO1xuICAgICAgaWYgKHNsb3RzLmxlbmd0aCAmJiBzbG90c1swXS5hc3NpZ25lZE5vZGVzKSB7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBzbG90cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIG5vZGVzID0gc2xvdHNbaV0uYXNzaWduZWROb2Rlcyh7XG4gICAgICAgICAgICBmbGF0dGVuOiB0cnVlLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBub2Rlcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgaWYgKG5vZGVzW2pdLm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSkge1xuICAgICAgICAgICAgICByZXN1bHQuYWRkKG5vZGVzW2pdIGFzIEhUTUxFbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gTm8gbmVlZCB0byBzZWFyY2ggZm9yIDxjb250ZW50Pi5cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICB9XG5cbiAgKGRvY3VtZW50IGFzIERvY3VtZW50V2l0aEJsb2NraW5nRWxlbWVudHMpLiRibG9ja2luZ0VsZW1lbnRzID1cbiAgICAgIG5ldyBCbG9ja2luZ0VsZW1lbnRzSW1wbCgpO1xufSkoKTtcbiIsImltcG9ydCBcIndpY2ctaW5lcnRcIjtcclxuaW1wb3J0IFwiYmxvY2tpbmctZWxlbWVudHNcIjtcclxuaW1wb3J0IHsgRG9jdW1lbnRXaXRoQmxvY2tpbmdFbGVtZW50cyB9IGZyb20gXCJibG9ja2luZy1lbGVtZW50c1wiO1xyXG5pbXBvcnQgeyB1c2VMYXlvdXRFZmZlY3QgfSBmcm9tIFwicHJlYWN0L2hvb2tzXCI7XHJcbmltcG9ydCB7IGdldERvY3VtZW50IH0gZnJvbSBcIi4vdXNlLWRvY3VtZW50LWNsYXNzXCI7XHJcbmltcG9ydCB7IHVzZVN0YWJsZUNhbGxiYWNrIH0gZnJvbSBcIi4vdXNlLXN0YWJsZS1jYWxsYmFja1wiO1xyXG5cclxuZnVuY3Rpb24gYmxvY2tpbmdFbGVtZW50cygpIHsgcmV0dXJuIChnZXREb2N1bWVudCgpIGFzIERvY3VtZW50V2l0aEJsb2NraW5nRWxlbWVudHMpLiRibG9ja2luZ0VsZW1lbnRzIH1cclxuLyoqXHJcbiAqIEFsbG93cyBhbiBlbGVtZW50IHRvIHRyYXAgZm9jdXMgYnkgYXBwbHlpbmcgdGhlIFwiaW5lcnRcIiBhdHRyaWJ1dGUgdG8gYWxsIHNpYmxpbmcsIGF1bnQsIGFuZCB1bmNsZSBub2Rlcy5cclxuICogXHJcbiAqIEF1dG9tYXRpY2FsbHkgaGFuZGxlcyBjb25zZWN1dGl2ZSBjYWxscyB3aXRoIGEgbG9vc2VseSBhcHBsaWVkIHN0YWNrIG9wZXJhdGlvbiBcclxuICogKHNwZWNpZmljYWxseSB2aWEgYGJsb2NraW5nRWxlbWVudHNgLCB3aXRoIGEgc21hbGwgcG9seWZpbGwgYmVjYXVzZSBJJ20gbm90IHN1cmUgaG93IGxvbmdcclxuICogaXQnbGwgdGFrZSB0byBmaW5kIGl0cyB3YXkgaW50byB0aGUgc3BlYywgaWYgZXZlcilcclxuICogQHBhcmFtIHRhcmdldCBcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiB1c2VCbG9ja2luZ0VsZW1lbnQ8RSBleHRlbmRzIEVsZW1lbnQ+KGVuYWJsZWQ6IGJvb2xlYW4sIGdldFRhcmdldDogKCkgPT4gKEUgfCBudWxsKSkge1xyXG5cclxuICAgIGNvbnN0IHN0YWJsZUdldFRhcmdldCA9IHVzZVN0YWJsZUNhbGxiYWNrKGdldFRhcmdldCk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQdXNoL3BvcCB0aGUgZWxlbWVudCBmcm9tIHRoZSBibG9ja2luZ0VsZW1lbnRzIHN0YWNrLlxyXG4gICAgICovXHJcbiAgICB1c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHRhcmdldCA9IHN0YWJsZUdldFRhcmdldCgpO1xyXG5cclxuICAgICAgICBpZiAoZW5hYmxlZCkge1xyXG4gICAgICAgICAgICAvLyBTb21ldGltZXMgYmxvY2tpbmdFbGVtZW50cyB3aWxsIGZhaWwgaWYsIGZvciBleGFtcGxlLFxyXG4gICAgICAgICAgICAvLyB0aGUgdGFyZ2V0IGVsZW1lbnQgaXNuJ3QgY29ubmVjdGVkIHRvIGRvY3VtZW50LmJvZHkuXHJcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgcmFyZSwgYnV0IGl0J3MgYmV0dGVyIHRvIGZhaWwgc2lsZW50bHkgd2l0aCB3ZWlyZCB0YWJiaW5nIGJlaGF2aW9yXHJcbiAgICAgICAgICAgIC8vIHRoYW4gdG8gY3Jhc2ggdGhlIGVudGlyZSBhcHBsaWNhdGlvbi5cclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGJsb2NraW5nRWxlbWVudHMoKS5wdXNoKHRhcmdldCBhcyBFbGVtZW50IGFzIEhUTUxFbGVtZW50KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmxvY2tpbmdFbGVtZW50cygpLnJlbW92ZSh0YXJnZXQgYXMgRWxlbWVudCBhcyBIVE1MRWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChleCkge1xyXG4gICAgICAgICAgICAgICAgLy8gV2VsbCwgc2VtaS1zaWxlbnRseS5cclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSwgW2VuYWJsZWRdKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFRvcEVsZW1lbnQoKSB7XHJcbiAgICByZXR1cm4gYmxvY2tpbmdFbGVtZW50cygpLnRvcDtcclxufVxyXG5cclxuXHJcbiIsImltcG9ydCB7IGggfSBmcm9tIFwicHJlYWN0XCI7XHJcbmltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VMYXlvdXRFZmZlY3QgfSBmcm9tIFwicHJlYWN0L2hvb2tzXCI7XHJcbmltcG9ydCB7IGlzRm9jdXNhYmxlIH0gZnJvbSBcInRhYmJhYmxlXCI7XHJcbmltcG9ydCB7IHVzZUFjdGl2ZUVsZW1lbnQgfSBmcm9tIFwiLi91c2UtYWN0aXZlLWVsZW1lbnRcIjtcclxuaW1wb3J0IHsgZ2V0VG9wRWxlbWVudCwgdXNlQmxvY2tpbmdFbGVtZW50IH0gZnJvbSBcIi4vdXNlLWJsb2NraW5nLWVsZW1lbnRcIjtcclxuaW1wb3J0IHsgZ2V0RG9jdW1lbnQgfSBmcm9tIFwiLi91c2UtZG9jdW1lbnQtY2xhc3NcIjtcclxuaW1wb3J0IHsgTWVyZ2VkUHJvcHMsIHVzZU1lcmdlZFByb3BzIH0gZnJvbSBcIi4vdXNlLW1lcmdlZC1wcm9wc1wiO1xyXG5pbXBvcnQgeyBVc2VSZWZFbGVtZW50UHJvcHNSZXR1cm5UeXBlLCBVc2VSZWZFbGVtZW50UmV0dXJuVHlwZSB9IGZyb20gXCIuL3VzZS1yZWYtZWxlbWVudFwiO1xyXG5pbXBvcnQgeyB1c2VTdGFibGVDYWxsYmFjayB9IGZyb20gXCIuL3VzZS1zdGFibGUtY2FsbGJhY2tcIjtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVXNlRm9jdXNUcmFwUGFyYW1ldGVycyB7IHRyYXBBY3RpdmU6IGJvb2xlYW47IH1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVXNlRm9jdXNUcmFwUmV0dXJuVHlwZTxFIGV4dGVuZHMgRWxlbWVudD4gZXh0ZW5kcyBPbWl0PFVzZVJlZkVsZW1lbnRSZXR1cm5UeXBlPEU+LCBcInVzZVJlZkVsZW1lbnRQcm9wc1wiPiB7XHJcbiAgICB1c2VGb2N1c1RyYXBQcm9wczogVXNlRm9jdXNUcmFwUHJvcHM8RT47XHJcbn1cclxuXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFVzZUZvY3VzVHJhcFByb3BzUGFyYW1ldGVyczxFIGV4dGVuZHMgTm9kZT4gZXh0ZW5kcyBoLkpTWC5IVE1MQXR0cmlidXRlczxFPiB7IH1cclxuZXhwb3J0IHR5cGUgVXNlRm9jdXNUcmFwUHJvcHNSZXR1cm5UeXBlPEUgZXh0ZW5kcyBOb2RlLCBQIGV4dGVuZHMgaC5KU1guSFRNTEF0dHJpYnV0ZXM8RT4+ID0gTWVyZ2VkUHJvcHM8RSwgVXNlUmVmRWxlbWVudFByb3BzUmV0dXJuVHlwZTxFLCBQPiwgeyAgfT5cclxuXHJcbmV4cG9ydCB0eXBlIFVzZUZvY3VzVHJhcFByb3BzPEUgZXh0ZW5kcyBFbGVtZW50PiA9IDxQIGV4dGVuZHMgVXNlRm9jdXNUcmFwUHJvcHNQYXJhbWV0ZXJzPEU+Pihwcm9wczogUCkgPT4gVXNlRm9jdXNUcmFwUHJvcHNSZXR1cm5UeXBlPEUsIFA+O1xyXG5cclxuXHJcblxyXG5jb25zdCBlbGVtZW50c1RvUmVzdG9yZUZvY3VzVG8gPSBuZXcgTWFwPEVsZW1lbnQgfCBudWxsLCAoTm9kZSAmIEhUTUxPclNWR0VsZW1lbnQpPigpO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHVzZUZvY3VzVHJhcDxFIGV4dGVuZHMgSFRNTEVsZW1lbnQ+KHsgdHJhcEFjdGl2ZSB9OiBVc2VGb2N1c1RyYXBQYXJhbWV0ZXJzKTogVXNlRm9jdXNUcmFwUmV0dXJuVHlwZTxFPiB7XHJcbiAgICBcclxuICAgIGNvbnN0IGhhbmRsZUFjdGl2ZUNoYW5nZSA9IHVzZUNhbGxiYWNrKCh0cmFwQWN0aXZlOiBib29sZWFuLCBlbGVtZW50OiBFIHwgbnVsbCkgPT4ge1xyXG4gICAgICAgIGlmICh0cmFwQWN0aXZlICYmIGVsZW1lbnQpIHtcclxuXHJcbiAgICAgICAgICAgIGxldCByYWZIYW5kbGUgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gVE9ETzogVGhpcyBleHRyYSBxdWV1ZU1pY3JvdGFzayBpcyBuZWVkZWQgZm9yXHJcbiAgICAgICAgICAgICAgICAvLyAuLi5yZWFzb25zP1xyXG4gICAgICAgICAgICAgICAgcXVldWVNaWNyb3Rhc2soKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbmRGaXJzdEZvY3VzYWJsZShlbGVtZW50KT8uZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgICAgICByYWZIYW5kbGUgPSAwO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmFmSGFuZGxlKVxyXG4gICAgICAgICAgICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHJhZkhhbmRsZSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGVsZW1lbnQpIHtcclxuXHJcbiAgICAgICAgICAgIC8vIFJlc3RvcmUgdGhlIGZvY3VzIHRvIHRoZSBlbGVtZW50XHJcbiAgICAgICAgICAgIC8vIHRoYXQgaGFzIHJldHVybmVkIHRvIHRoZSB0b3Agb2YgdGhlIHN0YWNrXHJcbiAgICAgICAgICAgIGxldCByYWZIYW5kbGUgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcXVldWVNaWNyb3Rhc2soKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRzVG9SZXN0b3JlRm9jdXNUby5nZXQoZ2V0VG9wRWxlbWVudCgpKT8uZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgICAgICByYWZIYW5kbGUgPSAwO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChyYWZIYW5kbGUpXHJcbiAgICAgICAgICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUocmFmSGFuZGxlKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICB9LCBbXSk7XHJcbiAgICBcclxuICAgIGNvbnN0IHsgZ2V0TGFzdEFjdGl2ZUVsZW1lbnQsIHVzZUFjdGl2ZUVsZW1lbnRQcm9wcywgZ2V0RWxlbWVudCB9ID0gdXNlQWN0aXZlRWxlbWVudDxFPih7IG9uTW91bnRDaGFuZ2U6IHVzZVN0YWJsZUNhbGxiYWNrKChlbGVtZW50OiBFIHwgbnVsbCkgPT4gaGFuZGxlQWN0aXZlQ2hhbmdlKHRyYXBBY3RpdmUsIGVsZW1lbnQpKSB9KTtcclxuXHJcblxyXG4gICAgLy8gV2hlbiB0aGUgdHJhcCBiZWNvbWVzIGFjdGl2ZSwgYmVmb3JlIHdlIGxldCB0aGUgYmxvY2tpbmdFbGVtZW50cyBob29rIHJ1bixcclxuICAgIC8vIGtlZXAgdHJhY2sgb2Ygd2hhdGV2ZXIncyBjdXJyZW50bHkgZm9jdXNlZCBhbmQgc2F2ZSBpdC5cclxuICAgIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IGdldEVsZW1lbnQoKTtcclxuICAgICAgICBpZiAodHJhcEFjdGl2ZSAmJiBlbGVtZW50KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRvY3VtZW50ID0gZ2V0RG9jdW1lbnQoZWxlbWVudCk7XHJcblxyXG4gICAgICAgICAgICAvLyBTYXZlIHRoZSBjdXJyZW50bHkgZm9jdXNlZCBlbGVtZW50XHJcbiAgICAgICAgICAgIC8vIHRvIHdoYXRldmVyJ3MgY3VycmVudGx5IGF0IHRoZSB0b3Agb2YgdGhlIHN0YWNrXHJcbiAgICAgICAgICAgIGVsZW1lbnRzVG9SZXN0b3JlRm9jdXNUby5zZXQoZ2V0VG9wRWxlbWVudCgpLCAoZ2V0TGFzdEFjdGl2ZUVsZW1lbnQoKSBhcyAoTm9kZSAmIEhUTUxPclNWR0VsZW1lbnQpKSA/PyBkb2N1bWVudC5ib2R5KTtcclxuICAgICAgICB9XHJcbiAgICB9LCBbdHJhcEFjdGl2ZV0pO1xyXG5cclxuICAgIHVzZUJsb2NraW5nRWxlbWVudCh0cmFwQWN0aXZlLCBnZXRFbGVtZW50KTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEFueSB0aW1lIHdlIGFjdGl2YXRlIG9yIGRlYWN0aXZhdGUgdGhlIHRyYXAsXHJcbiAgICAgKiBjaGFuZ2UgZm9jdXMgdG8gc29tZXRoaW5nIGVsc2UgKHNvbWV0aGluZyBpblxyXG4gICAgICogdGhlIHRyYXAgaWYgaXQncyBhY3RpdmUsIG9yIHdoYXRldmVyIHdlJ3ZlXHJcbiAgICAgKiB0cmFja2VkIGluIGVsZW1lbnRzVG9SZXN0b3JlRm9jdXNUbyBpZiBub3QpXHJcbiAgICAgKi9cclxuICAgIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgaGFuZGxlQWN0aXZlQ2hhbmdlKHRyYXBBY3RpdmUsIGdldEVsZW1lbnQoKSk7XHJcbiAgICB9LCBbdHJhcEFjdGl2ZV0pO1xyXG5cclxuICAgIGNvbnN0IHVzZUZvY3VzVHJhcFByb3BzID0gKDxQIGV4dGVuZHMgVXNlRm9jdXNUcmFwUHJvcHNQYXJhbWV0ZXJzPEU+Pihwcm9wczogUCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHAxID0gdXNlQWN0aXZlRWxlbWVudFByb3BzKHByb3BzKTtcclxuICAgICAgICBjb25zdCBwMiA9IHsgXCJhcmlhLW1vZGFsXCI6IHRyYXBBY3RpdmUgPyBcInRydWVcIiA6IHVuZGVmaW5lZCB9IGFzIGguSlNYLkhUTUxBdHRyaWJ1dGVzPEU+O1xyXG4gICAgICAgIHJldHVybiB1c2VNZXJnZWRQcm9wczxFPigpKHAxLCBwMik7XHJcbiAgICB9KTtcclxuXHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICB1c2VGb2N1c1RyYXBQcm9wcyxcclxuICAgICAgICBnZXRFbGVtZW50XHJcbiAgICB9O1xyXG59XHJcblxyXG4vKipcclxuICogUmV0dXJucyB0aGUgZmlyc3QgZm9jdXNhYmxlIGVsZW1lbnQgY29udGFpbmVkIHdpdGhpbiB0aGUgZ2l2ZW4gbm9kZSwgb3IgbnVsbCBpZiBub25lIGFyZSBmb3VuZC5cclxuICogQHBhcmFtIGVsZW1lbnQgXHJcbiAqIEByZXR1cm5zIFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRGaXJzdEZvY3VzYWJsZShlbGVtZW50OiBOb2RlKSB7XHJcbiAgICBjb25zdCB0cmVlV2Fsa2VyID0gZG9jdW1lbnQuY3JlYXRlVHJlZVdhbGtlcihlbGVtZW50LCBOb2RlRmlsdGVyLlNIT1dfRUxFTUVOVCwgeyBhY2NlcHROb2RlOiAobm9kZSkgPT4gKG5vZGUgaW5zdGFuY2VvZiBFbGVtZW50ICYmIGlzRm9jdXNhYmxlKG5vZGUpID8gTm9kZUZpbHRlci5GSUxURVJfQUNDRVBUIDogTm9kZUZpbHRlci5GSUxURVJfU0tJUCkgfSlcclxuICAgIGNvbnN0IGZpcnN0Rm9jdXNhYmxlID0gdHJlZVdhbGtlci5maXJzdENoaWxkKCkgYXMgKEVsZW1lbnQgJiBIVE1MT3JTVkdFbGVtZW50KSB8IG51bGw7XHJcbiAgICByZXR1cm4gZmlyc3RGb2N1c2FibGU7XHJcbn1cclxuXHJcbiIsImltcG9ydCB7IGggfSBmcm9tIFwicHJlYWN0XCI7XHJcbmltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSBcInByZWFjdC9ob29rc1wiO1xyXG5pbXBvcnQgeyB1c2VJbnRlcnZhbCB9IGZyb20gXCIuLi8uLlwiO1xyXG5cclxuXHJcbmV4cG9ydCBjb25zdCBEZW1vVXNlSW50ZXJ2YWwgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBbaW50ZXJ2YWwsIHNldEludGVydmFsXSA9IHVzZVN0YXRlKDEwMDApO1xyXG5cclxuICAgIGNvbnN0IFtmaXJlQ291bnQsIHNldEZpcmVDb3VudF0gPSB1c2VTdGF0ZSgwKTtcclxuXHJcbiAgICB1c2VJbnRlcnZhbCh7IGludGVydmFsLCBjYWxsYmFjazogKCkgPT4gc2V0RmlyZUNvdW50KGkgPT4gKytpKSB9KTtcclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJkZW1vXCI+XHJcbiAgICAgICAgICAgIDxsYWJlbD5JbnRlcnZhbCBkdXJhdGlvbjogPGlucHV0IHR5cGU9XCJudW1iZXJcIiB2YWx1ZT17aW50ZXJ2YWx9IG9uSW5wdXQ9e2UgPT4gc2V0SW50ZXJ2YWwoZS5jdXJyZW50VGFyZ2V0LnZhbHVlQXNOdW1iZXIpfSAvPjwvbGFiZWw+XHJcbiAgICAgICAgICAgIDxkaXY+VGhlIGNhbGxiYWNrIGhhcyBiZWVuIGNhbGxlZCB7ZmlyZUNvdW50fSB0aW1le2ZpcmVDb3VudCA9PT0gMSA/IFwiXCIgOiBcInNcIn0uPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICApXHJcbn1cclxuIiwiaW1wb3J0IHsgY3JlYXRlQ29udGV4dCwgaCB9IGZyb20gXCJwcmVhY3RcIjtcclxuaW1wb3J0IHsgbWVtbywgdXNlQ29udGV4dCB9IGZyb20gXCJwcmVhY3QvY29tcGF0XCI7XHJcbmltcG9ydCB7IHVzZUhhc0ZvY3VzIH0gZnJvbSBcIi4uLy4uXCI7XHJcbmltcG9ydCB7IHVzZUxpc3ROYXZpZ2F0aW9uLCBVc2VMaXN0TmF2aWdhdGlvbkNoaWxkLCBVc2VMaXN0TmF2aWdhdGlvbkNoaWxkSW5mbyB9IGZyb20gXCIuLi8uLi91c2UtbGlzdC1uYXZpZ2F0aW9uXCI7XHJcbmltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSBcIi4uLy4uL3VzZS1zdGF0ZVwiO1xyXG5cclxuXHJcbmNvbnN0IFJhbmRvbVdvcmRzID0gXCJMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzY2luZyBlbGl0LCBzZWQgZG8gZWl1c21vZCB0ZW1wb3IgaW5jaWRpZHVudCB1dCBsYWJvcmUgZXQgZG9sb3JlIG1hZ25hIGFsaXF1YS4gVXQgZW5pbSBhZCBtaW5pbSB2ZW5pYW0sIHF1aXMgbm9zdHJ1ZCBleGVyY2l0YXRpb24gdWxsYW1jbyBsYWJvcmlzIG5pc2kgdXQgYWxpcXVpcCBleCBlYSBjb21tb2RvIGNvbnNlcXVhdC4gRHVpcyBhdXRlIGlydXJlIGRvbG9yIGluIHJlcHJlaGVuZGVyaXQgaW4gdm9sdXB0YXRlIHZlbGl0IGVzc2UgY2lsbHVtIGRvbG9yZSBldSBmdWdpYXQgbnVsbGEgcGFyaWF0dXIuIEV4Y2VwdGV1ciBzaW50IG9jY2FlY2F0IGN1cGlkYXRhdCBub24gcHJvaWRlbnQsIHN1bnQgaW4gY3VscGEgcXVpIG9mZmljaWEgZGVzZXJ1bnQgbW9sbGl0IGFuaW0gaWQgZXN0IGxhYm9ydW0uXCIuc3BsaXQoXCIgXCIpO1xyXG5cclxuY29uc3QgUm92aW5nQ2hpbGRDb250ZXh0ID0gY3JlYXRlQ29udGV4dDxVc2VMaXN0TmF2aWdhdGlvbkNoaWxkPEhUTUxMSUVsZW1lbnQsIFVzZUxpc3ROYXZpZ2F0aW9uQ2hpbGRJbmZvPj4obnVsbCEpXHJcbmV4cG9ydCBjb25zdCBEZW1vVXNlUm92aW5nVGFiSW5kZXggPSBtZW1vKCgpID0+IHtcclxuXHJcbiAgICBjb25zdCBbbGFzdEZvY3VzZWRJbm5lciwgc2V0TGFzdEZvY3VzZWRJbm5lciwgZ2V0TGFzdEZvY3VzZWRJbm5lcl0gPSB1c2VTdGF0ZShmYWxzZSlcclxuICAgIGNvbnN0IHsgdXNlSGFzRm9jdXNQcm9wcyB9ID0gdXNlSGFzRm9jdXM8SFRNTFVMaXN0RWxlbWVudD4oeyBvbkxhc3RGb2N1c2VkSW5uZXJDaGFuZ2VkOiBzZXRMYXN0Rm9jdXNlZElubmVyIH0pO1xyXG4gICAgY29uc3QgeyB1c2VMaXN0TmF2aWdhdGlvbkNoaWxkLCBjdXJyZW50VHlwZWFoZWFkLCB0YWJiYWJsZUluZGV4LCB1c2VMaXN0TmF2aWdhdGlvblByb3BzLCBuYXZpZ2F0ZVRvSW5kZXggfSA9IHVzZUxpc3ROYXZpZ2F0aW9uPEhUTUxMSUVsZW1lbnQsIFVzZUxpc3ROYXZpZ2F0aW9uQ2hpbGRJbmZvPih7IHNob3VsZEZvY3VzT25DaGFuZ2U6IGdldExhc3RGb2N1c2VkSW5uZXIgfSk7XHJcbiAgICAvL2NvbnN0IHsgdXNlUm92aW5nVGFiSW5kZXhDaGlsZCwgdXNlUm92aW5nVGFiSW5kZXhQcm9wcyB9ID0gdXNlUm92aW5nVGFiSW5kZXg8SFRNTFVMaXN0RWxlbWVudCwgUm92aW5nVGFiSW5kZXhDaGlsZEluZm8+KHsgdGFiYmFibGVJbmRleCwgZm9jdXNPbkNoYW5nZTogZmFsc2UgfSk7XHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRlbW9cIj5cclxuICAgICAgICAgICAgPGgyPktleWJvYXJkICZhbXA7IExpc3QgTmF2aWdhdGlvbjwvaDI+XHJcbiAgICAgICAgICAgIDxoMz48Y29kZT51c2VSb3ZpbmdUYWJJbmRleDwvY29kZT48L2gzPlxyXG5cclxuICAgICAgICAgICAgPHA+XHJcbiAgICAgICAgICAgICAgICBOYXRpdmUgSFRNTCBlbGVtZW50cyBvZmZlciBmYW50YXN0aWMga2V5Ym9hcmQgYWNjZXNzYWJpbGl0eSwgYnV0IGNvdmVyIGEgcmVsYXRpdmVseSBsaW1pdGVkIG51bWJlciBvZiB1c2UgY2FzZXMuXHJcbiAgICAgICAgICAgICAgICBUaGVyZSBpcyBubyBuYXRpdmUgSFRNTCB0cmVlIGVsZW1lbnQsIGZvciBleGFtcGxlLCB0aGF0IGFsbG93cyBrZXlib2FyZCBuYXZpZ2F0aW9uIG9mIGl0cyBpdGVtcyxcclxuICAgICAgICAgICAgICAgIG5vciBpcyBpdCBwb3NzaWJsZSB0byBjb21iaW5lIHRoZSBrZXlib2FyZCBuYXZpZ2F0aW9uIGJlaGF2aW9yIG9mIGEgPGNvZGU+e1wiPHNlbGVjdD5cIn08L2NvZGU+IG1lbnUgd2l0aCB0aGUgbWVudSBpbiBhIGRyYXdlciBjb21wb25lbnQuPC9wPlxyXG5cclxuICAgICAgICAgICAgPHA+XHJcbiAgICAgICAgICAgICAgICBXaGVuIGNvbWluZyBhY3Jvc3MgYSBMaXN0IG9yIGEgTWVudSBvciBhIFJhZGlvR3JvdXAgb3IgYSBUb2dnbGVCdXR0b25Hcm91cCBvciBhbnkgb3RoZXIgXCJvbmUgY29tcG9uZW50IG1hZGUgdXAgb2YgY2hpbGQgY29tcG9uZW50c1wiLCB0aGUgdXN1YWwgZXhwZWN0ZWQgYmVoYXZpb3IsXHJcbiAgICAgICAgICAgICAgICBhdCBsZWFzdCBuYXRpdmVseSwgaXMgdGhhdCB0YWJiaW5nIGludG8gdGhlIGNvbXBvbmVudCBpcyBvbmUgYWN0aW9uLCBhbmQgdGFiYmluZyBvdXQgaXMgYW5vdGhlci4gIE5hdmlnYXRpbmcgPGVtPndpdGhpbjwvZW0+IHRoZSBjb21wb25lbnQgaXMgZG9uZSB3aXRoIHRoZSBhcnJvdyBrZXlzIG9yIG90aGVyIG1ldGhvZHMuXHJcbiAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgPHA+XHJcbiAgICAgICAgICAgICAgICBUaGlzIGlzIGltcG9ydGFudCBib3RoIGZvciBhY2Nlc3NhYmlsaXR5LCBidXQgYWxzbyBqdXN0IGZvciBnZW5lcmFsIHVzYWJpbGl0eS4gIFdoZW4gdGFiYmluZyBiYWNrIGFuZCBmb3J0aCwgdGhlIGFiaWxpdHkgdG8gc2tpcCBhIGxvbmcgbGlzdCB3aXRob3V0IG5lZWRpbmcgdG8gdHJ1ZGdlIHRocm91Z2ggPGVtPmV2ZXJ5IG9uZTwvZW0+IG9mIGl0cyBjaGlsZCBlbGVtZW50cyBpcyBleHRyZW1lbHkgaW1wb3J0YW50LlxyXG4gICAgICAgICAgICA8L3A+XHJcblxyXG4gICAgICAgICAgICA8cD5cclxuICAgICAgICAgICAgICAgIDxjb2RlPnVzZUxpc3ROYXZpZ2F0aW9uPC9jb2RlPiB3cmFwcyB1cCB0aGUgZnVuY3Rpb25hbGl0eSBvZiBhIGZldyBob29rcyAoPGNvZGU+dXNlUm92aW5nVGFiSW5kZXg8L2NvZGU+LCA8Y29kZT51c2VMaW5lYXJOYXZpZ2F0aW9uPC9jb2RlPiwgPGNvZGU+dXNlVHlwZWFoZWFkTmF2aWdhdGlvbjwvY29kZT5cclxuICAgICAgICAgICAgICAgIHRvIGFsbG93IGZvciBBUklBLWNvbXBsaWFudCBuYXZpZ2F0aW9uIG9mIGxpc3RzIGFuZCBvdGhlciBzaW1pbGFyIGNvbXBvbmVudHMuICBGb3IgbW9yZSBhZHZhbmNlZCB1c2UgY2FzZXMsIHlvdSBjYW4gdXNlIHRoZSBvdGhlciBob29rcyBpbmRpdmlkdWFsbHkuXHJcbiAgICAgICAgICAgIDwvcD5cclxuXHJcbiAgICAgICAgICAgIDxwPlxyXG4gICAgICAgICAgICAgICAgPGNvZGU+dXNlTGlzdE5hdmlnYXRpb248L2NvZGU+IChhbmQgPGNvZGU+dXNlUm92aW5nVGFiSW5kZXg8L2NvZGU+KSBpbnRlcm5hbGx5IHVzZSA8Y29kZT51c2VDaGlsZE1hbmFnZXI8L2NvZGU+LCB3aGljaCBpcyBob3cgdGhlIGNoaWxkIGVsZW1lbnRzIGFuZCB0aGUgcGFyZW50IGNvbW11bmljYXRlIHdpdGggZWFjaCBvdGhlci5cclxuICAgICAgICAgICAgICAgIFRoaXMgbWVhbnMgdGhlcmUgYXJlIHZpcnR1YWxseSBubyByZXN0cmljdGlvbnMgb24gaG93IHRoZSBET00gaXMgc2V0IHVwIGFzIGxvbmcgYXMgeW91IGNhbiBwcm92aWRlIHRoZSBjaGlsZHJlbiB3aXRoIHRoZSA8Y29kZT51c2VMaXN0TmF2aWdhdGlvbkNoaWxkPC9jb2RlPiBob29rIHRoYXQncyByZXR1cm5lZCwgdXN1YWxseSB3aXRoIGEgc2ltcGxlIDxjb2RlPkNvbnRleHQ8L2NvZGU+LlxyXG4gICAgICAgICAgICAgICAgSWYgdGhlIGNoaWxkIGVsZW1lbnQgaXRzZWxmIGhhcyBhIGZvY3VzYWJsZSBlbGVtZW50LCBsaWtlIGEgYnV0dG9uLCBpdCBjYW4gYWxzbyBiZSB3aXJlZCB1cCB0byBkaXNhYmxlIGl0c2VsZlxyXG4gICAgICAgICAgICAgICAgRmVlbCBmcmVlIHRvIG5lc3QgdGhlbSB0b28sIGFzIGxvbmcgYXMgeW91IGFyZSBhd2FyZSBvZiB5b3VyIDxjb2RlPkNvbnRleHQ8L2NvZGU+IG1hbmFnZW1lbnQgKGkuZS4gcmVtZW1iZXIgdGhhdCB5b3UgbmVlZCB0byBjcmVhdGUgYSBuZXcgPGNvZGU+Q29udGV4dDwvY29kZT4gZm9yIGVhY2ggdXNlIGNhc2UpLlxyXG4gICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgIDxsYWJlbD5UYWJiYWJsZSBpbmRleDogPGlucHV0IHR5cGU9XCJudW1iZXJcIiB2YWx1ZT17dGFiYmFibGVJbmRleCA/PyB1bmRlZmluZWR9IG9uSW5wdXQ9e2UgPT4geyBlLnByZXZlbnREZWZhdWx0KCk7IG5hdmlnYXRlVG9JbmRleChlLmN1cnJlbnRUYXJnZXQudmFsdWVBc051bWJlcik7IH19IC8+PC9sYWJlbD5cclxuICAgICAgICAgICAgPHVsIHsuLi51c2VIYXNGb2N1c1Byb3BzKHVzZUxpc3ROYXZpZ2F0aW9uUHJvcHMoe30pKX0+XHJcbiAgICAgICAgICAgICAgICA8Um92aW5nQ2hpbGRDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXt1c2VMaXN0TmF2aWdhdGlvbkNoaWxkfT5cclxuICAgICAgICAgICAgICAgICAgICB7QXJyYXkuZnJvbSgoZnVuY3Rpb24qICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5aWVsZCA8RGVtb1VzZVJvdmluZ1RhYkluZGV4Q2hpbGQgaW5kZXg9e2l9IGtleT17aX0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pKCkpfVxyXG4gICAgICAgICAgICAgICAgPC9Sb3ZpbmdDaGlsZENvbnRleHQuUHJvdmlkZXI+XHJcbiAgICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgICAgIHtjdXJyZW50VHlwZWFoZWFkICYmIDxkaXY+VHlwZWFoZWFkOiB7Y3VycmVudFR5cGVhaGVhZH08L2Rpdj59XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICApO1xyXG59KVxyXG5cclxuY29uc3QgUHJlZml4ID0gXCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWlwiO1xyXG5jb25zdCBEZW1vVXNlUm92aW5nVGFiSW5kZXhDaGlsZCA9IG1lbW8oKCh7IGluZGV4IH06IHsgaW5kZXg6IG51bWJlciB9KSA9PiB7XHJcbiAgICBjb25zdCBbcmFuZG9tV29yZF0gPSB1c2VTdGF0ZSgoKSA9PiBSYW5kb21Xb3Jkc1tpbmRleC8qTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKFJhbmRvbVdvcmRzLmxlbmd0aCAtIDEpKSovXSk7XHJcbiAgICBjb25zdCB1c2VSb3ZpbmdUYWJJbmRleENoaWxkID0gdXNlQ29udGV4dChSb3ZpbmdDaGlsZENvbnRleHQpO1xyXG4gICAgY29uc3QgdGV4dCA9IGAke3JhbmRvbVdvcmR9IFRoaXMgaXMgaXRlbSAjJHtpbmRleCArIDF9YDtcclxuICAgIGNvbnN0IHsgdXNlTGlzdE5hdmlnYXRpb25DaGlsZFByb3BzLCB1c2VMaXN0TmF2aWdhdGlvblNpYmxpbmdQcm9wcywgdGFiYmFibGUgfSA9IHVzZVJvdmluZ1RhYkluZGV4Q2hpbGQoeyBpbmRleCwgdGV4dCwgaGlkZGVuOiAoaW5kZXggPT0gNSkgfSk7XHJcbiAgICBcclxuICAgIGNvbnN0IHByb3BzID0gdXNlTGlzdE5hdmlnYXRpb25DaGlsZFByb3BzKHt9KTtcclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgPGxpIHsuLi5wcm9wc30+e3RleHR9ICh7dGFiYmFibGU/IFwiVGFiYmFibGVcIiA6IFwiTm90IHRhYmJhYmxlXCJ9KTxpbnB1dCB7Li4udXNlTGlzdE5hdmlnYXRpb25TaWJsaW5nUHJvcHMoeyB0eXBlOiBcImNoZWNrYm94XCIgfSl9IC8+PC9saT5cclxuICAgIClcclxufSkpOyIsImltcG9ydCB7IGggfSBmcm9tIFwicHJlYWN0XCI7XHJcbmltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSBcInByZWFjdC9ob29rc1wiO1xyXG5pbXBvcnQgeyB1c2VUaW1lb3V0IH0gZnJvbSBcIi4uLy4uXCI7XHJcblxyXG5cclxuZXhwb3J0IGNvbnN0IERlbW9Vc2VUaW1lb3V0ID0gKCkgPT4ge1xyXG4gICAgY29uc3QgW3RpbWVvdXQsIHNldFRpbWVvdXRdID0gdXNlU3RhdGUoMTAwMCk7XHJcbiAgICBjb25zdCBbdHJpZ2dlckluZGV4LCBzZXRUcmlnZ2VySW5kZXhdID0gdXNlU3RhdGUoXCJcIik7XHJcblxyXG4gICAgY29uc3QgW2ZpcmVDb3VudCwgc2V0RmlyZUNvdW50XSA9IHVzZVN0YXRlKDApO1xyXG5cclxuICAgIHVzZVRpbWVvdXQoeyB0aW1lb3V0LCB0cmlnZ2VySW5kZXgsIGNhbGxiYWNrOiAoKSA9PiBzZXRGaXJlQ291bnQoaSA9PiArK2kpIH0pXHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgICA8ZGl2IGNsYXNzPVwiZGVtb1wiPlxyXG4gICAgICAgICAgICA8bGFiZWw+VGltZW91dCBkdXJhdGlvbjogPGlucHV0IHR5cGU9XCJudW1iZXJcIiB2YWx1ZT17dGltZW91dH0gb25JbnB1dD17ZSA9PiBzZXRUaW1lb3V0KGUuY3VycmVudFRhcmdldC52YWx1ZUFzTnVtYmVyKX0gLz48L2xhYmVsPlxyXG4gICAgICAgICAgICA8bGFiZWw+UmVmcmVzaCBrZXk6IDxpbnB1dCB0eXBlPVwidGV4dFwiIHZhbHVlPXt0cmlnZ2VySW5kZXh9IG9uSW5wdXQ9e2UgPT4gc2V0VHJpZ2dlckluZGV4KGUuY3VycmVudFRhcmdldC52YWx1ZSl9IC8+PC9sYWJlbD5cclxuICAgICAgICAgICAgPGRpdj5UaGUgY2FsbGJhY2sgaGFzIGJlZW4gY2FsbGVkIHtmaXJlQ291bnR9IHRpbWV7ZmlyZUNvdW50ID09PSAxID8gXCJcIiA6IFwic1wifS48L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIClcclxufVxyXG4iLCJpbXBvcnQgeyBjcmVhdGVDb250ZXh0LCBoLCByZW5kZXIgfSBmcm9tIFwicHJlYWN0XCI7XHJcbmltcG9ydCB7IG1lbW8gfSBmcm9tIFwicHJlYWN0L2NvbXBhdFwiO1xyXG5pbXBvcnQgeyB1c2VDb250ZXh0LCB1c2VSZWYgfSBmcm9tIFwicHJlYWN0L2hvb2tzXCI7XHJcbmltcG9ydCB7IHVzZUFuaW1hdGlvbkZyYW1lLCB1c2VBc3luY0hhbmRsZXIsIHVzZURyYWdnYWJsZSwgdXNlRHJvcHBhYmxlLCB1c2VFbGVtZW50U2l6ZSwgdXNlRm9jdXNUcmFwLCB1c2VNZXJnZWRQcm9wcywgdXNlU3RhdGUgfSBmcm9tIFwiLi5cIjtcclxuaW1wb3J0IHsgRWxlbWVudFNpemUgfSBmcm9tIFwiLi4vdXNlLWVsZW1lbnQtc2l6ZVwiO1xyXG5pbXBvcnQgeyB1c2VHcmlkTmF2aWdhdGlvbiwgVXNlR3JpZE5hdmlnYXRpb25DZWxsLCBVc2VHcmlkTmF2aWdhdGlvbkNlbGxJbmZvLCBVc2VHcmlkTmF2aWdhdGlvblJvdywgVXNlR3JpZE5hdmlnYXRpb25Sb3dJbmZvIH0gZnJvbSBcIi4uL3VzZS1ncmlkLW5hdmlnYXRpb25cIjtcclxuaW1wb3J0IHsgdXNlSGFzRm9jdXMgfSBmcm9tIFwiLi4vdXNlLWhhcy1mb2N1c1wiO1xyXG5pbXBvcnQgeyBEZW1vVXNlSW50ZXJ2YWwgfSBmcm9tIFwiLi9kZW1vcy91c2UtaW50ZXJ2YWxcIjtcclxuaW1wb3J0IHsgRGVtb1VzZVJvdmluZ1RhYkluZGV4IH0gZnJvbSBcIi4vZGVtb3MvdXNlLXJvdmluZy10YWItaW5kZXhcIjtcclxuaW1wb3J0IHsgRGVtb1VzZVRpbWVvdXQgfSBmcm9tIFwiLi9kZW1vcy91c2UtdGltZW91dFwiO1xyXG5cclxuY29uc3QgUmFuZG9tV29yZHMgPSBcIkxvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNjaW5nIGVsaXQsIHNlZCBkbyBlaXVzbW9kIHRlbXBvciBpbmNpZGlkdW50IHV0IGxhYm9yZSBldCBkb2xvcmUgbWFnbmEgYWxpcXVhLiBVdCBlbmltIGFkIG1pbmltIHZlbmlhbSwgcXVpcyBub3N0cnVkIGV4ZXJjaXRhdGlvbiB1bGxhbWNvIGxhYm9yaXMgbmlzaSB1dCBhbGlxdWlwIGV4IGVhIGNvbW1vZG8gY29uc2VxdWF0LiBEdWlzIGF1dGUgaXJ1cmUgZG9sb3IgaW4gcmVwcmVoZW5kZXJpdCBpbiB2b2x1cHRhdGUgdmVsaXQgZXNzZSBjaWxsdW0gZG9sb3JlIGV1IGZ1Z2lhdCBudWxsYSBwYXJpYXR1ci4gRXhjZXB0ZXVyIHNpbnQgb2NjYWVjYXQgY3VwaWRhdGF0IG5vbiBwcm9pZGVudCwgc3VudCBpbiBjdWxwYSBxdWkgb2ZmaWNpYSBkZXNlcnVudCBtb2xsaXQgYW5pbSBpZCBlc3QgbGFib3J1bS5cIi5zcGxpdChcIiBcIik7XHJcblxyXG5cclxuXHJcbmNvbnN0IERlbW9Vc2VEcm9wcGFibGUgPSAoKSA9PiB7XHJcbiAgICBjb25zdCB7IGRyb3BwZWRGaWxlcywgZHJvcHBlZFN0cmluZ3MsIGZpbGVzRm9yQ29uc2lkZXJhdGlvbiwgc3RyaW5nc0ZvckNvbnNpZGVyYXRpb24sIHVzZURyb3BwYWJsZVByb3BzLCBkcm9wRXJyb3IgfSA9IHVzZURyb3BwYWJsZTxIVE1MRGl2RWxlbWVudD4oeyBlZmZlY3Q6IFwiY29weVwiIH0pO1xyXG5cclxuICAgIGNvbnN0IHsgcmVmOiBfcmVmIH0gPSB1c2VNZXJnZWRQcm9wczxIVE1MSW5wdXRFbGVtZW50PigpKHt9LCB7IHJlZjogdXNlUmVmPEhUTUxJbnB1dEVsZW1lbnQ+KG51bGwhKSB9KVxyXG5cclxuICAgIGNvbnN0IHAgPSB1c2VEcm9wcGFibGVQcm9wcyh7IGNsYXNzTmFtZTogXCJkZW1vIGRyb3BwYWJsZVwiIH0pO1xyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgPGRpdiB7Li4ucH0+XHJcblxyXG4gICAgICAgICAgICB7ZHJvcHBlZFN0cmluZ3MgIT0gbnVsbCAmJiA8ZGl2PkRhdGEgZHJvcHBlZDogPHVsPnsoT2JqZWN0LmVudHJpZXMoZHJvcHBlZFN0cmluZ3MpIGFzIFtrZXlvZiB0eXBlb2Ygc3RyaW5nc0ZvckNvbnNpZGVyYXRpb24sIHN0cmluZ11bXSkubWFwKChbdHlwZSwgdmFsdWVdKSA9PiA8bGk+e3R5cGV9OiB7dmFsdWV9PC9saT4pfTwvdWw+PC9kaXY+fVxyXG4gICAgICAgICAgICB7ZHJvcHBlZEZpbGVzICE9IG51bGwgJiYgPGRpdj5GaWxlcyBkcm9wcGVkOiA8dGFibGU+XHJcbiAgICAgICAgICAgICAgICA8dGhlYWQ+PHRyPjx0aD5OYW1lPC90aD48dGg+U2l6ZTwvdGg+PHRoPlR5cGU8L3RoPjx0aD5MYXN0IG1vZGlmaWVkPC90aD48L3RyPjwvdGhlYWQ+XHJcbiAgICAgICAgICAgICAgICA8dGJvZHk+e2Ryb3BwZWRGaWxlcy5tYXAoZiA9PiA8dHI+PHRkPntmLm5hbWV9PC90ZD57Zi5kYXRhLmJ5dGVMZW5ndGh9PHRkPntmLnR5cGV9PC90ZD48dGQ+e25ldyBEYXRlKGYubGFzdE1vZGlmaWVkID8/IDApfTwvdGQ+PC90cj4pfTwvdGJvZHk+XHJcbiAgICAgICAgICAgIDwvdGFibGU+PC9kaXY+fVxyXG4gICAgICAgICAgICA8aHIgLz5cclxuXHJcbiAgICAgICAgICAgIHtzdHJpbmdzRm9yQ29uc2lkZXJhdGlvbiAhPSBudWxsICYmIDxkaXY+RGF0YSBiZWluZyBjb25zaWRlcmVkOiA8dWw+e0FycmF5LmZyb20oc3RyaW5nc0ZvckNvbnNpZGVyYXRpb24pLm1hcCh0eXBlID0+IDxsaT57dHlwZX08L2xpPil9PC91bD48L2Rpdj59XHJcbiAgICAgICAgICAgIHtmaWxlc0ZvckNvbnNpZGVyYXRpb24gIT0gbnVsbCAmJiA8ZGl2PkZpbGVzIGJlaW5nIGNvbnNpZGVyZWQ6IDx1bD57ZmlsZXNGb3JDb25zaWRlcmF0aW9uLm1hcChmID0+IDxsaT57SlNPTi5zdHJpbmdpZnkoZil9PC9saT4pfTwvdWw+PC9kaXY+fVxyXG5cclxuICAgICAgICAgICAgPGhyIC8+XHJcbiAgICAgICAgICAgIHtkcm9wRXJyb3IgJiYgPGRpdj57ZHJvcEVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBkcm9wRXJyb3IubWVzc2FnZSA6IEpTT04uc3RyaW5naWZ5KGRyb3BFcnJvcil9PC9kaXY+fVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgKVxyXG59XHJcblxyXG5jb25zdCBEZW1vVXNlRHJhZ2dhYmxlID0gKCkgPT4ge1xyXG4gICAgY29uc3QgeyB1c2VEcmFnZ2FibGVQcm9wcyB9ID0gdXNlRHJhZ2dhYmxlPEhUTUxEaXZFbGVtZW50Pih7IGRhdGE6IHsgXCJ0ZXh0L3BsYWluXCI6IFwiVGhpcyBpcyBjdXN0b20gZHJhZ2dhYmxlIGNvbnRlbnQgb2YgdHlwZSB0ZXh0L3BsYWluLlwiIH0gfSk7XHJcblxyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgPGRpdiB7Li4udXNlRHJhZ2dhYmxlUHJvcHMoeyBjbGFzc05hbWU6IFwiZGVtb1wiIH0pfT5cclxuICAgICAgICAgICAgRHJhZ2dhYmxlIGNvbnRlbnRcclxuICAgICAgICA8L2Rpdj4pXHJcbn1cclxuXHJcbmNvbnN0IERlbW9Vc2VFbGVtZW50U2l6ZUFuaW1hdGlvbiA9ICgpID0+IHtcclxuICAgIGNvbnN0IFtoZWlnaHQsIHNldEhlaWdodF0gPSB1c2VTdGF0ZSgwKTtcclxuICAgIGNvbnN0IFthbmdsZSwgc2V0QW5nbGVdID0gdXNlU3RhdGUoMCk7XHJcbiAgICB1c2VBbmltYXRpb25GcmFtZSh7XHJcbiAgICAgICAgY2FsbGJhY2s6IChfbXMpID0+IHtcclxuICAgICAgICAgICAgc2V0QW5nbGUoYSA9PiBhICsgMC4wMSlcclxuICAgICAgICAgICAgc2V0SGVpZ2h0KChNYXRoLnNpbihhbmdsZSkgKyAxKSAvIDAuNSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgW2VsZW1lbnRTaXplLCBzZXRFbGVtZW50U2l6ZV0gPSB1c2VTdGF0ZTxFbGVtZW50U2l6ZSB8IG51bGw+KG51bGwpO1xyXG5cclxuICAgIGNvbnN0IHsgdXNlRWxlbWVudFNpemVQcm9wcyB9ID0gdXNlRWxlbWVudFNpemU8SFRNTERpdkVsZW1lbnQ+KHsgb25TaXplQ2hhbmdlOiBzZXRFbGVtZW50U2l6ZSB9KTtcclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIDxkaXYgey4uLnVzZUVsZW1lbnRTaXplUHJvcHMoeyByZWY6IHVuZGVmaW5lZCwgY2xhc3NOYW1lOiBcImRlbW9cIiwgc3R5bGU6IHsgaGVpZ2h0OiBgJHsoaGVpZ2h0ICogMTAwKSArIDEwMH1weGAgfSB9KX0+XHJcbiAgICAgICAgICAgIDxwcmU+e0pTT04uc3RyaW5naWZ5KGVsZW1lbnRTaXplLCBudWxsLCAyKX08L3ByZT5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICk7XHJcbn1cclxuXHJcblxyXG5jb25zdCBEZW1vVXNlRm9jdXNUcmFwID0gbWVtbygoeyBkZXB0aCB9OiB7IGRlcHRoPzogbnVtYmVyIH0pID0+IHtcclxuXHJcbiAgICBjb25zdCBbYWN0aXZlLCBzZXRBY3RpdmVdID0gdXNlU3RhdGUoZmFsc2UpO1xyXG5cclxuICAgIGNvbnN0IHsgdXNlRm9jdXNUcmFwUHJvcHMgfSA9IHVzZUZvY3VzVHJhcDxIVE1MRGl2RWxlbWVudD4oeyB0cmFwQWN0aXZlOiBhY3RpdmUgfSk7XHJcbiAgICAvL2NvbnN0IHsgdXNlUm92aW5nVGFiSW5kZXhDaGlsZCwgdXNlUm92aW5nVGFiSW5kZXhQcm9wcyB9ID0gdXNlUm92aW5nVGFiSW5kZXg8SFRNTFVMaXN0RWxlbWVudCwgUm92aW5nVGFiSW5kZXhDaGlsZEluZm8+KHsgdGFiYmFibGVJbmRleCwgZm9jdXNPbkNoYW5nZTogZmFsc2UgfSk7XHJcblxyXG4gICAgY29uc3QgZGl2UHJvcHMgPSB1c2VGb2N1c1RyYXBQcm9wcyh7IHJlZjogdW5kZWZpbmVkLCBjbGFzc05hbWU6IFwiZm9jdXMtdHJhcC1kZW1vXCIgfSk7XHJcbiAgICBpZiAoZGVwdGggPT0gMilcclxuICAgICAgICByZXR1cm4gPGRpdiAvPjtcclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZGVtb1wiPlxyXG4gICAgICAgICAgICA8bGFiZWw+QWN0aXZlOiA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgY2hlY2tlZD17YWN0aXZlfSBvbklucHV0PXtlID0+IHsgZS5wcmV2ZW50RGVmYXVsdCgpOyBzZXRBY3RpdmUoZS5jdXJyZW50VGFyZ2V0LmNoZWNrZWQpOyB9fSAvPjwvbGFiZWw+XHJcbiAgICAgICAgICAgIDxkaXYgey4uLmRpdlByb3BzfSA+XHJcbiAgICAgICAgICAgICAgICA8RGVtb1VzZUZvY3VzVHJhcENoaWxkIGFjdGl2ZT17YWN0aXZlfSBzZXRBY3RpdmU9e3NldEFjdGl2ZX0gZGVwdGg9e2RlcHRoID8/IDB9IC8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgKTtcclxufSk7XHJcblxyXG5cclxuY29uc3QgRGVtb1VzZUZvY3VzVHJhcENoaWxkID0gbWVtbygoeyBzZXRBY3RpdmUsIGFjdGl2ZSB9OiB7IGFjdGl2ZTogYm9vbGVhbiwgc2V0QWN0aXZlOiAoYWN0aXZlOiBib29sZWFuKSA9PiB2b2lkLCBkZXB0aDogbnVtYmVyIH0pID0+IHtcclxuXHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgICA8PlxyXG4gICAgICAgICAgICA8YnV0dG9uPkJ1dHRvbiAxPC9idXR0b24+XHJcbiAgICAgICAgICAgIDxidXR0b24+QnV0dG9uIDI8L2J1dHRvbj5cclxuICAgICAgICAgICAgPGJ1dHRvbj5CdXR0b24gMzwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8bGFiZWw+QWN0aXZlOiA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgY2hlY2tlZD17YWN0aXZlfSBvbklucHV0PXtlID0+IHsgZS5wcmV2ZW50RGVmYXVsdCgpOyBzZXRBY3RpdmUoZS5jdXJyZW50VGFyZ2V0LmNoZWNrZWQpOyB9fSAvPjwvbGFiZWw+XHJcblxyXG4gICAgICAgIDwvPlxyXG4gICAgKTtcclxufSk7XHJcblxyXG5jb25zdCBEZW1vVXNlQXN5bmNIYW5kbGVyMSA9IG1lbW8oKCkgPT4ge1xyXG5cclxuICAgIGNvbnN0IFt0aW1lb3V0LCBzZXRUaW1lb3V0XSA9IHVzZVN0YXRlKDEwMDApO1xyXG4gICAgY29uc3QgW2RlYm91bmNlLCBzZXREZWJvdW5jZV0gPSB1c2VTdGF0ZSgwKTtcclxuICAgIGNvbnN0IFtzaG91bGRUaHJvdywgc2V0U2hvdWxkVGhyb3csIGdldFNob3VsZFRocm93XSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICAgIGNvbnN0IFtkaXNhYmxlQ29uc2VjdXRpdmUsIHNldERpc2FibGVDb25zZWN1dGl2ZV0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcblxyXG4gICAgY29uc3QgYXN5bmNPbkNsaWNrID0gKChfdjogdm9pZCwgX2U6IGguSlNYLlRhcmdldGVkTW91c2VFdmVudDxIVE1MQnV0dG9uRWxlbWVudD4pID0+IG5ldyBQcm9taXNlPHZvaWQ+KChyZXNvbHZlLCByZWplY3QpID0+IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IGdldFNob3VsZFRocm93KCkgPyByZWplY3QoKSA6IHJlc29sdmUoKSwgdGltZW91dCkpKTtcclxuICAgIGNvbnN0IHtcclxuICAgICAgICBjYWxsQ291bnQsXHJcbiAgICAgICAgc2V0dGxlQ291bnQsXHJcbiAgICAgICAgaGFzQ2FwdHVyZSxcclxuICAgICAgICBzeW5jSGFuZGxlcixcclxuICAgICAgICBwZW5kaW5nLFxyXG4gICAgICAgIGhhc0Vycm9yLFxyXG4gICAgICAgIHJlamVjdENvdW50LFxyXG4gICAgICAgIHJlc29sdmVDb3VudFxyXG4gICAgfSA9IHVzZUFzeW5jSGFuZGxlcjxoLkpTWC5UYXJnZXRlZE1vdXNlRXZlbnQ8SFRNTEJ1dHRvbkVsZW1lbnQ+LCB2b2lkPihhc3luY09uQ2xpY2ssIHsgY2FwdHVyZTogKCkgPT4geyB9LCBkZWJvdW5jZTogZGVib3VuY2UgPT0gMCA/IHVuZGVmaW5lZCA6IGRlYm91bmNlIH0pO1xyXG5cclxuICAgIGNvbnN0IG9uQ2xpY2sgPSBwZW5kaW5nID8gdW5kZWZpbmVkIDogc3luY0hhbmRsZXI7XHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRlbW9cIj5cclxuICAgICAgICAgICAgPGJ1dHRvbiBkaXNhYmxlZD17cGVuZGluZyAmJiBkaXNhYmxlQ29uc2VjdXRpdmV9IG9uQ2xpY2s9e29uQ2xpY2t9PkNsaWNrIG1lITwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8bGFiZWw+U2xlZXAgZm9yOiA8aW5wdXQgdHlwZT1cIm51bWJlclwiIHZhbHVlPXt0aW1lb3V0fSBvbklucHV0PXtlID0+IHNldFRpbWVvdXQoZS5jdXJyZW50VGFyZ2V0LnZhbHVlQXNOdW1iZXIpfSAvPjwvbGFiZWw+XHJcbiAgICAgICAgICAgIDxsYWJlbD5UaHJvdyBhbiBlcnJvciA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgY2hlY2tlZD17c2hvdWxkVGhyb3d9IG9uSW5wdXQ9e2UgPT4gc2V0U2hvdWxkVGhyb3coZS5jdXJyZW50VGFyZ2V0LmNoZWNrZWQpfSAvPjwvbGFiZWw+XHJcbiAgICAgICAgICAgIDxsYWJlbD5EaXNhYmxlZCB3aGlsZSBwZW5kaW5nIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBjaGVja2VkPXtkaXNhYmxlQ29uc2VjdXRpdmV9IG9uSW5wdXQ9e2UgPT4gc2V0RGlzYWJsZUNvbnNlY3V0aXZlKGUuY3VycmVudFRhcmdldC5jaGVja2VkKX0gLz48L2xhYmVsPlxyXG4gICAgICAgICAgICA8bGFiZWw+RGVib3VuY2U6IDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgdmFsdWU9e2RlYm91bmNlfSBvbklucHV0PXtlID0+IHNldERlYm91bmNlKGUuY3VycmVudFRhcmdldC52YWx1ZUFzTnVtYmVyKX0gLz48L2xhYmVsPlxyXG4gICAgICAgICAgICA8dGFibGU+XHJcbiAgICAgICAgICAgICAgICA8dGhlYWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGg+RmllbGQ8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGg+VmFsdWU8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgICAgICA8L3RoZWFkPlxyXG4gICAgICAgICAgICAgICAgPHRib2R5PlxyXG4gICAgICAgICAgICAgICAgICAgIDx0cj48dGQ+Y2FsbENvdW50PC90ZD48dGQ+e2NhbGxDb3VudH08L3RkPjwvdHI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRyPjx0ZD5zZXR0bGVDb3VudDwvdGQ+PHRkPntzZXR0bGVDb3VudH08L3RkPjwvdHI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRyPjx0ZD5yZXNvbHZlQ291bnQ8L3RkPjx0ZD57cmVzb2x2ZUNvdW50fTwvdGQ+PC90cj5cclxuICAgICAgICAgICAgICAgICAgICA8dHI+PHRkPnJlamVjdENvdW50PC90ZD48dGQ+e3JlamVjdENvdW50fTwvdGQ+PC90cj5cclxuICAgICAgICAgICAgICAgICAgICA8dHI+PHRkPmhhc0Vycm9yPC90ZD48dGQ+e2hhc0Vycm9yLnRvU3RyaW5nKCl9PC90ZD48L3RyPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0cj48dGQ+aGFzQ2FwdHVyZTwvdGQ+PHRkPntoYXNDYXB0dXJlLnRvU3RyaW5nKCl9PC90ZD48L3RyPlxyXG4gICAgICAgICAgICAgICAgPC90Ym9keT5cclxuICAgICAgICAgICAgPC90YWJsZT5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICk7XHJcbn0pO1xyXG5cclxuY29uc3QgRGVtb1VzZUFzeW5jSGFuZGxlcjIgPSBtZW1vKCgpID0+IHtcclxuXHJcbiAgICBjb25zdCBbdGltZW91dCwgc2V0VGltZW91dF0gPSB1c2VTdGF0ZSgxMDAwKTtcclxuICAgIGNvbnN0IFtkZWJvdW5jZSwgc2V0RGVib3VuY2VdID0gdXNlU3RhdGUoMCk7XHJcbiAgICBjb25zdCBbc2hvdWxkVGhyb3csIHNldFNob3VsZFRocm93LCBnZXRTaG91bGRUaHJvd10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgICBjb25zdCBbZGlzYWJsZUNvbnNlY3V0aXZlLCBzZXREaXNhYmxlQ29uc2VjdXRpdmVdID0gdXNlU3RhdGUoZmFsc2UpO1xyXG5cclxuICAgIGNvbnN0IFt0ZXh0LCBzZXRUZXh0XSA9IHVzZVN0YXRlKFwiXCIpO1xyXG5cclxuICAgIGNvbnN0IG9uSW5wdXRBc3luYyA9IGFzeW5jICh2OiBzdHJpbmcsIF9lOiBhbnkpID0+IG5ldyBQcm9taXNlPHZvaWQ+KChyZXNvbHZlLCByZWplY3QpID0+IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICBpZiAoZ2V0U2hvdWxkVGhyb3coKSkge1xyXG4gICAgICAgICAgICByZWplY3QoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHNldFRleHQodik7XHJcbiAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICB9XHJcbiAgICB9LCB0aW1lb3V0KSk7XHJcblxyXG4gICAgY29uc3Qge1xyXG4gICAgICAgIGNhbGxDb3VudCxcclxuICAgICAgICBzZXR0bGVDb3VudCxcclxuICAgICAgICBoYXNDYXB0dXJlLFxyXG4gICAgICAgIHN5bmNIYW5kbGVyLFxyXG4gICAgICAgIGN1cnJlbnRDYXB0dXJlLFxyXG4gICAgICAgIHBlbmRpbmcsXHJcbiAgICAgICAgaGFzRXJyb3IsXHJcbiAgICAgICAgcmVqZWN0Q291bnQsXHJcbiAgICAgICAgcmVzb2x2ZUNvdW50XHJcbiAgICB9ID0gdXNlQXN5bmNIYW5kbGVyPGguSlNYLlRhcmdldGVkRXZlbnQ8SFRNTElucHV0RWxlbWVudD4sIHN0cmluZz4ob25JbnB1dEFzeW5jLCB7IGNhcHR1cmU6IChlOiBoLkpTWC5UYXJnZXRlZEV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiB7IGUucHJldmVudERlZmF1bHQoKTsgcmV0dXJuIGUuY3VycmVudFRhcmdldC52YWx1ZSB9LCBkZWJvdW5jZTogZGVib3VuY2UgPT0gMCA/IHVuZGVmaW5lZCA6IGRlYm91bmNlIH0pO1xyXG5cclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZGVtb1wiPlxyXG4gICAgICAgICAgICA8bGFiZWw+RGVtbyB0ZXh0OiA8aW5wdXQgdmFsdWU9e2hhc0NhcHR1cmUgPyBjdXJyZW50Q2FwdHVyZSA6IHRleHR9IGRpc2FibGVkPXtwZW5kaW5nICYmIGRpc2FibGVDb25zZWN1dGl2ZX0gb25JbnB1dD17c3luY0hhbmRsZXJ9IC8+PC9sYWJlbD5cclxuICAgICAgICAgICAgPGhyIC8+XHJcbiAgICAgICAgICAgIDxsYWJlbD5TbGVlcCBmb3I6IDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgdmFsdWU9e3RpbWVvdXR9IG9uSW5wdXQ9e2UgPT4gc2V0VGltZW91dChlLmN1cnJlbnRUYXJnZXQudmFsdWVBc051bWJlcil9IC8+PC9sYWJlbD5cclxuICAgICAgICAgICAgPGxhYmVsPlRocm93IGFuIGVycm9yIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBjaGVja2VkPXtzaG91bGRUaHJvd30gb25JbnB1dD17ZSA9PiBzZXRTaG91bGRUaHJvdyhlLmN1cnJlbnRUYXJnZXQuY2hlY2tlZCl9IC8+PC9sYWJlbD5cclxuICAgICAgICAgICAgPGxhYmVsPkRpc2FibGVkIHdoaWxlIHBlbmRpbmcgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGNoZWNrZWQ9e2Rpc2FibGVDb25zZWN1dGl2ZX0gb25JbnB1dD17ZSA9PiBzZXREaXNhYmxlQ29uc2VjdXRpdmUoZS5jdXJyZW50VGFyZ2V0LmNoZWNrZWQpfSAvPjwvbGFiZWw+XHJcbiAgICAgICAgICAgIDxsYWJlbD5EZWJvdW5jZTogPGlucHV0IHR5cGU9XCJudW1iZXJcIiB2YWx1ZT17ZGVib3VuY2V9IG9uSW5wdXQ9e2UgPT4gc2V0RGVib3VuY2UoZS5jdXJyZW50VGFyZ2V0LnZhbHVlQXNOdW1iZXIpfSAvPjwvbGFiZWw+XHJcbiAgICAgICAgICAgIDx0YWJsZT5cclxuICAgICAgICAgICAgICAgIDx0aGVhZD5cclxuICAgICAgICAgICAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0aD5GaWVsZDwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0aD5WYWx1ZTwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgICAgIDwvdGhlYWQ+XHJcbiAgICAgICAgICAgICAgICA8dGJvZHk+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRyPjx0ZD5jYWxsQ291bnQ8L3RkPjx0ZD57Y2FsbENvdW50fTwvdGQ+PC90cj5cclxuICAgICAgICAgICAgICAgICAgICA8dHI+PHRkPnNldHRsZUNvdW50PC90ZD48dGQ+e3NldHRsZUNvdW50fTwvdGQ+PC90cj5cclxuICAgICAgICAgICAgICAgICAgICA8dHI+PHRkPnJlc29sdmVDb3VudDwvdGQ+PHRkPntyZXNvbHZlQ291bnR9PC90ZD48L3RyPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0cj48dGQ+cmVqZWN0Q291bnQ8L3RkPjx0ZD57cmVqZWN0Q291bnR9PC90ZD48L3RyPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0cj48dGQ+aGFzRXJyb3I8L3RkPjx0ZD57aGFzRXJyb3IudG9TdHJpbmcoKX08L3RkPjwvdHI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRyPjx0ZD5jdXJyZW50Q2FwdHVyZTwvdGQ+PHRkPntjdXJyZW50Q2FwdHVyZX08L3RkPjwvdHI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRyPjx0ZD5cIlNhdmVkXCIgaW5wdXQ8L3RkPjx0ZD57dGV4dH08L3RkPjwvdHI+XHJcbiAgICAgICAgICAgICAgICA8L3Rib2R5PlxyXG4gICAgICAgICAgICA8L3RhYmxlPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgKTtcclxufSk7XHJcblxyXG5cclxuY29uc3QgRGVtb0ZvY3VzID0gbWVtbygoKSA9PiB7XHJcbiAgICBjb25zdCBbbGFzdEFjdGl2ZUVsZW1lbnQsIHNldExhc3RBY3RpdmVFbGVtZW50XSA9IHVzZVN0YXRlPChFbGVtZW50ICYgSFRNTE9yU1ZHRWxlbWVudCkgfCBudWxsPihudWxsKTtcclxuICAgIGNvbnN0IFthY3RpdmVFbGVtZW50LCBzZXRBY3RpdmVFbGVtZW50XSA9IHVzZVN0YXRlPChFbGVtZW50ICYgSFRNTE9yU1ZHRWxlbWVudCkgfCBudWxsPihudWxsKTtcclxuICAgIGNvbnN0IFt3aW5kb3dGb2N1c2VkLCBzZXRXaW5kb3dGb2N1c2VkXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICAgIGNvbnN0IFtmb2N1c2VkLCBzZXRGb2N1c2VkXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICAgIGNvbnN0IFtmb2N1c2VkSW5uZXIsIHNldEZvY3VzZWRJbm5lcl0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgICBjb25zdCBbbGFzdEZvY3VzZWQsIHNldExhc3RGb2N1c2VkXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICAgIGNvbnN0IFtsYXN0Rm9jdXNlZElubmVyLCBzZXRMYXN0Rm9jdXNlZElubmVyXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICAgIGNvbnN0IHsgdXNlSGFzRm9jdXNQcm9wcyB9ID0gdXNlSGFzRm9jdXM8SFRNTERpdkVsZW1lbnQ+KHsgXHJcbiAgICAgICAgb25Gb2N1c2VkQ2hhbmdlZDogc2V0Rm9jdXNlZCwgXHJcbiAgICAgICAgb25Gb2N1c2VkSW5uZXJDaGFuZ2VkOiBzZXRGb2N1c2VkSW5uZXIsIFxyXG4gICAgICAgIG9uTGFzdEZvY3VzZWRDaGFuZ2VkOiBzZXRMYXN0Rm9jdXNlZCwgXHJcbiAgICAgICAgb25MYXN0Rm9jdXNlZElubmVyQ2hhbmdlZDogc2V0TGFzdEZvY3VzZWRJbm5lcixcclxuICAgICAgICBvbkFjdGl2ZUVsZW1lbnRDaGFuZ2U6IHNldEFjdGl2ZUVsZW1lbnQsXHJcbiAgICAgICAgb25MYXN0QWN0aXZlRWxlbWVudENoYW5nZTogc2V0TGFzdEFjdGl2ZUVsZW1lbnQsXHJcbiAgICAgICAgb25XaW5kb3dGb2N1c2VkQ2hhbmdlOiBzZXRXaW5kb3dGb2N1c2VkXHJcbiAgICAgfSk7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJkZW1vXCI+XHJcbiAgICAgICAgICAgIDxoMj51c2VIYXNGb2N1czwvaDI+XHJcbiAgICAgICAgICAgIDxkaXYgey4uLnVzZUhhc0ZvY3VzUHJvcHMoeyBzdHlsZTogeyBib3JkZXI6IFwiMXB4IHNvbGlkIGJsYWNrXCIgfSwgdGFiSW5kZXg6IDAgfSl9ID5PdXRlciA8ZGl2IHRhYkluZGV4PXswfSBzdHlsZT17eyBib3JkZXI6IFwiMXB4IHNvbGlkIGJsYWNrXCIgfX0+SW5uZXIgZWxlbWVudDwvZGl2PjwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgPHVsPlxyXG4gICAgICAgICAgICAgICAgICAgIDxsaT5TdHJpY3RseSBmb2N1c2VkOiB7Zm9jdXNlZC50b1N0cmluZygpfSwge2xhc3RGb2N1c2VkLnRvU3RyaW5nKCl9PC9saT5cclxuICAgICAgICAgICAgICAgICAgICA8bGk+SW5uZXIgZm9jdXNlZDoge2ZvY3VzZWRJbm5lci50b1N0cmluZygpfSwge2xhc3RGb2N1c2VkSW5uZXIudG9TdHJpbmcoKX08L2xpPlxyXG4gICAgICAgICAgICAgICAgICAgIDxsaT5XaW5kb3cgZm9jdXNlZDoge3dpbmRvd0ZvY3VzZWQudG9TdHJpbmcoKX08L2xpPlxyXG4gICAgICAgICAgICAgICAgICAgIDxsaT5hY3RpdmVFbGVtZW50OiB7YWN0aXZlRWxlbWVudD8udGV4dENvbnRlbnR9PC9saT5cclxuICAgICAgICAgICAgICAgICAgICA8bGk+bGFzdEFjdGl2ZUVsZW1lbnQ6IHtsYXN0QWN0aXZlRWxlbWVudD8udGV4dENvbnRlbnR9PC9saT5cclxuICAgICAgICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgKVxyXG59KVxyXG5cclxuXHJcbmNvbnN0IEdyaWRSb3dDb250ZXh0ID0gY3JlYXRlQ29udGV4dDxVc2VHcmlkTmF2aWdhdGlvblJvdzxIVE1MRGl2RWxlbWVudCwgSFRNTERpdkVsZW1lbnQsIFVzZUdyaWROYXZpZ2F0aW9uUm93SW5mbywgVXNlR3JpZE5hdmlnYXRpb25DZWxsSW5mbz4+KG51bGwhKTtcclxuY29uc3QgR3JpZENlbGxDb250ZXh0ID0gY3JlYXRlQ29udGV4dDxVc2VHcmlkTmF2aWdhdGlvbkNlbGw8SFRNTERpdkVsZW1lbnQsIFVzZUdyaWROYXZpZ2F0aW9uQ2VsbEluZm8+PihudWxsISk7XHJcbmV4cG9ydCBjb25zdCBEZW1vVXNlR3JpZCA9IG1lbW8oKCkgPT4ge1xyXG5cclxuICAgIGNvbnN0IFssIHNldExhc3RGb2N1c2VkSW5uZXIsIGdldExhc3RGb2N1c2VkSW5uZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xyXG5cclxuICAgIGNvbnN0IHsgdXNlSGFzRm9jdXNQcm9wcyB9ID0gdXNlSGFzRm9jdXM8SFRNTERpdkVsZW1lbnQ+KHsgb25MYXN0Rm9jdXNlZElubmVyQ2hhbmdlZDogc2V0TGFzdEZvY3VzZWRJbm5lciB9KTtcclxuICAgIGNvbnN0IHsgdXNlR3JpZE5hdmlnYXRpb25Sb3csIHJvd0NvdW50LCBjZWxsSW5kZXgsIHJvd0luZGV4LCB1c2VHcmlkTmF2aWdhdGlvblByb3BzIH0gPSB1c2VHcmlkTmF2aWdhdGlvbjxIVE1MRGl2RWxlbWVudCwgSFRNTERpdkVsZW1lbnQsIFVzZUdyaWROYXZpZ2F0aW9uUm93SW5mbywgVXNlR3JpZE5hdmlnYXRpb25DZWxsSW5mbz4oeyBzaG91bGRGb2N1c09uQ2hhbmdlOiBnZXRMYXN0Rm9jdXNlZElubmVyIH0pO1xyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkZW1vXCI+XHJcbiAgICAgICAgICAgIDxkaXY+e2NlbGxJbmRleH0re3Jvd0luZGV4fS97cm93Q291bnR9PC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgey4uLnVzZUhhc0ZvY3VzUHJvcHModXNlR3JpZE5hdmlnYXRpb25Qcm9wcyh7fSkpfT5cclxuICAgICAgICAgICAgICAgIDxHcmlkUm93Q29udGV4dC5Qcm92aWRlciB2YWx1ZT17dXNlR3JpZE5hdmlnYXRpb25Sb3d9PlxyXG4gICAgICAgICAgICAgICAgICAgIHtBcnJheS5mcm9tKChmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwOyArK2kpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHlpZWxkIDxEZW1vVXNlR3JpZFJvdyBpbmRleD17aX0ga2V5PXtpfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSkoKSl9XHJcbiAgICAgICAgICAgICAgICA8L0dyaWRSb3dDb250ZXh0LlByb3ZpZGVyPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICk7XHJcbn0pXHJcblxyXG5jb25zdCBfUHJlZml4ID0gXCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWlwiO1xyXG5jb25zdCBEZW1vVXNlR3JpZFJvdyA9IG1lbW8oKCh7IGluZGV4IH06IHsgaW5kZXg6IG51bWJlciB9KSA9PiB7XHJcbiAgICBjb25zdCBbX3JhbmRvbVdvcmRdID0gdXNlU3RhdGUoKCkgPT4gUmFuZG9tV29yZHNbaW5kZXgvKk1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChSYW5kb21Xb3Jkcy5sZW5ndGggLSAxKSkqL10pO1xyXG4gICAgY29uc3QgdXNlR3JpZFJvdyA9IHVzZUNvbnRleHQoR3JpZFJvd0NvbnRleHQpO1xyXG4gICAgY29uc3QgeyBpc1RhYmJhYmxlUm93LCBjZWxsQ291bnQsIHVzZUdyaWROYXZpZ2F0aW9uUm93UHJvcHMsIHVzZUdyaWROYXZpZ2F0aW9uQ2VsbCwgY3VycmVudENvbHVtbiB9ID0gdXNlR3JpZFJvdyh7IGluZGV4IH0pO1xyXG5cclxuICAgIGNvbnN0IHByb3BzID0gdXNlR3JpZE5hdmlnYXRpb25Sb3dQcm9wcyh7fSk7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIDxkaXYgey4uLnByb3BzfT5cclxuICAgICAgICAgICAgPGRpdj57YCR7aXNUYWJiYWJsZVJvd31gfSAoe2N1cnJlbnRDb2x1bW59L3tjZWxsQ291bnQgLSAxfSk8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJkaXNwbGF5OiBmbGV4XCI+XHJcbiAgICAgICAgICAgICAgICA8R3JpZENlbGxDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXt1c2VHcmlkTmF2aWdhdGlvbkNlbGx9PlxyXG4gICAgICAgICAgICAgICAgICAgIHtBcnJheS5mcm9tKChmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeWllbGQgPERlbW9Vc2VHcmlkQ2VsbCBpbmRleD17aX0ga2V5PXtpfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSkoKSl9XHJcbiAgICAgICAgICAgICAgICA8L0dyaWRDZWxsQ29udGV4dC5Qcm92aWRlcj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICApXHJcbn0pKTtcclxuXHJcbmNvbnN0IERlbW9Vc2VHcmlkQ2VsbCA9ICgoeyBpbmRleCB9OiB7IGluZGV4OiBudW1iZXIgfSkgPT4ge1xyXG4gICAgY29uc3QgdXNlR3JpZENlbGwgPSB1c2VDb250ZXh0KEdyaWRDZWxsQ29udGV4dCk7XHJcbiAgICBjb25zdCB7IHVzZUdyaWROYXZpZ2F0aW9uQ2VsbFByb3BzIH0gPSB1c2VHcmlkQ2VsbCh7IGluZGV4IH0pO1xyXG5cclxuICAgIGNvbnN0IHByb3BzID0gdXNlR3JpZE5hdmlnYXRpb25DZWxsUHJvcHMoe30pIGFzIGFueTtcclxuXHJcbiAgICBpZiAoaW5kZXggPT09IDApXHJcbiAgICAgICAgcmV0dXJuIDxkaXYgey4uLnByb3BzfT5HcmlkIGNlbGwgI3tpbmRleCArIDF9PC9kaXY+XHJcbiAgICBlbHNlXHJcbiAgICAgICAgcmV0dXJuIDxsYWJlbD48aW5wdXQgIHsuLi5wcm9wc30gdHlwZT1cImNoZWNrYm94XCIgLz4gVGVzdCBpbnB1dDwvbGFiZWw+XHJcbn0pXHJcblxyXG5jb25zdCBDb21wb25lbnQgPSAoKSA9PiB7XHJcbiAgICByZXR1cm4gPGRpdiBjbGFzcz1cImZsZXhcIiBzdHlsZT17eyBmbGV4V3JhcDogXCJ3cmFwXCIgfX0+XHJcbiAgICA8RGVtb0ZvY3VzIC8+XHJcbiAgICA8aHIgLz5cclxuICAgICAgICA8RGVtb1VzZUdyaWQgLz5cclxuICAgICAgICA8aHIgLz5cclxuICAgICAgICA8RGVtb1VzZVRpbWVvdXQgLz5cclxuICAgICAgICA8aHIgLz5cclxuICAgICAgICA8RGVtb1VzZUludGVydmFsIC8+XHJcbiAgICAgICAgPGhyIC8+XHJcbiAgICAgICAgPERlbW9Vc2VSb3ZpbmdUYWJJbmRleCAvPlxyXG4gICAgICAgIDxociAvPlxyXG5cclxuXHJcbiAgICAgICAgPERlbW9Vc2VGb2N1c1RyYXAgLz5cclxuICAgICAgICA8aHIgLz5cclxuICAgICAgICA8RGVtb1VzZUFzeW5jSGFuZGxlcjEgLz5cclxuICAgICAgICA8aHIgLz5cclxuICAgICAgICA8RGVtb1VzZUFzeW5jSGFuZGxlcjIgLz5cclxuICAgICAgICA8aHIgLz5cclxuICAgICAgICA8RGVtb1VzZURyb3BwYWJsZSAvPlxyXG4gICAgICAgIDxociAvPlxyXG4gICAgICAgIDxEZW1vVXNlRHJhZ2dhYmxlIC8+XHJcbiAgICAgICAgPGhyIC8+XHJcbiAgICAgICAgPERlbW9Vc2VFbGVtZW50U2l6ZUFuaW1hdGlvbiAvPlxyXG4gICAgICAgIDxociAvPlxyXG4gICAgICAgIDxpbnB1dCAvPlxyXG4gICAgPC9kaXY+XHJcbn1cclxuXHJcbnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XHJcbiAgICByZW5kZXIoPENvbXBvbmVudCAvPiwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyb290XCIpISk7XHJcbn0pXHJcbiJdLCJuYW1lcyI6WyJzbGljZSIsIm9wdGlvbnMiLCJ2bm9kZUlkIiwicmVyZW5kZXJRdWV1ZSIsImRlZmVyIiwicHJldkRlYm91bmNlIiwiaSIsIkVNUFRZX09CSiIsIkVNUFRZX0FSUiIsIklTX05PTl9ESU1FTlNJT05BTCIsImFzc2lnbiIsIm9iaiIsInByb3BzIiwicmVtb3ZlTm9kZSIsIm5vZGUiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJjcmVhdGVFbGVtZW50IiwidHlwZSIsImNoaWxkcmVuIiwia2V5IiwicmVmIiwibm9ybWFsaXplZFByb3BzIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiY2FsbCIsImRlZmF1bHRQcm9wcyIsInVuZGVmaW5lZCIsImNyZWF0ZVZOb2RlIiwib3JpZ2luYWwiLCJ2bm9kZSIsImNvbnN0cnVjdG9yIiwiRnJhZ21lbnQiLCJDb21wb25lbnQiLCJjb250ZXh0IiwiZ2V0RG9tU2libGluZyIsImNoaWxkSW5kZXgiLCJpbmRleE9mIiwic2libGluZyIsInVwZGF0ZVBhcmVudERvbVBvaW50ZXJzIiwiY2hpbGQiLCJiYXNlIiwiZW5xdWV1ZVJlbmRlciIsImMiLCJwdXNoIiwicHJvY2VzcyIsImRlYm91bmNlUmVuZGVyaW5nIiwicXVldWUiLCJzb3J0IiwiYSIsImIiLCJzb21lIiwiY29tcG9uZW50IiwiY29tbWl0UXVldWUiLCJvbGRWTm9kZSIsIm9sZERvbSIsInBhcmVudERvbSIsImRpZmYiLCJvd25lclNWR0VsZW1lbnQiLCJjb21taXRSb290IiwiZGlmZkNoaWxkcmVuIiwicmVuZGVyUmVzdWx0IiwibmV3UGFyZW50Vk5vZGUiLCJvbGRQYXJlbnRWTm9kZSIsImdsb2JhbENvbnRleHQiLCJpc1N2ZyIsImV4Y2Vzc0RvbUNoaWxkcmVuIiwiaXNIeWRyYXRpbmciLCJqIiwiY2hpbGRWTm9kZSIsIm5ld0RvbSIsImZpcnN0Q2hpbGREb20iLCJyZWZzIiwib2xkQ2hpbGRyZW4iLCJvbGRDaGlsZHJlbkxlbmd0aCIsIkFycmF5IiwiaXNBcnJheSIsInJlb3JkZXJDaGlsZHJlbiIsInBsYWNlQ2hpbGQiLCJ1bm1vdW50IiwiYXBwbHlSZWYiLCJ0bXAiLCJ0b0NoaWxkQXJyYXkiLCJvdXQiLCJuZXh0RG9tIiwic2liRG9tIiwib3V0ZXIiLCJhcHBlbmRDaGlsZCIsIm5leHRTaWJsaW5nIiwiaW5zZXJ0QmVmb3JlIiwiZGlmZlByb3BzIiwiZG9tIiwibmV3UHJvcHMiLCJvbGRQcm9wcyIsImh5ZHJhdGUiLCJzZXRQcm9wZXJ0eSIsInNldFN0eWxlIiwic3R5bGUiLCJ2YWx1ZSIsInRlc3QiLCJuYW1lIiwib2xkVmFsdWUiLCJ1c2VDYXB0dXJlIiwibyIsImNzc1RleHQiLCJyZXBsYWNlIiwidG9Mb3dlckNhc2UiLCJfbGlzdGVuZXJzIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50UHJveHlDYXB0dXJlIiwiZXZlbnRQcm94eSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJlIiwic2V0QXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwiZXZlbnQiLCJuZXdWTm9kZSIsImlzTmV3Iiwib2xkU3RhdGUiLCJzbmFwc2hvdCIsImNsZWFyUHJvY2Vzc2luZ0V4Y2VwdGlvbiIsInByb3ZpZGVyIiwiY29tcG9uZW50Q29udGV4dCIsInJlbmRlckhvb2siLCJjb3VudCIsIm5ld1R5cGUiLCJjb250ZXh0VHlwZSIsInByb3RvdHlwZSIsInJlbmRlciIsImRvUmVuZGVyIiwic3ViIiwic3RhdGUiLCJnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMiLCJjb21wb25lbnRXaWxsTW91bnQiLCJjb21wb25lbnREaWRNb3VudCIsImNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMiLCJzaG91bGRDb21wb25lbnRVcGRhdGUiLCJmb3JFYWNoIiwiY29tcG9uZW50V2lsbFVwZGF0ZSIsImNvbXBvbmVudERpZFVwZGF0ZSIsImdldENoaWxkQ29udGV4dCIsImdldFNuYXBzaG90QmVmb3JlVXBkYXRlIiwiZGlmZkVsZW1lbnROb2RlcyIsImRpZmZlZCIsInJvb3QiLCJjYiIsIm9sZEh0bWwiLCJuZXdIdG1sIiwibm9kZVR5cGUiLCJsb2NhbE5hbWUiLCJkb2N1bWVudCIsImNyZWF0ZVRleHROb2RlIiwiY3JlYXRlRWxlbWVudE5TIiwiaXMiLCJkYXRhIiwiY2hpbGROb2RlcyIsImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MIiwiYXR0cmlidXRlcyIsImlubmVySFRNTCIsImNoZWNrZWQiLCJjdXJyZW50IiwicGFyZW50Vk5vZGUiLCJza2lwUmVtb3ZlIiwiciIsImNvbXBvbmVudFdpbGxVbm1vdW50IiwidGhpcyIsInJlcGxhY2VOb2RlIiwiZmlyc3RDaGlsZCIsImNyZWF0ZUNvbnRleHQiLCJkZWZhdWx0VmFsdWUiLCJjb250ZXh0SWQiLCJDb25zdW1lciIsImNvbnRleHRWYWx1ZSIsIlByb3ZpZGVyIiwic3VicyIsImN0eCIsIl9wcm9wcyIsIm9sZCIsInNwbGljZSIsImVycm9yIiwiZXJyb3JJbmZvIiwiY3RvciIsImhhbmRsZWQiLCJnZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IiLCJzZXRTdGF0ZSIsImNvbXBvbmVudERpZENhdGNoIiwidXBkYXRlIiwiY2FsbGJhY2siLCJzIiwiZm9yY2VVcGRhdGUiLCJQcm9taXNlIiwidGhlbiIsImJpbmQiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsIl9fc2VsZiIsIl9fc291cmNlIiwiY3VycmVudEluZGV4IiwiY3VycmVudENvbXBvbmVudCIsInByZXZpb3VzQ29tcG9uZW50IiwicHJldlJhZiIsImN1cnJlbnRIb29rIiwiYWZ0ZXJQYWludEVmZmVjdHMiLCJvbGRCZWZvcmVEaWZmIiwib2xkQmVmb3JlUmVuZGVyIiwib2xkQWZ0ZXJEaWZmIiwib2xkQ29tbWl0Iiwib2xkQmVmb3JlVW5tb3VudCIsImdldEhvb2tTdGF0ZSIsImluZGV4IiwiaG9va3MiLCJ1c2VTdGF0ZSIsImluaXRpYWxTdGF0ZSIsInVzZVJlZHVjZXIiLCJpbnZva2VPclJldHVybiIsInJlZHVjZXIiLCJpbml0IiwiaG9va1N0YXRlIiwiX3JlZHVjZXIiLCJhY3Rpb24iLCJuZXh0VmFsdWUiLCJ1c2VFZmZlY3QiLCJhcmdzIiwiYXJnc0NoYW5nZWQiLCJfcGVuZGluZ0FyZ3MiLCJ1c2VMYXlvdXRFZmZlY3QiLCJ1c2VSZWYiLCJpbml0aWFsVmFsdWUiLCJ1c2VNZW1vIiwiZmFjdG9yeSIsIl9wZW5kaW5nVmFsdWUiLCJ1c2VDYWxsYmFjayIsInVzZUNvbnRleHQiLCJmbHVzaEFmdGVyUGFpbnRFZmZlY3RzIiwic2hpZnQiLCJpbnZva2VDbGVhbnVwIiwiaW52b2tlRWZmZWN0IiwiaG9va0l0ZW0iLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJyYWYiLCJkb25lIiwiY2xlYXJUaW1lb3V0IiwidGltZW91dCIsIkhBU19SQUYiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsImZpbHRlciIsImhhc0Vycm9yZWQiLCJob29rIiwiY29tcCIsImNsZWFudXAiLCJvbGRBcmdzIiwibmV3QXJncyIsImFyZyIsImYiLCJzaGFsbG93RGlmZmVycyIsIlB1cmVDb21wb25lbnQiLCJwIiwibWVtbyIsImNvbXBhcmVyIiwic2hvdWxkVXBkYXRlIiwibmV4dFByb3BzIiwidXBkYXRlUmVmIiwiTWVtb2VkIiwiZGlzcGxheU5hbWUiLCJpc1JlYWN0Q29tcG9uZW50IiwiaXNQdXJlUmVhY3RDb21wb25lbnQiLCJvbGREaWZmSG9vayIsIkZvcndhcmRlZCIsIm9sZENhdGNoRXJyb3IiLCJvbGRVbm1vdW50IiwiU3VzcGVuc2UiLCJfc3VzcGVuZGVycyIsInN1c3BlbmRlZCIsIlN1c3BlbnNlTGlzdCIsIl9uZXh0IiwiX21hcCIsInByb21pc2UiLCJzdXNwZW5kaW5nVk5vZGUiLCJzdXNwZW5kaW5nQ29tcG9uZW50IiwicmVzb2x2ZWQiLCJvblJlc29sdmVkIiwib25TdXNwZW5zaW9uQ29tcGxldGUiLCJzdXNwZW5kZWRWTm9kZSIsInJlbW92ZU9yaWdpbmFsIiwiZGV0YWNoZWRQYXJlbnQiLCJvcmlnaW5hbFBhcmVudCIsIm1hcCIsInBvcCIsIndhc0h5ZHJhdGluZyIsImRldGFjaGVkQ29tcG9uZW50IiwiZGV0YWNoZWRDbG9uZSIsImVmZmVjdCIsImZhbGxiYWNrIiwibGlzdCIsImRlbGV0ZSIsInJldmVhbE9yZGVyIiwic2l6ZSIsImRlbGVnYXRlZCIsImdldCIsInVuc3VzcGVuZCIsIndyYXBwZWRVbnN1c3BlbmQiLCJNYXAiLCJyZXZlcnNlIiwic2V0IiwiX3RoaXMiLCJSRUFDVF9FTEVNRU5UX1RZUEUiLCJTeW1ib2wiLCJmb3IiLCJDQU1FTF9QUk9QUyIsIklTX0RPTSIsIm9uQ2hhbmdlSW5wdXRUeXBlIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJjb25maWd1cmFibGUiLCJ2Iiwid3JpdGFibGUiLCJvbGRFdmVudEhvb2siLCJlbXB0eSIsImlzUHJvcGFnYXRpb25TdG9wcGVkIiwiY2FuY2VsQnViYmxlIiwiaXNEZWZhdWx0UHJldmVudGVkIiwiZGVmYXVsdFByZXZlbnRlZCIsInBlcnNpc3QiLCJuYXRpdmVFdmVudCIsImNsYXNzTmFtZURlc2NyaXB0b3IiLCJjbGFzcyIsIm9sZFZOb2RlSG9vayIsIm5vbkN1c3RvbUVsZW1lbnQiLCJtdWx0aXBsZSIsInNlbGVjdGVkIiwiY2xhc3NOYW1lIiwiZW51bWVyYWJsZSIsIiQkdHlwZW9mIiwiVW5zZXQiLCJyZXR1cm5OdWxsIiwidXNlU3RhdGVQIiwib2JqZWN0UHJvdG8iLCJuYXRpdmVPYmplY3RUb1N0cmluZyIsInN5bVRvU3RyaW5nVGFnIiwiRlVOQ19FUlJPUl9URVhUIiwiaWRlbnRpdHkiLCJ1c2VFZmZlY3ROYXRpdmUiLCJ1c2VMYXlvdXRFZmZlY3ROYXRpdmUiLCJjYW5kaWRhdGVTZWxlY3RvcnMiLCJOb0VsZW1lbnQiLCJFbGVtZW50IiwibWF0Y2hlcyIsIm1zTWF0Y2hlc1NlbGVjdG9yIiwid2Via2l0TWF0Y2hlc1NlbGVjdG9yIiwiZ2V0Um9vdE5vZGUiLCJlbGVtZW50Iiwib3duZXJEb2N1bWVudCIsImlzSW5wdXQiLCJ0YWdOYW1lIiwiaXNIaWRkZW5JbnB1dCIsImlzRGV0YWlsc1dpdGhTdW1tYXJ5IiwiYXBwbHkiLCJpc1plcm9BcmVhIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0Iiwid2lkdGgiLCJoZWlnaHQiLCJpc0hpZGRlbiIsImRpc3BsYXlDaGVjayIsImdldFNoYWRvd1Jvb3QiLCJnZXRDb21wdXRlZFN0eWxlIiwidmlzaWJpbGl0eSIsImlzRGlyZWN0U3VtbWFyeSIsIm5vZGVVbmRlckRldGFpbHMiLCJwYXJlbnRFbGVtZW50Iiwibm9kZVJvb3RIb3N0IiwiaG9zdCIsIm5vZGVJc0F0dGFjaGVkIiwiY29udGFpbnMiLCJvcmlnaW5hbE5vZGUiLCJyb290Tm9kZSIsInNoYWRvd1Jvb3QiLCJhc3NpZ25lZFNsb3QiLCJnZXRDbGllbnRSZWN0cyIsImlzRGlzYWJsZWRGcm9tRmllbGRzZXQiLCJkaXNhYmxlZCIsIml0ZW0iLCJpc05vZGVNYXRjaGluZ1NlbGVjdG9yRm9jdXNhYmxlIiwiZm9jdXNhYmxlQ2FuZGlkYXRlU2VsZWN0b3IiLCJjb25jYXQiLCJqb2luIiwiaXNGb2N1c2FibGUiLCJFcnJvciIsIl9qc3hzIiwiX2pzeCIsIlJhbmRvbVdvcmRzIl0sIm1hcHBpbmdzIjoiOzs7QUEwQmFBLEtBQUFBLENBQUFBLENDZlBDLEdDUkZDLENBQUFBLEdBQUFBLENDdUtBQyxHQUFBQSxDQVFFQyxHQWNGQyxDQUFBQSxHQUFBQSxDQzlMT0MsR0NGRUMsQ0FBQUEsR0FBQUEsQ0FBWSxFQUNaQyxDQUFBQSxHQUFBQSxDQUFZLEVBQ1pDLENBQUFBLEdBQUFBLENBQXFCLG9FTE8zQixTQUFTQyxHQUFPQyxDQUFBQSxDQUFBQSxDQUFLQyxDQUV0QixDQUFBLENBQUEsSUFBQSxJQUFJTixDQUFLTSxJQUFBQSxDQUFBQSxDQUFPRCxDQUFJTCxDQUFBQSxDQUFBQSxDQUFBQSxDQUFLTSxDQUFNTixDQUFBQSxDQUFBQSxDQUFBQSxDQUFBQSxPQUNQSyxDQVN2QixDQUFBLFNBQVNFLEdBQVdDLENBQUFBLENBQUFBLENBQUFBLENBQUFBLElBQ3RCQyxDQUFhRCxDQUFBQSxDQUFBQSxDQUFLQyxVQUNsQkEsQ0FBQUEsQ0FBQUEsRUFBWUEsQ0FBV0MsQ0FBQUEsV0FBQUEsQ0FBWUYsQ0VWeEMsRUFBQSxDQUFBLFNBQWdCRyxHQUFjQyxDQUFBQSxDQUFBQSxDQUFNTixDQUFPTyxDQUFBQSxDQUFBQSxDQUFBQSxDQUFBQSxJQUV6Q0MsQ0FDQUMsQ0FBQUEsQ0FBQUEsQ0FDQWYsQ0FIR2dCLENBQUFBLENBQUFBLENBQWtCLEVBSWpCaEIsQ0FBQUEsSUFBQUEsQ0FBQUEsSUFBS00sQ0FDQSxDQUFBLEtBQUEsRUFBTE4sQ0FBWWMsQ0FBQUEsQ0FBQUEsQ0FBTVIsQ0FBTU4sQ0FBQUEsQ0FBQUEsQ0FBQUEsQ0FDZCxLQUFMQSxFQUFBQSxDQUFBQSxDQUFZZSxDQUFNVCxDQUFBQSxDQUFBQSxDQUFNTixDQUM1QmdCLENBQUFBLENBQUFBLENB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LEVBQUEsUUFBQSxFQUFBLENBQ0lDLEdBQ0ksQ0FBQSxPQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUFELEdBQUEsQ0FBQSxJQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUEsQ0FDSUMsR0FBYyxDQUFBLElBQUEsRUFBQSxFQUFBLFFBQUEsRUFBQSxPQUFBLEVBQUEsQ0FBQSxFQUNkQSxnQ0FBYyxDQUNiLEVBQUEsQ0FBQSxFQUFBLENBQ0QsRUFDUkQsR0FBQSxDQUFBLE9BQUEsRUFBQSxFQUFBLFFBQUEsRUFBQSxDQUNJQSxHQUFJLENBQUEsSUFBQSxFQUFBLEVBQUEsUUFBQSxFQUFBLENBQUFDLEdBQUEsQ0FBQSxJQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUEsV0FBQSxFQUFBLENBQWtCLEVBQUFBLEdBQUssQ0FBQSxJQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUEsU0FBUyxFQUFNLENBQUEsQ0FBQSxFQUFBLENBQUssRUFDL0NELEdBQUEsQ0FBQSxJQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUEsQ0FBSUMsc0NBQW9CLEVBQUFBLEdBQUEsQ0FBQSxJQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUssV0FBVyxFQUFNLENBQUEsQ0FBQSxFQUFBLENBQUssRUFDbkRELEdBQUksQ0FBQSxJQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUEsQ0FBQUMsR0FBQSxDQUFBLElBQUEsRUFBQSxFQUFBLFFBQUEsRUFBQSxjQUFBLEVBQUEsQ0FBcUIsRUFBQUEsR0FBQSxDQUFBLElBQUEsRUFBQSxFQUFBLFFBQUEsRUFBSyxZQUFZLEVBQUEsQ0FBTSxJQUFLLEVBQ3JERCxHQUFBLENBQUEsSUFBQSxFQUFBLEVBQUEsUUFBQSxFQUFBLENBQUlDLEdBQW9CLENBQUEsSUFBQSxFQUFBLEVBQUEsUUFBQSxFQUFBLGFBQUEsRUFBQSxDQUFBLEVBQUFBLEdBQUssQ0FBQSxJQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUEsV0FBVyxHQUFNLENBQUssRUFBQSxDQUFBLEVBQ25ERCxHQUFJLENBQUEsSUFBQSxFQUFBLEVBQUEsUUFBQSxFQUFBLENBQUFDLEdBQUEs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
